

var DayPilot = {};
if ("undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    function e(e) {
        var t = DayPilot.Date.Cache.Ticks;
        if (t[e])
            return DayPilot.Stats.cacheHitsTicks += 1,
            t[e];
        var n, i = new Date(e), a = i.getUTCMilliseconds();
        n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a;
        var r = i.getUTCSeconds();
        r < 10 && (r = "0" + r);
        var o = i.getUTCMinutes();
        o < 10 && (o = "0" + o);
        var s = i.getUTCHours();
        s < 10 && (s = "0" + s);
        var l = i.getUTCDate();
        l < 10 && (l = "0" + l);
        var d = i.getUTCMonth() + 1;
        d < 10 && (d = "0" + d);
        var c = i.getUTCFullYear();
        if (c <= 0)
            throw "The minimum year supported is 1.";
        c < 10 ? c = "000" + c : c < 100 ? c = "00" + c : c < 1e3 && (c = "0" + c);
        var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n;
        return t[e] = u,
        u
    }
    function t(e, t) {
        return !DayPilot.Util.isNullOrUndefined(e) && (!DayPilot.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase())
    }
    function n(e) {
        e = Math.min(e, 255),
        e = Math.max(e, 0);
        var t = e.toString(16);
        return e < 16 ? "0" + t : t
    }
    if ("undefined" == typeof DayPilot.$) {
        DayPilot.$ = function(e) {
            return document.getElementById(e)
        }
        ,
        Object.defineProperty(DayPilot, "isKhtml", {
            get: function() {
                return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1
            }
        }),
        DayPilot.browser = {},
        Object.defineProperty(DayPilot.browser, "ff", {
            get: function() {
                return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1
            }
        }),
        Object.defineProperty(DayPilot.browser, "chrome", {
            get: function() {
                return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1
            }
        }),
        Object.defineProperty(DayPilot.browser, "ie", {
            get: function() {
                return !1
            }
        }),
        Object.defineProperty(DayPilot.browser, "edge", {
            get: function() {
                return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Edge") !== -1
            }
        }),
        Object.defineProperty(DayPilot.browser, "webkit", {
            get: function() {
                return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("WebKit") !== -1
            }
        }),
        Object.defineProperty(DayPilot.browser, "android", {
            get: function() {
                if ("undefined" == typeof navigator)
                    return !1;
                var e = navigator.userAgent;
                return e.indexOf("Mozilla/5.0") > -1 && e.indexOf("Android ") > -1 && e.indexOf("AppleWebKit") > -1 && !(e.indexOf("Chrome") > -1)
            }
        }),
        Object.defineProperty(DayPilot.browser, "ios", {
            get: function() {
                return "undefined" != typeof navigator && (navigator.userAgent.indexOf("iPad") > -1 || navigator.userAgent.indexOf("iPhone") > -1)
            }
        }),
        Object.defineProperty(DayPilot.browser, "hover", {
            get: function() {
                return !window.matchMedia("(any-hover: none)").matches
            }
        }),
        DayPilot.libs = {},
        DayPilot.libs.angularjs = "object" == typeof angularjs,
        DayPilot.touch = {},
        Object.defineProperty(DayPilot.touch, "start", {
            get: function() {
                return window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart"
            }
        }),
        Object.defineProperty(DayPilot.touch, "move", {
            get: function() {
                return window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove"
            }
        }),
        Object.defineProperty(DayPilot.touch, "end", {
            get: function() {
                return window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend"
            }
        }),
        DayPilot.mo2 = function(e, t) {
            if ("undefined" != typeof t.offsetX) {
                var n = {
                    x: t.offsetX + 1,
                    y: t.offsetY + 1
                };
                if (!e)
                    return n;
                for (var i = t.srcElement; i && i !== e; )
                    "SPAN" !== i.tagName && (n.x += i.offsetLeft,
                    i.offsetTop > 0 && (n.y += i.offsetTop - i.scrollTop)),
                    i = i.offsetParent;
                return i ? n : null
            }
            if ("undefined" != typeof t.layerX) {
                var n = {
                    x: t.layerX,
                    y: t.layerY,
                    src: t.target
                };
                if (!e)
                    return n;
                for (var i = t.target; i && "absolute" !== i.style.position && "relative" !== i.style.position; )
                    i = i.parentNode,
                    DayPilot.isKhtml && (n.y += i.scrollTop);
                for (; i && i !== e; )
                    n.x += i.offsetLeft,
                    n.y += i.offsetTop - i.scrollTop,
                    i = i.offsetParent;
                return i ? n : null
            }
            return null
        }
        ,
        DayPilot.mo3 = function(e, t) {
            var n, i = DayPilot.page(t);
            if (i)
                if (e) {
                    var a = DayPilot.abs(e);
                    if (!a)
                        throw new Error("no abs");
                    n = {
                        x: i.x - a.x,
                        y: i.y - a.y
                    }
                } else
                    n = {
                        x: i.x,
                        y: i.y
                    };
            else if (n = DayPilot.mo2(e, t),
            !n)
                return null;
            return n.shift = t.shiftKey,
            n.meta = t.metaKey,
            n.ctrl = t.ctrlKey,
            n.alt = t.altKey,
            n
        }
        ,
        DayPilot.mc = function(e) {
            if (e.touches) {
                var t = e.touches[0];
                return {
                    x: t.pageX,
                    y: t.pageY
                }
            }
            return e.pageX || e.pageY ? {
                x: e.pageX,
                y: e.pageY
            } : {
                x: e.clientX + document.documentElement.scrollLeft,
                y: e.clientY + document.documentElement.scrollTop
            }
        }
        ,
        DayPilot.Stats = {},
        DayPilot.Stats.eventObjects = 0,
        DayPilot.Stats.dateObjects = 0,
        DayPilot.Stats.cacheHitsCtor = 0,
        DayPilot.Stats.cacheHitsParsing = 0,
        DayPilot.Stats.cacheHitsTicks = 0,
        DayPilot.list = function(e, t) {
            if (e && e.isDayPilotList && !t)
                return e;
            var n = DayPilot.isArray(e) || "[object NodeList]" === Object.prototype.toString.call(e)
              , i = !n && !DayPilot.Util.isNullOrUndefined(e)
              , a = [];
            if (a.isDayPilotList = !0,
            a.clone = function() {
                for (var e = DayPilot.list(), t = 0; t < a.length; t++)
                    e.push(a[t]);
                return e
            }
            ,
            a.each = function(e) {
                if (e) {
                    if (a.forEach)
                        return void a.forEach(e);
                    for (var t = 0; t < this.length; t++)
                        e(a[t], t, a)
                }
            }
            ,
            a.addProps = function(e) {
                var t = a.clone();
                if (e)
                    for (var n in e)
                        t[n] = e[n];
                return t
            }
            ,
            a.last = function() {
                return 0 === a.length ? null : a[a.length - 1]
            }
            ,
            a.first = function() {
                return 0 === a.length ? null : a[0]
            }
            ,
            a.add = function(e) {
                var t = a.clone();
                return t.push(e),
                t
            }
            ,
            a.map = function(e) {
                if ("function" != typeof e)
                    throw "DayPilot.list().map(f): Function expected";
                var t = DayPilot.list();
                return a.forEach(function(n, i, a) {
                    t.push(e(n, i, a))
                }),
                t
            }
            ,
            a.filter = function(e) {
                var t = DayPilot.list();
                if ("function" != typeof e)
                    throw "DayPilot.list().filter(f): Function expected";
                return a.forEach(function(n, i, a) {
                    e(n, i, a) && t.push(n)
                }),
                t
            }
            ,
            a.concat = function(e) {
                if (!e)
                    return a;
                for (var t = a.clone(), n = 0; n < e.length; n++)
                    t.push(e[n]);
                return t
            }
            ,
            a.find || (a.find = function(e) {
                if ("function" != typeof e)
                    throw "DayPilot.list().find(f): Function expected";
                for (var t = 0; t < this.length; t++)
                    if (e(a[t]))
                        return a[t]
            }
            ),
            a.findIndex || (a.findIndex = function(e) {
                if ("function" != typeof e)
                    throw "DayPilot.list().findIndex(f): Function expected";
                for (var t = 0; t < this.length; t++)
                    if (e(a[t]))
                        return t;
                return -1
            }
            ),
            a.some || (a.some = function(e) {
                if ("function" != typeof e)
                    throw "DayPilot.list().some(f): Function expected";
                for (var t = 0; t < this.length; t++)
                    if (e(a[t]))
                        return !0;
                return !1
            }
            ),
            a.reduce || (a.reduce = function(e, t) {
                if ("function" != typeof e)
                    throw "DayPilot.list().reduce(f): Function expected";
                var n, i = 0;
                if ("undefined" != typeof t)
                    n = t;
                else {
                    if (i = 1,
                    0 === a.length)
                        throw "DayPilot.list().reduce(f): No initial value and empty list";
                    n = a[0]
                }
                for (var r = i; r < this.length; r++)
                    n = e(n, a[r], r, this);
                return n
            }
            ),
            a.isEmpty = function() {
                return 0 === a.length
            }
            ,
            n)
                for (var r = 0; r < e.length; r++)
                    a[r] = e[r];
            else
                i && (a[0] = e);
            return a
        }
        ,
        DayPilot.list.for = function(e, t) {
            for (var n = DayPilot.list(), i = 0; i < e; i++)
                "function" == typeof t ? n.push(t(i)) : n.push(i);
            return n
        }
        ,
        DayPilot.line = function(e, t, n, i, a) {
            a = a || {};
            var r = {
                "x": e,
                "y": t
            }
              , o = {
                "x": n,
                "y": i,
                "deg": DayPilot.deg(e, t, n, i)
            }
              , s = !1;
            if (t < i) {
                var l = t;
                t = i,
                i = l,
                l = e,
                e = n,
                n = l,
                s = !0
            }
            var d = DayPilot.deg(e, t, n, i)
              , c = {
                "x": e,
                "y": t
            }
              , u = {
                "x": n,
                "y": i
            }
              , h = function() {
                var a = Math.abs(e - n)
                  , r = Math.abs(t - i)
                  , o = (e + n) / 2;
                return o - Math.sqrt(a * a + r * r) / 2
            }()
              , f = function() {
                return (t + i) / 2
            }()
              , v = DayPilot.distance(c, u)
              , p = document.createElement("div");
            p.setAttribute("style", "width:" + v + "px;height:0px;-moz-transform:rotate(" + d + "deg);-webkit-transform:rotate(" + d + "deg);-ms-transform:rotate(" + d + "deg);transform:rotate(" + d + "deg);position:absolute;top:" + f + "px;left:" + h + "px;"),
            a.cssClass && (p.className = a.cssClass);
            var m = document.createElement("div");
            m.appendChild(p);
            var g, b, d, y, w = !!a.arrow;
            if (w) {
                var g = o.y - 5
                  , b = o.x - 5
                  , d = d;
                o.y > r.y && (d -= 180);
                var y = document.createElement("div");
                y.style.borderColor = "black",
                y.style.width = "10px",
                y.style.height = "10px",
                y.style.borderRadius = "10px",
                y.style.position = "absolute",
                y.style.left = b + "px",
                y.style.top = g + "px",
                a.cssClass ? y.className = a.cssClass + "_circle" : y.style.backgroundColor = "black",
                m.appendChild(y)
            }
            return m
        }
        ,
        DayPilot.deg = function(e, t, n, i) {
            var a, r = Math.abs(e - n), o = Math.abs(t - i), s = (e + n) / 2, l = (t + i) / 2, d = Math.sqrt(r * r + o * o), c = s - d / 2, u = l;
            r = d / 2,
            a = Math.abs(s - c),
            o = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - u) * Math.abs(t - u));
            var h = (o * o - r * r - a * a) / (2 * r * a);
            return 180 * Math.acos(h) / Math.PI
        }
        ,
        DayPilot.complete = function(e) {
            return "complete" === document.readyState ? void e() : (DayPilot.complete.list || (DayPilot.complete.list = [],
            DayPilot.re(document, "readystatechange", function() {
                if ("complete" === document.readyState) {
                    for (var e = 0; e < DayPilot.complete.list.length; e++) {
                        (0,
                        DayPilot.complete.list[e])()
                    }
                    DayPilot.complete.list = []
                }
            })),
            void DayPilot.complete.list.push(e))
        }
        ,
        DayPilot.debounce = function(e, t) {
            var n;
            return function() {
                var i = this
                  , a = arguments
                  , r = function() {
                    n = null,
                    e.apply(i, a)
                };
                clearTimeout(n),
                n = setTimeout(r, t)
            }
        }
        ,
        DayPilot.page = function(e) {
            var t = e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e;
            return "undefined" != typeof t.pageX ? {
                x: t.pageX,
                y: t.pageY
            } : "undefined" != typeof e.clientX && document.body && document.documentElement ? {
                x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft,
                y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop
            } : null
        }
        ,
        DayPilot.rel = function(e, t) {
            var n = DayPilot.abs(e)
              , i = DayPilot.abs(t);
            return {
                "x": n.x - i.x,
                "y": n.y - i.y,
                "w": e.offsetWidth,
                "h": e.offsetHeight
            }
        }
        ,
        DayPilot.abs = function(e, t) {
            if (!e)
                return null;
            if (e.getBoundingClientRect) {
                var n = DayPilot.absBoundingClientBased(e);
                if (t) {
                    var i = DayPilot.absOffsetBased(e, !1)
                      , t = DayPilot.absOffsetBased(e, !0);
                    n.x += t.x - i.x,
                    n.y += t.y - i.y,
                    n.w = t.w,
                    n.h = t.h
                }
                return n
            }
            return DayPilot.absOffsetBased(e, t)
        }
        ,
        DayPilot.absBoundingClientBased = function(e) {
            var t = e.getBoundingClientRect();
            return {
                x: t.left + window.pageXOffset,
                y: t.top + window.pageYOffset,
                w: e.clientWidth,
                h: e.clientHeight,
                toString: function() {
                    return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h
                }
            }
        }
        ,
        DayPilot.isArray = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }
        ,
        DayPilot.absOffsetBased = function(e, t) {
            for (var n = {
                x: e.offsetLeft,
                y: e.offsetTop,
                w: e.clientWidth,
                h: e.clientHeight,
                toString: function() {
                    return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h
                }
            }; DayPilot.op(e); )
                e = DayPilot.op(e),
                n.x -= e.scrollLeft,
                n.y -= e.scrollTop,
                t && (n.x < 0 && (n.w += n.x,
                n.x = 0),
                n.y < 0 && (n.h += n.y,
                n.y = 0),
                e.scrollLeft > 0 && n.x + n.w > e.clientWidth && (n.w -= n.x + n.w - e.clientWidth),
                e.scrollTop && n.y + n.h > e.clientHeight && (n.h -= n.y + n.h - e.clientHeight)),
                n.x += e.offsetLeft,
                n.y += e.offsetTop;
            var i = DayPilot.pageOffset();
            return n.x += i.x,
            n.y += i.y,
            n
        }
        ,
        DayPilot.wd = function() {
            var e = document.documentElement.clientHeight
              , t = document.documentElement.clientWidth
              , n = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop
              , i = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft
              , a = {};
            return a.width = t,
            a.height = e,
            a.scrollTop = n,
            a.scrollLeft = i,
            a
        }
        ,
        DayPilot.op = function(e) {
            try {
                return e.offsetParent
            } catch (e) {
                return document.body
            }
        }
        ,
        DayPilot.distance = function(e, t) {
            return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))
        }
        ,
        DayPilot.doc = function() {
            var e = document.documentElement;
            return e && e.clientHeight ? e : document.body
        }
        ,
        DayPilot.pageOffset = function() {
            if ("undefined" != typeof window.pageXOffset)
                return {
                    x: window.pageXOffset,
                    y: window.pageYOffset
                };
            var e = DayPilot.doc();
            return {
                x: e.scrollLeft,
                y: e.scrollTop
            }
        }
        ,
        DayPilot.ac = function(e, t) {
            if (!t)
                var t = [];
            for (var n = 0; e.children && n < e.children.length; n++)
                t.push(e.children[n]),
                DayPilot.ac(e.children[n], t);
            return t
        }
        ,
        DayPilot.indexOf = function(e, t, n) {
            if (!e || !e.length)
                return -1;
            for (var i = 0; i < e.length; i++)
                if (n) {
                    if (n(e[i], t))
                        return i
                } else if (e[i] === t)
                    return i;
            return -1
        }
        ,
        DayPilot.contains = function(e, t) {
            if (2 !== arguments.length)
                throw new DayPilot.Exception("DayPilot.contains() requires two arguments.");
            return !!e && (e === t && !DayPilot.isArray(e) || DayPilot.indexOf(e, t) !== -1)
        }
        ,
        DayPilot.rfa = function(e, t) {
            var n = DayPilot.indexOf(e, t);
            n !== -1 && e.splice(n, 1)
        }
        ,
        DayPilot.sheet = function(e) {
            if (e = e || window.document,
            "undefined" == typeof window) {
                var t = {};
                return t.add = function() {}
                ,
                t.commit = function() {}
                ,
                t
            }
            var n = e.createElement("style");
            n.setAttribute("type", "text/css"),
            n.styleSheet || n.appendChild(e.createTextNode("")),
            (e.head || e.getElementsByTagName("head")[0]).appendChild(n);
            var i = !!n.styleSheet
              , t = {};
            return t.rules = [],
            t.commit = function() {
                try {
                    i && (n.styleSheet.cssText = this.rules.join("\n"))
                } catch (e) {}
            }
            ,
            t.add = function(e, a, r) {
                if (i)
                    return void this.rules.push(e + "{" + a + "}");
                if (n.sheet.insertRule)
                    "undefined" == typeof r && (r = n.sheet.cssRules.length),
                    n.sheet.insertRule(e + "{" + a + "}", r);
                else {
                    if (!n.sheet.addRule)
                        throw "No CSS registration method found";
                    n.sheet.addRule(e, a, r)
                }
                return t
            }
            ,
            t.print = function() {
                for (var e = n.sheet.cssRules, t = [], i = 0; i < e.length; i++)
                    t.push(e[i].cssText);
                return t.join("\n")
            }
            ,
            t
        }
        ,
        DayPilot.Args = function(e) {
            var t = this;
            this.isArgs = !0,
            this.preventDefault = function() {
                e && e.preventDefault(),
                t.preventDefault.value = !0
            }
        }
        ,
        DayPilot.Debug = function(e) {
            var t = this;
            this.printToBrowserConsole = !1,
            this.enabled = !1,
            this.messages = [],
            this.target = null,
            this.c = null,
            this.clear = function() {
                this.messages = [],
                t.c && (t.c.innerHTML = "")
            }
            ,
            this.hide = function() {
                DayPilot.de(t.c),
                t.c = null
            }
            ,
            this.show = function() {
                t.c && t.hide();
                var n = e.nav.top
                  , i = document.createElement("div");
                i.style.position = "absolute",
                i.style.top = "0px",
                i.style.bottom = "0px",
                i.style.left = "0px",
                i.style.right = "0px",
                i.style.backgroundColor = "black",
                i.style.color = "#ccc",
                i.style.overflow = "auto",
                i.style.webkitUserSelect = "auto",
                i.style.MozUserSelect = "all",
                i.onclick = function() {
                    t.hide()
                }
                ;
                for (var a = 0; a < this.messages.length; a++) {
                    var r = t.messages[a]
                      , o = r.j();
                    i.appendChild(o)
                }
                this.c = i,
                n.appendChild(i)
            }
            ,
            this.log = function() {
                if (t.target) {
                    for (var e = [], n = 0; n < arguments.length; n++) {
                        var i = arguments[n];
                        e.push(i)
                    }
                    var a = e.join(" ");
                    t.target.style.whiteSpace = "pre",
                    t.target.innerText += a + "\n"
                }
            }
            ,
            this.message = function(e, t) {
                if (this.enabled) {
                    var n = {};
                    n.time = new DayPilot.Date,
                    n.level = t || "debug",
                    n.text = DayPilot.Util.escapeHtml(e),
                    n.j = function() {
                        var e = document.createElement("div");
                        switch (e.innerHTML = n.time + " (" + n.level + "): " + n.text,
                        n.level) {
                        case "error":
                            e.style.color = "red";
                            break;
                        case "warning":
                            e.style.color = "orange";
                            break;
                        case "info":
                            e.style.color = "white";
                            break;
                        case "debug":
                        }
                        return e
                    }
                    ,
                    this.messages.push(n),
                    this.printToBrowserConsole && "undefined" != typeof console && console.log(n)
                }
            }
        }
        ,
        DayPilot.re = function(e, t, n) {
            n && e && e.addEventListener(t, n, !1)
        }
        ,
        DayPilot.rePassive = function(e, t, n) {
            n && e && e.addEventListener(t, n, {
                "passive": !0
            })
        }
        ,
        DayPilot.reNonPassive = function(e, t, n) {
            n && e && e.addEventListener(t, n, {
                "passive": !1
            })
        }
        ,
        DayPilot.ue = function(e, t, n) {
            e.removeEventListener(t, n, !1)
        }
        ,
        DayPilot.ds = function(e) {
            return DayPilot.Date.toStringSortable(e)
        }
        ,
        DayPilot.gs = function(e, t) {
            return window.getComputedStyle(e, null).getPropertyValue(t) || ""
        }
        ,
        DayPilot.StyleReader = function(e) {
            this.get = function(t) {
                return e ? DayPilot.gs(e, t) : null
            }
            ,
            this.getPx = function(e) {
                var t = this.get(e);
                if (t)
                    return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10)
            }
            ,
            this.getFont = function() {
                var e = this.get("font-weight")
                  , t = "italic" === this.get("font-style") ? "italic" : "";
                return {
                    "family": this.get("font-family"),
                    "size": this.get("font-size"),
                    "style": t + " " + e,
                    "asString": function() {
                        return DayPilot.Util.fontString(this)
                    }
                }
            }
            ,
            this.getBackColor = function(e) {
                "undefined" == typeof e && (e = "white");
                var t = this.get("background-color");
                return DayPilot.Util.isTransparentColor(t) ? e : t
            }
        }
        ,
        DayPilot.he = function(e) {
            var t = e.replace(/&/g, "&amp;");
            return t = t.replace(/</g, "&lt;"),
            t = t.replace(/>/g, "&gt;"),
            t = t.replace(/"/g, "&quot;")
        }
        ,
        DayPilot.he2 = function(e) {
            var t = document.createTextNode(e)
              , n = document.createElement("div");
            return n.appendChild(t),
            n.innerHTML
        }
        ,
        DayPilot.us = function(e) {
            if (e) {
                e.setAttribute("unselectable", "on"),
                e.style.userSelect = "none",
                e.style.MozUserSelect = "none",
                e.style.KhtmlUserSelect = "none",
                e.style.webkitUserSelect = "none";
                for (var t = 0; t < e.childNodes.length; t++)
                    1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t])
            }
        }
        ,
        DayPilot.pu = function(e) {
            var t, n, i, a = e.attributes;
            if (a)
                for (n = a.length,
                t = 0; t < n; t += 1)
                    a[t] && (i = a[t].name,
                    "function" == typeof e[i] && (e[i] = null));
            if (a = e.childNodes)
                for (n = a.length,
                t = 0; t < n; t += 1) {
                    DayPilot.pu(e.childNodes[t])
                }
        }
        ,
        DayPilot.puc = function(e) {
            var t, n, i = e.childNodes;
            if (i) {
                var n = i.length;
                for (t = 0; t < n; t += 1)
                    DayPilot.pu(e.childNodes[t])
            }
        }
        ,
        DayPilot.de = function(e) {
            if (e)
                if (DayPilot.isArray(e))
                    for (var t = 0; t < e.length; t++)
                        DayPilot.de(e[t]);
                else
                    e.remove()
        }
        ,
        DayPilot.fade = function(e, t, n) {
            if (e) {
                clearTimeout(e.messageTimeout);
                var i = "none" !== e.style.display
                  , a = t > 0
                  , r = t < 0;
                if (0 !== t) {
                    if (a ? e.status = "in" : r && (e.status = "out"),
                    a && !i)
                        e.target = parseFloat(e.style.opacity),
                        e.opacity = 0,
                        e.style.opacity = 0,
                        e.style.display = "";
                    else if (r && !e.target)
                        e.target = e.style.opacity;
                    else {
                        var o = e.opacity
                          , s = Math.floor(10 * (o + t)) / 10;
                        a && s > e.target && (s = e.target),
                        r && s < 0 && (s = 0);
                        e.opacity = s,
                        e.style.opacity = s
                    }
                    a && (e.opacity >= e.target || e.opacity >= 1) || r && e.opacity <= 0 ? (e.target = null,
                    r && (e.style.opacity = e.target,
                    e.opacity = e.target,
                    e.style.display = "none"),
                    n && "function" == typeof n && (e.status = null,
                    n())) : e.messageTimeout = setTimeout(function() {
                        DayPilot.fade(e, t, n)
                    }, 50)
                }
            }
        }
        ,
        DayPilot.sw = function(e) {
            return e ? e.offsetWidth - e.clientWidth : 0
        }
        ,
        DayPilot.swa = function() {
            var e = document.createElement("div");
            e.style.position = "absolute",
            e.style.top = "-2000px",
            e.style.left = "-2000px",
            e.style.width = "200px",
            e.style.height = "100px",
            e.style.overflow = "auto";
            var t = document.createElement("div");
            t.style.width = "300px",
            t.style.height = "300px",
            e.appendChild(t),
            document.body.appendChild(e);
            var n = DayPilot.sw(e);
            return document.body.removeChild(e),
            n
        }
        ,
        DayPilot.sh = function(e) {
            return e ? e.offsetHeight - e.clientHeight : 0
        }
        ,
        DayPilot.guid = function() {
            var e = function() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
            };
            return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
        }
        ,
        DayPilot.ua = function(e) {
            if (!DayPilot.isArray(e))
                throw new DayPilot.Exception("DayPilot.ua() - array required");
            var t = [];
            return e.forEach(function(e) {
                DayPilot.contains(t, e) || t.push(e)
            }),
            t
        }
        ,
        DayPilot.am = function() {
            return "undefined" == typeof angular ? null : (DayPilot.am.cached || (DayPilot.am.cached = angular.module("daypilot", [])),
            DayPilot.am.cached)
        }
        ,
        function() {
            function e(e, i) {
                var a = {
                    w: e.offsetWidth,
                    h: e.offsetHeight,
                    x: parseInt(e.style.left),
                    y: parseInt(e.style.top)
                };
                a.height = e.style.height,
                a.width = e.style.width,
                a.top = e.style.top,
                a.left = e.style.left,
                a.toString = function() {
                    return "w: " + this.w + " h:" + this.h
                }
                ;
                var r = {};
                if (r.finished = null,
                r.vertical = "center",
                r.horizontal = "center",
                i)
                    for (var o in i)
                        r[o] = i[o];
                e.style.visibility = "hidden",
                e.style.display = "";
                var s = i.animation || "fast"
                  , l = t(s);
                l.div = e,
                l.i = 0,
                l.target = a,
                l.config = r,
                n(l)
            }
            function t(e) {
                var t = function() {
                    var e = [];
                    e.time = 10;
                    var t, n = .08;
                    t = .1;
                    for (var i = t; i < 1.2; i += n)
                        e.push(i),
                        t = i;
                    n = .03;
                    for (var i = t; i > .8; i -= n)
                        e.push(i),
                        t = i;
                    for (var i = t; i <= 1; i += n)
                        e.push(i),
                        t = i;
                    return e
                }
                  , n = function() {
                    var e = [];
                    e.time = 10;
                    var t, n = .04;
                    t = .1;
                    for (var i = t; i <= 1; i += n)
                        e.push(i),
                        t = i;
                    return e
                }
                  , i = function() {
                    var e = [];
                    e.time = 10;
                    var t, n = .08;
                    t = .1;
                    for (var i = t; i <= 1; i += n)
                        e.push(i),
                        t = i;
                    return e
                }
                  , a = {
                    "fast": i,
                    "slow": n,
                    "jump": t
                };
                return a[e] || (e = "fast"),
                a[e]()
            }
            function n(e) {
                var t, i = e.div, a = e[e.i], r = a * e.target.h;
                switch (e.config.vertical) {
                case "center":
                    t = e.target.y - (r - e.target.h) / 2;
                    break;
                case "top":
                    t = e.target.y;
                    break;
                case "bottom":
                    t = e.target.y - (r - e.target.h);
                    break;
                default:
                    throw "Unexpected 'vertical' value."
                }
                var o, s = a * e.target.w;
                switch (e.config.horizontal) {
                case "left":
                    o = e.target.x;
                    break;
                case "center":
                    o = e.target.x - (s - e.target.w) / 2;
                    break;
                case "right":
                    o = e.target.x - (s - e.target.w);
                    break;
                default:
                    throw "Unexpected 'horizontal' value."
                }
                i.style.height = r + "px",
                i.style.top = t + "px",
                i.style.width = s + "px",
                i.style.left = o + "px",
                i.style.visibility = "visible",
                e.i++,
                e.i < e.length - 1 ? setTimeout(function(e) {
                    return function() {
                        n(e)
                    }
                }(e), e.time) : (i.style.width = e.target.width,
                i.style.height = e.target.height,
                i.style.top = e.target.top,
                i.style.left = e.target.left,
                "function" == typeof e.config.finished && e.config.finished())
            }
            DayPilot.pop = e
        }(),
        DayPilot.Util = {},
        DayPilot.Util.addClass = function(e, t) {
            if (t && e)
                if (DayPilot.isArray(e))
                    for (var n = 0; n < e.length; n++)
                        DayPilot.Util.addClass(e[n], t);
                else {
                    if (!e.className)
                        return void (e.className = t);
                    var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                    i.test(e.className) || (e.className = e.className + " " + t)
                }
        }
        ,
        DayPilot.Util.normalizeColor = function(e) {
            function t(e) {
                return e = e.replace(/[^\d,]/g, "").split(","),
                "#" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1)
            }
            return 0 === e.indexOf("rgb") ? t(e) : e
        }
        ,
        DayPilot.Util.addClassToString = function(e, t) {
            return e ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e) ? e : e + " " + t : t
        }
        ,
        DayPilot.Util.removeClassFromString = function(e, t) {
            if (!e)
                return "";
            var n = new RegExp("(^|\\s)" + t + "($|\\s)");
            return e.replace(n, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")
        }
        ,
        DayPilot.Util.removeClass = function(e, t) {
            if (e)
                if (DayPilot.isArray(e))
                    for (var n = 0; n < e.length; n++)
                        DayPilot.Util.removeClass(e[n], t);
                else if (e.className) {
                    var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                    e.className = e.className.replace(i, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")
                }
        }
        ,
        DayPilot.Util.props = function(e) {
            var t = [];
            for (var n in e)
                t.push(n),
                t.push(e[n]);
            return t.join("-")
        }
        ,
        DayPilot.Util.propArray = function(e, t, n) {
            return DayPilot.list(e).map(function(e) {
                return e[t] ? e[t] : n
            })
        }
        ,
        DayPilot.Util.updatePropsFromArray = function(e, t, n) {
            for (var i = 0; i < n.length; i++)
                e[i][t] = n[i]
        }
        ,
        DayPilot.Util.copyProps = function(e, t, n) {
            if (t || (t = {}),
            !e)
                return t;
            if ("undefined" == typeof n)
                for (var i in e)
                    e.hasOwnProperty(i) && "undefined" != typeof e[i] && (t[i] = e[i]);
            else
                for (var a = 0; a < n.length; a++) {
                    var i = n[a];
                    "undefined" != typeof e[i] && (t[i] = e[i])
                }
            return t
        }
        ,
        DayPilot.Util.ownPropsAsArray = function(e) {
            var t = [];
            if (!e)
                return t;
            for (var n in e)
                if (e.hasOwnProperty(n)) {
                    var i = {};
                    i.key = n,
                    i.val = e[n],
                    t.push(i)
                }
            return t
        }
        ,
        DayPilot.Util.firstPropValue = function(e) {
            for (var t in e)
                return e[t]
        }
        ,
        DayPilot.Util.isOnlyProperty = function(e, t) {
            if (!e)
                return !1;
            for (var n in e)
                if (e.hasOwnProperty(n) && n !== t)
                    return !1;
            return !0
        }
        ,
        DayPilot.Util.createArrayCopy = function(e, t) {
            if (!DayPilot.isArray(e))
                return [];
            for (var n = [], i = 0; i < e.length; i++) {
                var a = {};
                DayPilot.Util.copyProps(e[i], a, t),
                n.push(a)
            }
            return n
        }
        ,
        DayPilot.Util.atLeast = function(e, t) {
            return Math.max(e, t)
        }
        ,
        DayPilot.Util.atMost = function(e, t) {
            return Math.min(e, t)
        }
        ,
        DayPilot.Util.avg = function(e, t) {
            return (e + t) / 2
        }
        ,
        DayPilot.Util.div = function(e, t, n, i, a) {
            var r = document.createElement("div");
            return (t || n || i || a) && (i < 0 && (t += i,
            i *= -1),
            a < 0 && (n += a,
            a *= -1),
            r.style.position = "absolute",
            "number" == typeof t ? r.style.left = t + "px" : "string" == typeof t && (r.style.left = t),
            "number" == typeof n ? r.style.top = n + "px" : "string" == typeof n && (r.style.top = n),
            "number" == typeof i ? r.style.width = i + "px" : "string" == typeof i && (r.style.width = i),
            "number" == typeof a ? r.style.height = a + "px" : "string" == typeof a && (r.style.height = a)),
            e && e.appendChild(r),
            r
        }
        ,
        DayPilot.Util.overlaps = function(e, t, n, i) {
            return !(t <= n || e >= i)
        }
        ,
        DayPilot.Util.isMouseEvent = function(e) {
            return !!navigator.msPointerEnabled && (!!e.pointerType && ("mouse" === e.pointerType || 4 === e.pointerType))
        }
        ,
        DayPilot.Util.mouseButton = function(e) {
            var t = {};
            switch (e.button) {
            case 0:
                t.left = !0;
                break;
            case 1:
                t.middle = !0;
                break;
            case 2:
                t.right = !0
            }
            return t
        }
        ,
        DayPilot.Util.membersPlain = function(e) {
            var t = DayPilot.Util.members(e, 2)
              , n = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var n = e[t]
                      , i = n.name;
                    n.obsolete && (i += " (obsolete)"),
                    n.noCssOnly && (i += " (!cssOnly)"),
                    n.aspnet && (i += " (ASP.NET)"),
                    n.mvc && (i += "(MVC)"),
                    e[t] = i
                }
            };
            return n(t.events),
            n(t.methods),
            n(t.properties),
            t
        }
        ,
        DayPilot.Util.shouldApply = function(e) {
            if (!e)
                return !1;
            var t = e.toLowerCase();
            return !(t.indexOf("before") >= 0) && (!(t.indexOf("after") >= 0) && ("onrowfilter" !== t && "oneventfilter" !== t))
        }
        ,
        DayPilot.Util.safeApply = function(e, t) {
            var n = e["$root"]["$$phase"];
            "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t)
        }
        ,
        DayPilot.Util.members = function(e, t) {
            var n = DayPilot.list()
              , i = DayPilot.list()
              , a = DayPilot.list()
              , r = e && e.members ? e.members.obsolete : []
              , o = e && e.members ? e.members.noCssOnly : []
              , s = e && e.members ? e.members.ignore : []
              , l = e && e.members && e.members.ignoreFilter ? e.members.ignoreFilter : function() {
                return !1
            }
            ;
            for (var d in e)
                if (0 !== d.indexOf("$") && 0 !== d.indexOf("_") && 0 !== d.indexOf("number") && 0 !== d.indexOf("is") && "v" !== d && !DayPilot.contains(s, d) && !l(d))
                    if (0 !== d.indexOf("on"))
                        if ("function" != typeof e[d])
                            if ("object" != typeof e[d])
                                a.push(d);
                            else {
                                var c = e[d];
                                if (0 === t) {
                                    a.push(d);
                                    continue
                                }
                                if (c && c.nodeType > 0) {
                                    a.push(d);
                                    continue
                                }
                                if (c instanceof DayPilot.Bubble) {
                                    a.push(d);
                                    continue
                                }
                                if (c instanceof DayPilot.Date) {
                                    a.push(d);
                                    continue
                                }
                                if (c instanceof DayPilot.Menu) {
                                    a.push(d);
                                    continue
                                }
                                if (c instanceof DayPilot.Scheduler) {
                                    a.push(d);
                                    continue
                                }
                                if (DayPilot.isArray(c)) {
                                    a.push(d);
                                    continue
                                }
                                null === c && a.push(d);
                                var u = null;
                                "number" == typeof t && (u = t - 1);
                                for (var h = DayPilot.Util.members(c, u), f = 0; f < h.events.length; f++)
                                    n.push(d + "." + h.events[f].name);
                                for (var f = 0; f < h.methods.length; f++)
                                    i.push(d + "." + h.methods[f].name);
                                for (var f = 0; f < h.properties.length; f++)
                                    a.push(d + "." + h.properties[f].name)
                            }
                        else
                            i.push(d);
                    else
                        n.push(d);
            n.sort(),
            i.sort(),
            a.sort();
            var v = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var n = e[t]
                      , i = {};
                    i.name = n,
                    e[t] = i,
                    DayPilot.contains(r, n) && (i.obsolete = !0),
                    DayPilot.contains(o, n) && (i.noCssOnly = !0),
                    n.indexOf("CallBack") !== -1 && (i.aspnet = !0,
                    i.mvc = !0),
                    n.indexOf("PostBack") !== -1 && (i.aspnet = !0),
                    n.indexOf("Notify") !== -1 && (i.aspnet = !0,
                    i.mvc = !0)
                }
            };
            return v(n),
            v(i),
            v(a),
            {
                "events": n,
                "methods": i,
                "properties": a
            }
        }
        ,
        DayPilot.Util.replaceCharAt = function(e, t, n) {
            return e.substr(0, t) + n + e.substr(t + n.length)
        }
        ,
        DayPilot.Util.evalVariable = function(e, t) {
            if (t = t || ["object"],
            null === e || "undefined" == typeof e)
                return null;
            if (DayPilot.indexOf(t, typeof e) !== -1)
                return e;
            if ("string" != typeof e)
                throw "Unable to resolve a variable name (not a string).";
            if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))
                throw "Invalid variable name: " + e;
            return eval(e)
        }
        ,
        DayPilot.Util.evalFunction = function(e) {
            if (null === e)
                return null;
            if ("function" == typeof e)
                return e;
            if ("string" != typeof e)
                throw "Unable to resolve a function (not a string).";
            if (!/^\(?function/.test(e))
                throw "Invalid function string";
            return e = "(" + e + ")",
            eval(e)
        }
        ,
        DayPilot.Util.isNullOrUndefined = function(e) {
            return null === e || "undefined" == typeof e
        }
        ,
        DayPilot.Util.log = function(e) {
            window.console && window.console.log && window.console.log(e)
        }
        ,
        DayPilot.Util.workerFrom = function(e) {
            var t = e.toString()
              , n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}"))
              , i = new Blob([n])
              , a = window.URL.createObjectURL(i);
            return new Worker(a)
        }
        ,
        DayPilot.Util.dataUriToBlob = function(e) {
            if ("string" != typeof e)
                throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
            for (var t = e.split(","), n = t[0], i = t[1], a = n.indexOf("base64") !== -1, r = a ? atob : decodeURI, o = n.split(":")[1].split(";")[0], s = r(i), l = new window.Uint8Array(s.length), d = 0; d < s.length; d++)
                l[d] = s.charCodeAt(d);
            return new Blob([l],{
                "type": o
            })
        }
        ,
        DayPilot.Util.downloadDataUri = function(e, t) {
            var n = DayPilot.Util.dataUriToBlob(e);
            DayPilot.Util.downloadBlob(n, t)
        }
        ,
        DayPilot.Util.downloadBlob = function(e, t) {
            var t = t || "download";
            if (window.navigator.msSaveBlob)
                window.navigator.msSaveBlob(e, t);
            else {
                var n = window.URL.createObjectURL(e)
                  , i = document.createElement("a");
                i.download = t,
                i.href = n,
                i.style.display = "none",
                document.body.appendChild(i),
                i.click(),
                setTimeout(function() {
                    document.body.removeChild(i),
                    window.URL.revokeObjectURL(n)
                })
            }
        }
        ,
        DayPilot.Util.monitor = function(e, t, n) {
            var i = e[t];
            e[t] = function() {
                n.apply(e, arguments),
                i.apply(e, arguments)
            }
        }
        ,
        DayPilot.Util.isTransparentColor = function(e) {
            return "transparent" === e || "rgba(0, 0, 0, 0)" === e
        }
        ,
        DayPilot.Util.stripTags = function(e) {
            if (DayPilot.Util.isNullOrUndefined(e))
                return e;
            if ("string" == typeof e)
                return e.replace(/<(?:.|\n)*?>/gm, "");
            throw new DayPilot.Exception("Unable to strip tags from a non-string")
        }
        ,
        DayPilot.Util.escapeHtml = function(e) {
            var t = document.createElement("div");
            return t.innerText = e,
            t.innerHTML
        }
        ,
        DayPilot.Util.escapeTextHtml = function(e, t) {
            return DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : DayPilot.Util.escapeHtml(e) : t
        }
        ,
        DayPilot.Util.isSameEvent = function(e, t) {
            return !(!e || !t) && (e = e instanceof DayPilot.Event || e.isEvent ? e.data : e,
            t = t instanceof DayPilot.Event || t.isEvent ? t.data : t,
            e === t || (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id || !(!DayPilot.Util.isNullOrUndefined(e.id) || DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) && (e.recurrentMasterId === t.recurrentMasterId && new DayPilot.Date(e.start) === new DayPilot.Date(t.start))))
        }
        ,
        DayPilot.Util.isReactComponent = function(e) {
            var t = "function" == typeof Symbol && Symbol.for
              , n = t && Symbol.for("react.element") || 60103
              , i = t && Symbol.for("react.transitional.element") || null
              , a = e.$$typeof;
            return e && (a === n || a === i || 60103 === a)
        }
        ,
        DayPilot.Util.isVueComponent = function(e) {
            return e && "function" == typeof e.render
        }
        ,
        DayPilot.Util.isVueVNode = function(e) {
            return !!e && (DayPilot.isArray(e) ? DayPilot.Util.isVueVNode(e[0]) : e["__v_isVNode"])
        }
        ,
        DayPilot.Util.fontString = function(e) {
            return (e.style + " " + e.size + " " + e.family).trim()
        }
        ,
        DayPilot.Util.fontHeight = function(e) {
            var t = DayPilot.Util.fontString(e);
            if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
                var n = document.createElement("div");
                n.style.position = "fixed",
                n.style.left = "-2000px;",
                n.style.top = "-2000px",
                n.style.padding = "0px",
                n.style.font = t,
                n.innerText = "X",
                document.body.appendChild(n),
                DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(n).getPx("height"),
                document.body.removeChild(n)
            }
            return DayPilot.Util.fontHeight.cache[t]
        }
        ,
        DayPilot.Util.fontHeight.cache = {},
        DayPilot.Areas = {},
        DayPilot.Areas.attach = function(e, t, n) {
            var n = n || {}
              , a = n.areas
              , r = n.allowed || function() {
                return !0
            }
              , o = n.offsetX || 0;
            a = i(t, a),
            a && DayPilot.isArray(a) && 0 !== a.length && (DayPilot.re(e, "mousemove", function(i) {
                e.active || e.areasDisabled || !r() || DayPilot.Areas.showAreas(e, t, i, a, {
                    "offsetX": o,
                    "eventDiv": n.eventDiv
                })
            }),
            DayPilot.re(e, "mouseleave", function(t) {
                DayPilot.Areas.hideAreas(e, t)
            }),
            DayPilot.list(a).forEach(function(i) {
                if (DayPilot.Areas.isVisible(i)) {
                    var a = DayPilot.Areas.createArea(e, t, i, {
                        "offsetX": o,
                        "eventDiv": n.eventDiv
                    });
                    e.appendChild(a)
                }
            }))
        }
        ,
        DayPilot.Areas.disable = function(e) {
            e.areasDisabled = !0,
            DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea && !e.area.start
            }).forEach(function(e) {
                e.k = e.style.display,
                e.style.display = "none"
            })
        }
        ,
        DayPilot.Areas.enable = function(e) {
            e.areasDisabled = !1,
            DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea && !e.area.start
            }).forEach(function(e) {
                e.k ? e.style.display = e.k : e.style.display = ""
            })
        }
        ,
        DayPilot.Areas.remove = function(e) {
            var t = DayPilot.list(e.childNodes).filter(function(e) {
                return e.isActiveArea
            });
            DayPilot.de(t)
        }
        ,
        DayPilot.Areas.isVisible = function(e) {
            var t = e.visibility || e.v || "Visible";
            return "Visible" === t || "TouchVisible" === t && !DayPilot.browser.hover
        }
        ,
        DayPilot.Areas.copy = function(e) {
            return DayPilot.isArray(e) ? e.map(function(e) {
                return DayPilot.Util.copyProps(e, {})
            }) : []
        }
        ,
        DayPilot.Areas.resolvePosition = function(e, t, n, i) {
            var a = DayPilot.Areas.copy(e)
              , r = t;
            return a.forEach(function(e) {
                e.start && (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n),
                "number" == typeof e.offsetX && (e.left += e.offsetX),
                e.end && (e.right = n + i - r.getPixels(new DayPilot.Date(e.end)).left)
            }),
            a
        }
        ;
        var i = function(e, t) {
            return DayPilot.isArray(t) || (t = e.areas,
            t || (e.cache ? t = e.cache.areas : e.data && (t = e.data.areas))),
            t
        };
        DayPilot.Areas.showAreas = function(e, t, n, i, a) {
            if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilot.Global.selecting && !e.active && DayPilot.browser.hover) {
                if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
                    for (var r = 0; r < DayPilot.Areas.all.length; r++) {
                        var o = DayPilot.Areas.all[r];
                        o !== e && DayPilot.Areas.hideAreas(o, n)
                    }
                if (e.active = {},
                DayPilot.isArray(i) || (i = t.areas,
                i || (t.cache ? i = t.cache.areas : t.data && (i = t.data.areas))),
                i && 0 !== i.length && !(e.areas && e.areas.length > 0)) {
                    e.areas = [];
                    for (var r = 0; r < i.length; r++) {
                        var s = i[r];
                        if (!DayPilot.Areas.isVisible(s)) {
                            var l = DayPilot.Areas.createArea(e, t, s, a);
                            e.areas.push(l),
                            e.appendChild(l),
                            DayPilot.Areas.all.push(e)
                        }
                    }
                    e.active.children = DayPilot.ac(e)
                }
            }
        }
        ,
        DayPilot.Areas.createArea = function(e, t, n, i) {
            function a(e, t, n) {
                var i = {};
                return i.area = e,
                i.source = t,
                i.originalEvent = n,
                i.preventDefault = function() {
                    i.preventDefault.value = !0
                }
                ,
                "function" == typeof e.onClick && e.onClick(i),
                i
            }
            function r(e, t, n) {
                DayPilot.Bubble && DayPilot.Bubble.touchPosition(n),
                e.calendar.bubble && e.calendar.bubble.showEvent(e, !0)
            }
            function o(e, t, n, i) {
                DayPilot.Menu && DayPilot.Menu.touchPosition(i);
                var a = n.contextMenu || n.menu;
                if (a instanceof DayPilot.Menu || ("string" == typeof a ? a = DayPilot.Util.evalVariable(a) : t.isEvent && t.client.contextMenu() ? a = t.client.contextMenu() : t.isEvent && t.calendar.contextMenu ? a = DayPilot.Util.evalVariable(t.calendar.contextMenu) : t.isRow && t.calendar.contextMenuResource && (a = DayPilot.Util.evalVariable(t.calendar.contextMenuResource))),
                a && a.show) {
                    var r = {
                        "type": "area",
                        "div": e,
                        "e": t,
                        "area": n,
                        "a": d
                    };
                    a.show(t, {
                        "initiator": r
                    })
                }
            }
            function s(e) {
                return "string" == typeof e ? e : "number" == typeof e ? e + "px" : void 0
            }
            var i = i || {}
              , l = (i.offsetX || 0,
            i.eventDiv || e)
              , d = document.createElement("div");
            d.isActiveArea = !0,
            d.area = n,
            d.setAttribute("unselectable", "on");
            var c = n.w || n.width
              , u = n.h || n.height
              , h = n.cssClass || n.css || n.className;
            if ("undefined" != typeof n.style && d.setAttribute("style", n.style),
            d.style.position = "absolute",
            d.style.width = s(c),
            d.style.height = s(u),
            d.style.right = s(n.right),
            d.style.top = s(n.top),
            d.style.left = s(n.left),
            d.style.bottom = s(n.bottom),
            d.style.borderRadius = s(n.borderRadius),
            "undefined" != typeof n.html || "undefined" != typeof n.text)
                d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html);
            else if (n.icon) {
                var f = document.createElement("i");
                f.className = n.icon,
                d.appendChild(f)
            } else if (n.image) {
                var v = document.createElement("img");
                v.src = n.image,
                d.appendChild(v)
            } else if (n.symbol) {
                var p = "http://www.w3.org/2000/svg"
                  , m = document.createElementNS(p, "svg");
                m.setAttribute("width", "100%"),
                m.setAttribute("height", "100%");
                var g = document.createElementNS(p, "use");
                g.setAttribute("href", n.symbol),
                m.appendChild(g),
                d.appendChild(m)
            }
            if (h && (d.className = h),
            n.toolTip && d.setAttribute("title", n.toolTip),
            n.backColor && (d.style.background = n.backColor),
            n.background && (d.style.background = n.background),
            n.fontColor && (d.style.color = n.fontColor),
            n.padding && (d.style.padding = n.padding + "px",
            d.style.boxSizing = "border-box"),
            n.verticalAlignment)
                switch (d.style.display = "flex",
                n.verticalAlignment) {
                case "center":
                    d.style.alignItems = "center";
                    break;
                case "top":
                    d.style.alignItems = "flex-start";
                    break;
                case "bottom":
                    d.style.alignItems = "flex-end"
                }
            if (n.horizontalAlignment)
                switch (d.style.display = "flex",
                n.horizontalAlignment) {
                case "right":
                    d.style.justifyContent = "flex-end";
                    break;
                case "left":
                    d.style.justifyContent = "flex-start";
                    break;
                case "center":
                    d.style.justifyContent = "center"
                }
            if ("ResizeEnd" === n.action || "ResizeStart" === n.action || "Move" === n.action) {
                if (t.calendar.isCalendar)
                    switch (n.action) {
                    case "ResizeEnd":
                        n.cursor = "s-resize",
                        n.dpBorder = "bottom";
                        break;
                    case "ResizeStart":
                        n.cursor = "n-resize",
                        n.dpBorder = "top";
                        break;
                    case "Move":
                        n.cursor = "move"
                    }
                if (t.calendar.isScheduler || t.calendar.isMonth)
                    switch (n.action) {
                    case "ResizeEnd":
                        n.cursor = "e-resize",
                        n.dpBorder = "right";
                        break;
                    case "ResizeStart":
                        n.cursor = "w-resize",
                        n.dpBorder = "left";
                        break;
                    case "Move":
                        n.cursor = "move"
                    }
                d.onmousemove = function(e, t, n) {
                    return function(i) {
                        t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress() || (i.cancelBubble = !0,
                        e.style.cursor = n.cursor,
                        n.dpBorder && (e.dpBorder = n.dpBorder))
                    }
                }(l, t, n),
                d.onmouseout = function(e, t, n) {
                    return function(t) {
                        e.style.cursor = ""
                    }
                }(l, t, n)
            }
            if (("ResizeEnd" === n.action || "ResizeStart" === n.action) && t.isEvent && t.calendar.internal.touch) {
                var b = function(e, t, n) {
                    return function(i) {
                        i.cancelBubble = !0;
                        var a = t.calendar.internal.touch
                          , r = i.touches ? i.touches[0] : i
                          , o = {
                            x: r.pageX,
                            y: r.pageY
                        };
                        t.calendar.coords = a.relativeCoords(i),
                        a.preventEventTap = !0,
                        t.calendar.isScheduler ? a.startResizing(e, "ResizeEnd" === n.action ? "right" : "left") : t.calendar.isCalendar && a.startResizing(e, "ResizeEnd" === n.action ? "bottom" : "top", o)
                    }
                }(l, t, n);
                DayPilot.rePassive(d, DayPilot.touch.start, b)
            }
            if ("ContextMenu" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function(e, t, n) {
                    return function(i) {
                        i.cancelBubble = !0,
                        i.preventDefault(),
                        o(e, t, n, i),
                        t.calendar.internal.touch.preventEventTap = !0
                    }
                }(l, t, n)
                  , y = function(e, t, n) {
                    return function(e) {
                        e.cancelBubble = !0,
                        e.preventDefault()
                    }
                }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                DayPilot.reNonPassive(d, DayPilot.touch.end, y)
            }
            if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function(e, t, n) {
                    return function(e) {
                        e.cancelBubble = !0,
                        e.preventDefault();
                        var i = a(n, t, e);
                        if (!i.preventDefault.value) {
                            r(t, n, e);
                            t.calendar.internal.touch.preventEventTap = !0,
                            "function" == typeof n.onClicked && n.onClicked(i)
                        }
                    }
                }(l, t, n)
                  , y = function(e, t, n) {
                    return function(e) {
                        e.cancelBubble = !0,
                        e.preventDefault()
                    }
                }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                DayPilot.reNonPassive(d, DayPilot.touch.end, y)
            }
            if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) {
                var b = function(e, t, n) {
                    return function(n) {
                        n.cancelBubble = !0;
                        var i = t.calendar.internal.touch
                          , a = n.touches ? n.touches[0] : n
                          , r = {
                            x: a.pageX,
                            y: a.pageY
                        };
                        t.calendar.coords = i.relativeCoords(n),
                        DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.active = !0),
                        i.preventEventTap = !0,
                        i.startMoving(e, r)
                    }
                }(l, t, n);
                DayPilot.rePassive(d, DayPilot.touch.start, b)
            }
            if ("Move" === n.action && t.isRow && t.calendar.internal.touch,
            (n.bubble || "Bubble" === n.action) && t.isEvent ? (d.onmousemove = function(e, t, n) {
                return function(e) {
                    e.preventBubbleActivation = !0,
                    DayPilot.Bubble && DayPilot.Bubble.cancelShowing(),
                    n.bubble ? n.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0)
                }
            }(e, t, n),
            d.onmouseout = function(e, t, n) {
                return function(e) {
                    "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut())
                }
            }(e, t, n)) : (n.bubble || "Bubble" === n.action) && t.isRow ? (d.onmousemove = function(e, t, n) {
                return function(e) {
                    e.stopPropagation(),
                    n.bubble ? n.bubble.showResource(t, !1, d) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !1, d)
                }
            }(e, t, n),
            d.onmouseout = function(e, t, n) {
                return function(e) {
                    "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut())
                }
            }(e, t, n)) : "undefined" != typeof DayPilot.Bubble && n.bubble instanceof DayPilot.Bubble && (d.onmousemove = function(e, t, n) {
                return function(e) {
                    n.bubble.showHtml(null, d)
                }
            }(e, t, n),
            d.onmouseout = function(e, t, n) {
                return function(e) {
                    "undefined" != typeof DayPilot.Bubble && n.bubble && n.bubble.hideOnMouseOut()
                }
            }(e, t, n)),
            "HoverMenu" === n.action && (d.onmousemove = function(e, t, n) {
                return function(e) {
                    var i = n.menu;
                    "string" == typeof i && (i = DayPilot.Util.evalVariable(i)),
                    i && i.show && (i.visible ? i.source && "undefined" != typeof i.source.id && i.source.id !== t.id && i.show(t) : i.show(t),
                    i.cancelHideTimeout())
                }
            }(e, t, n),
            d.onmouseout = function(e, t, n) {
                return function(e) {
                    var t = n.menu;
                    "string" == typeof t && (t = DayPilot.Util.evalVariable(t)),
                    t && t.hideOnMouseOver && t.delayedHide()
                }
            }(e, t, n)),
            "JavaScript" === n.action) {
                var b = function(e, t, n) {
                    return function(e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            e.cancelBubble = !0,
                            e.preventDefault();
                            t.calendar.internal.touch;
                            DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !0)
                        }
                    }
                }(l, t, n)
                  , y = function(e, t, n) {
                    return function(e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            e.cancelBubble = !0,
                            e.preventDefault();
                            t.calendar.internal.touch;
                            DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !1);
                            var i = n.js;
                            if ("string" == typeof i && (i = DayPilot.Util.evalFunction(n.js)),
                            "function" == typeof i) {
                                var a = n.target || t;
                                i.call(this, a)
                            }
                        }
                    }
                }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b),
                DayPilot.reNonPassive(d, DayPilot.touch.end, y)
            }
            if ("None" === n.action) {
                var b = function(e, t, n) {
                    return function(e) {
                        var i = a(n, t, e);
                        "function" == typeof n.onClicked && n.onClicked(i),
                        e.preventDefault(),
                        e.stopPropagation()
                    }
                }(l, t, n);
                DayPilot.reNonPassive(d, DayPilot.touch.start, b)
            }
            return d.onmousedown = function(e, t, n) {
                return function(i) {
                    if ("function" == typeof n.onmousedown && n.onmousedown(i),
                    "function" == typeof n.mousedown) {
                        var a = {};
                        a.area = n,
                        a.div = e,
                        a.originalEvent = i,
                        a.source = t,
                        n.mousedown(a)
                    }
                    if ("Move" === n.action && t.isRow) {
                        var r = t.$.row;
                        (0,
                        t.calendar.internal.rowStartMoving)(r)
                    }
                    "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                    "Move" === n.action && (DayPilot.Global.movingAreaData = n.data),
                    "ResizeEnd" !== n.action && "ResizeStart" !== n.action || (DayPilot.Global.resizingAreaData = n.data),
                    "Move" === n.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, i);
                    "Move" !== n.action && "ResizeEnd" !== n.action && "ResizeStart" !== n.action && n.action && "Default" !== n.action && (i.preventDefault(),
                    i.cancelBubble = !0)
                }
            }(e, t, n),
            d.onclick = function(e, t, n) {
                return function(i) {
                    var r = a(n, t, i);
                    if (!r.preventDefault.value) {
                        switch (n.action) {
                        case "JavaScript":
                            var s = n.js;
                            if ("string" == typeof s && (s = DayPilot.Util.evalFunction(n.js)),
                            "function" == typeof s) {
                                var l = n.target || t;
                                s.call(this, l)
                            }
                            i.cancelBubble = !0;
                            break;
                        case "ContextMenu":
                            o(e, t, n, i),
                            i.cancelBubble = !0;
                            break;
                        case "CallBack":
                            alert("callback not implemented yet, id: " + n.id),
                            i.cancelBubble = !0;
                            break;
                        case "None":
                            i.cancelBubble = !0
                        }
                        "function" == typeof n.onClicked && n.onClicked(r)
                    }
                }
            }(e, t, n),
            "function" == typeof n.onMouseEnter && d.addEventListener("mouseenter", function(e, t, n) {
                return function(e) {
                    var i = {};
                    i.area = n,
                    i.source = t,
                    i.originalEvent = e,
                    n.onMouseEnter(i)
                }
            }(e, t, n)),
            "function" == typeof n.onMouseLeave && d.addEventListener("mouseleave", function(e, t, n) {
                return function(e) {
                    var i = {};
                    i.area = n,
                    i.source = t,
                    i.originalEvent = e,
                    n.onMouseLeave(i)
                }
            }(e, t, n)),
            d
        }
        ,
        DayPilot.Areas.all = [],
        DayPilot.Areas.hideAreas = function(e, t) {
            if (e && e && e.active) {
                var n = e.active
                  , i = e.areas;
                if (n && n.children && t) {
                    var a = t.toElement || t.relatedTarget;
                    if (~DayPilot.indexOf(n.children, a))
                        return
                }
                if (!i || 0 === i.length)
                    return void (e.active = null);
                DayPilot.de(i),
                e.active = null,
                e.areas = [],
                DayPilot.rfa(DayPilot.Areas.all, e),
                n.children = null
            }
        }
        ,
        DayPilot.Areas.hideAll = function(e) {
            if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length)
                for (var t = 0; t < DayPilot.Areas.all.length; t++)
                    DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e)
        }
        ,
        DayPilot.Action = function(e, t, n, i) {
            var a = this;
            this.calendar = e,
            this.isAction = !0,
            this.action = t,
            this.params = n,
            this.data = i,
            this.notify = function() {
                a.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data)
            }
            ,
            this.auto = function() {
                a.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data)
            }
            ,
            this.queue = function() {
                a.calendar.queue.add(this)
            }
            ,
            this.toJSON = function() {
                var e = {};
                return e.name = this.action,
                e.params = this.params,
                e.data = this.data,
                e
            }
        }
        ,
        DayPilot.Selection = function(e, t, n, i) {
            this.menuType = "selection",
            this.start = new DayPilot.Date(e),
            this.end = new DayPilot.Date(t),
            this.resource = n,
            this.root = i,
            this.calendar = i,
            this.toJSON = function(e) {
                var t = {};
                return t.start = this.start,
                t.end = this.end,
                t.resource = this.resource,
                t
            }
        }
        ,
        DayPilot.Link = function(e, t) {
            this.isLink = !0,
            this.data = e,
            this.calendar = t,
            this.to = function() {
                return this.data.to
            }
            ,
            this.from = function() {
                return this.data.from
            }
            ,
            this.type = function() {
                return this.data.type
            }
            ,
            this.id = function() {
                return this.data.id
            }
            ,
            this.toJSON = function() {
                var e = {};
                return e.from = this.data.from,
                e.to = this.data.to,
                e.id = this.data.id,
                e.type = this.data.type,
                e
            }
        }
        ,
        DayPilot.Event = function(e, t, n) {
            var i = this;
            this.calendar = t,
            this.data = e ? e : {},
            this.part = n ? n : {},
            "undefined" == typeof this.data.id && (this.data.id = this.data.value);
            var a = {}
              , r = ["id", "text", "start", "end", "resource"];
            this.isEvent = !0,
            DayPilot.Stats.eventObjects += 1,
            this.temp = function() {
                if (a.dirty)
                    return a;
                for (var e = 0; e < r.length; e++)
                    a[r[e]] = i.data[r[e]];
                return a.dirty = !0,
                a
            }
            ,
            this.copy = function() {
                var e = {};
                return DayPilot.Util.copyProps(i.data, e),
                e
            }
            ,
            this.commit = function() {
                if (a.dirty) {
                    for (var e = 0; e < r.length; e++)
                        i.data[r[e]] = a[r[e]];
                    "function" == typeof i.data.commitCallback && i.data.commitCallback(),
                    a.dirty = !1
                }
            }
            ,
            this.dirty = function() {
                return a.dirty
            }
            ,
            this.id = function(e) {
                return "undefined" == typeof e ? i.data.id : void (this.temp().id = e)
            }
            ,
            this.value = function(e) {
                return "undefined" == typeof e ? i.id() : void i.id(e)
            }
            ,
            this.text = function(e) {
                if ("undefined" == typeof e)
                    return i.data.text;
                this.temp().text = e;
                var t = DayPilot.Util.escapeHtml(e);
                this.client.innerHTML(t)
            }
            ,
            this.start = function(e) {
                return "undefined" == typeof e ? new DayPilot.Date(i.data.start) : void (this.temp().start = new DayPilot.Date(e))
            }
            ,
            this.end = function(e) {
                return "undefined" == typeof e ? t && t.internal.adjustEndNormalize ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end) : void (this.temp().end = new DayPilot.Date(e))
            }
            ,
            this.duration = function() {
                return new DayPilot.Duration(this.start(),this.end())
            }
            ,
            this.rawend = function(e) {
                if ("undefined" == typeof e)
                    return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end);
                throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly")
            }
            ,
            this.partStart = function() {
                return new DayPilot.Date(this.part.start)
            }
            ,
            this.partEnd = function() {
                return new DayPilot.Date(this.part.end)
            }
            ,
            this.row = function() {
                return this.resource()
            }
            ,
            this.allday = function() {
                return "undefined" == typeof val ? i.data.allday : void (this.temp().allday = val)
            }
            ,
            this.isAllDay = this.allday,
            this.resource = function(e) {
                return "undefined" == typeof e ? i.data.resource : void (this.temp().resource = e)
            }
            ,
            this.recurrent = function() {
                return i.data.recurrent
            }
            ,
            this.recurrentMasterId = function() {
                return i.data.recurrentMasterId
            }
            ,
            this.useBox = function() {
                return this.part.box
            }
            ,
            this.staticBubbleHTML = function() {
                return this.bubbleHtml()
            }
            ,
            this.bubbleHtml = function() {
                return i.cache ? i.cache.bubbleHtml || i.data.bubbleHtml : i.data.bubbleHtml
            }
            ,
            this.tag = function(e) {
                if (i.data.tags)
                    return i.data.tags[e];
                var t = i.data.tag;
                if (!t)
                    return null;
                if ("undefined" == typeof e)
                    return i.data.tag;
                for (var n = i.calendar.tagFields, a = -1, r = 0; r < n.length; r++)
                    e === n[r] && (a = r);
                if (a === -1)
                    throw "Field name not found.";
                return t[a]
            }
            ,
            this.client = {},
            this.client.innerHTML = function(e) {
                if ("undefined" == typeof e) {
                    var t = i.cache || i.data
                      , n = i.calendar && i.calendar.internal && i.calendar.internal.xssTextHtml;
                    return n ? n(t.text, t.html) : DayPilot.Util.escapeTextHtml(t.text, t.html)
                }
                i.data.html = e,
                i.cache && (i.cache.html = e)
            }
            ,
            this.client.html = this.client.innerHTML,
            this.client.header = function(e) {
                return "undefined" == typeof e ? i.data.header : void (i.data.header = e)
            }
            ,
            this.client.cssClass = function(e) {
                return "undefined" == typeof e ? i.data.cssClass : void (i.data.cssClass = e)
            }
            ,
            this.client.toolTip = function(e) {
                if ("undefined" == typeof e) {
                    var t = null;
                    return t = i.cache && "undefined" != typeof i.cache.toolTip ? i.cache.toolTip : "undefined" != typeof i.data.toolTip ? i.data.toolTip : i.data.text
                }
                i.data.toolTip = e
            }
            ,
            this.client.backColor = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.backColor ? i.cache.backColor : "undefined" != typeof i.data.backColor ? i.data.backColor : i.calendar.eventBackColor : void (i.data.backColor = e)
            }
            ,
            this.client.borderColor = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.borderColor ? i.cache.borderColor : "undefined" != typeof i.data.borderColor ? i.data.borderColor : i.calendar.eventBorderColor : void (i.data.borderColor = e)
            }
            ,
            this.client.barColor = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barColor ? i.cache.barColor : "undefined" != typeof i.data.barColor ? i.data.barColor : i.calendar.durationBarColor : void (i.data.barColor = e)
            }
            ,
            this.client.barVisible = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barHidden ? !i.cache.barHidden : i.calendar.durationBarVisible && !i.data.barHidden : void (i.data.barHidden = !e)
            }
            ,
            this.client.contextMenu = function(e) {
                if ("undefined" == typeof e) {
                    if (i.oContextMenu)
                        return i.oContextMenu;
                    var t = i.cache ? i.cache.contextMenu : i.data.contextMenu;
                    return t ? DayPilot.Util.evalVariable(t) : null
                }
                i.oContextMenu = e
            }
            ,
            this.client.moveEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.moveDisabled ? !i.cache.moveDisabled : "Disabled" !== i.calendar.eventMoveHandling && !i.data.moveDisabled : void (i.data.moveDisabled = !e)
            }
            ,
            this.client.resizeEnabled = function(e) {
                return "undefined" == typeof e ? "Milestone" !== i.data.type && (i.cache && "undefined" != typeof i.cache.resizeDisabled ? !i.cache.resizeDisabled : "Disabled" !== i.calendar.eventResizeHandling && !i.data.resizeDisabled) : void (i.data.resizeDisabled = !e)
            }
            ,
            this.client.rightClickEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.rightClickDisabled ? !i.cache.rightClickDisabled : "Disabled" !== i.calendar.eventRightClickHandling && !i.data.rightClickDisabled : void (i.data.rightClickDisabled = !e)
            }
            ,
            this.client.clickEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.clickDisabled ? !i.cache.clickDisabled : "Disabled" !== i.calendar.eventClickHandling && !i.data.clickDisabled : void (i.data.clickDisabled = !e)
            }
            ,
            this.client.deleteEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e)
            }
            ,
            this.client.doubleClickEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled ? !i.cache.doubleClickDisabled : "Disabled" !== i.calendar.eventDoubleClickHandling && !i.data.doubleClickDisabled : void (i.data.doubleClickDisabled = !e)
            }
            ,
            this.client.deleteClickEnabled = function(e) {
                return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e)
            }
            ,
            this.toJSON = function(e) {
                var t = {};
                if (t.value = this.id(),
                t.id = this.id(),
                t.text = this.text(),
                t.start = this.start().toJSON(),
                t.end = this.end().toJSON(),
                t.resource = this.resource(),
                t.isAllDay = !1,
                t.recurrentMasterId = this.recurrentMasterId(),
                t.join = this.data.join,
                t.tag = {},
                i.data.tags)
                    for (var n in i.data.tags)
                        i.data.tags.hasOwnProperty(n) && (t.tag[n] = "" + i.data.tags[n]);
                else if (i.calendar && i.calendar.tagFields)
                    for (var a = i.calendar.tagFields, r = 0; r < a.length; r++)
                        t.tag[a[r]] = this.tag(a[r]);
                return t
            }
        }
        ,
        DayPilot.Task = function(e, t) {
            if (!e)
                throw "Trying to initialize DayPilot.Task with null data parameter";
            var n = this
              , i = null;
            if (e instanceof DayPilot.Event)
                i = e,
                this.data = e.data.task;
            else {
                if (e instanceof DayPilot.Task)
                    return e;
                e.isTaskWrapper ? this.data = e.data : this.data = e
            }
            var a = {}
              , r = ["id", "text", "start", "end", "complete", "type"];
            this.isTask = !0,
            this.calendar = t,
            this.temp = function() {
                if (a.dirty)
                    return a;
                for (var e = 0; e < r.length; e++)
                    a[r[e]] = n.data[r[e]];
                return a.dirty = !0,
                a
            }
            ,
            this.copy = function() {
                var e = {};
                return DayPilot.Util.copyProps(n.data, e),
                e
            }
            ,
            this.commit = function() {
                if (a.dirty) {
                    for (var e = 0; e < r.length; e++)
                        n.data[r[e]] = a[r[e]];
                    a.dirty = !1
                }
            }
            ,
            this.dirty = function() {
                return a.dirty
            }
            ,
            this.id = function(e) {
                return "undefined" == typeof e ? n.data.id : void (this.temp().id = e)
            }
            ,
            this.text = function(e) {
                if ("undefined" == typeof e)
                    return n.data.text;
                this.temp().text = e;
                var t = DayPilot.Util.escapeHtml(e);
                this.client.innerHTML(t)
            }
            ,
            this.start = function(e) {
                return "undefined" == typeof e ? new DayPilot.Date(n.data.start) : void (this.temp().start = new DayPilot.Date(e))
            }
            ,
            this.duration = function() {
                return new DayPilot.Duration(this.start(),this.end())
            }
            ,
            this.end = function(e) {
                return "undefined" == typeof e ? t && "Date" === t.eventEndSpec ? new DayPilot.Date(n.data.end).getDatePart().addDays(1) : new DayPilot.Date(n.data.end) : void (this.temp().end = new DayPilot.Date(e))
            }
            ,
            this.type = function(e) {
                return "undefined" == typeof e ? i ? i.data.type || "Task" : n.data.type : void (this.temp().type = e)
            }
            ,
            this.complete = function(e) {
                return "undefined" == typeof e ? n.data.complete ? n.data.complete : 0 : void (this.temp().complete = e)
            }
            ,
            this.children = function() {
                var e = [];
                e.add = function(e) {
                    var t = new DayPilot.Task(e);
                    this.data.children || (this.data.children = []),
                    this.children.push(t.data)
                }
                ;
                for (var n = 0; this.data.children && n < this.data.children.length; n++)
                    e.push(new DayPilot.Task(this.data.children[n],t));
                return e
            }
            ,
            this.toJSON = function(e) {
                var t = {};
                return t.id = this.id(),
                t.text = this.text(),
                t.start = this.start().toJSON(),
                t.end = this.end().toJSON(),
                t.type = this.type(),
                t.tags = {},
                DayPilot.Util.copyProps(this.data.tags, t.tags),
                t
            }
            ,
            this.row = {};
            var o = this.row;
            o.expanded = function(e) {
                return "undefined" == typeof e ? !n.data.row || !n.data.row.collapsed : (n.data.row || (n.data.row = {}),
                !!n.data.row.collapsed != !e && t.internal.rowObjectForTaskData(n.data).toggle(),
                n.data.row.collapsed = !e,
                void 0)
            }
            ,
            o.expand = function() {
                o.expanded(!0)
            }
            ,
            o.collapse = function() {
                o.expanded(!1)
            }
            ,
            o.toggle = function() {
                o.expanded(!o.expanded())
            }
        }
        ,
        DayPilot.request = function(e, t, n, i) {
            var a = DayPilot.createXmlHttp();
            a && (a.open("POST", e, !0),
            a.setRequestHeader("Content-type", "text/plain"),
            a.onreadystatechange = function() {
                if (4 === a.readyState)
                    return 200 !== a.status && 304 !== a.status ? void (i ? i(a) : window.console && console.log("HTTP error " + a.status)) : void t(a)
            }
            ,
            4 !== a.readyState && ("object" == typeof n && (n = JSON.stringify(n)),
            a.send(n)))
        }
        ,
        DayPilot.ajax = function(e) {
            if (!e)
                throw new DayPilot.Exception("Parameter object required.");
            if ("string" != typeof e.url)
                throw new DayPilot.Exception("The parameter object must have 'url' property.");
            var t = DayPilot.createXmlHttp();
            if (!t)
                throw new DayPilot.Exception("Unable to create XMLHttpRequest object");
            var n = "object" == typeof e.data
              , i = e.data
              , a = e.method || (e.data ? "POST" : "GET")
              , r = e.success || function() {}
              , o = e.error || function() {}
              , s = e.url
              , l = e.contentType || (n ? "application/json" : "text/plain")
              , d = e.headers || {};
            t.open(a, s, !0),
            t.setRequestHeader("Content-type", l),
            DayPilot.Util.ownPropsAsArray(d).forEach(function(e) {
                t.setRequestHeader(e.key, e.val)
            }),
            t.onreadystatechange = function() {
                if (4 === t.readyState)
                    if (200 === t.status || 201 === t.status || 204 === t.status || 304 === t.status) {
                        var e = {};
                        e.request = t,
                        t.responseText && (e.data = JSON.parse(t.responseText)),
                        r(e)
                    } else if (o) {
                        var e = {};
                        e.request = t,
                        o(e)
                    } else
                        window.console && console.log("HTTP error " + t.status)
            }
            ,
            4 !== t.readyState && (n && (i = JSON.stringify(i)),
            t.send(i))
        }
        ,
        DayPilot.createXmlHttp = function() {
            return new XMLHttpRequest
        }
        ,
        DayPilot.Http = {},
        DayPilot.Http.ajax = function(e) {
            DayPilot.ajax(e)
        }
        ,
        DayPilot.Http.get = function(e, t) {
            return t = t || {},
            new Promise(function(n, i) {
                var a = {};
                a.url = e,
                a.method = "GET",
                a.success = function(e) {
                    n(e)
                }
                ,
                a.error = function(e) {
                    i(e)
                }
                ,
                a.contentType = t.contentType,
                a.headers = t.headers,
                DayPilot.ajax(a)
            }
            )
        }
        ,
        DayPilot.Http.post = function(e, t, n) {
            return n = n || {},
            new Promise(function(i, a) {
                var r = {};
                r.url = e,
                r.method = "POST",
                r.data = t,
                r.success = function(e) {
                    i(e)
                }
                ,
                r.error = function(e) {
                    a(e)
                }
                ,
                r.contentType = n.contentType,
                r.headers = n.headers,
                DayPilot.ajax(r)
            }
            )
        }
        ,
        DayPilot.Http.put = function(e, t, n) {
            return n = n || {},
            new Promise(function(i, a) {
                var r = {};
                r.url = e,
                r.method = "PUT",
                r.data = t,
                r.success = function(e) {
                    i(e)
                }
                ,
                r.error = function(e) {
                    a(e)
                }
                ,
                r.contentType = n.contentType,
                r.headers = n.headers,
                DayPilot.ajax(r)
            }
            )
        }
        ,
        DayPilot.Http.delete = function(e, t) {
            return t = t || {},
            new Promise(function(n, i) {
                var a = {};
                a.url = e,
                a.method = "DELETE",
                a.success = function(e) {
                    n(e)
                }
                ,
                a.error = function(e) {
                    i(e)
                }
                ,
                a.contentType = t.contentType,
                a.headers = t.headers,
                DayPilot.ajax(a)
            }
            )
        }
        ,
        DayPilot.Http.patch = function(e, t, n) {
            return n = n || {},
            new Promise(function(i, a) {
                var r = {};
                r.url = e,
                r.method = "PATCH",
                r.data = t,
                r.success = function(e) {
                    i(e)
                }
                ,
                r.error = function(e) {
                    a(e)
                }
                ,
                r.contentType = n.contentType,
                r.headers = n.headers,
                DayPilot.ajax(r)
            }
            )
        }
        ,
        DayPilot.Duration = function(e) {
            var t = this
              , n = 864e5
              , i = 36e5
              , a = 6e4
              , r = 1e3;
            if (2 === arguments.length) {
                var o = arguments[0]
                  , s = arguments[1];
                if (!(o instanceof DayPilot.Date) && "string" != typeof o)
                    throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
                if (!(s instanceof DayPilot.Date) && "string" != typeof s)
                    throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
                "string" == typeof o && (o = new DayPilot.Date(o)),
                "string" == typeof s && (s = new DayPilot.Date(s)),
                e = s.getTime() - o.getTime()
            }
            return this.ticks = e || 0,
            DayPilot.Date.Cache.DurationCtor["" + e] ? DayPilot.Date.Cache.DurationCtor["" + e] : (DayPilot.Date.Cache.DurationCtor["" + e] = this,
            this.toString = function(e) {
                if (!e)
                    return t.days() + "." + t.hours() + ":" + t.minutes() + ":" + t.seconds() + "." + t.milliseconds();
                var n = t.minutes();
                n = (n < 10 ? "0" : "") + n;
                var i = e;
                return i = i.replace("mm", n),
                i = i.replace("m", t.minutes()),
                i = i.replace("H", t.hours()),
                i = i.replace("h", t.hours()),
                i = i.replace("d", t.days()),
                i = i.replace("s", t.seconds())
            }
            ,
            this.totalHours = function() {
                return t.ticks / i
            }
            ,
            this.totalDays = function() {
                return t.ticks / n
            }
            ,
            this.totalMinutes = function() {
                return t.ticks / a
            }
            ,
            this.totalSeconds = function() {
                return t.ticks / r
            }
            ,
            this.totalMilliseconds = function() {
                return t.ticks
            }
            ,
            this.days = function() {
                return Math.floor(t.totalDays())
            }
            ,
            this.hours = function() {
                var e = t.ticks - t.days() * n;
                return Math.floor(e / i)
            }
            ,
            this.minutes = function() {
                var e = t.ticks - Math.floor(t.totalHours()) * i;
                return Math.floor(e / a)
            }
            ,
            this.seconds = function() {
                var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                return Math.floor(e / r)
            }
            ,
            this.milliseconds = function() {
                return t.ticks % r
            }
            ,
            void (this.add = function(e) {
                return new DayPilot.Duration(t.ticks + e.ticks)
            }
            ))
        }
        ,
        DayPilot.Duration.ofWeeks = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7)
        }
        ,
        DayPilot.Duration.ofDays = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60 * 24)
        }
        ,
        DayPilot.Duration.ofHours = function(e) {
            return new DayPilot.Duration(1e3 * e * 60 * 60)
        }
        ,
        DayPilot.Duration.ofMinutes = function(e) {
            return new DayPilot.Duration(1e3 * e * 60)
        }
        ,
        DayPilot.Duration.ofSeconds = function(e) {
            return new DayPilot.Duration(1e3 * e)
        }
        ,
        DayPilot.Duration.weeks = function(e) {
            return DayPilot.Duration.ofWeeks(e)
        }
        ,
        DayPilot.Duration.days = function(e) {
            return DayPilot.Duration.ofDays(e)
        }
        ,
        DayPilot.Duration.hours = function(e) {
            return DayPilot.Duration.ofHours(e)
        }
        ,
        DayPilot.Duration.minutes = function(e) {
            return DayPilot.Duration.ofMinutes(e)
        }
        ,
        DayPilot.Duration.seconds = function(e) {
            return DayPilot.Duration.ofSeconds(e)
        }
        ,
        DayPilot.TimeSpan = function() {
            throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan."
        }
        ;
        try {
            DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype)
        } catch (e) {}
        DayPilot.Date = function(t, n) {
            if (t instanceof DayPilot.Date)
                return t;
            var i;
            DayPilot.Util.isNullOrUndefined(t) && (i = DayPilot.DateUtil.fromLocal().getTime(),
            t = i);
            var a = DayPilot.Date.Cache.Ctor;
            if (a[t])
                return DayPilot.Stats.cacheHitsCtor += 1,
                a[t];
            var r = !1;
            if ("string" == typeof t) {
                try {
                    i = DayPilot.DateUtil.fromStringSortable(t, n).getTime()
                } catch (e) {
                    throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: " + t)
                }
                r = !0
            } else if ("number" == typeof t) {
                if (isNaN(t))
                    throw "Cannot create DayPilot.Date from NaN";
                i = t
            } else {
                if (!(t instanceof Date))
                    throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
                i = n ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime()
            }
            var o = e(i);
            return a[o] ? a[o] : (a[o] = this,
            a[i] = this,
            r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this),
            Object.defineProperty ? (Object.defineProperty(this, "ticks", {
                get: function() {
                    return i
                }
            }),
            Object.defineProperty(this, "value", {
                "value": o,
                "writable": !1,
                "enumerable": !0
            })) : (this.ticks = i,
            this.value = o),
            DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)),
            void (DayPilot.Stats.dateObjects += 1))
        }
        ,
        DayPilot.Date.Config = {},
        DayPilot.Date.Config.legacyShowD = !1,
        DayPilot.Date.Cache = {},
        DayPilot.Date.Cache.Parsing = {},
        DayPilot.Date.Cache.Ctor = {},
        DayPilot.Date.Cache.Ticks = {},
        DayPilot.Date.Cache.DurationCtor = {},
        DayPilot.Date.Cache.clear = function() {
            DayPilot.Date.Cache.Parsing = {},
            DayPilot.Date.Cache.Ctor = {},
            DayPilot.Date.Cache.Ticks = {},
            DayPilot.Date.Cache.DurationCtor = {}
        }
        ,
        DayPilot.Date.prototype.addDays = function(e) {
            return e ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this
        }
        ,
        DayPilot.Date.prototype.addHours = function(e) {
            return e ? this.addTime(60 * e * 60 * 1e3) : this
        }
        ,
        DayPilot.Date.prototype.addMilliseconds = function(e) {
            return e ? this.addTime(e) : this
        }
        ,
        DayPilot.Date.prototype.addMinutes = function(e) {
            return e ? this.addTime(60 * e * 1e3) : this
        }
        ,
        DayPilot.Date.prototype.addMonths = function(e) {
            if (!e)
                return this;
            var t = new Date(this.ticks)
              , n = t.getUTCFullYear()
              , i = t.getUTCMonth() + 1;
            if (e > 0) {
                for (; e >= 12; )
                    e -= 12,
                    n++;
                e > 12 - i ? (n++,
                i = e - (12 - i)) : i += e
            } else {
                for (; e <= -12; )
                    e += 12,
                    n--;
                i + e <= 0 ? (n--,
                i = 12 + i + e) : i += e
            }
            var a = new Date(t.getTime());
            a.setUTCDate(1),
            a.setUTCFullYear(n),
            a.setUTCMonth(i - 1);
            var r = new DayPilot.Date(a).daysInMonth();
            return a.setUTCDate(Math.min(r, t.getUTCDate())),
            new DayPilot.Date(a)
        }
        ,
        DayPilot.Date.prototype.addSeconds = function(e) {
            return e ? this.addTime(1e3 * e) : this
        }
        ,
        DayPilot.Date.prototype.addTime = function(e) {
            return e ? (e instanceof DayPilot.Duration && (e = e.ticks),
            new DayPilot.Date(this.ticks + e)) : this
        }
        ,
        DayPilot.Date.prototype.addYears = function(e) {
            var t = new Date(this.ticks)
              , n = new Date(this.ticks)
              , i = this.getYear() + e
              , a = this.getMonth();
            n.setUTCDate(1),
            n.setUTCFullYear(i),
            n.setUTCMonth(a);
            var r = new DayPilot.Date(n).daysInMonth();
            return n.setUTCDate(Math.min(r, t.getUTCDate())),
            new DayPilot.Date(n)
        }
        ,
        DayPilot.Date.prototype.dayOfWeek = function() {
            return new Date(this.ticks).getUTCDay()
        }
        ,
        DayPilot.Date.prototype.dayOfWeekISO = function() {
            return new Date(this.ticks).getUTCDay() || 7
        }
        ,
        DayPilot.Date.prototype.getDayOfWeek = function() {
            return new Date(this.ticks).getUTCDay()
        }
        ,
        DayPilot.Date.prototype.getDayOfYear = function() {
            var e = this.firstDayOfYear();
            return DayPilot.DateUtil.daysDiff(e, this) + 1
        }
        ,
        DayPilot.Date.prototype.daysInMonth = function() {
            var e = new Date(this.ticks)
              , t = e.getUTCMonth() + 1
              , n = e.getUTCFullYear()
              , i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            return 2 !== t ? i[t - 1] : n % 4 !== 0 ? i[1] : n % 100 === 0 && n % 400 !== 0 ? i[1] : i[1] + 1
        }
        ,
        DayPilot.Date.prototype.daysInYear = function() {
            var e = this.getYear();
            return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366
        }
        ,
        DayPilot.Date.prototype.dayOfYear = function() {
            return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1
        }
        ,
        DayPilot.Date.prototype.equals = function(e) {
            if (null === e)
                return !1;
            if (e instanceof DayPilot.Date)
                return this === e;
            throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"
        }
        ,
        DayPilot.Date.prototype.firstDayOfMonth = function() {
            var e = new Date;
            return e.setUTCFullYear(this.getYear(), this.getMonth(), 1),
            e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
        }
        ,
        DayPilot.Date.prototype.firstDayOfYear = function() {
            var e = this.getYear()
              , t = new Date;
            return t.setUTCFullYear(e, 0, 1),
            t.setUTCHours(0),
            t.setUTCMinutes(0),
            t.setUTCSeconds(0),
            t.setUTCMilliseconds(0),
            new DayPilot.Date(t)
        }
        ,
        DayPilot.Date.prototype.firstDayOfWeek = function(e) {
            var t = this;
            if (e instanceof DayPilot.Locale)
                e = e.weekStarts;
            else if ("string" == typeof e && DayPilot.Locale.find(e)) {
                var n = DayPilot.Locale.find(e);
                e = n.weekStarts
            } else
                e = e || 0;
            for (var i = t.dayOfWeek(); i !== e; )
                t = t.addDays(-1),
                i = t.dayOfWeek();
            return new DayPilot.Date(t)
        }
        ,
        DayPilot.Date.prototype.getDay = function() {
            return new Date(this.ticks).getUTCDate()
        }
        ,
        DayPilot.Date.prototype.getDatePart = function() {
            var e = new Date(this.ticks);
            return e.setUTCHours(0),
            e.setUTCMinutes(0),
            e.setUTCSeconds(0),
            e.setUTCMilliseconds(0),
            new DayPilot.Date(e)
        }
        ,
        DayPilot.Date.prototype.getYear = function() {
            return new Date(this.ticks).getUTCFullYear()
        }
        ,
        DayPilot.Date.prototype.getHours = function() {
            return new Date(this.ticks).getUTCHours()
        }
        ,
        DayPilot.Date.prototype.getMilliseconds = function() {
            return new Date(this.ticks).getUTCMilliseconds()
        }
        ,
        DayPilot.Date.prototype.getMinutes = function() {
            return new Date(this.ticks).getUTCMinutes()
        }
        ,
        DayPilot.Date.prototype.getMonth = function() {
            return new Date(this.ticks).getUTCMonth()
        }
        ,
        DayPilot.Date.prototype.getSeconds = function() {
            return new Date(this.ticks).getUTCSeconds()
        }
        ,
        DayPilot.Date.prototype.getTotalTicks = function() {
            return this.getTime()
        }
        ,
        DayPilot.Date.prototype.getTime = function() {
            return this.ticks
        }
        ,
        DayPilot.Date.prototype.getTimePart = function() {
            var e = this.getDatePart();
            return DayPilot.DateUtil.diff(this, e)
        }
        ,
        DayPilot.Date.prototype.lastDayOfMonth = function() {
            var e = new Date(this.firstDayOfMonth().getTime())
              , t = this.daysInMonth();
            return e.setUTCDate(t),
            new DayPilot.Date(e)
        }
        ,
        DayPilot.Date.prototype.weekNumber = function() {
            var e = this.firstDayOfYear()
              , t = (this.getTime() - e.getTime()) / 864e5;
            return Math.ceil((t + e.dayOfWeek() + 1) / 7)
        }
        ,
        DayPilot.Date.prototype.weekNumberISO = function() {
            var e = !1
              , t = this.dayOfYear()
              , n = this.firstDayOfYear().dayOfWeek()
              , i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
            0 === n && (n = 7),
            0 === i && (i = 7);
            var a = 8 - n;
            4 !== n && 4 !== i || (e = !0);
            var r = Math.ceil((t - a) / 7)
              , o = r;
            return a >= 4 && (o += 1),
            o > 52 && !e && (o = 1),
            0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()),
            o
        }
        ,
        DayPilot.Date.prototype.toDateLocal = function() {
            var e = new Date(this.ticks)
              , t = new Date;
            return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()),
            t.setHours(e.getUTCHours()),
            t.setMinutes(e.getUTCMinutes()),
            t.setSeconds(e.getUTCSeconds()),
            t.setMilliseconds(e.getUTCMilliseconds()),
            t
        }
        ,
        DayPilot.Date.prototype.toDate = function() {
            return new Date(this.ticks)
        }
        ,
        DayPilot.Date.prototype.toJSON = function() {
            return this.value
        }
        ,
        DayPilot.Date.prototype.toString = function(e, t) {
            return e ? new r(e,t).print(this) : this.toStringSortable()
        }
        ,
        DayPilot.Date.prototype.toStringSortable = function() {
            return e(this.ticks)
        }
        ,
        DayPilot.Date.parse = function(e, t, n) {
            return new r(t,n).parse(e)
        }
        ;
        var a = 0;
        DayPilot.Date.today = function() {
            return new DayPilot.Date(DayPilot.DateUtil.localToday(),!0)
        }
        ,
        DayPilot.Date.now = function() {
            return new DayPilot.Date
        }
        ,
        DayPilot.Date.fromYearMonthDay = function(e, t, n) {
            t = t || 1,
            n = n || 1;
            var i = new Date(0);
            return i.setUTCFullYear(e),
            i.setUTCMonth(t - 1),
            i.setUTCDate(n),
            new DayPilot.Date(i)
        }
        ,
        DayPilot.DateUtil = {},
        DayPilot.DateUtil.fromStringSortable = function(e, t) {
            var n = function() {
                return new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" + e + "'")
            };
            if (!e)
                throw new DayPilot.Exception("Can't create DayPilot.Date from an empty string");
            var i = e.length
              , a = 10 === i
              , r = 19 === i
              , o = i > 19;
            if (!a && !r && !o)
                throw n();
            if (DayPilot.Date.Cache.Parsing[e] && !t)
                return DayPilot.Stats.cacheHitsParsing += 1,
                DayPilot.Date.Cache.Parsing[e];
            var s = e.substring(0, 4);
            if (isNaN(s))
                throw n();
            var l = e.substring(5, 7);
            if (isNaN(l))
                throw n();
            var d = e.substring(8, 10);
            if (isNaN(d))
                throw n();
            var c = new Date(0);
            if (c.setUTCFullYear(s, l - 1, d),
            a)
                return DayPilot.Date.Cache.Parsing[e] = c,
                c;
            var u = e.substring(11, 13);
            if (isNaN(u))
                throw n();
            var h = e.substring(14, 16);
            if (isNaN(h))
                throw n();
            var f = e.substring(17, 19);
            if (isNaN(f))
                throw n();
            if (c.setUTCHours(u),
            c.setUTCMinutes(h),
            c.setUTCSeconds(f),
            r)
                return DayPilot.Date.Cache.Parsing[e] = c,
                c;
            var v = e[19]
              , p = 0;
            if ("." === v) {
                var m = parseInt(e.substring(20, 23));
                if (isNaN(m))
                    throw n();
                c.setUTCMilliseconds(m),
                p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23))
            } else
                p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
            var g = new DayPilot.Date(c);
            return t || (g = g.addMinutes(-p)),
            c = g.toDate(),
            DayPilot.Date.Cache.Parsing[e] = c,
            c
        }
        ,
        DayPilot.DateUtil.getTzOffsetMinutes = function(e) {
            if (DayPilot.Util.isNullOrUndefined(e) || "" === e)
                return 0;
            if ("Z" === e)
                return 0;
            var t = e[0]
              , n = parseInt(e.substring(1, 3))
              , i = parseInt(e.substring(4))
              , a = 60 * n + i;
            if ("-" === t)
                return -a;
            if ("+" === t)
                return a;
            throw "Invalid timezone spec: " + e
        }
        ,
        DayPilot.DateUtil.hasTzSpec = function(e) {
            return !!e.indexOf("+") || !!e.indexOf("-")
        }
        ,
        DayPilot.DateUtil.daysDiff = function(e, t) {
            if (e && t || function() {
                throw "two parameters required"
            }(),
            e = new DayPilot.Date(e),
            t = new DayPilot.Date(t),
            e.getTime() > t.getTime())
                return null;
            for (var n = 0, i = e.getDatePart(), a = t.getDatePart(); i.getTime() < a.getTime(); )
                i = i.addDays(1),
                n++;
            return n
        }
        ,
        DayPilot.DateUtil.daysSpan = function(e, t) {
            if (e && t || function() {
                throw "two parameters required"
            }(),
            e = new DayPilot.Date(e),
            t = new DayPilot.Date(t),
            e.getTime() === t.getTime())
                return 0;
            var n = DayPilot.DateUtil.daysDiff(e, t);
            return t.getTime() === t.getDatePart().getTime() && n--,
            n
        }
        ,
        DayPilot.DateUtil.diff = function(e, t) {
            if (!(e && t && e.getTime && t.getTime))
                throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
            return e.getTime() - t.getTime()
        }
        ,
        DayPilot.DateUtil.fromLocal = function(e) {
            e || (e = new Date);
            var t = new Date;
            return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
            t.setUTCHours(e.getHours()),
            t.setUTCMinutes(e.getMinutes()),
            t.setUTCSeconds(e.getSeconds()),
            t.setUTCMilliseconds(e.getMilliseconds()),
            t
        }
        ,
        DayPilot.DateUtil.localToday = function() {
            var e = new Date;
            return e.setHours(0),
            e.setMinutes(0),
            e.setSeconds(0),
            e.setMilliseconds(0),
            e
        }
        ,
        DayPilot.DateUtil.hours = function(e, t) {
            var n = e.getUTCMinutes();
            n < 10 && (n = "0" + n);
            var i = e.getUTCHours();
            if (t) {
                var a = i < 12
                  , i = i % 12;
                0 === i && (i = 12);
                return i + ":" + n + " " + (a ? "AM" : "PM")
            }
            return i + ":" + n
        }
        ,
        DayPilot.DateUtil.max = function(e, t) {
            return e.getTime() > t.getTime() ? e : t
        }
        ,
        DayPilot.DateUtil.min = function(e, t) {
            return e.getTime() < t.getTime() ? e : t
        }
        ;
        var r = function(e, n) {
            "string" == typeof n && (n = DayPilot.Locale.find(n));
            var n = n || DayPilot.Locale.US
              , i = [{
                "seq": "yyyy",
                "expr": "[0-9]{4,4}",
                "str": function(e) {
                    return e.getYear()
                }
            }, {
                "seq": "yy",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    return e.getYear() % 100
                },
                "transform": function(e) {
                    return parseInt(e) + 2e3
                }
            }, {
                "seq": "mm",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getMinutes();
                    return t < 10 ? "0" + t : t
                }
            }, {
                "seq": "m",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getMinutes()
                }
            }, {
                "seq": "HH",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getHours();
                    return t < 10 ? "0" + t : t
                }
            }, {
                "seq": "H",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getHours()
                }
            }, {
                "seq": "hh",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getHours()
                      , t = t % 12;
                    0 === t && (t = 12);
                    var n = t;
                    return n < 10 ? "0" + n : n
                }
            }, {
                "seq": "h",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    var t = e.getHours()
                      , t = t % 12;
                    return 0 === t && (t = 12),
                    t
                }
            }, {
                "seq": "ss",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getSeconds();
                    return t < 10 ? "0" + t : t
                }
            }, {
                "seq": "s",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getSeconds()
                }
            }, {
                "seq": "MMMM",
                "expr": "[^\\s0-9]*",
                "str": function(e) {
                    return n.monthNames[e.getMonth()]
                },
                "transform": function(e) {
                    var i = DayPilot.indexOf(n.monthNames, e, t);
                    return i < 0 ? null : i + 1
                }
            }, {
                "seq": "MMM",
                "expr": "[^\\s0-9]*",
                "str": function(e) {
                    return n.monthNamesShort[e.getMonth()]
                },
                "transform": function(e) {
                    var i = DayPilot.indexOf(n.monthNamesShort, e, t);
                    return i < 0 ? null : i + 1
                }
            }, {
                "seq": "MM",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getMonth() + 1;
                    return t < 10 ? "0" + t : t
                }
            }, {
                "seq": "M",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getMonth() + 1
                }
            }, {
                "seq": "dddd",
                "expr": "[^\\s0-9]*",
                "str": function(e) {
                    return n.dayNames[e.getDayOfWeek()]
                }
            }, {
                "seq": "ddd",
                "expr": "[^\\s0-9]*",
                "str": function(e) {
                    return n.dayNamesShort[e.getDayOfWeek()]
                }
            }, {
                "seq": "dd",
                "expr": "[0-9]{2,2}",
                "str": function(e) {
                    var t = e.getDay();
                    return t < 10 ? "0" + t : t
                }
            }, {
                "seq": "%d",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getDay()
                }
            }, {
                "seq": "d",
                "expr": "[0-9]{1,2}",
                "str": function(e) {
                    return e.getDay()
                }
            }, {
                "seq": "tt",
                "expr": "(AM|PM|am|pm)",
                "str": function(e) {
                    return e.getHours() < 12 ? "AM" : "PM"
                },
                "transform": function(e) {
                    return e.toUpperCase()
                }
            }]
              , a = function(e) {
                return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
            };
            this.init = function() {
                this.year = this.findSequence("yyyy") || this.findSequence("yy"),
                this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M"),
                this.day = this.findSequence("dd") || this.findSequence("d"),
                this.hours = this.findSequence("HH") || this.findSequence("H"),
                this.minutes = this.findSequence("mm") || this.findSequence("m"),
                this.seconds = this.findSequence("ss") || this.findSequence("s"),
                this.ampm = this.findSequence("tt"),
                this.hours12 = this.findSequence("hh") || this.findSequence("h")
            }
            ,
            this.findSequence = function(t) {
                function n(e) {
                    return parseInt(e)
                }
                return e.indexOf(t) === -1 ? null : {
                    "findValue": function(r) {
                        for (var o = a(e), s = null, l = 0; l < i.length; l++) {
                            var d = (i[l].length,
                            t === i[l].seq)
                              , c = i[l].expr;
                            d && (c = "(" + c + ")",
                            s = i[l].transform),
                            o = o.replace(i[l].seq, c)
                        }
                        o = "^" + o + "$";
                        try {
                            var u = new RegExp(o)
                              , h = u.exec(r);
                            return h ? (s = s || n)(h[1]) : null
                        } catch (e) {
                            throw "unable to create regex from: " + o
                        }
                    }
                }
            }
            ,
            this.print = function(t) {
                for (var n = function(e) {
                    for (var t = 0; t < i.length; t++)
                        if (i[t] && i[t].seq === e)
                            return i[t];
                    return null
                }, a = e.length <= 0, r = 0, o = []; !a; ) {
                    var s = e.substring(r)
                      , l = /%?(.)\1*/.exec(s);
                    if (l && l.length > 0) {
                        var d = l[0]
                          , c = n(d);
                        c ? o.push(c) : o.push(d),
                        r += d.length,
                        a = e.length <= r
                    } else
                        a = !0
                }
                for (var u = 0; u < o.length; u++) {
                    var h = o[u];
                    "string" != typeof h && (o[u] = h.str(t))
                }
                return o.join("")
            }
            ,
            this.parse = function(e) {
                var t = this.year.findValue(e);
                if (!t)
                    return null;
                var n = this.month.findValue(e);
                if (DayPilot.Util.isNullOrUndefined(n))
                    return null;
                if (n > 12 || n < 1)
                    return null;
                var i = this.day.findValue(e)
                  , a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth();
                if (i < 1 || i > a)
                    return null;
                var r = this.hours ? this.hours.findValue(e) : 0
                  , o = this.minutes ? this.minutes.findValue(e) : 0
                  , s = this.seconds ? this.seconds.findValue(e) : 0
                  , l = this.ampm ? this.ampm.findValue(e) : null;
                if (this.ampm && this.hours12) {
                    var d = this.hours12.findValue(e);
                    if (d < 1 || d > 12)
                        return null;
                    r = "PM" === l ? 12 === d ? 12 : d + 12 : 12 === d ? 0 : d
                }
                if (r < 0 || r > 23)
                    return null;
                if (o < 0 || o > 59)
                    return null;
                if (s < 0 || s > 59)
                    return null;
                var c = new Date;
                return c.setUTCFullYear(t, n - 1, i),
                c.setUTCHours(r),
                c.setUTCMinutes(o),
                c.setUTCSeconds(s),
                c.setUTCMilliseconds(0),
                new DayPilot.Date(c)
            }
            ,
            this.init()
        };
        DayPilot.ColorUtil = {},
        DayPilot.ColorUtil.hexToRgb = function(e) {
            if (!/^#[0-9a-f]{6}$/i.test(e))
                throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");
            return e = e.replace("#", ""),
            {
                r: parseInt(e.substring(0, 2), 16),
                g: parseInt(e.substring(2, 4), 16),
                b: parseInt(e.substring(4, 6), 16)
            }
        }
        ,
        DayPilot.ColorUtil.rgbToHex = function(e) {
            return "#" + n(e.r) + n(e.g) + n(e.b)
        }
        ,
        DayPilot.ColorUtil.adjustLuminance = function(e, t) {
            return {
                r: e.r + t,
                g: e.g + t,
                b: e.b + t
            }
        }
        ,
        DayPilot.ColorUtil.darker = function(e, t) {
            var n = "";
            9 === e.length && (n = e.slice(7, 9),
            e = e.slice(0, 7));
            var i = DayPilot.ColorUtil.hexToRgb(e);
            "number" != typeof t && (t = 1);
            var a = 17
              , r = Math.round(t * a)
              , o = DayPilot.ColorUtil.adjustLuminance(i, -r);
            return DayPilot.ColorUtil.rgbToHex(o) + n
        }
        ,
        DayPilot.ColorUtil.lighter = function(e, t) {
            return "number" != typeof t && (t = 1),
            DayPilot.ColorUtil.darker(e, -t)
        }
        ,
        DayPilot.ColorUtil.pl = function(e) {
            var t = DayPilot.ColorUtil.hexToRgb(e)
              , n = t.r / 255
              , i = t.g / 255
              , a = t.b / 255;
            return Math.sqrt(.299 * n * n + .587 * i * i + .114 * a * a)
        }
        ,
        DayPilot.ColorUtil.contrasting = function(e, t, n) {
            var i = DayPilot.ColorUtil.pl(e);
            return t = t || "#ffffff",
            n = n || "#000000",
            i > .5 ? n : t
        }
        ,
        DayPilot.Canvas = function(e, t, n, i, a) {
            function r(e, t, n) {
                for (var i = t.split(" "), a = [], r = i[0], o = 1; o < i.length; o++) {
                    var s = i[o];
                    e.measureText(r + " " + s).width < n ? r += " " + s : (a.push(r),
                    r = s)
                }
                return a.push(r),
                a
            }
            var i = i || 1
              , s = document.createElement("canvas");
            s.width = e * i,
            s.height = t * i;
            var l = s.getContext("2d");
            l.scale(i, i),
            this.defaultFileName = "image.png",
            "image/jpeg" === n && (this.defaultFileName = "image.jpg",
            a = a || .92),
            this.groupStart = function(e) {}
            ,
            this.groupEnd = function() {}
            ,
            this.fillRect = function(e, t) {
                l.save(),
                l.strokeStyle = "rgb(0,0,0,0)",
                l.fillStyle = t,
                l.fillRect(e.x, e.y, e.w, e.h),
                l.restore()
            }
            ,
            this.rect = function(e, t) {
                l.save(),
                l.strokeStyle = t,
                l.beginPath(),
                l.rect(e.x + .5, e.y + .5, e.w - 1, e.h - 1),
                l.stroke(),
                l.restore()
            }
            ,
            this.diamond = function(e, t) {
                l.save(),
                l.strokeStyle = "rgb(0,0,0,0)",
                l.fillStyle = t,
                l.beginPath(),
                l.moveTo(e.x + e.w / 2, e.y + .5),
                l.lineTo(e.x + e.w - .5, e.y + e.h / 2),
                l.lineTo(e.x + e.w / 2, e.y + e.h - .5),
                l.lineTo(e.x + .5, e.y + e.h / 2),
                l.closePath(),
                l.fill(),
                l.restore()
            }
            ,
            this.triangle = function(e, t, n) {
                for (n = n || 0; n < 0; )
                    n += 360;
                for (; n >= 360; )
                    n -= 360;
                switch (l.save(),
                l.strokeStyle = "rgb(0,0,0,0)",
                l.fillStyle = t,
                l.beginPath(),
                n) {
                case 0:
                    l.moveTo(e.x + e.w / 3, e.y + .5),
                    l.lineTo(e.x + e.w + .5, e.y + e.h / 2),
                    l.lineTo(e.x + e.w / 3, e.y + e.h - .5);
                    break;
                case 90:
                    l.moveTo(e.x - .5, e.y + e.h / 3),
                    l.lineTo(e.x + e.w + .5, e.y + e.h / 3),
                    l.lineTo(e.x + e.w / 2, e.y + e.h + .5);
                    break;
                case 180:
                    l.moveTo(e.x + 2 * e.w / 3, e.y + .5),
                    l.lineTo(e.x + 2 * e.w / 3, e.y + e.h),
                    l.lineTo(e.x, e.y + e.h / 2);
                    break;
                case 270:
                    l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + .5),
                    l.lineTo(e.x + e.w - .5, e.y + 2 * e.h / 3),
                    l.lineTo(e.x, e.y + 2 * e.h / 3);
                    break;
                default:
                    throw new DayPilot.Exception("Unsupported rotation angle")
                }
                l.closePath(),
                l.fill(),
                l.restore()
            }
            ,
            this.upperLeftCorner = function(e, t) {
                l.save(),
                l.strokeStyle = "rgb(0,0,0,0)",
                l.fillStyle = t,
                l.beginPath(),
                l.moveTo(e.x, e.y),
                l.lineTo(e.x + e.w, e.y),
                l.lineTo(e.x, e.y + e.h),
                l.closePath(),
                l.fill(),
                l.restore()
            }
            ,
            this.upperRightCorner = function(e, t) {
                l.save(),
                l.strokeStyle = "rgb(0,0,0,0)",
                l.fillStyle = t,
                l.beginPath(),
                l.moveTo(e.x, e.y),
                l.lineTo(e.x + e.w, e.y),
                l.lineTo(e.x + e.w, e.y + e.h),
                l.closePath(),
                l.fill(),
                l.restore()
            }
            ,
            this.textWidth = function(e, t) {
                l.save(),
                l.font = t.style + " " + t.size + " " + t.family;
                var n = l.measureText(e).width + 1;
                return l.restore(),
                n
            }
            ,
            this.text = function(e, t, n, i, a, o, s, d) {
                if (t) {
                    if ("number" == typeof t && (t = "" + t),
                    "string" != typeof t)
                        throw "String expected, supplied: " + typeof t;
                    a = a || "left",
                    o = o || 0,
                    i = i || "#000",
                    s = s || "top",
                    l.save();
                    var c = DayPilot.Util.fontHeight(n)
                      , u = DayPilot.browser.ff ? 3 : 0;
                    u += .2 * c,
                    u += DayPilot.browser.chrome ? 1 : 0,
                    l.beginPath(),
                    l.rect(e.x + .5 + o, e.y + .5 + o, e.w - 1 - o, e.h - 1 - o),
                    l.clip(),
                    l.fillStyle = i,
                    l.font = n.style + " " + n.size + " " + n.family,
                    l.textBaseline = "top",
                    l.textAlign = a;
                    var h = e.x;
                    switch (a) {
                    case "left":
                        h += o;
                        break;
                    case "center":
                        h += e.w / 2;
                        break;
                    case "right":
                        h += e.w - o
                    }
                    var f = 1.2 * c
                      , v = t.split("\n")
                      , p = [];
                    DayPilot.list(v).forEach(function(t) {
                        if (d) {
                            var n = r(l, t, e.w);
                            DayPilot.list(n).forEach(function(e) {
                                p.push(e)
                            })
                        } else
                            p.push(t)
                    });
                    var m = f - c
                      , g = f * p.length - m
                      , b = e.h - 2 * o
                      , y = e.y + o;
                    switch (s) {
                    case "top":
                        y += u;
                        break;
                    case "center":
                        y += (b - g) / 2 + .1 * c;
                        break;
                    case "bottom":
                        y += b - g
                    }
                    for (var w = 0; w < p.length; w++) {
                        var x = p[w];
                        l.fillText(x, h, y),
                        y += f
                    }
                    l.restore()
                }
            }
            ,
            this.line = function(e, t, n, i, a) {
                l.save(),
                l.lineWidth = 1,
                l.strokeStyle = a,
                l.beginPath(),
                l.moveTo(e + .5, t + .5),
                l.lineTo(n + .5, i + .5),
                l.stroke(),
                l.restore()
            }
            ,
            this.image = function(e, t) {
                if (t) {
                    if ("string" == typeof t) {
                        var n = t
                          , t = document.createElement("img");
                        if (0 !== n.indexOf("data:"),
                        !0)
                            return t.onload = function() {
                                l.save(),
                                l.drawImage(t, e.x, e.y),
                                l.restore()
                            }
                            ,
                            void (t.src = n);
                        t.src = n
                    }
                    l.save(),
                    l.drawImage(t, e.x, e.y),
                    l.restore()
                }
            }
            ,
            this.symbol = function(e, t, n) {
                var i = "http://www.w3.org/2000/svg"
                  , a = document.createElementNS(i, "svg")
                  , r = this;
                n = n || {};
                var s = n.color;
                new o(t).l().then(function(t) {
                    if (s) {
                        var n = document.createElementNS(i, "style");
                        n.innerHTML = "svg { color: " + s + "; }",
                        a.appendChild(n)
                    }
                    a.setAttribute("viewBox", t.getAttribute("viewBox")),
                    a.setAttribute("width", e.w),
                    a.setAttribute("height", e.h);
                    var o = document.createElementNS(i, "g");
                    o.innerHTML = t.innerHTML,
                    a.appendChild(o);
                    var l = (new XMLSerializer).serializeToString(a)
                      , d = "data:image/svg+xml;base64," + btoa(l);
                    r.image(e, d)
                })
            }
            ,
            this.getWidth = function() {
                return s.width
            }
            ,
            this.getHeight = function() {
                return s.height
            }
            ,
            this.getElement = function() {
                return s
            }
            ,
            this.getSource = function() {
                return "<img src='" + s.toDataURL(n, a) + "' />"
            }
            ,
            this.getDataUri = function() {
                return s.toDataURL(n, a)
            }
            ,
            this.getDefaultFileName = function() {
                return this.defaultFileName
            }
            ,
            this.getBlob = function() {
                return s.msToBlob ? s.msToBlob() : DayPilot.Util.dataUriToBlob(this.getDataUri())
            }
        }
        ,
        DayPilot.Svg = function(e, t) {
            function n(e, t) {
                var n = document.createElementNS(a, "clipPath");
                n.id = "clip" + DayPilot.guid();
                var i = document.createElementNS(a, "rect");
                i.setAttribute("x", 0),
                i.setAttribute("y", 0),
                i.setAttribute("width", e),
                i.setAttribute("height", t),
                n.appendChild(i),
                s.defs.appendChild(n);
                var o = document.createElementNS(a, "g");
                o.setAttribute("clip-path", "url(#" + n.id + ")"),
                r.appendChild(o),
                r = o
            }
            function i(e, t) {
                var n = null;
                if (e) {
                    if ("string" == typeof e) {
                        if (0 === e.indexOf("data:")) {
                            var i = {};
                            i.dataUri = e,
                            t(i)
                        }
                        n = e
                    } else
                        n = e.src;
                    var e = document.createElement("img");
                    e.onload = function() {
                        var e = document.createElement("canvas");
                        e.width = this.naturalWidth,
                        e.height = this.naturalHeight,
                        e.getContext("2d").drawImage(this, 0, 0);
                        var n = {};
                        n.dataUri = e.toDataURL("image/png"),
                        t(n)
                    }
                    ,
                    e.src = n
                }
            }
            var a = "http://www.w3.org/2000/svg"
              , r = document.createElementNS(a, "svg")
              , s = this;
            this.m = r,
            this.groups = [],
            r.outerHTML && r.setAttribute("xmlns", a),
            r.setAttribute("viewBox", "0 0 " + e + " " + t);
            var l = document.createElementNS(a, "defs");
            r.appendChild(l),
            s.defs = l,
            n(e, t),
            this.defaultFileName = "image.svg",
            this.groupStart = function(e) {
                var t = document.createElementNS(a, "g");
                for (var n in e)
                    t.setAttribute("data-" + n, e[n]);
                r = t,
                this.group && this.groups.push(this.group),
                this.group = t
            }
            ,
            this.groupEnd = function() {
                if (!this.group)
                    throw new DayPilot.Exception("SVG export = group not open");
                var e = this.group;
                this.group = this.groups.pop(),
                r = this.group,
                r || (r = this.m),
                r.appendChild(e)
            }
            ,
            this.fillRect = function(e, t) {
                var n = document.createElementNS(a, "rect");
                n.setAttribute("x", e.x),
                n.setAttribute("y", e.y),
                n.setAttribute("width", e.w),
                n.setAttribute("height", e.h),
                n.setAttribute("fill", t),
                r.appendChild(n)
            }
            ,
            this.diamond = function(e, t) {
                var n = document.createElementNS(a, "path")
                  , i = "";
                i += "M " + (e.x + e.w / 2) + " " + e.y,
                i += " ",
                i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2),
                i += " ",
                i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h),
                i += " ",
                i += "L " + e.x + " " + (e.y + e.h / 2),
                i += " Z",
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n)
            }
            ,
            this.triangle = function(e, t, n) {
                var i = document.createElementNS(a, "path")
                  , o = "";
                o += "M " + (e.x + e.w / 3) + " " + e.y,
                o += " ",
                o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2),
                o += " ",
                o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h),
                o += " Z",
                i.setAttribute("d", o),
                i.setAttribute("fill", t),
                "number" == typeof n && i.setAttribute("transform", "rotate(" + n + "," + (e.x + e.w / 2) + "," + (e.y + e.h / 2) + ")"),
                r.appendChild(i)
            }
            ,
            this.upperLeftCorner = function(e, t) {
                var n = document.createElementNS(a, "path")
                  , i = "";
                i += "M " + e.x + " " + e.y,
                i += " ",
                i += "L " + (e.x + e.w) + " " + e.y,
                i += " ",
                i += "L " + e.x + " " + (e.y + e.h),
                i += " Z",
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n)
            }
            ,
            this.upperRightCorner = function(e, t) {
                var n = document.createElementNS(a, "path")
                  , i = "";
                i += "M " + e.x + " " + e.y,
                i += " ",
                i += "L " + (e.x + e.w) + " " + e.y,
                i += " ",
                i += "L " + (e.x + e.w) + " " + (e.y + e.h),
                i += " Z",
                n.setAttribute("d", i),
                n.setAttribute("fill", t),
                r.appendChild(n)
            }
            ,
            this.rect = function(e, t) {
                if (!(e.w <= 0 || e.h <= 0)) {
                    var n = document.createElementNS(a, "rect");
                    n.setAttribute("x", e.x + .5),
                    n.setAttribute("y", e.y + .5),
                    n.setAttribute("width", e.w - 1),
                    n.setAttribute("height", e.h - 1),
                    n.setAttribute("stroke", t),
                    n.setAttribute("stroke-width", "1"),
                    n.setAttribute("fill", "transparent"),
                    r.appendChild(n)
                }
            }
            ,
            this.text = function(e, t, n, i, o, l, d, c) {
                function u(e, t, o) {
                    var s = document.createElementNS(a, "text");
                    s.setAttribute("fill", i),
                    s.setAttribute("font-family", n.family),
                    s.setAttribute("font-size", n.size),
                    s.setAttribute("font-style", f),
                    s.setAttribute("font-weight", v),
                    s.setAttribute("x", t),
                    s.setAttribute("y", o),
                    s.setAttribute("dy", "0.8em"),
                    s.setAttribute("text-anchor", g),
                    s.setAttribute("clip-path", "url(#" + b.id + ")");
                    var l = document.createTextNode(e);
                    return s.appendChild(l),
                    r.appendChild(s),
                    s
                }
                function h(e, t) {
                    var n = e.textContent
                      , i = n.split("\n")
                      , r = []
                      , o = document.createElementNS(a, "svg")
                      , s = e.cloneNode(!0);
                    o.appendChild(s),
                    o.style.position = "absolute",
                    o.style.left = "-10000px",
                    o.style.top = "-10000px",
                    document.body.appendChild(o);
                    for (var l = 0; l < i.length; l++) {
                        for (var d, c = i[l], u = c.split(/\s+/).reverse(), h = []; d = u.pop(); )
                            h.push(d),
                            s.textContent = h.join(" "),
                            s.getComputedTextLength() > t && (h.pop(),
                            r.push(h.join(" ")),
                            h = [d]);
                        r.push(h.join(" "))
                    }
                    e.textContent = "",
                    document.body.removeChild(o);
                    for (var f = e.getAttribute("x") || 0, v = 0; v < r.length; v++) {
                        var p = document.createElementNS(a, "tspan");
                        p.textContent = r[v],
                        p.setAttribute("x", f),
                        v > 0 && p.setAttribute("dy", w),
                        e.appendChild(p)
                    }
                    return r
                }
                if (t) {
                    if ("number" == typeof t && (t = "" + t),
                    "string" != typeof t)
                        throw "String expected, supplied: " + typeof t;
                    if (!(e.w < 0)) {
                        o = o || "left",
                        l = l || 0,
                        d = d || "top";
                        var f = n.style;
                        f.indexOf("italic") !== -1 && (f = "bold");
                        var v = n.style;
                        if (n.style)
                            var p = 3;
                        var m = e.x
                          , g = "start";
                        switch (o) {
                        case "center":
                            m += e.w / 2,
                            g = "middle";
                            break;
                        case "right":
                            m += e.w,
                            g = "end"
                        }
                        var b = document.createElementNS(a, "clipPath");
                        b.id = "clip" + DayPilot.guid();
                        var y = document.createElementNS(a, "rect");
                        y.setAttribute("x", e.x),
                        y.setAttribute("y", e.y),
                        y.setAttribute("width", e.w),
                        y.setAttribute("height", e.h),
                        b.appendChild(y),
                        s.defs.appendChild(b);
                        var w = DayPilot.Util.fontHeight(n)
                          , x = 1.1 * w
                          , k = e.y + l
                          , C = x - w
                          , S = u(t, m + l, k)
                          , _ = t.split("\n");
                        c && e.w > 0 && (_ = h(S, e.w - 2 * l));
                        var E = x * _.length - C
                          , T = e.h - 2 * l;
                        switch (d) {
                        case "top":
                            k += p;
                            break;
                        case "center":
                            k += (T - E) / 2 + .1 * w;
                            break;
                        case "bottom":
                            k += T - E
                        }
                        S.setAttribute("y", k)
                    }
                }
            }
            ,
            this.line = function(e, t, n, i, o) {
                var s = document.createElementNS(a, "line");
                s.setAttribute("x1", e + .5),
                s.setAttribute("y1", t + .5),
                s.setAttribute("x2", n + .5),
                s.setAttribute("y2", i + .5),
                s.setAttribute("stroke", o),
                r.appendChild(s)
            }
            ,
            this.image = function(e, t) {
                function n(t) {
                    var n = document.createElementNS(a, "image");
                    n.setAttribute("href", t.dataUri),
                    n.setAttribute("x", e.x),
                    n.setAttribute("y", e.y),
                    n.setAttribute("width", e.w),
                    n.setAttribute("height", e.h),
                    o.appendChild(n)
                }
                var o = document.createElementNS(a, "g");
                r.appendChild(o),
                i(t, n)
            }
            ,
            this.symbol = function(e, t, n) {
                var i = "http://www.w3.org/2000/svg"
                  , a = document.createElementNS(i, "symbol")
                  , s = this;
                n = n || {};
                var l = n.color;
                new o(t).l().then(function(t) {
                    if (l) {
                        var n = document.createElementNS(i, "style");
                        n.innerHTML = "svg { color: " + l + "; }",
                        a.appendChild(n)
                    }
                    var o = DayPilot.guid();
                    a.setAttribute("viewBox", t.getAttribute("viewBox")),
                    a.setAttribute("width", e.w),
                    a.setAttribute("height", e.h),
                    a.setAttribute("id", o);
                    var d = document.createElementNS(i, "g");
                    d.innerHTML = t.innerHTML,
                    a.appendChild(d),
                    s.m.appendChild(a);
                    var c = document.createElementNS(i, "use");
                    c.setAttribute("href", "#" + o),
                    c.setAttribute("x", e.x),
                    c.setAttribute("y", e.y),
                    r.appendChild(c)
                })
            }
            ,
            this.n = {},
            this.textWidth = function(e, t) {
                var n = "#" + e + "#" + JSON.stringify(t)
                  , i = this.n[n];
                if ("number" == typeof i)
                    return i;
                var a = "http://www.w3.org/2000/svg"
                  , r = document.createElementNS(a, "svg");
                r.style.position = "absolute",
                r.style.left = "-10000px",
                r.style.width = "100px",
                r.outerHTML && r.setAttribute("xmlns", a),
                r.setAttribute("viewBox", "0 0 100 100");
                var o = document.createElementNS(a, "text");
                o.setAttribute("font-family", t.family),
                o.setAttribute("font-size", t.size),
                o.setAttribute("font-style", t.style),
                o.setAttribute("x", 0),
                o.setAttribute("y", 0),
                o.setAttribute("dy", "1em");
                var s = document.createTextNode(e);
                o.appendChild(s),
                r.appendChild(o),
                document.body.appendChild(r);
                var l = o.getComputedTextLength();
                return this.n[n] = l,
                document.body.removeChild(r),
                l
            }
            ,
            this.getWidth = function() {
                return e
            }
            ,
            this.getHeight = function() {
                return t
            }
            ,
            this.getElement = function() {
                return this.m
            }
            ,
            this.getSource = function() {
                if (this.m.outerHTML)
                    return this.m.outerHTML;
                var e = document.createElement("div")
                  , t = this.m.cloneNode(!0);
                return e.appendChild(t),
                e.innerHTML
            }
            ,
            this.getDataUri = function() {
                return "data:application/octet-stream," + encodeURIComponent(this.getSource())
            }
            ,
            this.getDefaultFileName = function() {
                return this.defaultFileName
            }
            ,
            this.getBlob = function() {
                return new Blob([this.getSource()])
            }
        }
        ,
        DayPilot.Excel = function() {
            var e = this
              , t = null
              , n = null
              , i = null
              , a = {};
            a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet",
            a.o = "urn:schemas-microsoft-com:office:office",
            a.x = "urn:schemas-microsoft-com:office:excel",
            a.ss = "urn:schemas-microsoft-com:office:spreadsheet",
            a.html = "http://www.w3.org/TR/REC-html40",
            this.init = function() {
                t = document.implementation.createDocument(a.xmlns, "Workbook", null),
                t.documentElement.setAttribute("xmlns:o", a.o),
                t.documentElement.setAttribute("xmlns:x", a.x),
                t.documentElement.setAttribute("xmlns:ss", a.ss),
                t.documentElement.setAttribute("xmlns:html", a.html);
                var r = t.createElement("x:ExcelWorkbook");
                t.documentElement.appendChild(r),
                n = t.createElement("ss:Styles"),
                t.documentElement.appendChild(n),
                i = e.styles.create(),
                i.setId("Default"),
                i.setName("Normal")
            }
            ,
            this.worksheets = [],
            this.worksheets.create = function(t) {
                var n = e.el(a.ss, "Worksheet")
                  , i = new r(n);
                return i.setName(t),
                this.push(i),
                i
            }
            ,
            this.styles = [],
            this.styles.create = function(e) {
                var i = t.createElement("ss:Style");
                n.appendChild(i);
                var a = new o(i);
                return this.push(a),
                a
            }
            ,
            this.styles.getDefault = function() {
                return i
            }
            ,
            this.el = function(e, n) {
                var i = t.createElementNS(e, n);
                return t.documentElement.appendChild(i),
                i
            }
            ,
            this.getSource = function() {
                return '<?xml version="1.0"?>' + (new XMLSerializer).serializeToString(t)
            }
            ,
            this.getDataUri = function() {
                return "data:application/vnd.ms-excel," + encodeURIComponent(this.getSource())
            }
            ,
            this.getElement = function() {
                return t
            }
            ,
            this.getDefaultFileName = function() {
                return "spreadsheet.xls"
            }
            ,
            this.getBlob = function() {
                return new Blob([this.getSource()])
            }
            ;
            var r = function(e) {
                var n = t.createElement("Table");
                e.appendChild(n);
                var i = t.createElement("x:WorksheetOptions");
                e.appendChild(i),
                this.rows = [],
                this.setName = function(t) {
                    e.setAttribute("ss:Name", t)
                }
                ,
                this.cell = function(e, i) {
                    for (; i >= this.rows.length; ) {
                        var r = t.createElement("Row");
                        n.appendChild(r),
                        this.rows.push(new a(r))
                    }
                    return this.rows[i].cell(e)
                }
                ,
                this.enableGridlines = function(e) {
                    var n = DayPilot.list(i.childNodes).find(function(e) {
                        return "x:DoNotDisplayGridlines" === e.tagName
                    });
                    if (!n && !e) {
                        var a = t.createElement("x:DoNotDisplayGridlines");
                        i.appendChild(a)
                    }
                    n && e && i.removeChild(n)
                }
                ;
                var a = function(e) {
                    this.cells = [],
                    this.getElement = function() {
                        return e
                    }
                    ,
                    this.cell = function(i) {
                        for (; i >= this.cells.length; ) {
                            var a = t.createElement("Cell");
                            e.appendChild(a),
                            this.cells.push(new n(a))
                        }
                        return this.cells[i]
                    }
                    ;
                    var n = function(e) {
                        this.setText = function(n) {
                            var i = t.createElement("Data");
                            i.setAttribute("ss:Type", "String");
                            var a = t.createTextNode(n);
                            for (i.appendChild(a); e.firstChild; )
                                e.removeChild(e.firstChild);
                            return e.appendChild(i),
                            this
                        }
                        ,
                        this.setColspan = function(t) {
                            return t > 1 ? e.setAttribute("ss:MergeAcross", t - 1) : e.removeAttribute("ss:MergeAcross"),
                            this
                        }
                        ,
                        this.setRowspan = function(t) {
                            return t > 1 ? e.setAttribute("ss:MergeDown", t - 1) : e.removeAttribute("ss:MergeDown"),
                            this
                        }
                        ,
                        this.setStyle = function(t) {
                            if (!(t instanceof o))
                                throw "Invalid argument, Style expected";
                            return e.setAttribute("ss:StyleID", t.getId()),
                            this
                        }
                    }
                }
            }
              , o = function(e) {
                var n = DayPilot.guid();
                e.setAttribute("ss:ID", n);
                var i = t.createElement("ss:Alignment");
                e.appendChild(i);
                var a = t.createElement("ss:Interior");
                e.appendChild(a);
                var r = t.createElement("ss:Borders");
                e.appendChild(r),
                this.setHorizontalAlignment = function(e) {
                    i.setAttribute("ss:Horizontal", e)
                }
                ,
                this.setVerticalAlignment = function(e) {
                    i.setAttribute("ss:Vertical", e)
                }
                ,
                this.setBackColor = function(e) {
                    var t = DayPilot.Util.normalizeColor(e);
                    a.setAttribute("ss:Color", t),
                    a.setAttribute("ss:Pattern", "Solid")
                }
                ,
                this.setBorderColor = function(e) {
                    function n(e, n) {
                        var i = t.createElement("ss:Border");
                        return i.setAttribute("ss:Position", e),
                        i.setAttribute("ss:LineStyle", "Continuous"),
                        i.setAttribute("ss:Color", DayPilot.Util.normalizeColor(n)),
                        i
                    }
                    this.clearBorders();
                    var i = n("Left", e);
                    r.appendChild(i);
                    var a = n("Right", e);
                    r.appendChild(a);
                    var o = n("Top", e);
                    r.appendChild(o);
                    var s = n("Bottom", e);
                    r.appendChild(s)
                }
                ,
                this.clearBorders = function() {
                    for (; r.firstChild; )
                        r.removeChild(r.firstChild)
                }
                ,
                this.getId = function() {
                    return n
                }
                ,
                this.setId = function(t) {
                    n = t,
                    e.setAttribute("ss:ID", n)
                }
                ,
                this.setName = function(t) {
                    e.setAttribute("ss:Name", t)
                }
            };
            this.init()
        }
        ,
        DayPilot.Export = function(e) {
            this.toElement = function() {
                return e.getElement()
            }
            ,
            this.dimensions = function() {
                return {
                    "width": e.getWidth(),
                    "height": e.getHeight()
                }
            }
            ,
            this.toHtml = function() {
                return e.getSource()
            }
            ,
            this.toDataUri = function() {
                return e.getDataUri()
            }
            ,
            this.toBlob = function() {
                return e.getBlob()
            }
            ,
            this.print = function(t) {
                t = t || {},
                t.orientation = t.orientation || "portrait";
                var n = document.createElement("iframe");
                n.setAttribute("width", 0),
                n.setAttribute("height", 0),
                n.setAttribute("frameborder", 0),
                n.setAttribute("src", "about:blank"),
                n.onload = function() {
                    var i = n.contentWindow.document;
                    if (i.body.appendChild(e.getElement()),
                    "landscape" === t.orientation) {
                        var a = DayPilot.sheet(i);
                        a.add("@page", "size: landscape;"),
                        a.commit()
                    }
                    n.contentWindow.document.execCommand("print", !1, null) || (n.contentWindow.focus(),
                    n.contentWindow.print()),
                    setTimeout(function() {
                        document.body.removeChild(n)
                    }, 10)
                }
                ,
                document.body.appendChild(n)
            }
            ,
            this.download = function(t) {
                var t = t || e.getDefaultFileName()
                  , n = e.getBlob();
                DayPilot.Util.downloadBlob(n, t)
            }
        }
        ,
        DayPilot.Exception = function(e) {
            return new Error(e)
        }
        ,
        DayPilot.Locale = function(e, t) {
            if (this.id = e,
            this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            this.monthNamesShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            this.datePattern = "M/d/yyyy",
            this.timePattern = "H:mm",
            this.dateTimePattern = "M/d/yyyy H:mm",
            this.timeFormat = "Clock12Hours",
            this.weekStarts = 0,
            t)
                for (var n in t)
                    this[n] = t[n]
        }
        ,
        DayPilot.Locale.all = {},
        DayPilot.Locale.find = function(e) {
            if (!e)
                return null;
            var t = e.toLowerCase();
            return t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")),
            DayPilot.Locale.all[t]
        }
        ,
        DayPilot.Locale.register = function(e) {
            DayPilot.Locale.all[e.id] = e
        }
        ,
        DayPilot.Locale.register(new DayPilot.Locale("ca-es",{
            "dayNames": ["diumenge", "dilluns", "dimarts", "dimecres", "dijous", "divendres", "dissabte"],
            "dayNamesShort": ["dg", "dl", "dt", "dc", "dj", "dv", "ds"],
            "monthNames": ["gener", "febrer", "març", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre", ""],
            "monthNamesShort": ["gen.", "febr.", "març", "abr.", "maig", "juny", "jul.", "ag.", "set.", "oct.", "nov.", "des.", ""],
            "timePattern": "H:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{
            "dayNames": ["neděle", "pondělí", "úterý", "středa", "čtvrtek", "pátek", "sobota"],
            "dayNamesShort": ["ne", "po", "út", "st", "čt", "pá", "so"],
            "monthNames": ["leden", "únor", "březen", "duben", "květen", "červen", "červenec", "srpen", "září", "říjen", "listopad", "prosinec", ""],
            "monthNamesShort": ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", ""],
            "timePattern": "H:mm",
            "datePattern": "d. M. yyyy",
            "dateTimePattern": "d. M. yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("da-dk",{
            "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"],
            "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"],
            "monthNames": ["januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december", ""],
            "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd-MM-yyyy",
            "dateTimePattern": "dd-MM-yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("de-at",{
            "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
            "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "monthNames": ["Jänner", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
            "monthNamesShort": ["Jän", "Feb", "Mär", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("de-ch",{
            "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
            "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
            "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("de-de",{
            "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
            "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
            "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("de-lu",{
            "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
            "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
            "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("en-au",{
            "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
            "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
            "timePattern": "h:mm tt",
            "datePattern": "d/MM/yyyy",
            "dateTimePattern": "d/MM/yyyy h:mm tt",
            "timeFormat": "Clock12Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("en-ca",{
            "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
            "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
            "timePattern": "h:mm tt",
            "datePattern": "yyyy-MM-dd",
            "dateTimePattern": "yyyy-MM-dd h:mm tt",
            "timeFormat": "Clock12Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("en-gb",{
            "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
            "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("en-us",{
            "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
            "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
            "timePattern": "h:mm tt",
            "datePattern": "M/d/yyyy",
            "dateTimePattern": "M/d/yyyy h:mm tt",
            "timeFormat": "Clock12Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("es-es",{
            "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"],
            "dayNamesShort": ["D", "L", "M", "X", "J", "V", "S"],
            "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""],
            "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""],
            "timePattern": "H:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("es-mx",{
            "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"],
            "dayNamesShort": ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."],
            "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""],
            "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""],
            "timePattern": "hh:mm tt",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy hh:mm tt",
            "timeFormat": "Clock12Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("eu-es",{
            "dayNames": ["igandea", "astelehena", "asteartea", "asteazkena", "osteguna", "ostirala", "larunbata"],
            "dayNamesShort": ["ig", "al", "as", "az", "og", "or", "lr"],
            "monthNames": ["urtarrila", "otsaila", "martxoa", "apirila", "maiatza", "ekaina", "uztaila", "abuztua", "iraila", "urria", "azaroa", "abendua", ""],
            "monthNamesShort": ["urt.", "ots.", "mar.", "api.", "mai.", "eka.", "uzt.", "abu.", "ira.", "urr.", "aza.", "abe.", ""],
            "timePattern": "H:mm",
            "datePattern": "yyyy/MM/dd",
            "dateTimePattern": "yyyy/MM/dd H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{
            "dayNames": ["sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai"],
            "dayNamesShort": ["su", "ma", "ti", "ke", "to", "pe", "la"],
            "monthNames": ["tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "kesäkuu", "heinäkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu", ""],
            "monthNamesShort": ["tammi", "helmi", "maalis", "huhti", "touko", "kesä", "heinä", "elo", "syys", "loka", "marras", "joulu", ""],
            "timePattern": "H:mm",
            "datePattern": "d.M.yyyy",
            "dateTimePattern": "d.M.yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fr-be",{
            "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
            "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"],
            "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
            "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd-MM-yy",
            "dateTimePattern": "dd-MM-yy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{
            "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
            "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"],
            "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
            "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm",
            "datePattern": "yyyy-MM-dd",
            "dateTimePattern": "yyyy-MM-dd HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{
            "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
            "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"],
            "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
            "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{
            "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
            "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"],
            "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
            "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{
            "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
            "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"],
            "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
            "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("gl-es",{
            "dayNames": ["domingo", "luns", "martes", "mércores", "xoves", "venres", "sábado"],
            "dayNamesShort": ["do", "lu", "ma", "mé", "xo", "ve", "sá"],
            "monthNames": ["xaneiro", "febreiro", "marzo", "abril", "maio", "xuño", "xullo", "agosto", "setembro", "outubro", "novembro", "decembro", ""],
            "monthNamesShort": ["xan", "feb", "mar", "abr", "maio", "xuño", "xul", "ago", "set", "out", "nov", "dec", ""],
            "timePattern": "H:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("it-it",{
            "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"],
            "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"],
            "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""],
            "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("it-ch",{
            "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"],
            "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"],
            "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""],
            "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{
            "dayNames": ["日曜日", "月曜日", "火曜日", "水曜日", "木曜日", "金曜日", "土曜日"],
            "dayNamesShort": ["日", "月", "火", "水", "木", "金", "土"],
            "monthNames": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""],
            "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
            "timePattern": "H:mm",
            "datePattern": "yyyy/MM/dd",
            "dateTimePattern": "yyyy/MM/dd H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("ko-kr",{
            "dayNames": ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"],
            "dayNamesShort": ["일", "월", "화", "수", "목", "금", "토"],
            "monthNames": ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월", ""],
            "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
            "timePattern": "tt h:mm",
            "datePattern": "yyyy-MM-dd",
            "dateTimePattern": "yyyy-MM-dd tt h:mm",
            "timeFormat": "Clock12Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("nb-no",{
            "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"],
            "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"],
            "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""],
            "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{
            "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"],
            "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"],
            "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""],
            "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
            "timePattern": "HH:mm",
            "datePattern": "d-M-yyyy",
            "dateTimePattern": "d-M-yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("nl-be",{
            "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"],
            "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"],
            "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""],
            "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
            "timePattern": "H:mm",
            "datePattern": "d/MM/yyyy",
            "dateTimePattern": "d/MM/yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("nn-no",{
            "dayNames": ["søndag", "måndag", "tysdag", "onsdag", "torsdag", "fredag", "laurdag"],
            "dayNamesShort": ["sø", "må", "ty", "on", "to", "fr", "la"],
            "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""],
            "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("pt-br",{
            "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"],
            "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"],
            "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""],
            "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{
            "dayNames": ["niedziela", "poniedziałek", "wtorek", "środa", "czwartek", "piątek", "sobota"],
            "dayNamesShort": ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"],
            "monthNames": ["styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień", ""],
            "monthNamesShort": ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru", ""],
            "timePattern": "HH:mm",
            "datePattern": "yyyy-MM-dd",
            "dateTimePattern": "yyyy-MM-dd HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{
            "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"],
            "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"],
            "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""],
            "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""],
            "timePattern": "HH:mm",
            "datePattern": "dd/MM/yyyy",
            "dateTimePattern": "dd/MM/yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{
            "dayNames": ["duminică", "luni", "marți", "miercuri", "joi", "vineri", "sâmbătă"],
            "dayNamesShort": ["D", "L", "Ma", "Mi", "J", "V", "S"],
            "monthNames": ["ianuarie", "februarie", "martie", "aprilie", "mai", "iunie", "iulie", "august", "septembrie", "octombrie", "noiembrie", "decembrie", ""],
            "monthNamesShort": ["ian.", "feb.", "mar.", "apr.", "mai.", "iun.", "iul.", "aug.", "sep.", "oct.", "nov.", "dec.", ""],
            "timePattern": "H:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{
            "dayNames": ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"],
            "dayNamesShort": ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
            "monthNames": ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь", ""],
            "monthNamesShort": ["янв", "фев", "мар", "апр", "май", "июн", "июл", "авг", "сен", "окт", "ноя", "дек", ""],
            "timePattern": "H:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{
            "dayNames": ["nedeľa", "pondelok", "utorok", "streda", "štvrtok", "piatok", "sobota"],
            "dayNamesShort": ["ne", "po", "ut", "st", "št", "pi", "so"],
            "monthNames": ["január", "február", "marec", "apríl", "máj", "jún", "júl", "august", "september", "október", "november", "december", ""],
            "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
            "timePattern": "H:mm",
            "datePattern": "d.M.yyyy",
            "dateTimePattern": "d.M.yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("sv-se",{
            "dayNames": ["söndag", "måndag", "tisdag", "onsdag", "torsdag", "fredag", "lördag"],
            "dayNamesShort": ["sö", "må", "ti", "on", "to", "fr", "lö"],
            "monthNames": ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december", ""],
            "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
            "timePattern": "HH:mm",
            "datePattern": "yyyy-MM-dd",
            "dateTimePattern": "yyyy-MM-dd HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{
            "dayNames": ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"],
            "dayNamesShort": ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"],
            "monthNames": ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık", ""],
            "monthNamesShort": ["Oca", "Şub", "Mar", "Nis", "May", "Haz", "Tem", "Ağu", "Eyl", "Eki", "Kas", "Ara", ""],
            "timePattern": "HH:mm",
            "datePattern": "d.M.yyyy",
            "dateTimePattern": "d.M.yyyy HH:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("uk-ua",{
            "dayNames": ["неділя", "понеділок", "вівторок", "середа", "четвер", "п'ятниця", "субота"],
            "dayNamesShort": ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
            "monthNames": ["січень", "лютий", "березень", "квітень", "травень", "червень", "липень", "серпень", "вересень", "жовтень", "листопад", "грудень", ""],
            "monthNamesShort": ["Січ", "Лют", "Бер", "Кві", "Тра", "Чер", "Лип", "Сер", "Вер", "Жов", "Лис", "Гру", ""],
            "timePattern": "H:mm",
            "datePattern": "dd.MM.yyyy",
            "dateTimePattern": "dd.MM.yyyy H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{
            "dayNames": ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
            "dayNamesShort": ["日", "一", "二", "三", "四", "五", "六"],
            "monthNames": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
            "monthNamesShort": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""],
            "timePattern": "H:mm",
            "datePattern": "yyyy/M/d",
            "dateTimePattern": "yyyy/M/d H:mm",
            "timeFormat": "Clock24Hours",
            "weekStarts": 1
        })),
        DayPilot.Locale.register(new DayPilot.Locale("zh-tw",{
            "dayNames": ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
            "dayNamesShort": ["日", "一", "二", "三", "四", "五", "六"],
            "monthNames": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
            "monthNamesShort": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
            "timePattern": "tt hh:mm",
            "datePattern": "yyyy/M/d",
            "dateTimePattern": "yyyy/M/d tt hh:mm",
            "timeFormat": "Clock12Hours",
            "weekStarts": 0
        })),
        DayPilot.Locale.US = DayPilot.Locale.find("en-us"),
        DayPilot.Switcher = function(e) {
            function t(e, t, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.day = i,
                a.target = n.t.control,
                a.preventDefault = function() {
                    this.preventDefault.value = !0
                }
                ;
                var r = n.O;
                r && r.start === a.start && r.end === a.end && r.day === a.day && r.target === a.target || (n.O = a,
                "function" == typeof n.onChange && (n.onChange(a),
                a.preventDefault.value) || "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(a),
                a.preventDefault.value) || (n.t.D(n.u),
                "function" == typeof n.onChanged && n.onChanged(a),
                "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(a)))
            }
            var n = this;
            this.p = [],
            this.q = [],
            this.s = {},
            this.selectedClass = null,
            this.t = null,
            this.u = DayPilot.Date.today(),
            this.onChange = null,
            this.onChanged = null,
            this.onSelect = null,
            this.s.updateMode = function(e) {
                var t = n.s.control;
                t && (t.selectMode = e,
                t.select(n.u))
            }
            ,
            this.addView = function(e, t) {
                var i;
                if ("string" == typeof e) {
                    if (i = document.getElementById(e),
                    !i)
                        throw "Element not found: " + e
                } else
                    i = e;
                var a = i
                  , r = {};
                return r.z = !0,
                r.A = a.id,
                r.control = a,
                r.B = t || {},
                r.C = function() {
                    a.hide ? a.hide() : a.nav && a.nav.top ? a.nav.top.style.display = "none" : a.style.display = "none"
                }
                ,
                r.D = function(e) {
                    (function() {
                        return !!a.backendUrl || !("function" != typeof WebForm_DoCallback || !a.uniqueID)
                    }
                    )() ? a.commandCallBack && a.commandCallBack("navigate", {
                        "day": e
                    }) : (a.startDate = e,
                    a.update())
                }
                ,
                r.E = function() {
                    n.F(),
                    a.show ? a.show() : a.nav && a.nav.top ? a.nav.top.style.display = "" : a.style.display = ""
                }
                ,
                r.G = function() {
                    if (r.B.navigatorSelectMode)
                        return r.B.navigatorSelectMode;
                    if (a.isCalendar)
                        switch (a.viewType) {
                        case "Day":
                            return "day";
                        case "Week":
                            return "week";
                        case "WorkWeek":
                            return "week";
                        default:
                            return "day"
                        }
                    else if (a.isMonth)
                        switch (a.viewType) {
                        case "Month":
                            return "month";
                        case "Weeks":
                            return "week";
                        default:
                            return "day"
                        }
                    return "day"
                }
                ,
                this.p.push(r),
                r
            }
            ,
            this.addTrigger = function(e, t) {
                var i;
                if ("string" == typeof e) {
                    if (i = document.getElementById(e),
                    !i)
                        throw "Element not found: " + e
                } else
                    i = e;
                var a = this.H(t);
                a || (a = this.addView(t));
                var r = {};
                return r.I = !0,
                r.J = i,
                r.A = i.id,
                r.K = a,
                r.L = function(e) {
                    n.show(r),
                    n.M(r),
                    e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1)
                }
                ,
                DayPilot.re(i, "click", r.L),
                this.q.push(r),
                r
            }
            ,
            this.addButton = this.addTrigger,
            this.select = function(e) {
                var t = this.N(e);
                t ? t.L() : this.q.length > 0 && this.q[0].L()
            }
            ,
            this.N = function(e) {
                for (var t = 0; t < this.q.length; t++) {
                    var n = this.q[t];
                    if (n.A === e)
                        return n
                }
                return null
            }
            ,
            this.M = function(e) {
                if (this.selectedClass) {
                    for (var t = 0; t < this.q.length; t++) {
                        var n = this.q[t];
                        DayPilot.Util.removeClass(n.J, this.selectedClass)
                    }
                    DayPilot.Util.addClass(e.J, this.selectedClass)
                }
            }
            ,
            this.addNavigator = function(e) {
                n.s.control = e,
                e.timeRangeSelectedHandling = "JavaScript",
                e.onTimeRangeSelected = function() {
                    var i, a, r;
                    if (1 === e.api)
                        i = arguments[0],
                        a = arguments[1],
                        r = arguments[2];
                    else {
                        var o = arguments[0];
                        i = o.start,
                        a = o.end,
                        r = o.day
                    }
                    n.u = r,
                    t(i, a, r)
                }
            }
            ,
            this.show = function(e) {
                var i, a;
                if (e.I)
                    a = e,
                    i = a.K;
                else if (i = e.z ? e : this.H(e),
                this.t === i)
                    return;
                if (n.onSelect) {
                    var r = {};
                    r.source = a ? a.J : null,
                    r.target = i.control,
                    n.onSelect(r)
                }
                this.t = i,
                i.E();
                var o = i.G();
                n.s.updateMode(o),
                t(n.s.control.selectionStart, n.s.control.selectionEnd.addDays(1), n.s.control.selectionDay)
            }
            ,
            this.H = function(e) {
                for (var t = 0; t < this.p.length; t++)
                    if (this.p[t].control === e)
                        return this.p[t];
                return null
            }
            ,
            this.F = function() {
                for (var e = 0; e < this.p.length; e++)
                    this.p[e].C()
            }
            ,
            Object.defineProperty(this, "active", {
                get: function() {
                    return n.t
                }
            }),
            this.events = {},
            this.events.load = function(e, t, i) {
                if (!n.t || !n.t.control)
                    throw "DayPilot.Switcher.events.load(): Active view not found";
                n.t.control.events.load(e, t, i)
            }
            ,
            this.O = null,
            this.P = function() {
                if (e)
                    for (var t in e)
                        if ("triggers" === t) {
                            var i = e.triggers || [];
                            i.forEach(function(e) {
                                n.addTrigger(e.id, e.view)
                            })
                        } else
                            "navigator" === t ? n.addNavigator(e.navigator) : n[t] = e[t]
            }
            ,
            this.P()
        }
        ,
        function() {
            if (!DayPilot.Global.defaultCss) {
                var e = DayPilot.sheet();
                e.add(".bubble_default_main", "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".bubble_default_main_inner", 'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),
                e.add(".bubble_default_arrow_top", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                e.add(".bubble_default_arrow_bottom", "fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"),
                e.add(".bubble_default_arrow_left", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                e.add(".bubble_default_arrow_right", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                e.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;"),
                e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;"),
                e.add(".calendar_default_colheader_back", "background: #f3f3f3; border-bottom: 1px solid red;"),
                e.add(".calendar_default_colheader_back_inner", "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"),
                e.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"),
                e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner", "border-right: 1px solid #c0c0c0;"),
                e.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"),
                e.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner", "font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),
                e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner", "border-right: none;"),
                e.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),
                e.add(".calendar_default_direction_rtl .calendar_default_corner_inner", "border-right: none;"),
                e.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),
                e.add(".calendar_default_colheader_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"),
                e.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),
                e.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff"),
                e.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),
                e.add(".calendar_default_message", "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"),
                e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", "color: #333; border: 1px solid #999;"),
                e.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"),
                e.add(".calendar_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"),
                e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;"),
                e.add(".calendar_default_alldayevent_inner", "position: absolute;top: 0px;bottom: 0px;left: 0px;right: 0px;overflow:hidden;padding: 4px;margin-right: 0px; display: flex; align-items: center;"),
                e.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;"),
                e.add(".calendar_default_event", "cursor: default;"),
                e.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px;"),
                e.add(".calendar_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                e.add(".calendar_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                e.add(".calendar_default_shadow_forbidden:after", "content:''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),
                e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                e.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),
                e.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                e.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),
                e.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),
                e.add(".calendar_default_now", "background-color: red;"),
                e.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),
                e.add(".calendar_default_shadow_top", "box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee); pointer-events: none;"),
                e.add(".calendar_default_shadow_bottom", "box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee); pointer-events: none;"),
                e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                e.add(".calendar_default_loading", "background-color: orange; color: white; padding: 2px;"),
                e.add(".calendar_default_scroll", "background-color: #f3f3f3;"),
                e.add(".calendar_default_event_moving_source", "opacity: 0.5;"),
                e.add(".calendar_default_colmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),
                e.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter", "background-color: #c0c0c0;"),
                e.add(".calendar_default_colmove_source", "background-color: black; opacity: 0.5;"),
                e.add(".calendar_default_colmove_position_before", "box-sizing: border-box; border-left: 2px solid #999999;"),
                e.add(".calendar_default_colmove_position_before:before", "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".calendar_default_colmove_position_after", "box-sizing: border-box; border-right: 2px solid #999999;"),
                e.add(".calendar_default_colmove_position_after:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".calendar_default_colmove_position_child", "box-sizing: border-box; border-bottom: 2px solid #999999;"),
                e.add(".calendar_default_colmove_position_child:before", "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".calendar_default_colmove_position_forbidden", "border-top: 2px solid red;"),
                e.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover", "background-color: #999999;"),
                e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"),
                e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"),
                e.add(".menu_default_main", "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),
                e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;"),
                e.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),
                e.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),
                e.add(".menu_default_main.menu_default_withchildren a", "padding: 2px 35px 2px 35px;"),
                e.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;"),
                e.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),
                e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"),
                e.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),
                e.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc"),
                e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", "background-color: #f3f3f3;"),
                e.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"),
                e.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),
                e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"),
                e.add(".menu_default_item .menu_default_item_symbol", "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),
                e.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),
                e.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;"),
                e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"),
                e.add(".menubar_default_item_active", "background-color: #f2f2f2;"),
                e.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"),
                e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;"),
                e.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),
                e.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;"),
                e.add(".month_default_cell_header", "text-align: right; padding: 4px; box-sizing: border-box;"),
                e.add(".month_default_header_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"),
                e.add(".month_default_message", "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"),
                e.add(".month_default_event_inner", "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"),
                e.add(".month_default_direction_rtl .month_default_event_inner", "right: 2px; padding-left: 1px;padding-right: 10px;"),
                e.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),
                e.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),
                e.add(".month_default_event_bar", "top: 1px;bottom: 1px;left: 2px;width: 6px;"),
                e.add(".month_default_direction_rtl .month_default_event_bar", "top: 1px;bottom: 1px;right: 3px;width: 6px;"),
                e.add(".month_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"),
                e.add(".month_default_event_continueleft .month_default_event_bar", "display: none;"),
                e.add(".month_default_selected .month_default_event_inner", "background: #ddd;"),
                e.add(".month_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                e.add(".month_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                e.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),
                e.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                e.add(".month_default_event_timeleft", "color: #ccc; font-size: 11px; display: flex; align-items: center;"),
                e.add(".month_default_event_timeright", "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end;"),
                e.add(".month_default_loading", "background-color: orange; color: white; padding: 2px;"),
                e.add(".month_default_shadow_forbidden:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),
                e.add(".month_default_shadow_forbidden .month_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                e.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),
                e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;"),
                e.add(".navigator_default_month", "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"),
                e.add(".navigator_default_day", "color: black;"),
                e.add(".navigator_default_weekend", "background-color: #f0f0f0;"),
                e.add(".navigator_default_dayheader", "color: black;"),
                e.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;"),
                e.add(".navigator_default_dayother", "color: gray;"),
                e.add(".navigator_default_todaybox", "border: 1px solid red;"),
                e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),
                e.add(".navigator_default_busy", "font-weight: bold;"),
                e.add(".navigator_default_cell", "text-align: center;"),
                e.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;"),
                e.add(".navigator_default_title", "text-align: center;"),
                e.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;"),
                e.add(".navigator_default_dayheader", "text-align: center;"),
                e.add(".navigator_default_weeknumber", "text-align: center; color: #999;"),
                e.add(".navigator_default_cell_text", "cursor: pointer;"),
                e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;"),
                e.add(".scheduler_default_main, .scheduler_default_main svg text", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;"),
                e.add(".scheduler_default_timeheader_scroll", "background: #f3f3f3;"),
                e.add(".scheduler_default_message", "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"),
                e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;"),
                e.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;"),
                e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),
                e.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),
                e.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                e.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                e.add(".scheduler_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"),
                e.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;"),
                e.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;"),
                e.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;"),
                e.add(".scheduler_default_matrix_vertical_break", "background-color: #999;"),
                e.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;"),
                e.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;"),
                e.add(".scheduler_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                e.add(".scheduler_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                e.add(".scheduler_default_event", "font-size:13px;color:#333;"),
                e.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                e.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),
                e.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"),
                e.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".scheduler_default_event_float", "display: flex; align-items: center;"),
                e.add(".scheduler_default_event_float_inner", "padding:2px 2px 2px 8px; position: relative;"),
                e.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top: calc(50% - 5px);left:-4px;'),
                e.add(".scheduler_default_event_focus", "outline: red 2px solid; z-index: 100; opacity: 0.5;"),
                e.add(".scheduler_default_columnheader_inner", "font-weight: bold;"),
                e.add(".scheduler_default_columnheader_splitter", "box-sizing: border-box; border-right: 1px solid #c0c0c0;"),
                e.add(".scheduler_default_columnheader_splitter:hover", "background-color: #c0c0c0;"),
                e.add(".scheduler_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),
                e.add(".scheduler_default_cell", "background-color: #f9f9f9;"),
                e.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;"),
                e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"),
                e.add(".scheduler_default_tree_image_no_children", ""),
                e.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),
                e.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),
                e.add(".scheduler_default_event_delete", "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"),
                e.add(".scheduler_default_event_delete:hover", "opacity: 1;"),
                e.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),
                e.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                e.add(".scheduler_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"),
                e.add(".scheduler_default_rowmove_position_child:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"),
                e.add(".scheduler_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"),
                e.add(".scheduler_default_rowmove_position_forbidden:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"),
                e.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000"),
                e.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000"),
                e.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal", "border-bottom-color: #aaaaaa"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical", "border-right-color: #aaaaaa"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before", "border-color: transparent transparent transparent #aaaaaa;"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before", "border-color: transparent #aaaaaa transparent transparent;"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before", "border-color: #aaaaaa transparent transparent transparent;"),
                e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before", "border-color: transparent transparent #aaaaaa transparent;"),
                e.add(".scheduler_default_block", "background-color: #808080; opacity: 0.5;"),
                e.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"),
                e.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),
                e.add(".scheduler_default_header_icon:hover", "background-color: #ccc;"),
                e.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';"),
                e.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';"),
                e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),
                e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;"),
                e.add(".scheduler_default_rowheader textarea", "padding: 3px;"),
                e.add(".scheduler_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"),
                e.add(".scheduler_default_shadow_forbidden:after, .scheduler_default_shadow_overlap:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),
                e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner", "background-color: #cc4125;"),
                e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"),
                e.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"),
                e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;");
                e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;");
                e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                e.add(".scheduler_default_link_dot", "border-radius: 10px; background-color: #cc0000"),
                e.add(".scheduler_default_task_milestone .scheduler_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),
                e.add(".scheduler_default_event_left", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),
                e.add(".scheduler_default_event_right", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),
                e.add(".scheduler_default_main:focus", "outline: none;"),
                e.add(".scheduler_default_cell_focus", "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"),
                e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top", "border-top: 4px solid red;"),
                e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom", "border-bottom: 4px solid red;"),
                e.add(".scheduler_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"),
                e.add(".scheduler_default_link_shadow", "border:1px solid black;"),
                e.add(".scheduler_default_link_shadow_circle", "background-color:black;"),
                e.add(".scheduler_default_event_move_left", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),
                e.add(".scheduler_default_event_move_right", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"),
                e.add(".scheduler_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                e.add(".scheduler_default_sorticon", "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"),
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"),
                e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active", "opacity: 1;"),
                e.add(".scheduler_default_loading", "background-color: orange; color: white; padding: 2px;"),
                e.add(".scheduler_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"),
                e.add(".scheduler_default_link_curve:hover", "stroke-opacity: 0.5;"),
                e.add(".scheduler_default_link_curve_dot", "fill: #cc0000;"),
                e.add(".scheduler_default_link_curve_marker", "fill: #cc0000;"),
                e.add(".scheduler_default_link_curve_text", "fill: #cc0000;"),
                e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve", "stroke: #aaaaaa;"),
                e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot", "fill: #aaaaaa;"),
                e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker", "fill: #aaaaaa;"),
                e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text", "fill: #aaaaaa;"),
                e.add(".gantt_default_selected", "outline: 2px solid #4A90E2; border-radius: 4px; box-shadow: 0 0 8px rgba(74, 144, 226, 0.5);"),
                e.add(".gantt_default_selected .gantt_default_event_inner", "background: #DAE8FC;"),
                e.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;"),
                e.add(".gantt_default_timeheader", "cursor: default;color: #666;"),
                e.add(".gantt_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),
                e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;"),
                e.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;"),
                e.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                e.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),
                e.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                e.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                e.add(".gantt_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"),
                e.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #c0c0c0;"),
                e.add(".gantt_default_divider_horizontal", "background-color: #c0c0c0;"),
                e.add(".gantt_default_matrix_vertical_line", "background-color: #eee;"),
                e.add(".gantt_default_matrix_vertical_break", "background-color: #000;"),
                e.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;"),
                e.add(".gantt_default_resourcedivider", "background-color: #c0c0c0;"),
                e.add(".gantt_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                e.add(".gantt_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                e.add(".gantt_default_event", "color:#666;"),
                e.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                e.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),
                e.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"),
                e.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;"),
                e.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),
                e.add(".gantt_default_columnheader_inner", "font-weight: bold;"),
                e.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;"),
                e.add(".gantt_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),
                e.add(".gantt_default_cell", "background-color: #f9f9f9;"),
                e.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;"),
                e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                e.add(".gantt_default_tree_image_no_children", ""),
                e.add(".gantt_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"),
                e.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"),
                e.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),
                e.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                e.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),
                e.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                e.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"),
                e.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),
                e.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"),
                e.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),
                e.add(".gantt_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"),
                e.add(".gantt_default_rowmove_position_child:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"),
                e.add(".gantt_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"),
                e.add(".gantt_default_rowmove_position_forbidden:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"),
                e.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"),
                e.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),
                e.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),
                e.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),
                e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),
                e.add(".gantt_default_event_left", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"),
                e.add(".gantt_default_event_right", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"),
                e.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000;"),
                e.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000;"),
                e.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_horizontal", "border-bottom-color: #aaaaaa"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_vertical", "border-right-color: #aaaaaa"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_right:before", "border-color: transparent transparent transparent #aaaaaa;"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_left:before", "border-color: transparent #aaaaaa transparent transparent;"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_down:before", "border-color: #aaaaaa transparent transparent transparent;"),
                e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_up:before", "border-color: transparent transparent #aaaaaa transparent;"),
                e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: #cc4125;"),
                e.add(".gantt_default_block", "background-color: gray; opacity: 0.5;"),
                e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                e.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),
                e.add(".gantt_default_header_icon:hover", "background-color: #ccc;"),
                e.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';"),
                e.add(".gantt_default_header_icon_show:before", "content: '\\00BB';"),
                e.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),
                e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;"),
                e.add(".gantt_default_rowheader textarea", "padding: 5px;"),
                e.add(".gantt_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"),
                e.add(".gantt_default_shadow_forbidden:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"),
                e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                e.add(".gantt_default_event_moving_source", "opacity: 0.5;"),
                e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;"),
                e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),
                e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;"),
                e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),
                e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;"),
                e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),
                e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;"),
                e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),
                e.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"),
                e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;"),
                e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; "),
                e.add(".gantt_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"),
                e.add(".gantt_default_link_shadow", "border:1px solid black;"),
                e.add(".gantt_default_link_shadow_circle", "background-color:black;"),
                e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                e.add(".gantt_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"),
                e.add(".gantt_default_link_curve:hover", "stroke-opacity: 0.5;"),
                e.add(".gantt_default_link_curve_dot", "fill: #cc0000;"),
                e.add(".gantt_default_link_curve_marker", "fill: #cc0000;"),
                e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve", "stroke: #aaaaaa;"),
                e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_dot", "fill: #aaaaaa;"),
                e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_marker", "fill: #aaaaaa;"),
                e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_text", "fill: #aaaaaa;"),
                e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;"),
                e.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;"),
                e.add(".kanban_default_timeheader", "cursor: default;color: #333;"),
                e.add(".kanban_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),
                e.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;"),
                e.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;"),
                e.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                e.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),
                e.add(".kanban_default_colheadercell", "text-align: center;"),
                e.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),
                e.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;"),
                e.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;"),
                e.add(".kanban_default_matrix_vertical_line", "background-color: #eee;"),
                e.add(".kanban_default_matrix_vertical_break", "background-color: #000;"),
                e.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;"),
                e.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;"),
                e.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"),
                e.add(".kanban_default_card", "color:#333;"),
                e.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),
                e.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),
                e.add(".kanban_default_cell", "background-color: #fff;"),
                e.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                e.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),
                e.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),
                e.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),
                e.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"),
                e.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;"),
                e.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                e.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"),
                e.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),
                e.add(".kanban_default_block", "background-color: gray; opacity: 0.5;"),
                e.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),
                e.add(".kanban_default_header_icon:hover", "background-color: #ccc;"),
                e.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';"),
                e.add(".kanban_default_header_icon_show:before", "content: '\\00BB';"),
                e.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),
                e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;"),
                e.add(".kanban_default_rowheader textarea", "padding: 3px;"),
                e.add(".kanban_default_rowheader_scroll", "cursor: default;"),
                e.add(".kanban_default_card_moving_source", "opacity: 0.5;"),
                e.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;"),
                e.add(".kanban_default_cell", "background-color: #fff;"),
                e.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),
                e.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;"),
                e.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;"),
                e.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;"),
                e.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;"),
                e.add(".kanban_default_swimlane_collapse:before", "content: '^';"),
                e.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;"),
                e.add(".kanban_default_swimlane_expand:before", "content: '>';"),
                e.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),
                e.add(".kanban_default_columnmove_position", "background-color: #333;"),
                e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                e.add(".queue_default_main", "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                e.add(".queue_default_event_bar", "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"),
                e.add(".queue_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                e.add(".queue_default_event_inner", "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"),
                e.add(".queue_default_selected .queue_default_event_inner", "background: #ddd;"),
                e.add(".queue_default_shadow", "background-color: #ccc;"),
                e.commit();
                DayPilot.Global.defaultCss = !0
            }
        }();
        var o = function(e) {
            function t() {
                var t = new URL(e,location.href);
                return t.origin + t.pathname !== location.origin + location.pathname
            }
            var n = this;
            this.l = function() {
                return t() ? fetch(e).then(function(e) {
                    return e.text()
                }).then(function(e) {
                    var t = document.createElement("div");
                    return t.innerHTML = e,
                    new Promise(function(e, i) {
                        e(t.querySelector(n.Q()))
                    }
                    )
                }) : new Promise(function(e, t) {
                    e(document.querySelector(n.Q()))
                }
                )
            }
            ,
            this.Q = function() {
                return new URL(e,location.href).hash
            }
        }
          , s = function(e) {
            var t = this;
            this.id = e,
            this.widths = [],
            this.titles = [],
            this.data = [],
            this.nonresizable = [],
            this.height = null,
            this.bubble = null,
            this.splitterWidth = 3,
            this.splitterWidthLast = null,
            this.css = {},
            this.css.title = null,
            this.css.titleInner = null,
            this.css.splitter = null,
            this.enabled = !0,
            this.blocks = [],
            this.drag = {},
            this.updated = function() {}
            ,
            this.updating = function() {}
            ,
            this.started = function() {}
            ;
            var n = {};
            n.splitterWidth = function(e) {
                var n = e === t.widths.length - 1
                  , i = n && "number" == typeof t.splitterWidthLast ? t.splitterWidthLast : t.splitterWidth
                  , a = t.nonresizable[e];
                return t.enabled && !a ? i : 1
            }
            ,
            this.init = function() {
                var i;
                if (!e)
                    throw "error: id not provided";
                if ("string" == typeof e)
                    i = document.getElementById(e);
                else {
                    if (!e.appendChild)
                        throw "error: invalid object provided";
                    i = e
                }
                this.div = i,
                this.blocks = [];
                for (var a = 0; a < this.widths.length; a++) {
                    var r = (a === this.widths.length - 1,
                    n.splitterWidth(a))
                      , o = document.createElement("div");
                    o.style.display = "inline-block",
                    null !== t.height ? o.style.height = t.height + "px" : o.style.height = "100%",
                    o.style.width = this.widths[a] - r + "px",
                    o.style.overflow = "hidden",
                    o.style.position = "relative",
                    o.setAttribute("unselectable", "on"),
                    o.className = this.css.title,
                    i.appendChild(o);
                    var s = this.titles[a]
                      , l = null
                      , d = []
                      , c = null
                      , u = null;
                    "object" == typeof s && (l = s.html,
                    d = s.areas,
                    c = s.cssClass,
                    u = s.toolTip),
                    c && DayPilot.Util.addClass(o, c),
                    u && (o.title = u),
                    function(e, n) {
                        n.onmousemove = function(i) {
                            if (t.bubble) {
                                var a = {};
                                a.calendar = t.calendar,
                                a.type = "RowHeaderColumn",
                                a.object = e.data,
                                a.staticHTML = e.bubbleHtml,
                                a.div = n,
                                a.toJSON = function() {
                                    var e = {};
                                    return e.uid = t.calendar.uniqueID,
                                    e.type = "RowHeaderColumn",
                                    e.object = a.object,
                                    e
                                }
                                ,
                                t.bubble.showRowHeaderColumn(a)
                            }
                        }
                        ,
                        n.onmouseout = function(e) {
                            t.bubble && t.bubble.hideOnMouseOut()
                        }
                    }(s, o);
                    var h = document.createElement("div");
                    h.innerHTML = l,
                    h.setAttribute("unselectable", "on"),
                    h.className = this.css.titleInner,
                    o.appendChild(h),
                    DayPilot.Areas.attach(o, t.data[a], {
                        "areas": d
                    });
                    var f = document.createElement("div");
                    f.style.display = "inline-block",
                    null !== t.height ? f.style.height = t.height + "px" : f.style.height = "100%",
                    f.style.width = r + "px",
                    f.style.position = "relative",
                    f.appendChild(document.createElement("div")),
                    t.enabled && !t.nonresizable[a] && (f.style.cursor = "col-resize"),
                    f.setAttribute("unselectable", "on"),
                    f.className = this.css.splitter;
                    var v = {};
                    v.index = a,
                    v.width = this.widths[a],
                    f.data = v,
                    f.onmousedown = function(e) {
                        if (e.preventDefault(),
                        t.enabled) {
                            var n = this.index;
                            if (!t.nonresizable[n]) {
                                var i = DayPilot.page(e);
                                i && (t.drag.start = i,
                                t.drag.data = this.data,
                                t.div.style.cursor = "col-resize",
                                t.started())
                            }
                        }
                    }
                    ,
                    i.appendChild(f);
                    var p = {};
                    p.section = o,
                    p.handle = f,
                    this.blocks.push(p)
                }
                this.registerGlobalHandlers()
            }
            ,
            this.updateWidths = function() {
                for (var e = 0; e < this.blocks.length; e++) {
                    var t = this.blocks[e]
                      , n = this.widths[e];
                    t.handle.data.width = n,
                    this.R(e)
                }
            }
            ,
            this.R = function(e) {
                var t = this.blocks[e]
                  , i = this.widths[e];
                e === this.widths.length - 1;
                t.section.style.width = i - n.splitterWidth(e) + "px"
            }
            ,
            this.totalWidth = function() {
                for (var e = 0, t = 0; t < this.widths.length; t++)
                    e += this.widths[t];
                return e
            }
            ,
            this.gMouseMove = function(e) {
                if (t.drag.start) {
                    var n = t.drag.data
                      , i = DayPilot.page(e);
                    if (i) {
                        var a = i.x - t.drag.start.x
                          , r = n.index;
                        t.widths[r] = Math.max(5, n.width + a),
                        t.R(r);
                        var o = {};
                        o.widths = this.widths,
                        o.index = n.index,
                        t.updating(o)
                    }
                }
            }
            ,
            this.gMouseUp = function(e) {
                if (t.drag.start) {
                    t.drag.start = null,
                    document.body.style.cursor = "",
                    t.div.style.cursor = "";
                    var n = t.drag.data;
                    n.width = t.widths[n.index];
                    var i = {};
                    i.widths = this.widths,
                    i.index = n.index,
                    t.updated(i)
                }
            }
            ,
            this.dispose = function() {
                DayPilot.list(this.blocks).forEach(function(e) {
                    e.handle.onmousedown = null,
                    DayPilot.de(e.section),
                    DayPilot.de(e.handle)
                }),
                this.unregisterGlobalHandlers()
            }
            ,
            this.registerGlobalHandlers = function() {
                DayPilot.re(document, "mousemove", this.gMouseMove),
                DayPilot.re(document, "mouseup", this.gMouseUp)
            }
            ,
            this.unregisterGlobalHandlers = function() {
                DayPilot.ue(document, "mousemove", this.gMouseMove),
                DayPilot.ue(document, "mouseup", this.gMouseUp)
            }
        };
        DayPilot.Splitter = s
    }
}(DayPilot),
function() {
    "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
}(),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
        var e = {};
        e.mouseMove = function(t) {
            if ("undefined" != typeof e) {
                e.mouse = e.mousePosition(t);
                var n = e.active;
                if (n && n.S.showPosition) {
                    var i = n.S.showPosition
                      , a = e.mouse;
                    i.clientX !== a.clientX || i.clientY !== a.clientY
                }
            }
        }
        ,
        e.touchPosition = function(e) {
            if (!e || !e.touches)
                return null;
            var t = e.touches[0]
              , n = {};
            return n.x = t.pageX,
            n.y = t.pageY,
            n.clientX = t.clientX,
            n.clientY = t.clientY,
            n
        }
        ,
        e.mousePosition = function(e) {
            var t = DayPilot.mo3(null, e);
            return e && (t.clientY = e.clientY,
            t.clientX = e.clientX),
            t
        }
        ,
        DayPilot.Bubble = function(t) {
            this.v = "2024.4.6243";
            var n = this
              , i = {};
            if (this.arrowTopIndent = 6,
            this.arrowLeftIndent = 6,
            this.hideAfter = 500,
            this.loadingText = "Loading...",
            this.animated = !0,
            this.animation = "fast",
            this.position = "Above",
            this.hideOnClick = !0,
            this.hideOnHover = !1,
            this.showAfter = 500,
            this.showLoadingLabel = !0,
            this.showArrow = !0,
            this.zIndex = 10,
            this.theme = "bubble_default",
            this.onLoad = null,
            this.onBeforeDomAdd = null,
            this.onBeforeDomRemove = null,
            this.S = function() {}
            ,
            this.callBack = function(e) {
                this.aspnet() ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0) : e.calendar.internal.bubbleCallBack ? e.calendar.internal.bubbleCallBack(e, this) : e.calendar.bubbleCallBack(e, this);
            }
            ,
            this.callbackError = function(e, t) {
                alert(e)
            }
            ,
            this.updateView = function(t, a) {
                if (n !== a)
                    throw "Callback object mismatch (internal error)";
                if (!t)
                    return void n.T();
                var r = null
                  , o = null
                  , s = null;
                if ("string" == typeof t ? o = t : "object" == typeof t && (r = t,
                o = t.html,
                s = t.element),
                e.active = n,
                n) {
                    var l = !1
                      , d = !1;
                    if (i.div) {
                        if (s) {
                            i.U.innerHTML = "";
                            var c = DayPilot.Util.isReactComponent(s)
                              , u = DayPilot.Util.isVueComponent(s);
                            if (c) {
                                if (!(n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM))
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                n.X.W(s, i.U),
                                d = n.X.Y()
                            } else if (u) {
                                var h = n.Z.V();
                                if (!h)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                n.Z._(s, i.U, r.props)
                            } else
                                i.U.appendChild(s);
                            l = !0
                        } else
                            o && (i.U.innerHTML = o,
                            l = !0);
                        i.div.domArgs = r
                    }
                    l && (d ? setTimeout(function() {
                        n.aa()
                    }) : n.aa())
                }
            }
            ,
            this.init = function() {}
            ,
            this.dispose = function() {}
            ,
            this.update = function(e) {
                DayPilot.Util.copyProps(e, this)
            }
            ,
            this.aspnet = function() {
                return "undefined" != typeof WebForm_DoCallback
            }
            ,
            this.showEvent = function(t, n, i) {
                var a = new e.CallBackArgs(t.calendar || t.root,"Event",t,t.bubbleHtml ? t.bubbleHtml() : null);
                a.div = i,
                n ? this.show(a) : this.showOnMouseOver(a)
            }
            ,
            this.showGroup = function(e) {
                this.showOnMouseOver(e)
            }
            ,
            this.showCell = function(t, n) {
                e.cancelShowing();
                var i = new e.CallBackArgs(t.calendar || t.root,"Cell",t,t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                i.div = n,
                this.showOnMouseOver(i)
            }
            ,
            this.showLink = function(t) {
                e.cancelShowing();
                var n = new e.CallBackArgs(t.calendar || t.root,"Cell",t,t.data && t.data.bubbleHtml);
                this.showOnMouseOver(n)
            }
            ,
            this.showTime = function(t) {
                var n = new e.CallBackArgs(t.calendar || t.root,"Time",t,t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                this.showOnMouseOver(n)
            }
            ,
            this.showResource = function(t, n, i) {
                var a = {};
                a.calendar = t.calendar,
                a.id = t.id,
                a.name = t.name,
                a.start = t.start,
                t.bubbleHtml ? a.bubbleHtml = function() {
                    return t.bubbleHtml
                }
                : t.data && t.data.bubbleHtml && (a.bubbleHtml = function() {
                    return t.data.bubbleHtml
                }
                ),
                a.toJSON = function() {
                    var e = {};
                    return e.id = this.id,
                    e
                }
                ;
                var r = new e.CallBackArgs(a.calendar || a.root,"Resource",a,a.bubbleHtml ? a.bubbleHtml() : null);
                i ? r.div = i : r.div = t.div,
                n ? (e.cancelHiding(),
                this.show(r)) : this.showOnMouseOver(r)
            }
            ,
            this.showHtml = function(t, n) {
                var i = new e.CallBackArgs(null,"Html",null,t);
                i.div = n,
                this.showOnMouseOver(i)
            }
            ,
            this.showRowHeaderColumn = function(e) {
                this.showOnMouseOver(e)
            }
            ,
            this.hide = function() {
                e.active === this && DayPilot.Bubble.hide()
            }
            ,
            this.toJSON = function() {
                return null
            }
            ,
            this.show = function(t) {
                if (n.ba(t)) {
                    var a = this.animated;
                    if (this.S.showPosition = e.mouse,
                    e.showing = null,
                    !e.mouse)
                        return void setTimeout(function() {
                            n.show(t)
                        }, 100);
                    var r = e.mouse;
                    r.h = 0,
                    r.w = 0;
                    var o = this.getDiv(t)
                      , s = n.ca(o)
                      , l = "Above" === s
                      , d = "Right" === s;
                    if ((l || d) && o) {
                        var c = 2
                          , u = DayPilot.abs(o, !0);
                        if (!u)
                            return;
                        r.x = u.x,
                        r.y = u.y,
                        r.h = u.h + c,
                        r.w = u.w
                    }
                    this.S.mouse = r;
                    var h;
                    try {
                        h = JSON.stringify(t.object)
                    } catch (e) {
                        return
                    }
                    if (!(e.active === this && this.S.sourceId === h || "undefined" != typeof DayPilot.Menu && DayPilot.Menu.active)) {
                        e.hideActive(),
                        e.active = this,
                        this.S.sourceId = h;
                        var f = document.createElement("div");
                        f.setAttribute("unselectable", "on"),
                        f.style.position = "absolute",
                        this.showLoadingLabel || (f.style.display = "none"),
                        f.className = this.da("_main"),
                        f.style.top = "-3000px",
                        f.style.left = "-3000px",
                        f.style.zIndex = this.zIndex + 1,
                        a && (f.style.visibility = "hidden"),
                        this.hideOnClick && (f.onclick = function() {
                            e.hideActive()
                        }
                        ),
                        f.onmousemove = function(t) {
                            n.hideOnHover && e.hideActive(),
                            e.cancelShowing(),
                            e.cancelHiding();
                            var t = t || window.event;
                            t.cancelBubble = !0
                        }
                        ,
                        f.oncontextmenu = function() {
                            return !1
                        }
                        ,
                        f.onmouseleave = function() {
                            n.delayedHide()
                        }
                        ;
                        var v = this.arrowLeftIndent
                          , p = this.arrowTopIndent
                          , m = "http://www.w3.org/2000/svg"
                          , g = document.createElementNS(m, "svg");
                        g.setAttribute("viewBox", "0 0 12 10"),
                        g.setAttribute("class", this.da("_arrow_top")),
                        g.style.width = "12px",
                        g.style.height = "10px",
                        g.style.position = "absolute",
                        g.style.top = "0px",
                        g.style.left = v + "px",
                        g.style.display = "none",
                        g.innerHTML = '<polyline points="0 10 6 0 12 10"></polyline>';
                        var b = document.createElementNS(m, "svg");
                        b.setAttribute("viewBox", "0 0 12 10"),
                        b.setAttribute("class", this.da("_arrow_bottom")),
                        b.style.width = "12px",
                        b.style.height = "10px",
                        b.style.position = "absolute",
                        b.style.bottom = "0px",
                        b.style.left = v + "px",
                        b.style.display = "none",
                        b.innerHTML = '<polyline points="0 0 6 10 12 0"></polyline>';
                        var y = document.createElementNS(m, "svg");
                        y.setAttribute("viewBox", "0 0 10 12"),
                        y.setAttribute("class", this.da("_arrow_left")),
                        y.style.width = "10px",
                        y.style.height = "12px",
                        y.style.position = "absolute",
                        y.style.top = p + "px",
                        y.style.left = "0px",
                        y.style.display = "none",
                        y.innerHTML = '<polyline points="10 0 0 6 10 12"></polyline>';
                        var w = document.createElementNS(m, "svg");
                        w.setAttribute("viewBox", "0 0 10 12"),
                        w.setAttribute("class", this.da("_arrow_right")),
                        w.style.width = "10px",
                        w.style.height = "12px",
                        w.style.position = "absolute",
                        w.style.top = p + "px",
                        w.style.right = "0px",
                        w.style.display = "none",
                        w.innerHTML = '<polyline points="0 0 10 6 0 12"></polyline>';
                        var x = document.createElement("div");
                        f.appendChild(x),
                        f.appendChild(g),
                        f.appendChild(b),
                        f.appendChild(y),
                        f.appendChild(w),
                        x.className = this.da("_main_inner"),
                        x.innerHTML = this.loadingText,
                        document.body.appendChild(f),
                        i.div = f,
                        i.U = x,
                        i.ea = g,
                        i.fa = b,
                        i.ga = y,
                        i.ha = w,
                        n.V = function() {}
                        ,
                        n.V.calendar = t.calendar,
                        n.V.ia = o;
                        var k = {};
                        k.source = t.object,
                        k.async = !1,
                        k.html = t.staticHTML,
                        k.loaded = function() {
                            this.async && n.ja(k)
                        }
                        ,
                        this.showLoadingLabel && !a && this.aa(),
                        t.staticHTML && "function" != typeof this.onLoad ? n.ja(k) : "function" == typeof this.onLoad ? (this.onLoad(k),
                        k.async || n.ja(k)) : "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd ? n.ja(k) : this.ka(t) && this.callBack(t)
                    }
                }
            }
            ,
            this.ba = function(e) {
                return !!e.staticHTML || ("function" == typeof this.onLoad || ("function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd || !!this.ka(e)))
            }
            ,
            this.ja = function(e) {
                var t = {};
                t.source = e.source,
                t.html = e.html,
                t.element = null,
                "function" == typeof n.onDomAdd && n.onDomAdd(t),
                "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t),
                n.updateView(t, n)
            }
            ,
            this.getDiv = function(e) {
                return e.div ? e.div : "Event" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0
            }
            ,
            this.da = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : ""
            }
            ,
            this.ca = function(e) {
                var t = n.position;
                if (!e)
                    return "Mouse";
                if (!t)
                    return "Above";
                if ("eventtop" === t.toLowerCase())
                    return "Above";
                if ("above" === t.toLowerCase())
                    return "Above";
                if ("mouse" === t.toLowerCase())
                    return "Mouse";
                if ("right" === t.toLowerCase())
                    return "Right";
                throw new DayPilot.Exception("Unrecognized DayPilot.Bubble.position value: " + t)
            }
            ,
            this.aa = function() {
                var t = this.animated
                  , a = this.S.mouse
                  , r = n.ca(this.V.ia)
                  , o = 10
                  , s = 0;
                if (i.div && a) {
                    if (!a.x || !a.y)
                        return void e.hideActive();
                    var l = i.div
                      , d = i.U;
                    l.style.display = "";
                    var c = l.offsetHeight;
                    this.showArrow && (c += 9);
                    var u = l.offsetWidth;
                    this.showArrow && (u += 9),
                    l.style.display = "none";
                    var h = DayPilot.wd()
                      , f = h.width
                      , v = h.height
                      , p = "bottom"
                      , m = "left"
                      , g = this.showArrow;
                    if ("Mouse" === r) {
                        var b = 0;
                        if (a.clientY < c + o) {
                            var y = c + o - a.clientY;
                            y = 0,
                            b = a.y + y + 22,
                            p = "top"
                        } else
                            b = a.y - c - 5;
                        "number" == typeof b && (l.style.top = Math.max(b, 0) + "px");
                        var w;
                        if (a.clientX > f - u + o) {
                            var x = a.clientX - (f - u) + o;
                            w = a.x - x,
                            g = !1
                        } else
                            w = a.x,
                            this.showArrow && (w -= 16);
                        l.style.left = w + "px"
                    } else if ("Above" === r) {
                        var k = 2
                          , b = a.y - c - k
                          , C = h.scrollTop;
                        b < C && (b = a.y + a.h,
                        p = "top"),
                        "number" == typeof b && (l.style.top = Math.max(b, 0) + "px");
                        var w = a.x;
                        a.x + u + o > f && (w = f - u - o,
                        m = "right"),
                        l.style.left = w + "px"
                    } else if ("Right" === r) {
                        p = "top";
                        var b = a.y
                          , w = a.x + a.w;
                        w + u + o > f && u < a.x && (w = w - u - a.w,
                        m = "right");
                        var S = b + c + o - v;
                        S > 0 && (b -= S,
                        s = S,
                        b < 0 && (s += b,
                        b = 0)),
                        l.style.top = b + "px",
                        l.style.left = w + "px"
                    }
                    if (l.style.display = "",
                    g && ("Above" === r || "Mouse" === r ? "bottom" === p ? (i.ea.style.display = "none",
                    i.fa.style.display = "",
                    d.style.marginTop = "0px",
                    d.style.marginBottom = "9px") : (i.ea.style.display = "",
                    i.fa.style.display = "none",
                    d.style.marginTop = "9px",
                    d.style.marginBottom = "0px") : "left" === m ? (i.ha.style.display = "none",
                    i.ga.style.display = "",
                    i.ga.style.top = this.arrowTopIndent + s + "px",
                    d.style.marginRight = "0px",
                    d.style.marginLeft = "9px") : (i.ha.style.display = "",
                    i.ga.style.display = "none",
                    i.ha.style.top = this.arrowTopIndent + s + "px",
                    d.style.marginRight = "9px",
                    d.style.marginLeft = "0px")),
                    t) {
                        l.style.display = "";
                        var _ = {};
                        _.color = d.style.color,
                        _.overflow = l.style.overflow,
                        d.style.color = "transparent",
                        l.style.overflow = "hidden",
                        DayPilot.pop(l, {
                            "finished": function() {
                                d.style.color = _.color,
                                l.style.overflow = _.overflow
                            },
                            "vertical": p,
                            "horizontal": m,
                            "animation": n.animation
                        })
                    }
                }
            }
            ,
            this.delayedHide = function() {
                e.showing === this && e.cancelShowing();
                var t = e.active;
                if (t === this && (e.cancelHiding(),
                t.hideAfter > 0)) {
                    var n = t.hideAfter;
                    e.timeoutHide = window.setTimeout(e.hideActive, n)
                }
            }
            ,
            this.showOnMouseOver = function(t) {
                e.active === this && e.cancelHiding();
                var i = function(e) {
                    return function() {
                        n.show(e)
                    }
                };
                clearTimeout(e.timeoutShow),
                e.timeoutShow = window.setTimeout(i(t), this.showAfter),
                e.showing = this
            }
            ,
            this.hideOnMouseOut = function() {
                this.delayedHide()
            }
            ,
            this.ka = function(e) {
                return !!e.calendar.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            }
            ,
            this.T = function() {
                if (i.div) {
                    var e = i.div.domArgs;
                    if (i.div.domArgs = null,
                    e && ("function" == typeof n.onDomRemove && n.onDomRemove(e),
                    "function" == typeof n.onBeforeDomRemove && n.onBeforeDomRemove(e),
                    "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd)) {
                        var t = i.U;
                        if (t) {
                            var a = DayPilot.Util.isReactComponent(e.element)
                              , r = DayPilot.Util.isVueComponent(e.element);
                            if (a) {
                                if (!(n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM))
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                n.X.la(t)
                            } else
                                r && n.Z.ma(t)
                        }
                    }
                    document.body.removeChild(i.div),
                    i.div = null
                }
            }
            ,
            this.X = {},
            this.X.W = function(e, t) {
                var i = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM;
                if ("function" == typeof i.createRoot) {
                    var a = t.na;
                    a || (a = i.createRoot(t),
                    t.na = a),
                    a.render(e)
                } else
                    i.render(e, t)
            }
            ,
            this.X.Y = function() {
                var e = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM;
                return e && "function" == typeof e.createRoot
            }
            ,
            this.X.la = function(e) {
                var t = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM;
                if ("function" == typeof t.createRoot) {
                    var i = e.na;
                    setTimeout(function() {
                        i.unmount()
                    }, 0)
                } else
                    t.unmountComponentAtNode(e)
            }
            ,
            this.Z = {},
            this.Z.V = function() {
                var e = n.V.calendar
                  , t = e && e.internal.vueRef;
                return t && t()
            }
            ,
            this.Z._ = function(e, t, i) {
                var a = n.Z.V();
                if (a && "function" == typeof a.createVNode && "function" == typeof a.render) {
                    var r = a.createVNode(e, i);
                    a.render(r, t)
                }
            }
            ,
            this.Z.ma = function(e) {
                var t = n.Z.V();
                "function" == typeof t.render && t.render(null, e)
            }
            ,
            t)
                for (var a in t)
                    this[a] = t[a];
            this.init()
        }
        ,
        DayPilot.Bubble.touchPosition = function(t) {
            t.touches && (e.mouse = e.touchPosition(t))
        }
        ,
        e.cancelShowing = function() {
            e.showing = null,
            e.timeoutShow && (window.clearTimeout(e.timeoutShow),
            e.timeoutShow = null)
        }
        ,
        e.cancelHiding = function() {
            e.timeoutHide && window.clearTimeout(e.timeoutHide)
        }
        ,
        e.hideActive = function() {
            e.cancelHiding();
            var t = e.active;
            t && t.T(),
            e.active = null
        }
        ,
        e.CallBackArgs = function(e, t, n, i) {
            this.calendar = e,
            this.type = t,
            this.object = n,
            this.staticHTML = i,
            this.toJSON = function() {
                var e = {};
                return e.uid = this.calendar.uniqueID,
                e.type = this.type,
                e.object = n,
                e
            }
        }
        ,
        "undefined" != typeof document && DayPilot.re(document, "mousemove", e.mouseMove),
        DayPilot.Bubble.hideActive = e.hideActive,
        DayPilot.Bubble.cancelShowing = e.cancelShowing,
        DayPilot.Bubble.hide = function(t) {
            if (t = t || {},
            t.calendar) {
                var n = e.active;
                n && n.V.calendar === t.calendar && DayPilot.Bubble.hide()
            } else
                e.hideActive()
        }
        ,
        DayPilot.Bubble.getActive = function() {
            return e.active
        }
        ,
        DayPilot.Bubble.def = {},
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
        var e = 10
          , t = function() {
            return document.createElement("div")
        }
          , n = DayPilot.rePassive
          , i = DayPilot.reNonPassive
          , a = DayPilot.re
          , r = DayPilot.Util.addClass
          , o = DayPilot.Util.removeClass
          , s = DayPilot.Util.isMouseEvent
          , l = DayPilot.Util.copyProps
          , d = DayPilot.Util.isReactComponent
          , c = DayPilot.Util.isVueComponent
          , u = DayPilot.Util.isVueVNode
          , h = DayPilot.Util.overlaps
          , f = DayPilot.list
          , v = DayPilot.Global
          , p = DayPilot.de;
        DayPilot.Calendar = function(g, b) {

            this.v = "2024.4.6243";
            var y = !1;
            if (this instanceof DayPilot.Calendar && !this.oa && (y = !0,
            this.oa = !0),
            !y)
                throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'");
            var w = this;
            this.uniqueID = null,
            this.clientName = g,
            this.id = g,
            this.isCalendar = !0,
            this.allDayEnd = "DateTime",
            this.allDayEventHeight = 34,
            this.allDayEventTextWrappingEnabled = !1,
            this.allowEventOverlap = !0,
            this.allowMultiSelect = !0,
            this.api = 2,
            this.autoRefreshCommand = "refresh",
            this.autoRefreshEnabled = !1,
            this.autoRefreshInterval = 60,
            this.autoRefreshMaxCount = 20,
            this.autoScroll = "Drag",
            this.backendUrl = null,
            this.blockOnCallBack = !1,
            "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null,
            this.cellBubble = null,
            this.columnBubble = null,
            this.businessBeginsHour = 9,
            this.businessEndsHour = 18,
            this.cellHeight = 30,
            this.cellDuration = 30,
            this.clientState = {},
            this.columnMarginLeft = 0,
            this.columnMarginRight = 5,
            this.columnMoveSameLevelOnly = !1,
            this.columnWidth = 200,
            this.columnWidthMin = 10,
            this.columnWidthSpec = "Auto",
            this.columnsLoadMethod = "GET",
            this.contextMenu = null,
            this.contextMenuSelection = null,
            this.cornerText = "",
            this.cornerHtml = null,
            this.crosshairType = "Header",
            this.cssClass = null,
            this.cssClassPrefix = "calendar_default",
            this.dayBeginsHour = 0,
            this.dayEndsHour = 24,
            this.days = 1,
            this.doubleClickTimeout = 300,
            this.durationBarVisible = !0,
            this.dynamicEventRendering = "Disabled",
            this.dynamicEventRenderingMarginX = 0,
            this.dynamicEventRenderingMarginY = 0,
            this.eventArrangement = "Cascade",
            this.eventBorderRadius = null,
            this.eventsLoadMethod = "GET",
            this.headerHeight = 30,
            this.headerTextWrappingEnabled = !1,
            this.headerHeightAutoFit = !1,
            this.headerLevels = "Auto",
            this.height = 300,
            this.heightSpec = "BusinessHours",
            this.hideFreeCells = !1,
            this.hideUntilInit = !0,
            this.headerDateFormat = null,
            this.hourWidth = 60,
            this.initEventEnabled = !1,
            this.initScrollPos = null,
            this.loadingLabelText = "Loading...",
            this.loadingLabelHtml = null,
            this.loadingLabelVisible = !0,
            this.locale = "en-us",
            this.messageHideAfter = 5e3,
            this.moveBy = "Full",
            this.notifyCommit = "Immediate",
            this.rtl = !1,
            this.scale = "CellDuration",
            this.scrollDelayCells = 0,
            this.scrollDelayEvents = 10,
            this.scrollLabelsVisible = !1,
            this.showToolTip = !0,
            this.showAllDayEvents = !1,
            this.showEventStartEnd = !1,
            this.showHeader = !0,
            this.showHours = !0,
            this.showCurrentTime = !1,
            this.showCurrentTimeMode = "Day",
            this.showCurrentTimeOffset = 0,
            this.snapToGrid = !0,
            this.snapToGridTimeRangeSelecting = !0,
            this.snapToGridEventMoving = !0,
            this.snapToGridEventResizing = !0,
            this.startDate = DayPilot.Date.today(),
            this.tapAndHoldTimeout = 300,
            this.theme = null,
            this.timeFormat = "Auto",
            this.timeHeaderCellDuration = "Auto",
            this.timeRangeSelectingStartEndEnabled = !1,
            this.timeRangeSelectingStartEndFormat = "Auto",
            this.eventMovingStartEndEnabled = !1,
            this.eventMovingStartEndFormat = "Auto",
            this.eventResizingStartEndEnabled = !1,
            this.eventResizingStartEndFormat = "Auto",
            this.useEventBoxes = "Always",
            this.viewType = "Days",
            this.visible = !0,
            this.watchWidthChanges = !0,
            this.weekStarts = "Auto",
            this.width = null,
            this.xssProtection = "Enabled",
            this.columnMoveHandling = "Disabled",
            this.columnResizeHandling = "Disabled",
            this.eventClickHandling = "Enabled",
            this.eventDoubleClickHandling = "Disabled",
            this.eventRightClickHandling = "ContextMenu",
            this.eventDeleteHandling = "Disabled",
            this.eventEditHandling = "Update",
            this.eventHoverHandling = "Bubble",
            this.eventResizeHandling = "Update",
            this.eventMoveHandling = "Update",
            this.eventSelectHandling = "Update",
            this.eventTapAndHoldHandling = "Move",
            this.headerClickHandling = "Enabled",
            this.timeRangeTapAndHoldHandling = "Select",
            this.timeRangeSelectedHandling = "Enabled",
            this.timeRangeClickHandling = "Enabled",
            this.timeRangeDoubleClickHandling = "Disabled",
            this.timeRangeRightClickHandling = "ContextMenu",
            this.onAutoRefresh = null,
            this.onColumnFilter = null,
            this.onColumnResize = null,
            this.onColumnResized = null,
            this.onEventFilter = null,
            this.onEventClick = null,
            this.onEventClicked = null,
            this.onEventDelete = null,
            this.onEventDeleted = null,
            this.onEventEdit = null,
            this.onEventEdited = null,
            this.onEventMove = null,
            this.onEventMoved = null,
            this.onEventMoving = null,
            this.onEventResize = null,
            this.onEventResized = null,
            this.onEventResizing = null,
            this.onEventSelect = null,
            this.onEventSelected = null,
            this.onEventRightClick = null,
            this.onEventRightClicked = null,
            this.onEventDoubleClick = null,
            this.onEventDoubleClicked = null,
            this.onHeaderClick = null,
            this.onHeaderClicked = null,
            this.onTimeRangeClick = null,
            this.onTimeRangeClicked = null,
            this.onTimeRangeRightClick = null,
            this.onTimeRangeRightClicked = null,
            this.onTimeRangeDoubleClick = null,
            this.onTimeRangeDoubleClicked = null,
            this.onTimeRangeSelect = null,
            this.onTimeRangeSelected = null,
            this.onTimeRangeSelecting = null,
            this.onAfterRender = null,
            this.onAfterEventRender = null,
            this.onAfterCellRender = null,
            this.onBeforeEventRender = null,
            this.onBeforeEventExport = null,
            this.onBeforeEventDomAdd = null,
            this.onBeforeEventDomRemove = null,
            this.onBeforeCellRender = null,
            this.onBeforeCellExport = null,
            this.onBeforeCornerDomAdd = null,
            this.onBeforeCornerDomRemove = null,
            this.onBeforeCornerRender = null,
            this.onBeforeHeaderRender = null,
            this.onBeforeHeaderExport = null,
            this.onBeforeTimeHeaderRender = null,
            this.pa = !0,
            this.qa = e,
            this.ra = !0,
            this.sa = !0,
            this.ta = !0,
            this.va = !0,
            this.wa = {},
            this.wa.pixels = {},
            this.wa.events = [],
            this.wa.xa = null,
            this.wa.ya = null,
            this.elements = {},
            this.elements.events = [],
            this.elements.separators = [],
            this.elements.selection = [],
            this.elements.cells = {},
            this.elements.crosshair = [],
            this.elements.timeHeaders = [],
            this.events = {},
            this.events.list = [],
            this.nav = {},
            this.za = 0,
            this.Aa = !1,
            this.Ba = !1,
            this.members = {},
            this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "clientName", "uniqueID"],
            this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "onCallbackError"],
            this.Ca = "javasc",
            this.clearSelection = function() {
                v.selecting = null,
                w.Da(),
                w.Ea = null
            }
            ;
            this.Da = function() {
                if (w.Ea) {
                    p(w.elements.selection),
                    w.elements.selection = [],
                    w.nav.activeSelection = null;
                    var e = (w.Fa || []).map(function(e) {
                        return e.div
                    });
                    DayPilot.de(e),
                    w.Fa = []
                }
            }
            ;
            this.cleanSelection = this.clearSelection,
            this.Ga = function() {
                w.wa.xa = null,
                w.wa.ya = null
            }
            ,
            this.Ha = function(e, t) {
                return w.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t
            }
            ,
            this.Ka = function(e, t, n) {
                var i = {};
                i.action = e,
                i.parameters = n,
                i.data = t,
                i.header = this.La();
                var a = "JSON" + JSON.stringify(i);
                __doPostBack(w.uniqueID, a)
            }
            ,
            this.Ma = function(e, t, n, i) {
                if (!this.ka())
                    return void w.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof i && (i = "CallBack"),
                w.Na({
                    "delay": 100
                });
                var a = {};
                a.action = e,
                a.type = i,
                a.parameters = t,
                a.data = n,
                a.header = this.La();
                var r = "JSON" + JSON.stringify(a);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, this.clientName, this.onCallbackError, !0)
            }
            ,
            this.ka = function() {
                return "javasc" !== w.Ca && w.Ca.indexOf("DCODE") === -1 || w.devsb
            }
            ,
            this.Ra = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            }
            ,
            this.Pa = function(e) {
                if ("function" == typeof w.onAjaxError) {
                    var t = {};
                    t.request = e,
                    w.onAjaxError(t)
                } else
                    "function" == typeof w.ajaxError && w.ajaxError(e)
            }
            ,
            this.dispose = function() {
                var e = w;
                clearInterval(e.Sa),
                e.Aa && (e.Ba || (e.Ba = !0,
                e.Ta && e.Ta.disconnect(),
                e.Ua(),
                e.Va(),
                e.nav.messageClose && (e.nav.messageClose.onclick = null),
                e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null,
                e.nav.hourTable.onmousemove = null),
                e.nav.header && (e.nav.header.oncontextmenu = null),
                e.nav.corner && (e.nav.corner.oncontextmenu = null),
                e.nav.zoom && (e.nav.zoom.onmousemove = null,
                e.nav.zoom.oncontextmenu = null),
                e.nav.scroll && (e.nav.scroll.onscroll = null,
                e.nav.scroll.root = null),
                DayPilot.pu(e.nav.loading),
                e.Wa(),
                e.Xa(),
                e.Ya(),
                e.Za(),
                e.nav.select = null,
                e.nav.cornerRight = null,
                e.nav.scrollable = null,
                e.nav.bottomLeft = null,
                e.nav.bottomRight = null,
                e.nav.allday = null,
                e.nav.zoom = null,
                e.nav.loading = null,
                e.nav.events = null,
                e.nav.header = null,
                e.nav.hourTable = null,
                e.nav.scrolltop = null,
                e.nav.scroll = null,
                e.nav.vsph = null,
                e.nav.main = null,
                e.nav.message = null,
                e.nav.messageClose = null,
                e.nav.top.removeAttribute("style"),
                e.nav.top.removeAttribute("class"),
                e.nav.top.removeEventListener("mouseleave", w.$a),
                e.nav.top.innerHTML = "",
                e.nav.top.dp = null,
                e.nav.top = null,
                DayPilot.ue(window, "resize", e._a),
                m.ab(e),
                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(),
                DayPilot.Bubble.hide({
                    "calendar": e
                })),
                "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({
                    "calendar": e
                })))
            }
            ,
            this.bb = function() {
                this.nav.top.dispose = this.dispose
            }
            ,
            this.Oa = function(e) {
                w.Qa(e.responseText)
            }
            ,
            this.La = function() {
                var e = {};
                return e.v = this.v,
                e.control = "dpc",
                e.id = this.id,
                e.clientState = w.clientState,
                e.columns = this.cb(),
                e.days = w.days,
                e.startDate = w.startDate,
                e.cellDuration = w.cellDuration,
                e.cssClassPrefix = w.cssClassPrefix,
                e.heightSpec = w.heightSpec,
                e.businessBeginsHour = w.businessBeginsHour,
                e.businessEndsHour = w.businessEndsHour,
                e.viewType = w.viewType,
                e.dayBeginsHour = w.dayBeginsHour,
                e.dayEndsHour = w.dayEndsHour,
                e.headerLevels = w.headerLevels,
                e.eventHeaderVisible = w.eventHeaderVisible,
                e.timeFormat = w.timeFormat,
                e.timeHeaderCellDuration = w.timeHeaderCellDuration,
                e.locale = w.locale,
                e.scrollY = w.scrollPos,
                e.showAllDayEvents = w.showAllDayEvents,
                e.tagFields = w.tagFields,
                e.weekStarts = w.weekStarts,
                e.selected = w.multiselect.events(),
                e.hashes = w.hashes,
                e
            }
            ,
            this.db = function() {
                w.eb(),
                w.fb(),
                w.gb = null
            }
            ,
            this.cb = function() {
                var e = [];
                if (e.ignoreToJSON = !0,
                !this.hb)
                    return e;
                for (var t = 0; t < this.hb.length; t++) {
                    var n = this.hb[t]
                      , i = this.ib(n);
                    e.push(i)
                }
                return e
            }
            ,
            this.ib = function(e) {
                var t = {};
                return t.Value = e.id,
                t.Name = e.name,
                t.ToolTip = e.toolTip,
                t.Date = e.start,
                t.Children = this.jb(e.children),
                t
            }
            ,
            this.jb = function(e) {
                var t = [];
                if (t.ignoreToJSON = !0,
                !e)
                    return t;
                for (var n = 0; n < e.length; n++)
                    t.push(this.ib(e[n]));
                return t
            }
            ,
            this.Qa = function(e, t) {
                var e = JSON.parse(e);
                if (e.BubbleGuid) {
                    var n = e.BubbleGuid
                      , i = this.bubbles[n];
                    return delete this.bubbles[n],
                    w.kb(),
                    void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i))
                }
                if (e.CallBackRedirect)
                    return void (document.location.href = e.CallBackRedirect);
                if ("undefined" != typeof e.ClientState && (w.clientState = e.ClientState),
                "None" === e.UpdateType)
                    return w.kb(),
                    w.lb(e.CallBackData, !0),
                    void (e.Message && w.message(e.Message));
                if (w.Ga(),
                e.VsUpdate) {
                    var a = document.createElement("input");
                    a.type = "hidden",
                    a.name = w.id + "_vsupdate",
                    a.id = a.name,
                    a.value = e.VsUpdate,
                    w.nav.vsph.innerHTML = "",
                    w.nav.vsph.appendChild(a)
                }
                if (w.Va(),
                w.multiselect.clear(!0),
                w.multiselect.mb = e.SelectedEvents,
                "undefined" != typeof e.TagFields && (w.tagFields = e.TagFields),
                "undefined" != typeof e.SortDirections && (w.sortDirections = e.SortDirections),
                "Full" === e.UpdateType && (w.colors = e.Colors,
                w.palette = e.Palette,
                w.dirtyColors = e.DirtyColors,
                w.cellProperties = e.CellProperties,
                w.cellConfig = e.CellConfig,
                w.nb() === w.columns ? w.columns = e.Columns : w.columns.list = e.Columns,
                w.days = e.Days,
                w.startDate = new DayPilot.Date(e.StartDate).getDatePart(),
                w.cellDuration = e.CellDuration,
                w.heightSpec = e.HeightSpec ? e.HeightSpec : w.heightSpec,
                w.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : w.businessBeginsHour,
                w.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : w.businessEndsHour,
                w.viewType = e.ViewType,
                w.headerLevels = e.HeaderLevels,
                w.backColor = e.BackColor ? e.BackColor : w.backColor,
                w.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : w.nonBusinessBackColor,
                w.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : w.eventHeaderVisible,
                w.timeFormat = e.TimeFormat ? e.TimeFormat : w.timeFormat,
                w.timeHeaderCellDuration = "undefined" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : w.timeHeaderCellDuration,
                w.locale = e.Locale ? e.Locale : w.locale,
                w.dayBeginsHour = "undefined" != typeof e.DayBeginsHour ? e.DayBeginsHour : w.dayBeginsHour,
                w.dayEndsHour = "undefined" != typeof e.DayEndsHour ? e.DayEndsHour : w.dayEndsHour,
                w.cornerHtml = e.CornerHTML,
                w.hours = e.Hours,
                w.ob(),
                w.pb()),
                e.Hashes)
                    for (var r in e.Hashes)
                        w.hashes[r] = e.Hashes[r];
                if (w.qb(e.Events),
                w.rb(),
                ("Full" === e.UpdateType || w.hideFreeCells) && (w.sb(),
                w.tb(),
                w.ub(),
                w.vb(),
                w.wb(),
                w.xb(),
                w.yb(),
                w.zb(),
                w.clearSelection(),
                w.Ab(),
                "undefined" != typeof e.ScrollY ? w.scrollToY(e.ScrollY) : w.scrollToY(w.initScrollPos)),
                w.Bb(),
                w.E(),
                w.Cb(),
                w.Db(),
                "Parent100Pct" === w.heightSpec && w.Eb(),
                "HoldForever" !== w.timeRangeSelectedHandling && w.clearSelection(),
                w.Fb(),
                w.todo && w.todo.del) {
                    var o = w.todo.del;
                    o.parentNode.removeChild(o),
                    w.todo.del = null
                }
                w.lb(e.CallBackData, !0),
                w.kb(),
                w.Gb(),
                e.Message && w.message(e.Message)
            }
            ,
            this.lb = function(e, t) {
                var n = function(e, t) {
                    return function() {
                        if (w.Hb()) {
                            if ("function" == typeof w.onAfterRender) {
                                var n = {};
                                n.isCallBack = t,
                                n.data = e,
                                w.onAfterRender(n)
                            }
                        } else
                            w.afterRender && w.afterRender(e, t)
                    }
                };
                window.setTimeout(n(e, t), 0)
            }
            ,
            this.Ib = function(e, n) {
                var i = w.nav.events
                  , a = i.rows[0].cells.length
                  , r = w.Jb(w.coords.x);
                r < 0 && (r = 0),
                r >= a && (r = a - 1),
                w.rtl && (r = w.Kb.length - r - 1);
                var o = i.rows[0].cells[r]
                  , s = 0
                  , l = 0
                  , d = 0;
                if ("undefined" != typeof e.duration) {
                    var c = e.duration;
                    d = Math.floor((w.coords.y - s + w.cellHeight / 2) / w.cellHeight) * w.cellHeight + s,
                    l = c * w.cellHeight / (60 * _.Lb()),
                    l = Math.max(l, w.cellHeight)
                } else {
                    var u = e.event;
                    l = u.part.height,
                    d = u.part.top
                }
                var h = w.eventBorderRadius;
                "number" == typeof h && (h += "px");
                var f = t();
                f.setAttribute("unselectable", "on"),
                f.style.position = "absolute",
                f.style.width = "100%",
                f.style.height = l + "px",
                f.style.left = "0px",
                f.style.top = d + "px",
                f.style.zIndex = w.qa,
                f.exclude = !0,
                f.style.marginLeft = w.columnMarginLeft + "px",
                f.style.marginRight = w.columnMarginRight + "px";
                var v = t();
                return f.appendChild(v),
                f.className = w.da("_shadow"),
                v.className = this.da("_shadow_inner"),
                h && (v.style.borderRadius = h,
                f.style.borderRadius = h),
                o.events.appendChild(f),
                f
            }
            ,
            this.Mb = function() {
                return this.Nb() / 36e5
            }
            ,
            this.Ob = function() {
                return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour
            }
            ,
            this.Pb = function() {
                return "Resources" === w.viewType && w.days > 1 ? 24 * w.days : this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour
            }
            ,
            this.Nb = function(e) {
                var t = 0;
                if ("BusinessHoursNoScroll" === this.heightSpec)
                    t = this.Ob();
                else if (this.hideFreeCells && !e) {
                    var n = (this.Qb - 1) * _.Lb() / this.cellHeight
                      , i = Math.ceil(n / 60)
                      , a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                    t = Math.max(this.dayBeginsHour + i, a) - this.Rb()
                } else
                    t = this.Pb();
                return 60 * t * 60 * 1e3
            }
            ,
            this.message = function(e, n) {
                if (null !== e && w.Aa) {
                    var i, a = {};
                    "object" == typeof arguments[1] ? (a = arguments[1],
                    i = a.delay) : i = n;
                    var o = "";
                    o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e),
                    i = i || this.messageHideAfter || 2e3;
                    var s, l = this.Sb(), d = this.showHours ? this.hourWidth : 0, c = DayPilot.sw(w.Tb());
                    if (w.rtl) {
                        var u = d;
                        d = c,
                        c = u
                    }
                    if (this.nav.message)
                        s = w.nav.message,
                        this.nav.message.style.top = l + "px";
                    else {
                        s = t(),
                        s.style.position = "absolute",
                        s.style.left = d + "px",
                        s.style.top = l + "px",
                        s.style.right = "0px",
                        s.style.display = "none",
                        s.onmousemove = function() {
                            s.messageTimeout && !s.status && clearTimeout(s.messageTimeout)
                        }
                        ,
                        s.onmouseout = function() {
                            "none" !== w.nav.message.style.display && (s.messageTimeout = setTimeout(w.Ub, 500))
                        }
                        ;
                        var h = t();
                        h.onclick = function() {
                            w.nav.message.style.display = "none"
                        }
                        ,
                        h.className = this.da("_message"),
                        s.appendChild(h);
                        var f = t();
                        f.style.position = "absolute",
                        f.className = this.da("_message_close"),
                        f.onclick = function() {
                            w.nav.message.style.display = "none"
                        }
                        ,
                        s.appendChild(f),
                        this.nav.top.insertBefore(s, this.nav.loading),
                        this.nav.message = s,
                        this.nav.messageClose = f
                    }
                    this.nav.cornerRight ? this.nav.message.style.right = c + "px" : this.nav.message.style.right = "0px";
                    var v = function() {
                        if (w.nav.message) {
                            var e = w.nav.message.firstChild;
                            e.className = w.da("_message"),
                            a.cssClass && r(e, a.cssClass),
                            e.innerHTML = o;
                            var t = function() {
                                s.messageTimeout = setTimeout(w.Ub, i)
                            };
                            DayPilot.fade(w.nav.message, .2, t)
                        }
                    };
                    clearTimeout(s.messageTimeout),
                    "none" !== this.nav.message.style.display ? DayPilot.fade(w.nav.message, -.2, v) : v()
                }
            }
            ,
            this.message.show = function(e) {
                w.message(e)
            }
            ,
            this.message.hide = function() {
                w.Ub()
            }
            ,
            this.Ub = function() {
                var e = function() {
                    w.nav.message.style.display = "none"
                };
                DayPilot.fade(w.nav.message, -.2, e)
            }
            ,
            this.vb = function() {
                this.nav.message && (this.nav.message.style.top = this.Sb() + "px")
            }
            ,
            this.Vb = function() {
                return this.Nb() / (6e4 * _.Lb())
            }
            ,
            this.eventClickPostBack = function(e, t) {
                this.Ka("EventClick", t, e)
            }
            ,
            this.eventClickCallBack = function(e, t) {
                this.Ma("EventClick", e, t)
            }
            ,
            this.Wb = function(e) {
                var t = this
                  , e = e || window.event
                  , n = e.ctrlKey
                  , i = e.metaKey;
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                "Disabled" === w.eventDoubleClickHandling)
                    return void w.Xb(t, e);
                if (w.timeouts) {
                    for (var a in w.timeouts)
                        window.clearTimeout(w.timeouts[a]);
                    w.timeouts = []
                } else
                    w.timeouts = [];
                var r = function(e, t, n, i) {
                    return function() {
                        w.Xb(e, i)
                    }
                };
                w.timeouts.push(window.setTimeout(r(this, n, i, e), w.doubleClickTimeout))
            }
            ,
            this.Xb = function(e, t) {
                var n = e.event;
                if (n.client.clickEnabled()) {
                    var i = t.ctrlKey
                      , a = t.metaKey
                      , r = t.shiftKey;
                    if (w.Hb()) {
                        var o = {};
                        if (o.e = n,
                        o.control = w,
                        o.ctrl = i,
                        o.meta = a,
                        o.shift = r,
                        o.originalEvent = t,
                        o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof w.onEventClick && (w.onEventClick(o),
                        o.preventDefault.value))
                            return;
                        switch (w.eventClickHandling) {
                        case "PostBack":
                            w.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            w.eventClickCallBack(n);
                            break;
                        case "Edit":
                            w.Yb(e);
                            break;
                        case "Select":
                            w.Zb(e, n, i, a);
                            break;
                        case "Bubble":
                            w.bubble && w.bubble.showEvent(n);
                            break;
                        case "ContextMenu":
                            var s = n.client.contextMenu();
                            s ? s.show(n) : w.contextMenu && w.contextMenu.show(n)
                        }
                        "function" == typeof w.onEventClicked && w.onEventClicked(o)
                    } else
                        switch (w.eventClickHandling) {
                        case "PostBack":
                            w.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            w.eventClickCallBack(n);
                            break;
                        case "JavaScript":
                            w.onEventClick(n);
                            break;
                        case "Edit":
                            w.Yb(e);
                            break;
                        case "Select":
                            w.Zb(e, n, i, a);
                            break;
                        case "Bubble":
                            w.bubble && w.bubble.showEvent(n);
                            break;
                        case "ContextMenu":
                            var s = n.client.contextMenu();
                            s ? s.show(n) : w.contextMenu && w.contextMenu.show(n)
                        }
                }
            }
            ,
            this.eventDoubleClickPostBack = function(e, t) {
                this.Ka("EventDoubleClick", t, e)
            }
            ,
            this.eventDoubleClickCallBack = function(e, t) {
                this.Ma("EventDoubleClick", e, t)
            }
            ,
            this.$b = function(e) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                w.timeouts) {
                    for (var t in w.timeouts)
                        window.clearTimeout(w.timeouts[t]);
                    w.timeouts = null
                }
                var n = this.event
                  , e = e || window.event;
                if (w.Hb()) {
                    var i = {};
                    if (i.e = n,
                    i.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onEventDoubleClick && (w.onEventDoubleClick(i),
                    i.preventDefault.value))
                        return;
                    switch (w.eventDoubleClickHandling) {
                    case "PostBack":
                        w.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        w.eventDoubleClickCallBack(n);
                        break;
                    case "Edit":
                        n.allday() || w.Yb(this);
                        break;
                    case "Select":
                        n.allday() || w.Zb(this, n, e.ctrlKey);
                        break;
                    case "Bubble":
                        w.bubble && w.bubble.showEvent(n)
                    }
                    "function" == typeof w.onEventDoubleClicked && w.onEventDoubleClicked(i)
                } else
                    switch (w.eventDoubleClickHandling) {
                    case "PostBack":
                        w.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        w.eventDoubleClickCallBack(n);
                        break;
                    case "JavaScript":
                        w.onEventDoubleClick(n);
                        break;
                    case "Edit":
                        n.allday() || w.Yb(this);
                        break;
                    case "Select":
                        n.allday() || w.Zb(this, n, e.ctrlKey);
                        break;
                    case "Bubble":
                        w.bubble && w.bubble.showEvent(n)
                    }
            }
            ,
            this.eventRightClickPostBack = function(e, t) {
                this.Ka("EventRightClick", t, e)
            }
            ,
            this.eventRightClickCallBack = function(e, t) {
                this.Ma("EventRightClick", e, t)
            }
            ,
            this._b = function(e) {
                var t = this.event;
                if (e.stopPropagation && e.stopPropagation(),
                !t.client.rightClickEnabled())
                    return !1;
                if (w.Hb()) {
                    var n = {};
                    if (n.e = t,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onEventRightClick && (w.onEventRightClick(n),
                    n.preventDefault.value))
                        return !1;
                    switch (w.eventRightClickHandling) {
                    case "PostBack":
                        w.eventRightClickPostBack(t);
                        break;
                    case "CallBack":
                        w.eventRightClickCallBack(t);
                        break;
                    case "ContextMenu":
                        var i = t.client.contextMenu();
                        i ? i.show(t) : w.contextMenu && w.contextMenu.show(this.event);
                        break;
                    case "Bubble":
                        w.bubble && w.bubble.showEvent(t)
                    }
                    "function" == typeof w.onEventRightClicked && w.onEventRightClicked(n)
                } else
                    switch (w.eventRightClickHandling) {
                    case "PostBack":
                        w.eventRightClickPostBack(t);
                        break;
                    case "CallBack":
                        w.eventRightClickCallBack(t);
                        break;
                    case "JavaScript":
                        w.onEventRightClick(t);
                        break;
                    case "ContextMenu":
                        var i = t.client.contextMenu();
                        i ? i.show(t) : w.contextMenu && w.contextMenu.show(this.event);
                        break;
                    case "Bubble":
                        w.bubble && w.bubble.showEvent(t)
                    }
                return e.preventDefault && e.preventDefault(),
                !1
            }
            ,
            this.bc = function(e) {
                return new DayPilot.Column(e,w);
            }
            ,
            this.headerClickPostBack = function(e, t) {
                this.Ka("HeaderClick", t, e)
            }
            ,
            this.headerClickCallBack = function(e, t) {
                this.Ma("HeaderClick", e, t)
            }
            ,
            this.cc = function(e) {
                var t = this.data
                  , n = w.bc(t, w);
                if (w.Hb()) {
                    var i = {};
                    if (i.header = {},
                    i.header.id = t.id,
                    i.header.name = t.name,
                    i.header.start = t.start,
                    i.column = n,
                    i.originalEvent = e,
                    i.shift = e.shiftKey,
                    i.ctrl = e.ctrlKey,
                    i.meta = e.metaKey,
                    i.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onHeaderClick && (w.onHeaderClick(i),
                    i.preventDefault.value))
                        return;
                    switch (w.headerClickHandling) {
                    case "PostBack":
                        w.headerClickPostBack(n);
                        break;
                    case "CallBack":
                        w.headerClickCallBack(n)
                    }
                    "function" == typeof w.onHeaderClicked && w.onHeaderClicked(i)
                } else
                    switch (w.headerClickHandling) {
                    case "PostBack":
                        w.headerClickPostBack(n);
                        break;
                    case "CallBack":
                        w.headerClickCallBack(n);
                        break;
                    case "JavaScript":
                        w.onHeaderClick(n)
                    }
            }
            ,
            this.dc = function(e) {
                var t = this
                  , n = t.firstChild;
                if ("undefined" != typeof DayPilot.Bubble && w.columnBubble)
                    if ("Resources" === w.viewType) {
                        var i = {};
                        i.calendar = w,
                        i.start = this.data.start,
                        i.name = this.data.name,
                        i.id = this.data.id,
                        i.toJSON = function() {
                            var e = {};
                            return e.id = this.id,
                            e.start = this.start,
                            e.name = this.name,
                            e
                        }
                        ,
                        w.columnBubble.showResource(i, !1, t)
                    } else {
                        var a = new DayPilot.Date(this.data.start)
                          , r = a.addDays(1)
                          , o = {};
                        o.calendar = w,
                        o.start = a,
                        o.end = r,
                        o.toJSON = function() {
                            var e = {};
                            return e.start = this.start,
                            e.end = this.end,
                            e
                        }
                        ,
                        w.columnBubble.showTime(o, !1, t)
                    }
                if (!n.active) {
                    var s = t.data
                      , l = w.bc(s);
                    l.areas = t.data.areas,
                    DayPilot.Areas.showAreas(n, l)
                }
                "undefined" != typeof x && x.t && x.ec(e, t)
            }
            ,
            this.fc = function(e) {
                "undefined" != typeof DayPilot.Bubble && w.columnBubble && w.columnBubble.hideOnMouseOut(),
                DayPilot.Areas.hideAreas(this.firstChild, e)
            }
            ,
            this.eventDeletePostBack = function(e, t) {
                this.Ka("EventDelete", t, e)
            }
            ,
            this.eventDeleteCallBack = function(e, t) {
                this.Ma("EventDelete", e, t)
            }
            ,
            this.gc = function(e) {
                var t;
                if (t = e && e.isEvent ? e : e.parentNode.parentNode.event,
                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(),
                DayPilot.Bubble.cancelShowing()),
                w.Hb()) {
                    var n = {};
                    if (n.e = t,
                    n.control = w,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onEventDelete && (w.onEventDelete(n),
                    n.preventDefault.value))
                        return;
                    switch (w.eventDeleteHandling) {
                    case "PostBack":
                        w.eventDeletePostBack(t);
                        break;
                    case "CallBack":
                        w.eventDeleteCallBack(t);
                        break;
                    case "Update":
                        w.events.remove(t)
                    }
                    "function" == typeof w.onEventDeleted && w.onEventDeleted(n)
                } else
                    switch (w.eventDeleteHandling) {
                    case "PostBack":
                        w.eventDeletePostBack(t);
                        break;
                    case "CallBack":
                        w.eventDeleteCallBack(t);
                        break;
                    case "JavaScript":
                        w.onEventDelete(t)
                    }
            }
            ,
            this.eventResizePostBack = function(e, t, n, i) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var a = {};
                a.e = e,
                a.newStart = t,
                a.newEnd = n,
                this.Ka("EventResize", i, a)
            }
            ,
            this.eventResizeCallBack = function(e, t, n, i) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var a = {};
                a.e = e,
                a.newStart = t,
                a.newEnd = n,
                this.Ma("EventResize", a, i)
            }
            ,
            this.hc = function(e, t, n, i) {
                if ("PostBack" === e)
                    w.postBack2(t, n, i);
                else if ("CallBack" === e)
                    w.Ma(t, n, i, "CallBack");
                else if ("Immediate" === e)
                    w.Ma(t, n, i, "Notify");
                else if ("Queue" === e)
                    w.queue.add(new DayPilot.Action(this,t,n,i));
                else {
                    if ("Notify" !== e)
                        throw new DayPilot.Exception("Invalid event invocation type");
                    "Notify" === _.ic() ? w.Ma(t, n, i, "Notify") : w.queue.add(new DayPilot.Action(w,t,n,i))
                }
            }
            ,
            this.Rb = function(e) {
                if ("Resources" === w.viewType && w.days > 1)
                    return 0;
                if ("BusinessHoursNoScroll" === this.heightSpec)
                    return this.businessBeginsHour;
                if (this.hideFreeCells && !e) {
                    var t = this.jc * _.Lb() / this.cellHeight
                      , n = Math.floor(t / 60);
                    return n = Math.max(0, n),
                    Math.min(this.dayBeginsHour + n, this.businessBeginsHour)
                }
                return this.dayBeginsHour
            }
            ,
            this.visibleStart = function() {
                if ("Resources" === w.viewType) {
                    if (w.Kb.isEmpty())
                        return DayPilot.Date.today();
                    var e = f(w.Kb).map(function(e) {
                        return e.start.getTime()
                    })
                      , t = Math.min.apply(null, e);
                    return new DayPilot.Date(t)
                }
                return this.Kb[0].start
            }
            ,
            this.visibleEnd = function() {
                if ("Resources" === w.viewType) {
                    if (w.Kb.isEmpty())
                        return DayPilot.Date.today().addDays(w.days);
                    var e = f(w.Kb).map(function(e) {
                        return e.start.getTime()
                    })
                      , t = Math.max.apply(null, e);
                    return new DayPilot.Date(t).addDays(w.days)
                }
                var n = this.Kb
                  , t = n.length - 1;
                return n[t].start.addDays(1)
            }
            ,
            this.Hb = function() {
                return 2 === w.api
            }
            ,
            this.kc = function(e, t) {
                var n = w.Kb[e.part.dayIndex].start
                  , i = Math.floor(t / w.cellHeight);
                w.snapToGrid && w.snapToGridEventResizing || (i = t / w.cellHeight);
                var a = Math.floor(i * _.Lb())
                  , r = 60 * a * 1e3
                  , o = 60 * w.Rb() * 60 * 1e3;
                return n.addTime(r + o)
            }
            ,
            this.lc = function(e, t) {
                var n = Math.floor(t / w.cellHeight);
                w.snapToGrid && w.snapToGridEventResizing || (n = t / w.cellHeight);
                var i = Math.floor(n * _.Lb())
                  , a = 60 * i * 1e3
                  , r = 60 * w.Rb() * 60 * 1e3;
                return w.Kb[e.part.dayIndex].start.addTime(a + r)
            }
            ,
            this.nc = function(e, t, n, i) {
                if ("Disabled" !== this.eventResizeHandling) {
                    var a, r;
                    if ("top" === i ? (a = w.kc(e, n),
                    r = e.end()) : "bottom" === i && (a = e.start(),
                    r = w.lc(e, n + t)),
                    w.va) {
                        var o = w.oc;
                        a = o.start,
                        r = o.end
                    }
                    if (w.Hb()) {
                        var s = {}
                          , l = function() {
                            if (s.loaded = function() {}
                            ,
                            w.pc(),
                            !s.preventDefault.value) {
                                switch (w.eventResizeHandling) {
                                case "PostBack":
                                    w.eventResizePostBack(e, a, r);
                                    break;
                                case "CallBack":
                                    w.eventResizeCallBack(e, a, r);
                                    break;
                                case "Notify":
                                    w.eventResizeNotify(e, a, r);
                                    break;
                                case "Update":
                                    e.start(a),
                                    e.end(r),
                                    w.events.update(e)
                                }
                                "function" == typeof w.onEventResized && w.onEventResized(s)
                            }
                        };
                        if (s.e = e,
                        s.control = w,
                        s.newStart = a,
                        s.newEnd = r,
                        s.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        s.async = !1,
                        s.hideShadow = function() {
                            w.pc()
                        }
                        ,
                        s.loaded = function() {
                            l()
                        }
                        ,
                        "function" == typeof w.onEventResize && (w.onEventResize(s),
                        s.preventDefault.value))
                            return void w.pc();
                        s.async || l()
                    } else
                        switch (w.pc(),
                        w.eventResizeHandling) {
                        case "PostBack":
                            w.eventResizePostBack(e, a, r);
                            break;
                        case "CallBack":
                            w.eventResizeCallBack(e, a, r);
                            break;
                        case "JavaScript":
                            w.onEventResize(e, a, r);
                            break;
                        case "Notify":
                            w.eventResizeNotify(e, a, r)
                        }
                }
            }
            ,
            this.eventResizeNotify = function(e, t, n, i) {
                var a = new DayPilot.Event(e.copy(),this);
                e.start(t),
                e.end(n),
                e.commit(),
                w.update(),
                this.qc("Notify", a, t, n, i)
            }
            ,
            this.qc = function(e, t, n, i, a) {
                var r = {};
                r.e = t,
                r.newStart = n,
                r.newEnd = i,
                this.hc(e, "EventResize", r, a)
            }
            ,
            this.eventMovePostBack = function(e, t, n, i, a) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var r = {};
                r.e = e,
                r.newStart = t,
                r.newEnd = n,
                r.newResource = i,
                this.Ka("EventMove", a, r)
            }
            ,
            this.eventMoveCallBack = function(e, t, n, i, a) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var r = {};
                r.e = e,
                r.newStart = t,
                r.newEnd = n,
                r.newResource = i,
                this.Ma("EventMove", r, a)
            }
            ,
            this.rc = function(e, t, n) {
                var i = w.Jb(t.x);
                i < 0 && (i = 0),
                i >= w.Kb.length && (i = w.Kb.length - 1);
                var a = w.Kb[i]
                  , r = a.start
                  , o = a.id
                  , s = w.snapToGrid && w.snapToGridEventMoving
                  , l = 0;
                if (e.part.box) {
                    var d = w.Kb[e.part.dayIndex]
                      , c = w.sc(e.start(), d.start);
                    l = e.start().getTime() - c.boxStart.getTime()
                }
                var u = w.tc(t.x, t.y)
                  , h = u.addTime(-n);
                if (s) {
                    var f = h.addTime(-l);
                    h = w.uc(f, r).addTime(l)
                }
                return {
                    "start": h,
                    "end": h.addTime(e.end().getTime() - e.start().getTime()),
                    "resource": o
                }
            }
            ,
            this.vc = function(e, t, n) {
                var i = 0
                  , a = Math.floor((n - i) / w.cellHeight)
                  , r = w.snapToGrid && w.snapToGridEventMoving;
                r || (a = n / w.cellHeight);
                var o = _.Lb()
                  , s = a * o * 60 * 1e3
                  , l = e.start()
                  , d = e.end()
                  , c = new Date;
                l instanceof DayPilot.Date && (l = l.toDate()),
                c.setTime(Date.UTC(l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate()));
                var u = "Never" !== w.useEventBoxes ? l.getTime() - (c.getTime() + 3600 * l.getUTCHours() * 1e3 + Math.floor(l.getUTCMinutes() / o) * o * 60 * 1e3) : 0;
                r || (u = 0);
                var h = d.getTime() - l.getTime()
                  , f = 3600 * w.Rb() * 1e3;
                "undefined" == typeof t && (t = e.part.dayIndex);
                var v = this.Kb[t]
                  , p = v.start.getTime()
                  , m = new Date;
                m.setTime(p + s + u + f);
                var g = new DayPilot.Date(m);
                return {
                    "start": g,
                    "end": g.addTime(h),
                    "resource": v.id
                }
            }
            ,
            this.wc = function(e, t, n, i, a) {
                if ("Disabled" !== w.eventMoveHandling) {
                    var r;
                    w.xc ? (r = w.xc,
                    w.xc = null) : r = w.vc(e, t, n);
                    var o = r.start
                      , s = r.end
                      , l = r.resource
                      , d = !!a;
                    if (w.Hb()) {
                        var c = {}
                          , u = function() {
                            if (c.loaded = function() {}
                            ,
                            w.yc(),
                            !c.preventDefault.value) {
                                switch (w.eventMoveHandling) {
                                case "PostBack":
                                    w.eventMovePostBack(e, o, s, l);
                                    break;
                                case "CallBack":
                                    w.eventMoveCallBack(e, o, s, l);
                                    break;
                                case "Notify":
                                    w.eventMoveNotify(e, o, s, l);
                                    break;
                                case "Update":
                                    e.start(o),
                                    e.end(s),
                                    e.resource(l),
                                    d ? (e.commit(),
                                    w.events.add(e)) : w.events.update(e),
                                    w.zc()
                                }
                                "function" == typeof w.onEventMoved && w.onEventMoved(c)
                            }
                        };
                        if (c.e = e,
                        c.control = w,
                        c.newStart = r.start,
                        c.newEnd = r.end,
                        c.newResource = r.resource,
                        c.external = d,
                        c.areaData = v.movingAreaData,
                        c.ctrl = !1,
                        i && (c.ctrl = i.ctrlKey),
                        c.shift = !1,
                        i && (c.shift = i.shiftKey),
                        c.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        c.async = !1,
                        c.hideShadow = function() {
                            w.yc()
                        }
                        ,
                        c.loaded = function() {
                            u()
                        }
                        ,
                        "function" == typeof w.onEventMove && (w.onEventMove(c),
                        c.preventDefault.value))
                            return void w.yc();
                        c.async || u()
                    } else
                        switch (w.yc(),
                        w.eventMoveHandling) {
                        case "PostBack":
                            w.eventMovePostBack(e, o, s, l);
                            break;
                        case "CallBack":
                            w.eventMoveCallBack(e, o, s, l);
                            break;
                        case "JavaScript":
                            w.onEventMove(e, o, s, l, d, !!i && i.ctrlKey, !!i && i.shiftKey);
                            break;
                        case "Notify":
                            w.eventMoveNotify(e, o, s, l, null)
                        }
                }
            }
            ,
            this.eventMoveNotify = function(e, t, n, i, a) {
                var r = new DayPilot.Event(e.copy(),this);
                e.start(t),
                e.end(n),
                e.resource(i),
                e.commit(),
                w.update(),
                this.Ac("Notify", r, t, n, i, a)
            }
            ,
            this.Ac = function(e, t, n, i, a, r) {
                var o = {};
                o.e = t,
                o.newStart = n,
                o.newEnd = i,
                o.newResource = a,
                this.hc(e, "EventMove", o, r)
            }
            ,
            this.zc = function() {
                if (w.todo && w.todo.del) {
                    var e = w.todo.del;
                    e.parentNode.removeChild(e),
                    w.todo.del = null
                }
            }
            ,
            this.Bc = function(e, t) {
                var n = w.Cc(t)
                  , i = {};
                i.args = e,
                i.guid = n,
                w.Ma("Bubble", i)
            }
            ,
            this.Cc = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []),
                this.bubbles[t] = e,
                t
            }
            ,
            this.eventMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ka("EventMenuClick", n, i)
            }
            ,
            this.eventMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ma("EventMenuClick", i, n)
            }
            ,
            this.Dc = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    w.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    w.eventMenuClickCallBack(t, e)
                }
            }
            ,
            this.timeRangeMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ka("TimeRangeMenuClick", n, i)
            }
            ,
            this.timeRangeMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ma("TimeRangeMenuClick", i, n)
            }
            ,
            this.Ec = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    w.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    w.timeRangeMenuClickCallBack(t, e)
                }
            }
            ,
            this.timeRangeSelectedPostBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ka("TimeRangeSelected", i, a)
            }
            ,
            this.timeRangeSelectedCallBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ma("TimeRangeSelected", a, i)
            }
            ,
            this.Fc = function(e, t, n, i) {
                e = new DayPilot.Date(e),
                t = new DayPilot.Date(t),
                i = i || "click";
                var a = n;
                if (w.Hb()) {
                    var r = {};
                    if (r.start = e,
                    r.end = t,
                    r.resource = a,
                    r.control = w,
                    r.origin = i,
                    r.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    r.toJSON = function() {
                        return l(r, {}, ["start", "end", "resource"])
                    }
                    ,
                    "function" == typeof w.onTimeRangeSelect && (w.onTimeRangeSelect(r),
                    r.preventDefault.value))
                        return;
                    switch (w.timeRangeSelectedHandling) {
                    case "PostBack":
                        w.timeRangeSelectedPostBack(e, t, a);
                        break;
                    case "CallBack":
                        w.timeRangeSelectedCallBack(e, t, a)
                    }
                    "function" == typeof w.onTimeRangeSelected && w.onTimeRangeSelected(r)
                } else
                    switch (w.timeRangeSelectedHandling) {
                    case "PostBack":
                        w.timeRangeSelectedPostBack(e, t, n);
                        break;
                    case "CallBack":
                        w.timeRangeSelectedCallBack(e, t, n);
                        break;
                    case "JavaScript":
                        w.onTimeRangeSelected(e, t, n)
                    }
            }
            ,
            this.timeRangeDoubleClickPostBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ka("TimeRangeDoubleClick", i, a)
            }
            ,
            this.timeRangeDoubleClickCallBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ma("TimeRangeDoubleClick", a, i)
            }
            ,
            this.Gc = function(e, t, n) {
                if (w.Hb()) {
                    var i = n
                      , a = {};
                    a.start = e,
                    a.end = t,
                    a.resource = i,
                    a.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onTimeRangeClick && (w.onTimeRangeClick(a),
                    a.preventDefault.value) || "function" == typeof w.onTimeRangeClicked && w.onTimeRangeClicked(a)
                }
            }
            ,
            this.Hc = function(e, t, n) {
                if (w.Hb()) {
                    var i = n
                      , a = {};
                    if (a.start = e,
                    a.end = t,
                    a.resource = i,
                    a.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onTimeRangeDoubleClick && (w.onTimeRangeDoubleClick(a),
                    a.preventDefault.value))
                        return;
                    switch (w.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        w.timeRangeDoubleClickPostBack(e, t, i);
                        break;
                    case "CallBack":
                        w.timeRangeDoubleClickCallBack(e, t, i)
                    }
                    "function" == typeof w.onTimeRangeDoubleClicked && w.onTimeRangeDoubleClicked(a)
                } else
                    switch (w.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        w.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack":
                        w.timeRangeDoubleClickCallBack(e, t, n);
                        break;
                    case "JavaScript":
                        w.onTimeRangeDoubleClick(e, t, n)
                    }
            }
            ,
            this.eventEditPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.newText = t,
                this.Ka("EventEdit", n, i)
            }
            ,
            this.eventEditCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.newText = t,
                this.Ma("EventEdit", i, n)
            }
            ,
            this.Ic = function(e, t) {
                if (w.Hb()) {
                    var n = {};
                    if (n.control = w,
                    n.e = e,
                    n.newText = t,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof w.onEventEdit && (w.onEventEdit(n),
                    n.preventDefault.value))
                        return;
                    switch (w.eventEditHandling) {
                    case "PostBack":
                        w.eventEditPostBack(e, n.newText);
                        break;
                    case "CallBack":
                        w.eventEditCallBack(e, n.newText);
                        break;
                    case "Update":
                        e.text(n.newText),
                        w.events.update(e)
                    }
                    if ("function" == typeof w.onEventEdited && (w.onEventEdited(n),
                    n.preventDefault.value))
                        return
                } else
                    switch (w.eventEditHandling) {
                    case "PostBack":
                        w.eventEditPostBack(e, t);
                        break;
                    case "CallBack":
                        w.eventEditCallBack(e, t);
                        break;
                    case "JavaScript":
                        w.onEventEdit(e, t)
                    }
            }
            ,
            this.eventSelectPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ka("EventSelect", n, i)
            }
            ,
            this.eventSelectCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ma("EventSelect", i, n)
            }
            ,
            this.Jc = function(e, t, n, i) {
                var a = w.multiselect
                  , r = a.isSelected(t);
                if (n || i || !r || 1 !== a.Kc.length)
                    if (w.Hb()) {
                        a.previous = a.events();
                        var o = {};
                        if (o.e = t,
                        o.selected = a.isSelected(t),
                        o.ctrl = n,
                        o.meta = i,
                        o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof w.onEventSelect && (w.onEventSelect(o),
                        o.preventDefault.value))
                            return;
                        switch (w.eventSelectHandling) {
                        case "PostBack":
                            w.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            w.eventSelectCallBack(t, s);
                            break;
                        case "Update":
                            a.Nc(e, n)
                        }
                        "function" == typeof w.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected",
                        o.selected = a.isSelected(t),
                        w.onEventSelected(o))
                    } else {
                        a.previous = a.events(),
                        a.Nc(e, n);
                        var s = a.isSelected(t) ? "selected" : "deselected";
                        switch (w.eventSelectHandling) {
                        case "PostBack":
                            w.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            w.eventSelectCallBack(t, s);
                            break;
                        case "JavaScript":
                            w.onEventSelect(t, s)
                        }
                    }
            }
            ,
            this.commandCallBack = function(e, t) {
                this.Ua();
                var n = {};
                n.command = e,
                this.Ma("Command", n, t)
            }
            ,
            this.Oc = function(e) {
                if (!S.active && !S.using && (clearTimeout(m.selectedTimeout),
                !v.selecting)) {
                    if (m.editing)
                        return void m.editing.blur();
                    if (!(w.Ea && "Disabled" !== w.timeRangeDoubleClickHandling && w.Pc(w.coords) || "Disabled" === w.timeRangeSelectedHandling)) {
                        if (DayPilot.Util.mouseButton(e).left) {
                            v.selecting = {
                                "calendar": w,
                                "start": w.coords
                            };
                            var t = v.selecting;
                            t.start.time = w.tc(w.coords.x, w.coords.y),
                            t.start.columnIndex = w.Jb(w.coords.x),
                            t.start.column = w.Kb[t.start.columnIndex],
                            w.Qc(),
                            w.Rc()
                        }
                    }
                }
            }
            ,
            this.Rc = function(e) {
                var n = e || v.selecting;
                n && !function() {
                    var e = w.timeRangeSelectingStartEndFormat;
                    "Auto" === e && (e = "Clock24Hours" === _.Sc() ? "H:mm" : "h:mm tt");
                    var i = n.start.column
                      , a = n.start.columnIndex
                      , o = {};
                    o.anchor = n.anchor,
                    o.start = n.startTime,
                    o.end = n.endTime,
                    o.duration = new DayPilot.Duration(o.start,o.end),
                    o.resource = i.id,
                    o.allowed = !0,
                    o.html = null,
                    o.cssClass = null,
                    o.top = {},
                    o.top.width = null,
                    o.top.space = 5,
                    o.top.html = o.start.toString(e, _.Tc()),
                    o.top.enabled = w.timeRangeSelectingStartEndEnabled,
                    o.bottom = {},
                    o.bottom.width = null,
                    o.bottom.space = 5,
                    o.bottom.html = o.end.toString(e, _.Tc()),
                    o.bottom.enabled = w.timeRangeSelectingStartEndEnabled;
                    var s = v.selecting && v.selecting.args;
                    if (!s || s.start !== o.start || s.end !== o.end || s.resource != o.resource) {
                        if (!w.allowEventOverlap) {
                            var l = {
                                "id": null,
                                "start": o.start,
                                "end": o.end,
                                "resource": o.resource
                            };
                            w.events.Uc(l) && (o.allowed = !1)
                        }
                        w.Vc(o.start, o.end, o.resource) && (o.allowed = !1),
                        "function" == typeof w.onTimeRangeSelecting && o.allowed && w.onTimeRangeSelecting(o),
                        v.selecting && (v.selecting.args = o);
                        var d = w.sc(o.start, i.start)
                          , c = w.sc(o.end, i.start)
                          , u = d.boxTop - w.Wc()
                          , h = c.boxBottom - w.Wc();
                        w.snapToGrid && w.snapToGridTimeRangeSelecting || (u = d.top - w.Wc(),
                        h = c.top - w.Wc());
                        var f = h - u
                          , p = function() {
                            if (w.nav.activeSelection)
                                return w.nav.activeSelection;
                            var e = t();
                            e.setAttribute("unselectable", "on"),
                            e.style.zIndex = w.qa,
                            e.style.position = "absolute",
                            e.style.left = "0px",
                            e.style.right = "0px";
                            e.style.left = w.columnMarginLeft + "px",
                            e.style.right = w.columnMarginRight + "px",
                            e.onclick = function(e) {
                                if ("Disabled" !== w.timeRangeClickHandling) {
                                    var t = w.getSelection();
                                    t && w.Gc(t.start, t.end, t.resource)
                                }
                            }
                            ,
                            e.ondblclick = function(e) {
                                if ("Disabled" !== w.timeRangeDoubleClickHandling) {
                                    clearTimeout(w.Xc);
                                    var t = w.getSelection();
                                    t && w.Hc(t.start, t.end, t.resource)
                                }
                            }
                            ;
                            var n = t();
                            return n.setAttribute("unselectable", "on"),
                            n.className = w.da("_shadow_inner"),
                            e.appendChild(n),
                            w.nav.events.rows[0].cells[a].selection.appendChild(e),
                            w.elements.selection.push(e),
                            w.nav.activeSelection = e,
                            e
                        }();
                        p.style.top = u + "px",
                        p.style.height = f + "px",
                        p.remove(),
                        w.nav.events.rows[0].cells[a].selection.appendChild(p);
                        var m = [{
                            "div": p,
                            "columnIndex": a
                        }];
                        if (w.va) {
                            p.style.display = "none";
                            var g = {
                                "start": o.start,
                                "end": o.end,
                                "resource": i.id
                            };
                            w.Yc(null, g),
                            m = w.Fa
                        }
                        w.Zc(),
                        m.forEach(function(e) {
                            var t = e.div
                              , n = e.columnIndex;
                            t.className = w.da("_shadow"),
                            t.firstChild.innerHTML = "";
                            var i = t.firstChild;
                            o.html && (i.innerHTML = o.html),
                            o.cssClass && r(t, o.cssClass),
                            o.allowed || r(t, w.da("_shadow_forbidden")),
                            w.$c(t, n, o)
                        })
                    }
                }()
            }
            ,
            this.yc = function() {
                w._c(m.movingShadow),
                m.movingShadow = null;
                var e = (w.Fa || []).map(function(e) {
                    return e.div
                });
                DayPilot.de(e),
                w.Fa = []
            }
            ,
            this.pc = function() {
                w._c(m.resizingShadow),
                m.resizingShadow = null;
                var e = (w.Fa || []).map(function(e) {
                    return e.div
                });
                DayPilot.de(e),
                w.Fa = []
            }
            ,
            this._c = function(e) {
                p(e),
                p(w.nav.indicatorTop),
                p(w.nav.indicatorBottom)
            }
            ,
            this.Zc = function() {
                p(w.nav.indicatorTop),
                p(w.nav.indicatorBottom),
                w.nav.indicatorTop = [],
                w.nav.indicatorBottom = []
            }
            ,
            this.$c = function(e, n, i) {
                var a = w.nav.events.rows[0].cells
                  , r = a[n].events
                  , o = n === a.length - 1;
                if (i.top.enabled) {
                    var s = t();
                    s.style.zIndex = w.qa,
                    s.style.position = "absolute",
                    s.style.top = e.offsetTop + "px",
                    o ? s.style.right = "0px" : s.style.left = e.offsetWidth + i.top.space + "px",
                    i.top.width ? s.style.width = i.top.width + "px" : s.style.whiteSpace = "nowrap",
                    i.top.html && (s.innerHTML = i.top.html),
                    s.className = w.da("_shadow_top"),
                    r.appendChild(s),
                    w.elements.selection.push(s),
                    w.nav.indicatorTop.push(s)
                }
                if (i.bottom.enabled) {
                    var l = t();
                    l.style.zIndex = w.qa,
                    l.style.position = "absolute",
                    l.style.top = e.offsetTop + e.offsetHeight + "px",
                    o ? l.style.right = "0px" : l.style.left = e.offsetWidth + i.bottom.space + "px",
                    i.bottom.width ? l.style.width = i.bottom.width + "px" : l.style.whiteSpace = "nowrap",
                    i.bottom.html && (l.innerHTML = i.bottom.html),
                    l.className = w.da("_shadow_bottom"),
                    r.appendChild(l);
                    var d = l.offsetHeight;
                    l.style.top = e.offsetTop + e.offsetHeight - d + "px",
                    w.elements.selection.push(l),
                    w.nav.indicatorBottom.push(l)
                }
            }
            ,
            this.ad = function(e) {
                "undefined" != typeof DayPilot.Bubble && w.cellBubble && w.cellBubble.hideOnMouseOut()
            }
            ,
            this.bd = function(e) {
                if ("undefined" != typeof m && !S.active && !S.using) {
                    if ("undefined" != typeof DayPilot.Bubble && w.cellBubble) {
                        var t = {};
                        t.calendar = w,
                        t.start = this.start,
                        t.end = this.end,
                        t.resource = this.resource,
                        t.toJSON = function() {
                            var e = {};
                            return e.start = this.start,
                            e.end = this.end,
                            e.resource = this.resource,
                            e
                        }
                        ,
                        w.cellBubble.showCell(t, this)
                    }
                    "undefined" != typeof k && k.t && k.cd(t, e)
                }
            }
            ,
            this.getSelection = function() {
                if (!w.Ea)
                    return null;
                var e = w.Ea;
                return new DayPilot.Selection(e.startTime,e.endTime,e.start.column.id,w)
            }
            ,
            this.dd = function(e) {}
            ,
            this.ed = function(e) {
                if ("Fixed" === w.columnWidthSpec || w.ra) {
                    if (!w.nav.bottomLeft)
                        return;
                    w.nav.bottomLeft.scrollTop = w.nav.bottomRight.scrollTop,
                    w.nav.upperRight && (w.nav.upperRight.scrollLeft = w.nav.bottomRight.scrollLeft),
                    w.nav.scrollLayer.scrollLeft = w.nav.bottomRight.scrollLeft
                }
                var t = w.fd();
                w.scrollPos = t.scrollTop,
                w.gd = t.clientHeight,
                w.nav.scrollpos.value = w.scrollPos,
                w.Fb(),
                w.Ga(),
                "Progressive" === w.dynamicEventRendering && (clearTimeout(w.hd),
                0 === w.scrollDelayEvents ? w.jd() : w.hd = setTimeout(function() {
                    w.jd()
                }, w.scrollDelayEvents)),
                "Fixed" === w.columnWidthSpec && (clearTimeout(w.kd),
                0 === w.scrollDelayCells ? w.ld() : w.kd = setTimeout(function() {
                    w.ld()
                }, w.scrollDelayCells))
            }
            ,
            this.Fb = function() {
                if (this.scrollLabelsVisible && this.md) {
                    if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) {
                        var e = this.Kb
                          , t = this.showHours ? this.hourWidth : 0
                          , n = (this.nav.scroll.clientWidth - t) / e.length;
                        "Fixed" === w.columnWidthSpec && (n = w.columnWidth);
                        for (var i = 1, a = 0; a < this.nav.scrollUp.length; a++) {
                            var r = this.nav.scrollUp[a]
                              , o = this.nav.scrollDown[a]
                              , s = Math.floor(t + a * n + n / 2 - 5 + i);
                            s < 0 && (s = 0),
                            s -= w.nav.bottomRight.scrollLeft,
                            r && r.style && (r.style.left = s + "px"),
                            o && o.style && (o.style.left = s + "px")
                        }
                        for (var l = this.Wc(), a = 0; a < this.nav.scrollUp.length; a++) {
                            var d = this.nav.scrollUp[a]
                              , c = this.nav.scrollDown[a]
                              , u = this.md[a].minEnd - l
                              , h = this.md[a].maxStart - l;
                            d && c && (u <= w.scrollPos && parseInt(d.style.left) >= w.hourWidth ? (d.style.top = this.Sb() + "px",
                            d.style.display = "") : d.style.display = "none",
                            h >= w.scrollPos + w.gd && parseInt(c.style.left) >= w.hourWidth ? (c.style.top = this.Sb() + this.gd - 10 + "px",
                            c.style.display = "") : c.style.display = "none")
                        }
                    }
                }
            }
            ,
            this.nd = function(e) {
                var t = e.parentNode
                  , n = 0
                  , i = e.offsetTop
                  , a = e.parentNode.offsetWidth
                  , r = e.offsetHeight;
                e.event.allday() && (n = e.offsetLeft,
                a = e.offsetWidth);
                var o = document.createElement("textarea");
                o.style.boxSizing = "border-box",
                o.style.position = "absolute",
                o.style.width = a + "px",
                o.style.height = r + "px";
                var s = DayPilot.gs(e, "fontFamily");
                s || (s = DayPilot.gs(e, "font-family")),
                o.style.fontFamily = s;
                var l = DayPilot.gs(e, "fontSize");
                return l || (l = DayPilot.gs(e, "font-size")),
                o.style.fontSize = l,
                o.style.left = n + "px",
                o.style.top = i + "px",
                o.style.border = "1px solid black",
                o.style.padding = "0px",
                o.style.marginTop = "0px",
                o.style.backgroundColor = "white",
                o.value = (e.event.text() || "").trim(),
                o.event = e.event,
                t.appendChild(o),
                o
            }
            ,
            this.Zb = function(e, t, n, i) {
                w.Jc(e, t, n, i)
            }
            ,
            this.zoom = {},
            this.zoom.active = -1,
            this.zoom.setActive = function(e) {
                var t;
                if ("number" == typeof e)
                    t = w.zoomLevels[e];
                else {
                    if ("string" != typeof e)
                        throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e);
                    var n = w.zoom.od(e);
                    t = w.zoomLevels[n]
                }
                if (!t)
                    throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")");
                if (e !== w.zoom.active) {
                    var i = w.zoom.pd();
                    w.zoom.qd(e),
                    w.Aa && w.update(),
                    i && w.scrollToHour(i)
                }
            }
            ,
            this.zoom.od = function(e) {
                return f(w.zoomLevels).findIndex(function(t) {
                    return t.id === e
                })
            }
            ,
            this.zoom.pd = function() {
                var e = w.rd();
                if (!e)
                    return null;
                var t = e.pixels.top;
                return w.sd(t)
            }
            ,
            this.zoom.qd = function(e) {
                var t = w.zoomLevels.length - 1;
                e > t && (e = t),
                e < 0 && (e = 0),
                w.zoom.active = e;
                var n = w.zoomLevels[e]
                  , i = {};
                return i.level = n,
                DayPilot.Util.ownPropsAsArray(n.properties).forEach(function(e) {
                    if (0 !== e.key.indexOf("on"))
                        return "function" == typeof e.val ? void (w[e.key] = e.val(i)) : void (w[e.key] = e.val)
                }),
                i
            }
            ,
            this.multiselect = {},
            this.multiselect.mb = [],
            this.multiselect.Kc = [],
            this.multiselect.td = [],
            this.multiselect.ud = [],
            this.multiselect.vd = function() {
                var e = w.multiselect;
                return JSON.stringify(e.events())
            }
            ,
            this.multiselect.events = function() {
                var e = w.multiselect
                  , t = [];
                t.ignoreToJSON = !0;
                for (var n = 0; n < e.Kc.length; n++)
                    t.push(e.Kc[n]);
                return t
            }
            ,
            this.multiselect.xd = function() {
                w.nav.select.value = w.multiselect.vd()
            }
            ,
            this.multiselect.Nc = function(e, t) {
                var n = w.multiselect;
                if (n.isSelected(e.event))
                    if (w.allowMultiSelect)
                        if (t)
                            n.remove(e.event, !0);
                        else {
                            var i = n.Kc.length;
                            n.clear(!0),
                            i > 1 && n.add(e.event, !0)
                        }
                    else
                        n.clear(!0);
                else
                    w.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0),
                    n.add(e.event, !0));
                n.redraw(),
                n.xd()
            }
            ,
            this.multiselect.yd = function(e) {
                var t = w.multiselect;
                return t.zd(e, t.mb)
            }
            ,
            this.multiselect.Ad = function() {
                for (var e = w.multiselect, t = [], n = 0; n < e.Kc.length; n++) {
                    var i = e.Kc[n];
                    t.push(i.value())
                }
                alert(t.join("\n"))
            }
            ,
            this.multiselect.add = function(e, t) {
                var n = w.multiselect;
                n.Bd(e) === -1 && n.Kc.push(e),
                n.xd(),
                t || n.redraw()
            }
            ,
            this.multiselect.remove = function(e, t) {
                var n = w.multiselect
                  , i = n.Bd(e);
                i !== -1 && n.Kc.splice(i, 1),
                n.xd(),
                t || n.redraw()
            }
            ,
            this.multiselect.clear = function(e) {
                var t = w.multiselect;
                t.Kc = [],
                t.xd(),
                e || t.redraw()
            }
            ,
            this.multiselect.redraw = function() {
                for (var e = w.multiselect, t = 0; t < w.elements.events.length; t++) {
                    var n = w.elements.events[t];
                    e.isSelected(n.event) ? e.Cd(n) : e.Dd(n)
                }
            }
            ,
            this.multiselect.Cd = function(e) {
                var t = w.multiselect
                  , n = w.da("_selected");
                r(t.Ed(e), n),
                t.td.push(e)
            }
            ,
            this.multiselect.Ed = function(e) {
                return e
            }
            ,
            this.multiselect.Fd = function() {
                for (var e = w.multiselect, t = 0; t < e.td.length; t++) {
                    var n = e.td[t];
                    e.Dd(n, !0)
                }
                e.td = []
            }
            ,
            this.multiselect.Dd = function(e, t) {
                var n = w.multiselect
                  , i = w.da("_selected");
                if (o(n.Ed(e), i),
                !t) {
                    var a = DayPilot.indexOf(n.td, e);
                    a !== -1 && n.td.splice(a, 1)
                }
            }
            ,
            this.multiselect.isSelected = function(e) {
                return w.multiselect.zd(e, w.multiselect.Kc)
            }
            ,
            this.multiselect.Bd = function(e) {
                for (var t = e.data, n = 0; n < w.multiselect.Kc.length; n++) {
                    var i = w.multiselect.Kc[n];
                    if (w.Gd(i.data, t))
                        return n
                }
                return -1
            }
            ,
            this.multiselect.zd = function(e, t) {
                if (!t)
                    return !1;
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (w.Gd(e, i))
                        return !0
                }
                return !1
            }
            ,
            this.Yb = function(e) {
                if (m.editing)
                    return void m.editing.blur();
                var t = this.nd(e);
                m.editing = t,
                a(t, DayPilot.touch.start, function(e) {
                    e.stopPropagation()
                }),
                t.onblur = function() {
                    if (e.event) {
                        var n = e.event.text()
                          , i = t.value;
                        m.editing = null,
                        t.onblur = null,
                        p(t),
                        n !== i && (e.style.display = "none",
                        w.Ic(e.event, i))
                    }
                }
                ,
                t.onkeypress = function(e) {
                    if (13 === (window.event ? event.keyCode : e.keyCode))
                        return this.onblur(),
                        e.preventDefault(),
                        !1
                }
                ,
                t.onkeyup = function(e) {
                    return 27 === (window.event ? event.keyCode : e.keyCode) && (t.onblur = null,
                    t.parentNode && t.parentNode.removeChild(t),
                    m.editing = !1),
                    !0
                }
                ,
                t.select(),
                t.focus()
            }
            ,
            this.Hd = function() {
                return "Resources" !== w.viewType && (!w.nb() || !w.ka())
            }
            ,
            this.nb = function() {
                return DayPilot.isArray(w.columns) ? w.columns : w.columns.list
            }
            ,
            this.columns = {},
            this.columns.list = [],
            this.columns.filter = function(e) {
                w.Id.params = e,
                w.Aa && w.Jd()
            }
            ,
            this.columns.find = function(e, t) {
                var n = "Resources" === w.viewType;
                e = new DayPilot.Date(e);
                var i = w.Kb.find(function(i) {
                    var a = !n || i.id === t
                      , r = "Resources" === w.viewType ? w.days : 1
                      , o = i.start.addDays(r);
                    return !!(a && i.start <= e && e < o)
                });
                return i ? w.bc(i, w) : null
            }
            ,
            this.columns.load = function(e, t, n) {
                if (!e)
                    throw new DayPilot.Exception("columns.load(): 'url' parameter required");
                var i = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , a = function(e) {
                    var n, a = e.request;
                    try {
                        n = JSON.parse(a.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void i(r)
                    }
                    if (DayPilot.isArray(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        w.columns.list = n,
                        w.Aa && w.update()
                    }
                };
                w.columnsLoadMethod && "POST" === w.columnsLoadMethod.toUpperCase() ? DayPilot.ajax({
                    "method": "POST",
                    "url": e,
                    "success": a,
                    "error": i
                }) : DayPilot.ajax({
                    "method": "GET",
                    "url": e,
                    "success": a,
                    "error": i
                })
            }
            ,
            this.ob = function() {
                var e = w.Hd();
                if (w.Kd = 0,
                e) {
                    var t = this.Ld();
                    this.Kb = this.Md(t)
                } else
                    this.hb = this.Md(this.nb() || []),
                    this.Kb = this.Nd(_.Od(), !0)
            }
            ,
            this.Pd = function() {
                return w.Kb.find(function(e) {
                    return "number" == typeof e.width
                })
            }
            ,
            this.Qd = function() {
                var e = this.startDate.getDatePart()
                  , t = this.days;
                switch (this.viewType) {
                case "Day":
                    t = 1;
                    break;
                case "Week":
                    t = 7,
                    e = e.firstDayOfWeek(_.Rd());
                    break;
                case "WorkWeek":
                    for (t = 5,
                    e = e.firstDayOfWeek(_.Rd()); 1 !== e.dayOfWeek(); )
                        e = e.addDays(1)
                }
                var n = e.addDays(t)
                  , i = {};
                return i.start = e,
                i.end = n,
                i.days = t,
                i
            }
            ,
            this.Ld = function() {
                for (var e = [], t = this.Qd(), n = t.start, i = t.days, a = 0; a < i; a++) {
                    var r = {};
                    r.start = n.addDays(a);
                    var o = _.Tc().datePattern;
                    w.headerDateFormat && (o = w.headerDateFormat),
                    r.name = r.start.toString(o, _.Tc()),
                    r.html = r.name,
                    e.push(r)
                }
                return e
            }
            ,
            this.Id = {},
            this.Kd = 0,
            this.Sd = function() {
                if (!w.Hd()) {
                    "function" == typeof w.onColumnFilter && (w.qb(null, {
                        "preLoadOnly": !0
                    }),
                    this.Td(w.Kb),
                    this.Kb = this.Nd(_.Od(), !0));
                    w.Pd() && w.Ud()
                }
            }
            ,
            this.Td = function(e) {
                e && e.forEach(function(e) {
                    w.Vd(e)
                })
            }
            ,
            this.Vd = function(e) {
                var t = e.data
                  , n = !t.children || 0 === t.children.length;
                if ("function" == typeof w.onColumnFilter && w.Id.params)
                    if (n) {
                        var i = e.parent
                          , a = {};
                        a.visible = !0,
                        a.column = w.bc(e, w),
                        a.filter = w.Id.params,
                        a.filterParam = a.filter,
                        w.onColumnFilter(a),
                        a.visible ? i && i.Wd() : e.hidden = !0
                    } else
                        e.hidden = !0;
                w.Td(e.children)
            }
            ,
            this.Xd = function(e, t) {
                var n = {};
                n.id = e.id,
                n.start = new DayPilot.Date(e.start || w.startDate).getDatePart(),
                n.name = e.name,
                n.html = e.html || e.name,
                n.toolTip = e.toolTip,
                n.backColor = e.backColor,
                n.areas = e.areas,
                n.level = t ? t.level + 1 : 0,
                n.parent = t,
                n.data = e,
                n.width = e.width;
                !e.children || 0 === e.children.length;
                return w.Kd = Math.max(w.Kd, n.level),
                n.Wd = function() {
                    n.hidden = !1,
                    n.parent && n.parent.Wd()
                }
                ,
                n.Yd = function(e, t) {
                    var n = [];
                    if (e <= 1)
                        return this.hidden || n.push(this),
                        n;
                    if (!this.children || 0 === this.children.length)
                        return t ? this.hidden || n.push(this) : n.push("empty"),
                        n;
                    for (var i = 0; i < this.children.length; i++)
                        for (var a = this.children[i], r = a.Yd(e - 1, t), o = 0; o < r.length; o++)
                            n.push(r[o]);
                    return n
                }
                ,
                n.Zd = function(e) {
                    var t = 0;
                    if (!this.children || this.children.length <= 0 || e <= 1) {
                        return !this.hidden ? 1 : 0
                    }
                    for (var n = 0; n < this.children.length; n++)
                        t += this.children[n].Zd(e - 1);
                    return t
                }
                ,
                n.$d = function(e) {
                    for (var t = 0; t < this.blocks.length; t++) {
                        var n = this.blocks[t];
                        if (n._d(e.part.top, e.part.height))
                            return n.events.push(e),
                            n.min = Math.min(n.min, e.part.top),
                            n.max = Math.max(n.max, e.part.top + e.part.height),
                            t
                    }
                    var n = [];
                    return n.lines = [],
                    n.events = [],
                    n._d = function(e, t) {
                        return !(e + t - 1 < this.min || e > this.max - 1)
                    }
                    ,
                    n.ae = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var n = this.lines[t];
                            if (n.be(e.part.top, e.part.height))
                                return n.push(e),
                                t
                        }
                        var n = [];
                        return n.be = function(e, t) {
                            for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                                var r = this[a];
                                if (!(n < r.part.top || e > r.part.top + r.part.height - 1))
                                    return !1
                            }
                            return !0
                        }
                        ,
                        n.push(e),
                        this.lines.push(n),
                        this.lines.length - 1
                    }
                    ,
                    n.events.push(e),
                    n.min = e.part.top,
                    n.max = e.part.top + e.part.height,
                    this.blocks.push(n),
                    this.blocks.length - 1
                }
                ,
                n.ae = function(e) {
                    for (var t = 0; t < this.lines.length; t++) {
                        var n = this.lines[t];
                        if (n.be(e.part.top, e.part.height))
                            return n.push(e),
                            t
                    }
                    var n = [];
                    return n.be = function(e, t) {
                        for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                            var r = this[a];
                            if (!(n < r.part.top || e > r.part.top + r.part.height - 1))
                                return !1
                        }
                        return !0
                    }
                    ,
                    n.push(e),
                    this.lines.push(n),
                    this.lines.length - 1
                }
                ,
                n.Rb = function() {
                    return n.start.addHours(w.Rb(!0))
                }
                ,
                n.ce = function() {
                    var e = w.Nb(!0);
                    return n.Rb().addTime(e)
                }
                ,
                e.children && (n.children = this.Md(e.children, n)),
                n
            }
            ,
            this.Md = function(e, t) {
                var n = f();
                return f(e).forEach(function(e) {
                    var i = w.Xd(e, t);
                    n.push(i)
                }),
                n
            }
            ,
            this.Nd = function(e, t) {
                for (var n = this.Hd() ? this.Kb : this.hb, i = f(), a = 0; a < n.length; a++)
                    for (var r = n[a].Yd(e, t), o = 0; o < r.length; o++)
                        i.push(r[o]);
                return i
            }
            ,
            this.selectTimeRange = function(e, t, n, i) {
                if (e && t) {
                    e = new DayPilot.Date(e),
                    t = new DayPilot.Date(t);
                    var a = w.ee(e, n, !0)
                      , r = w.ee(t, n);
                    if (a && r && a.data.x === r.data.x) {
                        var o = {};
                        o.start = {},
                        o.start.columnIndex = a.data.x,
                        o.start.column = w.Kb[a.data.x],
                        o.start.time = e,
                        o.end = {},
                        o.end.time = t,
                        w.Ea = o,
                        w.fe(o),
                        w.Rc(o),
                        i || setTimeout(function() {
                            w.Fc(e, t, n, "api")
                        }, 0)
                    }
                }
            }
            ,
            w.ee = function(e, t, n) {
                var i = w.Kb
                  , a = w.nav.main
                  , r = "Resources" === w.viewType
                  , o = i.find(function(n) {
                    var i = !r || n.id === t
                      , a = n.Rb() <= e && e < n.ce();
                    return i && a
                });
                if (o) {
                    var s = i.indexOf(o)
                      , l = function() {
                        for (var t = 0; t < w.Vb(); t++) {
                            var i = a.rows[t].cells[s];
                            if (i) {
                                var r = i.data
                                  , o = r.start <= e && e <= r.end;
                                if (n && (o = r.start <= e && e < r.end),
                                o)
                                    return i
                            }
                        }
                        return null
                    }();
                    return l ? l : void 0
                }
            }
            ,
            this.ge = {};
            var x = this.ge;
            x.ie = function(e) {
                var i = e.div.firstChild
                  , a = t()
                  , r = a.style;
                r.position = "absolute",
                r.left = "2px",
                r.top = "2px",
                r.bottom = "2px",
                r.width = "15px",
                r.opacity = "0.5",
                r.cursor = "move",
                r.display = "none",
                a.className = w.da("_colmove_handle"),
                n(i, "mouseenter", function(e) {
                    x.t || k.t || (r.display = "")
                }),
                n(i, "mouseleave", function(e) {
                    r.display = "none"
                }),
                a.onmousedown = function(t) {
                    x.je(t, e)
                }
                ,
                i.$ || (i.$ = {}),
                i.$.ke = function() {
                    r.display = "none"
                }
                ,
                i.$.le = function() {
                    r.display = ""
                }
                ,
                i.appendChild(a)
            }
            ,
            x.je = function(e, t) {
                var n = w.nav.header
                  , i = {};
                i.me = t,
                i.ne = n.style.cursor;
                var a = t.div;
                x.t = i,
                v.colMoving = x,
                a.$ && a.$.oe && a.$.oe(),
                r(a, w.da("_colmove_source")),
                n.style.cursor = "move"
            }
            ,
            x.pe = function(e) {
                var t = []
                  , n = e.parent;
                return n && (t.push(n.data),
                t = t.concat(x.pe(n))),
                t
            }
            ,
            x.qe = function() {
                function e() {
                    o(x.t.me.div, w.da("_colmove_source")),
                    t && (t.style.cursor = n.ne),
                    a && a.remove(),
                    x.t = null
                }
                if (!x.t.target)
                    return void e();
                var t = w.nav.header
                  , n = x.t
                  , i = n.position
                  , a = n.div
                  , r = x.t.me.column
                  , s = r.data
                  , l = r.parent
                  , d = n.target
                  , c = d.data
                  , u = d.parent
                  , h = u ? u.data.children : w.nb()
                  , f = l ? l.data.children : w.nb();
                if (x.pe(d).includes(s))
                    return void e();
                if (c === s)
                    return void e();
                if ("forbidden" === i)
                    return void e();
                var v = {};
                if (v.source = w.bc(r),
                v.target = w.bc(d),
                v.position = i,
                v.preventDefault = function() {
                    v.preventDefault.value = !0
                }
                ,
                "function" == typeof w.onColumnMove && (w.onColumnMove(v),
                v.preventDefault.value))
                    return void e();
                if (_.se("Update")) {
                    DayPilot.rfa(f, s);
                    var p = h.indexOf(c);
                    if ("child" === i) {
                        var m = c.children || [];
                        m.push(s),
                        c.children = m
                    } else
                        "before" === i ? h.splice(p, 0, s) : "after" === i && h.splice(p + 1, 0, s);
                    w.Jd()
                }
                "function" == typeof w.onColumnMoved && w.onColumnMoved(v),
                e()
            }
            ,
            x.ec = function(e, n) {
                var i, a = 12, r = 12, o = n.data, s = w.columnMoveSameLevelOnly, l = x.t.div, d = x.t.me.column;
                l ? i = l.style : (l = t(),
                i = l.style,
                i.position = "absolute",
                i.width = "12px",
                i.height = "12px",
                i.top = "0px",
                x.t.div = l);
                var c = n.getBoundingClientRect()
                  , u = c.width
                  , h = c.height
                  , f = DayPilot.mo3(n, e)
                  , v = o.children || []
                  , p = v.length
                  , m = 0 === p ? .25 : .5
                  , g = null
                  , b = x.pe(n.data);
                l.className = "";
                var y = !1;
                d === o && (y = !0),
                s && (m = .5),
                b.includes(d.data) ? g = "forbidden" : y ? g = "forbidden" : f.x < u * m ? g = "before" : f.x > u * (1 - m) ? g = "after" : 0 == p && (g = "child"),
                s && d.level !== o.level && (g = "forbidden");
                var k = {};
                k.position = g,
                k.source = w.bc(d),
                k.target = w.bc(n.data),
                "function" == typeof w.onColumnMoving && w.onColumnMoving(k),
                g = k.position,
                "forbidden" === g ? (i.left = .5 * u - 6 + "px",
                i.top = h / 2 - 2 + "px",
                l.className = w.da("_colmove_position_forbidden")) : "before" === g ? (i.left = "0px",
                i.top = .5 * h - 6 + "px",
                l.className = w.da("_colmove_position_before")) : "after" === g ? (i.left = u - a - 1 + "px",
                i.top = .5 * h - 6 + "px",
                l.className = w.da("_colmove_position_after")) : "child" === g && (i.left = .5 * u - 6 + "px",
                i.top = h - r - 1 + "px",
                l.className = w.da("_colmove_position_child")),
                l.parentNode !== n && (l.remove(),
                n.appendChild(l)),
                x.t.target = o,
                x.t.position = g
            }
            ,
            this.te = {};
            var k = this.te;
            k.ve = function(e) {
                var i = e.div.firstChild
                  , a = t()
                  , r = a.style;
                r.position = "absolute",
                r.right = "0px",
                r.top = "0px",
                r.bottom = "0px",
                r.width = "4px",
                r.cursor = "e-resize",
                r.display = "none",
                a.className = w.da("_colheader_splitter"),
                n(i, "mouseenter", function(e) {
                    x.t || k.t || (r.display = "")
                }),
                n(i, "mouseleave", function(e) {
                    k.t || (r.display = "none")
                }),
                a.onmousedown = function(t) {
                    k.we(t, e)
                }
                ,
                i.$ || (i.$ = {}),
                i.$.oe = function() {
                    r.display = "none"
                }
                ,
                i.appendChild(a)
            }
            ,
            k.we = function(e, t) {
                var n = DayPilot.mo3(w.nav.header, e)
                  , i = t.column
                  , a = t.div.firstChild
                  , r = {};
                if (r.xe = n.x,
                r.me = t,
                r.ye = t.x,
                r.ze = t.column,
                a.$ && a.$.ke && a.$.ke(),
                t.y !== _.Od() - 1) {
                    var o = i.Yd(_.Od() - t.y, !0)
                      , s = o[o.length - 1];
                    s && (r.ye = w.Kb.indexOf(s))
                }
                k.t = r,
                v.colResizing = k
            }
            ,
            k.cd = function(e, t) {
                function n() {
                    for (var e = 0, t = h + 1; t < a.length; t++)
                        e += a[t].width || C;
                    return e
                }
                function i() {
                    for (var e = n(), t = 0, i = h + 1; i < a.length; i++) {
                        var r = a[i]
                          , o = r.width || C
                          , s = o / e;
                        r.width = o - g * s,
                        r.width < 1 && (t += 1 - r.width,
                        r.width = 1)
                    }
                    y -= t,
                    b += t,
                    f = b * p
                }
                var a = w.Kb
                  , r = DayPilot.mo3(w.nav.header, t)
                  , o = k.t.ze
                  , s = r.x - k.t.xe
                  , l = k.t.me.y
                  , d = l !== _.Od() - 1
                  , c = "Fixed" === w.columnWidthSpec
                  , u = w.columnWidthMin
                  , h = k.t.ye
                  , f = 0
                  , v = w.nav.main.clientWidth
                  , p = v / 100
                  , m = u / p
                  , g = s / p
                  , b = 0
                  , y = 0;
                if (d) {
                    var x = o.Yd(_.Od() - l, !0)
                      , C = c ? w.columnWidth : 100 / a.length
                      , S = x.reduce(function(e, t) {
                        return e + (t.width || C)
                    }, 0)
                      , E = c ? S + s : S + g
                      , T = E / S
                      , D = 0;
                    if (x.forEach(function(e, t) {
                        var n = t === x.length - 1
                          , i = e.width || C
                          , a = i * T
                          , r = Math.round(a);
                        c && (D += a - r,
                        a = r),
                        a < u && (f += a - u,
                        a = u),
                        e.width = a,
                        n && (e.width += D)
                    }),
                    !c) {
                        i();
                        var A = y
                          , M = x.reduce(function(e, t) {
                            return e + t.width || C
                        }, 0);
                        x.forEach(function(e) {
                            var t = e.width || C
                              , n = t / M;
                            e.width = t + A * n
                        })
                    }
                } else {
                    var H = w.Ae()[h].width
                      , o = a[h];
                    c ? (y = H + s,
                    y < u && (f = y - u,
                    y = u)) : (y = o.width + g,
                    y < m && (b = y - m,
                    g = m - o.width,
                    y = m),
                    y = Math.max(y, 1),
                    i()),
                    o.width = y
                }
                k.t.xe = r.x - f,
                w.Ud(),
                w.Ga(),
                k.Be()
            }
            ,
            k.Ce = function() {
                var e = w.Kb
                  , t = k.t.me.div.firstChild
                  , n = k.t.ze;
                t.$ && t.$.le && t.$.le(),
                k.t = null;
                var i = {};
                return i.column = w.bc(n),
                i.newWidth = n.width,
                i.preventDefault = function() {
                    i.preventDefault.value = !0
                }
                ,
                "function" == typeof w.onColumnResize && w.onColumnResize(i),
                i.preventDefault.value ? void w.update() : (_.De("Update") && e.forEach(function(e) {
                    e.data.width = e.width
                }),
                void ("function" == typeof w.onColumnResized && w.onColumnResized(i)))
            }
            ,
            k.Be = function() {
                var e = w.Ae()
                  , t = "Fixed" === w.columnWidthSpec
                  , n = w.nav.header
                  , i = w.nav.main
                  , a = w.nav.events
                  , r = w.nav.unifiedCornerRight;
                n.rows.forEach(function(e, t) {
                    if (t !== _.Od() - 1) {
                        var n = w.Ee(t);
                        e.cells.forEach(function(e, t) {
                            var i = n[t];
                            e.style.left = i.left + i.unit,
                            e.style.width = i.width + i.unit
                        })
                    }
                });
                for (var o = _.Od() - 1, s = 0; s < w.Kb.length; s++) {
                    var l = e[s]
                      , d = n.rows[o].cells[s];
                    d.style.left = l.left + l.unit,
                    d.style.width = l.width + l.unit,
                    t && (d.firstChild.style.width = l.width + l.unit)
                }
                if (i.rows.forEach(function(n) {
                    n.cells.forEach(function(n, i) {
                        var a = e[i].width + e[i].unit
                          , r = e[i].left + e[i].unit;
                        n.style.width !== a && (n.style.width = a,
                        t && (n.firstChild.style.width = a)),
                        n.style.left !== r && (n.style.left = r)
                    })
                }),
                a.rows[0].cells.forEach(function(n, i) {
                    var a = e[i].width + e[i].unit
                      , r = e[i].left + e[i].unit;
                    n.style.width !== a && (n.style.width = a,
                    t && (n.firstChild.style.width = a)),
                    n.style.left !== r && (n.style.left = r)
                }),
                t) {
                    var c = e[e.length - 1]
                      , u = c.left + c.width;
                    r.style.left = u + "px",
                    i.style.width = u + "px"
                }
            }
            ,
            this.Ud = function() {
                if ("Fixed" !== w.columnWidthSpec) {
                    var e = w.Kb
                      , t = 100 / e.length
                      , n = e.reduce(function(e, n) {
                        return e + (n.width || t)
                    }, 0)
                      , i = n / 100;
                    e.forEach(function(n, a) {
                        var r = (e.length - 1,
                        n.width || t);
                        n.width = r / i
                    })
                }
            }
            ,
            this.Db = function() {
                if (this.showAllDayEvents) {
                    var e = this.nav.header;
                    if (e) {
                        e.style.display = "none";
                        for (var n = this.Kb.length, i = 0; i < this.Fe.lines.length; i++)
                            for (var s = this.Fe.lines[i], l = 0; l < s.length; l++) {
                                var h = s[l]
                                  , f = h.cache || h.data
                                  , v = t();
                                v.style.position = "absolute",
                                w.rtl ? v.style.right = 100 * h.part.colStart / n + "%" : v.style.left = 100 * h.part.colStart / n + "%",
                                v.style.width = 100 * h.part.colWidth / n + "%",
                                v.style.height = _.Ge() + "px",
                                v.style.top = _.Od() * _.He() + i * _.Ge() + "px";
                                var p = t();
                                p.event = h,
                                p.setAttribute("unselectable", "on"),
                                p.style.position = "absolute",
                                p.style.inset = "2px",
                                p.className = this.da("_alldayevent"),
                                w.allDayEventTextWrappingEnabled || (p.style.whiteSpace = "nowrap"),
                                f.cssClass && r(p, f.cssClass),
                                p.style.textAlign = "left",
                                p.style.lineHeight = "1.2",
                                h.client.clickEnabled() && (p.onclick = this.Wb),
                                h.client.doubleClickEnabled() && (p.ondblclick = this.$b),
                                h.client.clickEnabled() || h.client.doubleClickEnabled() ? p.style.cursor = "pointer" : p.style.cursor = "default",
                                a(p, "contextmenu", this._b),
                                p.onmousemove = function(e) {
                                    var t = this
                                      , n = t.event
                                      , i = n.cache || n.data;
                                    if (!t.active) {
                                        var a = [];
                                        n.client.deleteEnabled() && a.push({
                                            "action": "JavaScript",
                                            "v": "Hover",
                                            "w": 17,
                                            "h": 17,
                                            "top": 3,
                                            "right": 3,
                                            "css": w.da("_event_delete"),
                                            "js": function(e) {
                                                w.gc(e)
                                            }
                                        });
                                        var o = i.areas;
                                        o && o.length > 0 && (a = a.concat(o)),
                                        DayPilot.Areas.showAreas(t, n, null, a),
                                        r(t, w.da("_alldayevent_hover"))
                                    }
                                    "undefined" != typeof DayPilot.Bubble && w.bubble && "Disabled" !== w.eventHoverHandling && w.bubble.showEvent(this.event)
                                }
                                ,
                                p.onmouseout = function(e) {
                                    o(this, w.da("_alldayevent_hover")),
                                    DayPilot.Areas.hideAreas(this, e),
                                    w.bubble && w.bubble.hideOnMouseOut()
                                }
                                ,
                                this.showToolTip && !this.bubble && p.setAttribute("title", h.client.toolTip());
                                var m = h.start().getTime() === h.part.start.getTime()
                                  , g = h.end().getTime() === h.part.end.getTime()
                                  , b = f.backColor
                                  , y = t();
                                if (y.setAttribute("unselectable", "on"),
                                y.className = this.da("_alldayevent_inner"),
                                b && (y.style.background = b),
                                f.fontColor && (y.style.color = f.fontColor),
                                "darker" === f.borderColor && f.backColor ? y.style.borderColor = DayPilot.ColorUtil.darker(f.backColor, 2) : y.style.borderColor = f.borderColor,
                                w.rtl ? (m || r(p, this.da("_alldayevent_continueright")),
                                g || r(p, this.da("_alldayevent_continueleft"))) : (m || r(p, this.da("_alldayevent_continueleft")),
                                g || r(p, this.da("_alldayevent_continueright"))),
                                p.appendChild(y),
                                DayPilot.isArray(f.areas) && f.areas.filter(function(e) {
                                    return DayPilot.Areas.isVisible(e)
                                }).forEach(function(e) {
                                    var t = DayPilot.Areas.createArea(p, h, e);
                                    p.appendChild(t)
                                }),
                                function() {
                                    var e = {};
                                    if (e.control = w,
                                    e.e = h,
                                    e.element = null,
                                    p.domArgs = e,
                                    "function" == typeof w.onBeforeEventDomAdd && w.onBeforeEventDomAdd(e),
                                    e.element) {
                                        var t = y;
                                        if (t) {
                                            e.Ie = t;
                                            var n = d(e.element)
                                              , i = c(e.element)
                                              , a = u(e.element);
                                            if (n)
                                                w.X.Je(),
                                                w.X.W(e.element, t);
                                            else if (i) {
                                                if (!w.Z.Ke)
                                                    throw new DayPilot.Exception("Can't reach Vue");
                                                w.Z.Le = !0,
                                                w.Z._(e.element, t, e.props),
                                                w.Z.Le = !1
                                            } else if (a) {
                                                if (!w.Z.Ke)
                                                    throw new DayPilot.Exception("Can't reach Vue");
                                                w.Z.Le = !0,
                                                w.Z.Me(e.element, t),
                                                w.Z.Le = !1
                                            } else
                                                t.appendChild(e.element)
                                        }
                                    } else
                                        y.innerHTML = h.client.innerHTML()
                                }(),
                                w.Hb()) {
                                    if ("function" == typeof w.onAfterEventRender) {
                                        var x = {};
                                        x.e = p.event,
                                        x.div = p,
                                        w.onAfterEventRender(x)
                                    }
                                } else
                                    w.afterEventRender && w.afterEventRender(p.event, p);
                                v.appendChild(p),
                                this.nav.allday.appendChild(v),
                                this.elements.events.push(p)
                            }
                        e.style.display = ""
                    }
                }
            }
            ,
            this.Va = function(e) {
                if (w.multiselect.Fd(),
                this.elements.events)
                    for (var t = 0; t < this.elements.events.length; t++) {
                        var n = this.elements.events[t]
                          , i = n.event;
                        i && e && !i.allday() || w.Ne(n)
                    }
                this.elements.events = []
            }
            ,
            this.Ne = function(e) {
                var t = e.event
                  , n = e.domArgs;
                if (e.domArgs = null,
                n && "function" == typeof w.onBeforeEventDomRemove && w.onBeforeEventDomRemove(n),
                n && "function" == typeof w.onBeforeEventDomAdd && w.X.reactDOM) {
                    var i = n && n.Ie;
                    if (i) {
                        var a = w.X.reactDOM && d(n.element)
                          , r = w.Z.Ke && (c(n.element) || u(n.element));
                        a ? w.X.la(i) : r && (w.Z.Le = !0,
                        w.Z.ma(i),
                        w.Z.Le = !1)
                    }
                }
                if (t && (t.div = null,
                t.root = null,
                t.rendered = !1),
                e.onclick = null,
                e.onclickSave = null,
                e.ondblclick = null,
                e.oncontextmenu = null,
                e.onmouseover = null,
                e.onmouseout = null,
                e.onmousemove = null,
                e.onmousedown = null,
                e.firstChild && e.firstChild.firstChild && e.firstChild.firstChild.tagName && "IMG" === e.firstChild.firstChild.tagName.toUpperCase()) {
                    var o = e.firstChild.firstChild;
                    o.onmousedown = null,
                    o.onmousemove = null,
                    o.onclick = null
                }
                e !== v.moving && (e.helper = null,
                e.event = null),
                p(e)
            }
            ,
            this.Oe = function(e) {
                if (e.isAllDay())
                    return !0;
                var t = w.Pe(e.part.dayIndex)
                  , n = this.rd()
                  , i = n.pixels.left
                  , a = n.pixels.right
                  , r = n.pixels.top
                  , o = n.pixels.bottom
                  , s = e.part.width / 100 * t.width
                  , l = t.width * e.part.left / 100 + t.left
                  , d = l + s
                  , c = e.part.top - this.Wc()
                  , u = c + e.part.height
                  , h = a <= l || i >= d
                  , f = o <= c || r >= u;
                return !h && !f
            }
            ,
            this.rd = function() {
                if (w.wa.xa)
                    return w.wa.xa;
                var e = w.fd();
                if (!e)
                    return null;
                var t = {}
                  , n = w.rtl ? -e.scrollLeft : e.scrollLeft
                  , i = e.scrollTop
                  , a = {};
                a.left = n,
                a.right = n + e.clientWidth,
                a.top = i,
                a.bottom = i + e.clientHeight,
                a.width = e.scrollWidth;
                var r = w.dynamicEventRenderingMarginX;
                r && (a.left -= r,
                a.right += r,
                a.left < 0 && (a.left = 0),
                a.right > a.width && (a.right = a.width));
                var o = w.dynamicEventRenderingMarginY;
                if (o) {
                    a.top -= o,
                    a.bottom += o;
                    var s = w.Qe();
                    a.top < 0 && (a.top = 0),
                    a.bottom > s && (a.bottom = s)
                }
                for (var l = w.Ae(), d = null, c = null, u = 0; u < l.length; u++) {
                    var h = l[u]
                      , f = h.left + h.width;
                    if (null === d && f > a.left && (d = u),
                    null !== d && null === c && (f >= a.right || u === l.length - 1)) {
                        c = u;
                        break
                    }
                }
                var v = Math.floor(a.top / w.cellHeight);
                v = DayPilot.Util.atLeast(0, v);
                var p = Math.ceil(a.bottom / w.cellHeight);
                return p = DayPilot.Util.atMost(w.Vb() - 1, p),
                t.xStart = d,
                t.xEnd = c,
                t.yStart = v,
                t.yEnd = p,
                t.pixels = a,
                w.wa.xa = t,
                t
            }
            ,
            this.Pe = function(e) {
                return w.wa.ya || (w.wa.ya = w.Ae()),
                w.wa.ya[e]
            }
            ,
            this.Re = function(e) {
                var o = this.nav.events
                  , s = e.cache || e.data;
                if (!e.rendered) {
                    var l = s.borderRadius || w.eventBorderRadius;
                    "number" == typeof l && (l += "px");
                    var h = w.multiselect.yd(e)
                      , f = w.Oe(e)
                      , v = "Progressive" === w.dynamicEventRendering && "Fixed" === w.columnWidthSpec;
                    if (h || !v || f) {
                        var p = t();
                        p.setAttribute("unselectable", "on"),
                        p.style.MozUserSelect = "none",
                        p.style.KhtmlUserSelect = "none",
                        p.style.WebkitUserSelect = "none",
                        p.style.position = "absolute",
                        p.className = this.da("_event"),
                        p.style.left = e.part.left + "%",
                        p.style.top = e.part.top - this.Wc() + "px",
                        p.style.width = e.part.width + "%",
                        p.style.height = Math.max(e.part.height, 2) + "px",
                        p.style.overflow = "hidden",
                        p.isFirst = e.part.start.getTime() === e.start().getTime(),
                        p.isLast = e.part.end.getTime() === e.end().getTime(),
                        e.client.clickEnabled() && (p.onclick = this.Wb),
                        e.client.doubleClickEnabled() && (p.ondblclick = this.$b),
                        a(p, "contextmenu", this._b),
                        p.onmousemove = this.Se,
                        p.onmouseout = this.Te,
                        p.onmousedown = this.Ue,
                        i(p, DayPilot.touch.start, this.Ve.onEventTouchStart),
                        n(p, DayPilot.touch.move, this.Ve.onEventTouchMove),
                        i(p, DayPilot.touch.end, this.Ve.onEventTouchEnd),
                        s.cssClass && r(p, s.cssClass),
                        this.showToolTip && !this.bubble && p.setAttribute("title", e.client.toolTip());
                        var m = t();
                        if (m.setAttribute("unselectable", "on"),
                        m.className = w.da("_event_inner"),
                        s.fontColor && (m.style.color = s.fontColor),
                        s.backColor && (m.style.background = s.backColor),
                        s.borderColor && ("darker" === s.borderColor && s.backColor ? m.style.borderColor = DayPilot.ColorUtil.darker(s.backColor, 2) : m.style.borderColor = s.borderColor),
                        s.backgroundImage && (m.style.backgroundImage = "url(" + s.backgroundImage + ")",
                        s.backgroundRepeat && (m.style.backgroundRepeat = s.backgroundRepeat)),
                        l && (p.style.borderRadius = l,
                        m.style.borderRadius = l),
                        p.appendChild(m),
                        e.client.barVisible()) {
                            var g = e.part.height - 2
                              , b = 100 * e.part.barTop / g
                              , y = Math.ceil(100 * e.part.barHeight / g)
                              , x = t();
                            x.setAttribute("unselectable", "on"),
                            x.className = this.da("_event_bar"),
                            x.style.position = "absolute",
                            s.barBackColor && (x.style.backgroundColor = s.barBackColor);
                            var k = t();
                            k.setAttribute("unselectable", "on"),
                            k.className = this.da("_event_bar_inner"),
                            k.style.top = b + "%",
                            0 < y && y <= 1 ? k.style.height = "1px" : k.style.height = y + "%",
                            s.barColor && (k.style.backgroundColor = s.barColor),
                            x.appendChild(k),
                            p.appendChild(x)
                        }
                        var C = s.areas ? DayPilot.Areas.copy(s.areas) : []
                          , S = w.Kb[e.part.dayIndex];
                        if (C.forEach(function(t) {
                            t.start && (t.top = w.sc(new DayPilot.Date(t.start), S.start).top - e.part.top - w.Wc()),
                            t.end && (t.bottom = e.part.top + e.part.height - w.sc(new DayPilot.Date(t.end), S.start).top - w.Wc())
                        }),
                        e.client.deleteEnabled() && C.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": 2,
                            "right": 2,
                            "css": w.da("_event_delete"),
                            "js": function(e) {
                                w.gc(e)
                            }
                        }),
                        DayPilot.Areas.attach(p, e, {
                            "areas": C
                        }),
                        function() {
                            var t = {};
                            if (t.control = w,
                            t.e = e,
                            t.element = null,
                            p.domArgs = t,
                            "function" == typeof w.onBeforeEventDomAdd && w.onBeforeEventDomAdd(t),
                            t.element) {
                                var n = m;
                                if (n) {
                                    t.Ie = n;
                                    var i = d(t.element)
                                      , a = c(t.element)
                                      , r = u(t.element);
                                    if (i)
                                        w.X.Je(),
                                        w.X.W(t.element, n);
                                    else if (a) {
                                        if (!w.Z.Ke)
                                            throw new DayPilot.Exception("Can't reach Vue");
                                        w.Z.Le = !0,
                                        w.Z._(t.element, n, t.props),
                                        w.Z.Le = !1
                                    } else if (r) {
                                        if (!w.Z.Ke)
                                            throw new DayPilot.Exception("Can't reach Vue");
                                        w.Z.Le = !0,
                                        w.Z.Me(t.element, n),
                                        w.Z.Le = !1
                                    } else
                                        n.appendChild(t.element)
                                }
                            } else
                                m.innerHTML = e.client.innerHTML()
                        }(),
                        o.rows[0].cells[e.part.dayIndex]) {
                            if (o.rows[0].cells[e.part.dayIndex].events.appendChild(p),
                            w.We(p),
                            p.event = e,
                            w.multiselect.yd(e) && w.multiselect.add(p.event, !0),
                            e.rendered = !0,
                            w.Hb()) {
                                if ("function" == typeof w.onAfterEventRender) {
                                    var _ = {};
                                    _.e = p.event,
                                    _.div = p,
                                    w.onAfterEventRender(_)
                                }
                            } else
                                w.afterEventRender && w.afterEventRender(p.event, p);
                            w.elements.events.push(p)
                        }
                    }
                }
            }
            ,
            this.We = function(e) {
                for (var t = e && e.childNodes ? e.childNodes.length : 0, n = 0; n < t; n++)
                    try {
                        var i = e.childNodes[n];
                        1 === i.nodeType && (i.setAttribute("unselectable", "on"),
                        this.We(i))
                    } catch (e) {}
            }
            ,
            this.Cb = function() {
                for (var e = new Date, t = 0; t < this.Kb.length; t++) {
                    var n = this.Kb[t];
                    if (n.blocks)
                        for (var i = 0; i < n.blocks.length; i++)
                            for (var a = n.blocks[i], r = 0; r < a.lines.length; r++)
                                for (var o = a.lines[r], s = 0; s < o.length; s++) {
                                    var l = o[s];
                                    if (l.part.width = 100 / a.lines.length,
                                    l.part.left = l.part.width * r,
                                    "Cascade" === this.eventArrangement) {
                                        var d = r === a.lines.length - 1;
                                        d || (l.part.width = 1.5 * l.part.width)
                                    }
                                    "Full" === this.eventArrangement && (l.part.left = l.part.left / 2,
                                    l.part.width = 100 - l.part.left),
                                    l.allday() || this.Re(l)
                                }
                }
                this.multiselect.redraw();
                var c = new Date;
                c.getTime() - e.getTime()
            }
            ,
            this.jd = function() {
                w.elements.events.forEach(function(e) {
                    e.event && !w.Oe(e.event) && w.Ne(e)
                }),
                w.wa.Xe.forEach(function(e) {
                    w.Re(e)
                }),
                w.elements.events = w.elements.events.filter(function(e) {
                    return !!e.event
                })
            }
            ,
            this.ld = function() {
                if (w.Kb && 0 !== w.Kb.length) {
                    for (var e = w.rd(), t = e.xStart; t <= e.xEnd; t++)
                        for (var n = e.yStart; n <= e.yEnd; n++)
                            w.Ye(t, n);
                    w.Ze()
                }
            }
            ,
            w.Ze = function() {
                for (var e = w.rd(), t = this.Vb(), n = w.Kb.length, i = 0; i < n; i++) {
                    var a = !0;
                    e.xStart <= i && i <= e.xEnd && (a = !1);
                    for (var r = 0; r < t; r++) {
                        var o = !0;
                        e.yStart <= r && r <= e.yEnd && (o = !1);
                        var s = w.elements.cells[i + "_" + r];
                        s && (o || a) && (s.remove(),
                        w.elements.cells[i + "_" + r] = null)
                    }
                }
            }
            ,
            this.$e = function() {
                this.multiselect.Kc = [];
                for (var e = 0; e < this.Kb.length; e++)
                    for (var t = this.Kb[e], n = 0; n < t.lines.length; n++)
                        for (var i = t.lines[n], a = 0; a < i.length; a++) {
                            var r = i[a];
                            r.part.width = 100 / t.lines.length,
                            r.part.left = r.Width * n,
                            r.allday() || this.Re(r)
                        }
            }
            ,
            this.da = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : ""
            }
            ,
            this._e = function() {
                switch (w.Ca) {
                case "aspnet":
                    if (!this.Ra())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")
                }
            }
            ,
            this.E = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible")
            }
            ,
            this.af = function() {
                var e = this.Sb() + this.bf();
                return w.debug.message("Getting totalHeight, headerHeight: " + this.Sb() + " scrollable: " + this.bf()),
                e < 0 ? 0 : e
            }
            ,
            this.$a = function() {
                w.db()
            }
            ,
            this.cf = function() {
                var e = this.nav.top;
                e.dp = this,
                e.innerHTML = "",
                e.style.MozUserSelect = "none",
                e.style.KhtmlUserSelect = "none",
                e.style.WebkitUserSelect = "none",
                e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)",
                e.style.WebkitTouchCallout = "none",
                e.style.position = "relative",
                this.width && (e.style.width = this.width),
                this.rtl && (e.style.direction = "rtl"),
                "Parent100Pct" === this.heightSpec ? e.style.height = "100%" : e.style.height = this.af() + "px",
                this.hideUntilInit && (e.style.visibility = "hidden"),
                this.visible || (e.style.display = "none"),
                e.addEventListener("mouseleave", w.$a);
                var n = t();
                if (this.nav.scroll = n,
                n.style.height = this.bf() + "px",
                n.style.position = "relative",
                this.showHeader) {
                    var i = this.df();
                    e.appendChild(i)
                }
                n.style.zoom = 1,
                n.style.position = "absolute",
                n.style.left = "0px",
                n.style.right = "0px",
                n.style.top = this.Sb() + "px",
                n.className = w.da("_scroll");
                var a = this.ef();
                this.nav.scrollable = a.firstChild,
                n.appendChild(a),
                e.appendChild(this.nav.scroll),
                this.nav.vsph = t(),
                this.nav.vsph.style.display = "none",
                this.nav.top.appendChild(this.nav.vsph),
                this.nav.scrollpos = document.createElement("input"),
                this.nav.scrollpos.type = "hidden",
                this.nav.scrollpos.id = w.id + "_scrollpos",
                this.nav.scrollpos.name = this.nav.scrollpos.id,
                e.appendChild(this.nav.scrollpos),
                this.nav.select = document.createElement("input"),
                this.nav.select.type = "hidden",
                this.nav.select.id = w.id + "_select",
                this.nav.select.name = this.nav.select.id,
                this.nav.select.value = null,
                e.appendChild(this.nav.select),
                this.nav.scrollLayer = t(),
                this.nav.scrollLayer.style.position = "absolute",
                this.nav.scrollLayer.style.top = "0px",
                this.nav.scrollLayer.style.left = "0px",
                e.appendChild(this.nav.scrollLayer),
                this.nav.scrollUp = [],
                this.nav.scrollDown = [];
                var r = t();
                r.style.position = "absolute",
                r.style.top = "0px",
                r.style.left = this.hourWidth + 5 + "px",
                r.className = w.da("_loading"),
                r.innerHTML = w.Ha(this.loadingLabelText, this.loadingLabelHtml),
                r.style.display = "none",
                this.nav.loading = r,
                e.appendChild(r)
            }
            ,
            this.gf = function() {
                for (var e = "Fixed" === this.columnWidthSpec, t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], n = this.nav.events.rows[0], i = 0; i < w.Kb.length; i++) {
                    var a = t && t.cells[i]
                      , r = n.cells[i]
                      , o = a && a.firstChild
                      , s = w.Kb[i];
                    if (e) {
                        var l = s.width ? s.width : w.columnWidth;
                        o && (o.style.width = l + "px"),
                        r && (r.style.width = l + "px")
                    } else
                        w.sa || (o && (o.style.width = null),
                        r && (r.style.width = null))
                }
            }
            ,
            this.Tb = function() {
                return this.ra ? w.nav.bottomRight : w.nav.scroll
            }
            ,
            this.Ab = function() {
                var e = "Fixed" === this.columnWidthSpec;
                if (!e) {
                    var t = w.Tb();
                    "Fixed" === this.heightSpec ? t.style.overflowY = "scroll" : "BusinessHours" === this.heightSpec && this.Mb() <= this.businessEndsHour - this.businessBeginsHour ? t.style.overflow = "hidden" : "Full" !== this.heightSpec && "BusinessHoursNoScroll" !== this.heightSpec ? t.style.overflow = "auto" : t.style.overflow = "hidden"
                }
                if (e) {
                    var n = 0
                      , i = w.hf();
                    i > w.fd().clientWidth && (n = DayPilot.sw(w.nav.bottomRight)),
                    w.nav.headerParent && (w.nav.headerParent.style.width = i + n + "px"),
                    w.nav.main.style.width = i + "px",
                    w.nav.events.style.width = i + "px",
                    w.nav.crosshair.style.width = i + "px"
                } else
                    w.nav.headerParent && (w.nav.headerParent.style.width = "100%"),
                    w.nav.main.style.width = "100%",
                    w.nav.events.style.width = "100%",
                    w.nav.crosshair.style.width = "100%";
                this.gf()
            }
            ,
            this.xb = function() {
                this.ta ? this.Wa() : DayPilot.pu(this.nav.hourTable),
                this.nav.hoursPlaceholder && (this.nav.hoursPlaceholder.innerHTML = "",
                this.nav.hourTable = this.if(),
                this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))
            }
            ,
            this.Wa = function() {
                if (this.nav.hourTable) {
                    w.elements.timeHeaders.forEach(function(e) {
                        var t = e.domArgs;
                        if (e.domArgs = null,
                        "function" == typeof w.onBeforeTimeHeaderDomRemove && w.onBeforeTimeHeaderDomRemove(t),
                        "function" == typeof w.onBeforeTimeHeaderDomAdd && w.X.reactDOM) {
                            var n = t && t.Ie;
                            if (n) {
                                var i = w.X.reactDOM && d(t.element)
                                  , a = w.Z.Ke && (c(t.element) || u(t.element));
                                i ? w.X.la(n) : a && (w.Z.Le = !0,
                                w.Z.ma(n),
                                w.Z.Le = !1)
                            }
                        }
                    });
                    for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                        var t = this.nav.hourTable.rows[e]
                          , n = t.cells[0].firstChild;
                        n.data = null,
                        n.onmousemove = null,
                        n.onmouseout = null
                    }
                    w.elements.timeHeaders = []
                }
            }
            ,
            this.ef = function() {
                var e = t();
                e.style.zoom = 1,
                e.style.position = "relative",
                e.onmousemove = this.jf,
                e.oncontextmenu = this.kf,
                i(e, DayPilot.touch.start, this.Ve.lf),
                i(e, DayPilot.touch.move, this.Ve.mf),
                i(e, DayPilot.touch.end, this.Ve.nf),
                a(e, "contextmenu", function(e) {
                    var e = e || window.event;
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1
                }),
                navigator.msPointerEnabled && (e.style.msTouchAction = "none",
                e.style.touchAction = "none"),
                e.daypilotMainD = !0,
                e.calendar = this;
                var n = null
                  , r = null;
                if (this.showHours) {
                    var o = t();
                    o.style.cssFloat = "left",
                    w.rtl && (o.style.cssFloat = "right"),
                    o.style.width = this.hourWidth + "px",
                    o.style.height = this.bf() + "px",
                    o.style.overflow = "hidden",
                    o.style.position = "relative",
                    e.appendChild(o),
                    n = o;
                    var s = 30
                      , l = w.Qe() + s;
                    r = t(),
                    r.style.height = l + "px",
                    o.appendChild(r)
                }
                var d = t();
                d.style.height = this.bf() + "px",
                this.showHours && (w.rtl ? d.style.marginRight = this.hourWidth + "px" : d.style.marginLeft = this.hourWidth + "px"),
                d.style.position = "relative",
                d.style.overflow = "auto",
                e.appendChild(d),
                r && (this.nav.hourTable = this.if(),
                r.appendChild(this.nav.hourTable));
                var c = t();
                c.style.height = "0px",
                c.style.position = "relative",
                c.appendChild(this.of());
                var u = t();
                return u.style.position = "absolute",
                u.style.top = "0px",
                u.style.left = "0px",
                u.style.width = "100%",
                u.style.height = "0px",
                c.appendChild(u),
                this.nav.crosshair = u,
                c.appendChild(this.pf()),
                d.appendChild(c),
                this.nav.grid = c,
                this.nav.zoom = e,
                this.nav.bottomLeft = n,
                this.nav.bottomRight = d,
                this.nav.hoursPlaceholder = r,
                e
            }
            ,
            this.qf = function() {
                var e = w.nav.bottomLeft;
                e && (e.style.width = w.hourWidth + "px");
                var t = w.nav.bottomRight;
                w.showHours && (w.rtl ? t.style.marginRight = w.hourWidth + "px" : t.style.marginLeft = w.hourWidth + "px");
                var n = w.nav.loading;
                n && (n.style.left = w.hourWidth + 5 + "px");
                var i = w.nav.upperLeft;
                i && (i.style.width = w.hourWidth + "px");
                var a = w.nav.corner;
                a && (a.style.width = w.hourWidth + "px")
            }
            ,
            this.of = function() {
                if (w.sa) {
                    var e = t();
                    return w.nav.main = e,
                    e
                }
                var n = document.createElement("table");
                return n.cellPadding = "0",
                n.cellSpacing = "0",
                n.border = "0",
                "Fixed" === this.columnWidthSpec || (n.style.width = "100%"),
                n.style.border = "0px none",
                n.style.margin = "0px",
                n.style.tableLayout = "fixed",
                this.nav.main = n,
                n
            }
            ,
            this.rf = function() {
                return "Fixed" === this.columnWidthSpec ? w.hf() + "px" : "100%"
            }
            ,
            this.hf = function() {
                for (var e = 0, t = 0; t < w.Kb.length; t++) {
                    var n = w.Kb[t];
                    e += n.width ? n.width : w.columnWidth
                }
                return e
            }
            ,
            this.pf = function() {
                if (w.sa) {
                    var e = t();
                    return e.style.userSelect = "none",
                    e.style.position = "absolute",
                    e.style.left = "0px",
                    e.style.right = "0px",
                    e.style.top = "0px",
                    e.style.height = "0px",
                    w.nav.events = e,
                    e
                }
                var n = document.createElement("table");
                n.style.position = "absolute",
                n.style.top = "0px",
                n.cellPadding = "0",
                n.cellSpacing = "0",
                n.border = "0",
                n.style.width = w.rf(),
                n.style.border = "0px none",
                n.style.margin = "0px",
                n.style.tableLayout = "fixed",
                this.nav.events = n;
                for (var i = this.Kb, a = i.length, r = n.insertRow(-1), o = 0; o < a; o++) {
                    var s = r.insertCell(-1);
                    s.style.padding = "0px",
                    s.style.border = "0px none",
                    s.style.height = "0px",
                    s.style.overflow = "visible",
                    w.rtl || (s.style.textAlign = "left"),
                    w.sf(s)
                }
                return n
            }
            ,
            this.if = function() {
                var e = t();
                e.style.width = this.hourWidth + "px",
                e.style.position = "relative",
                e.oncontextmenu = function() {
                    return !1
                }
                ,
                e.onmousemove = function() {
                    w.eb()
                }
                ,
                e.rows = [];
                for (var n = w.tf(), i = 0; i < n; i++)
                    this.uf(e, i);
                return e
            }
            ,
            this.tf = function() {
                return this.Nb() / (60 * _.vf() * 1e3)
            }
            ,
            this.wf = function() {
                var e = _.Lb();
                return 60 * this.cellHeight / e / (60 / _.vf())
            }
            ,
            this.xf = function() {
                return (this.Rb() - this.Rb(!0)) * (60 / _.Lb())
            }
            ,
            this.yf = function() {
                return this.Rb() - this.Rb(!0)
            }
            ,
            this.Wc = function() {
                return this.xf() * this.cellHeight
            }
            ,
            this.uf = function(e, n) {
                var i = w.wf()
                  , a = t();
                a.style.position = "absolute",
                a.style.top = n * i + "px",
                a.style.height = i + "px",
                e.rows[n] = a;
                var r = t();
                a.appendChild(r),
                a.cells = [r];
                var o = t();
                o.className = this.da("_rowheader"),
                o.style.position = "relative",
                o.style.width = this.hourWidth + "px",
                o.style.height = i + "px",
                o.style.overflow = "hidden",
                o.setAttribute("unselectable", "on"),
                60 !== _.vf() && o.classList.add(this.da("_rowheader_simple"));
                var s = t();
                s.className = this.da("_rowheader_inner"),
                s.setAttribute("unselectable", "on");
                var l = w.zf(n)
                  , h = l.html
                  , f = l.data;
                f && (o.data = f,
                o.onmousemove = w.Af,
                o.onmouseout = w.Bf,
                f.cssClass && DayPilot.Util.addClass(o, f.cssClass));
                var v = null
                  , p = {};
                if (p.header = f,
                "function" == typeof w.onBeforeTimeHeaderDomAdd && (p.element = null,
                w.onBeforeTimeHeaderDomAdd(p),
                v = p.element),
                o.domArgs = p,
                v) {
                    var m = s;
                    p.Ie = m;
                    var g = d(v)
                      , b = c(p.element)
                      , y = u(p.element);
                    if (g)
                        w.X.Je(),
                        w.X.W(v, m);
                    else if (b) {
                        if (!w.Z.Ke)
                            throw new DayPilot.Exception("Can't reach Vue");
                        w.Z.Le = !0,
                        w.Z._(p.element, m, p.props),
                        w.Z.Le = !1
                    } else if (y) {
                        if (!w.Z.Ke)
                            throw new DayPilot.Exception("Can't reach Vue");
                        w.Z.Le = !0,
                        w.Z.Me(p.element, m),
                        w.Z.Le = !1
                    } else
                        m.appendChild(v)
                } else
                    s.innerHTML = h;
                if (o.appendChild(s),
                f && f.areas) {
                    var x = {};
                    x.time = f.time,
                    x.date = f.date,
                    DayPilot.Areas.attach(o, x, {
                        "areas": f.areas
                    })
                }
                w.elements.timeHeaders.push(o),
                r.appendChild(o),
                e.appendChild(a)
            }
            ,
            this.zf = function(e) {
                var n, i;
                if (this.hours) {
                    var a = e + this.yf();
                    i = this.hours[a],
                    n = i.html
                }
                var r, o = _.vf(), s = this.startDate.addMinutes(o * e + 60 * this.Rb()), l = s.getHours(), d = l < 12;
                if (r = "Clock12Hours" === this.Ja.Sc() ? d ? "AM" : "PM" : "00",
                !n) {
                    var c = t();
                    c.setAttribute("unselectable", "on"),
                    "Clock12Hours" === this.Ja.Sc() && (l %= 12,
                    0 === l && (l = 12));
                    var u = _.vf();
                    if (60 !== u && (u <= 120 ? l += ":" + s.toString("mm") : l = u < 1440 ? s.toString("ddd M/d h:mm tt") : s.toString("ddd M/d")),
                    c.innerHTML = l,
                    60 === u) {
                        var h = document.createElement("span");
                        h.setAttribute("unselectable", "on"),
                        h.className = this.da("_rowheader_minutes"),
                        h.innerHTML = r,
                        c.appendChild(h)
                    }
                    n = c.outerHTML
                }
                var f = {};
                f.header = {},
                f.header.hours = s.getHours(),
                f.header.minutes = s.getMinutes(),
                f.header.start = s.toString("HH:mm"),
                f.header.text = null,
                f.header.html = n,
                f.header.areas = i ? i.areas : null,
                f.header.time = new DayPilot.Duration(s.getTimePart()),
                f.header.cssClass = null,
                f.header.date = null,
                "Resources" === w.viewType && (f.header.date = s),
                "function" == typeof w.onBeforeTimeHeaderRender && (w.onBeforeTimeHeaderRender(f),
                null !== f.header.html && (n = f.header.html)),
                i = f.header;
                var v = {};
                return v.start = s,
                v.hour = l,
                v.html = n,
                v.data = i,
                v.sup = r,
                f.header.text && (v.text = f.header.text),
                v
            }
            ,
            this.Af = function(e) {
                w.eb();
                var t = this;
                t.active || DayPilot.Areas.showAreas(t, t.data)
            }
            ,
            this.Bf = function(e) {
                DayPilot.Areas.hideAreas(this, e)
            }
            ,
            this.bf = function() {
                switch (this.heightSpec) {
                case "Fixed":
                    return this.height;
                case "Parent100Pct":
                    return this.height;
                case "Full":
                    return this.Qe();
                case "BusinessHours":
                case "BusinessHoursNoScroll":
                    if ("Resources" === w.viewType && w.days > 1)
                        return w.Qe();
                    return this.Ob() * this.cellHeight * 60 / _.Lb();
                default:
                    throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.")
                }
            }
            ,
            this.Qe = function() {
                return w.Nb() * this.cellHeight / (6e4 * _.Lb())
            }
            ,
            this.Sb = function() {
                if (!this.showHeader)
                    return 0;
                var e = _.Od() * _.He();
                return this.showAllDayEvents && _.Cf() ? e + _.Cf() : e
            }
            ,
            this.tb = function() {
                if (this.headerHeightAutoFit) {
                    for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                        for (var n = this.nav.header.rows[t], i = 0; i < n.cells.length; i++) {
                            var a = n.cells[i]
                              , r = a.firstChild
                              , o = r.firstChild
                              , s = r.style.height;
                            r.style.height = "auto",
                            o.style.position = "static";
                            var l = r.offsetHeight;
                            r.style.height = s,
                            o.style.position = "",
                            e = Math.max(e, l)
                        }
                    e > this.headerHeight && (this.wa.headerHeight = e,
                    this.rb(),
                    this.sb())
                }
            }
            ,
            this.Df = function() {
                var e = this.ra ? w.nav.bottomRight : w.nav.scroll;
                return DayPilot.sw(e) > 0
            }
            ,
            this.df = function() {
                var e = t()
                  , n = "Fixed" === this.columnWidthSpec;
                n || (e.style.overflow = "auto"),
                e.style.position = "absolute",
                e.style.left = "0px",
                e.style.right = "0px";
                var i = t();
                i.style.position = "relative",
                i.style.zoom = "1";
                var a = null
                  , n = "Fixed" === this.columnWidthSpec;
                if (n || this.ra) {
                    var r = t();
                    if (r.style.cssFloat = "left",
                    w.rtl && (r.style.cssFloat = "right"),
                    r.style.width = this.hourWidth + "px",
                    this.showHours) {
                        var o = this.Ef();
                        this.nav.corner = o,
                        r.appendChild(o),
                        i.appendChild(r),
                        this.nav.upperLeft = r
                    }
                    var s = t();
                    this.showHours && (w.rtl ? s.style.marginRight = this.hourWidth + "px" : s.style.marginLeft = this.hourWidth + "px"),
                    s.style.position = "relative",
                    s.style.overflow = "hidden",
                    s.style.height = this.Sb() + "px",
                    s.className = w.da("_colheader_back"),
                    s.onmousemove = function(e) {
                        var t = this;
                        "undefined" != typeof k && k.t && k.cd(t, e)
                    }
                    ,
                    i.appendChild(s),
                    this.nav.upperRight = s;
                    var l = t();
                    l.className = w.da("_colheader_back_inner"),
                    s.appendChild(l),
                    a = t(),
                    a.style.position = "relative",
                    s.appendChild(a)
                } else {
                    var d = document.createElement("table");
                    d.cellPadding = "0",
                    d.cellSpacing = "0",
                    d.border = "0",
                    d.style.margin = "0px",
                    d.style.width = "100%",
                    d.style.borderCollapse = "separate",
                    d.style.border = "0px none";
                    var c = d.insertRow(-1);
                    if (this.nav.fullHeader = d,
                    this.showHours) {
                        var u = c.insertCell(-1);
                        u.style.padding = "0px",
                        u.style.border = "0px none";
                        var o = this.Ef();
                        u.appendChild(o),
                        this.nav.corner = o
                    }
                    u = c.insertCell(-1),
                    u.style.width = "100%",
                    u.valign = "top",
                    u.style.position = "relative",
                    u.style.padding = "0px",
                    u.style.border = "0px none",
                    a = t(),
                    a.style.position = "relative",
                    a.style.height = this.Sb() + "px",
                    a.style.overflow = "hidden",
                    u.appendChild(a),
                    this.nav.mid = a,
                    i.appendChild(d)
                }
                this.nav.headerParent = a,
                this.nav.headerParent.onmousemove = function(e) {
                    e.insideMainD = !0
                }
                ,
                this.Ff();
                var h = this.Df()
                  , n = "Fixed" === this.columnWidthSpec;
                return h && !n && this.Gf(),
                e.appendChild(i),
                e
            }
            ,
            this.Ff = function() {
                if (this.nav.unifiedCornerRight = null,
                w.sa)
                    this.nav.header = t(),
                    this.nav.header.style.position = "relative";
                else {
                    this.nav.header = document.createElement("table"),
                    this.nav.header.style.margin = "0px",
                    this.nav.header.cellPadding = "0",
                    this.nav.header.cellSpacing = "0";
                    "Fixed" === this.columnWidthSpec || (this.nav.header.width = "100%"),
                    this.nav.header.style.tableLayout = "fixed",
                    this.nav.header.oncontextmenu = function() {
                        return !1
                    }
                }
                this.nav.header.setAttribute("dp-id", "header"),
                this.nav.headerParent.appendChild(this.nav.header),
                this.nav.header.onmousemove = function() {
                    w.eb()
                }
                ,
                this.nav.allday && p(this.nav.allday);
                var e = t();
                e.style.position = "absolute",
                e.style.top = "0px",
                e.style.height = "0px",
                e.setAttribute("dp-id", "allday"),
                "Fixed" === this.columnWidthSpec ? e.style.width = this.Kb.length * this.columnWidth + "px" : (e.style.left = "0px",
                e.style.right = "0px"),
                this.nav.allday = e,
                this.nav.headerParent.appendChild(e)
            }
            ,
            this.Gf = function() {
                if (this.nav.fullHeader) {
                    var e = this.nav.fullHeader.rows[0]
                      , n = e.insertCell(-1);
                    n.style.padding = "0px",
                    n.style.verticalAlign = "top",
                    n.setAttribute("unselectable", "on");
                    var i = t();
                    i.setAttribute("unselectable", "on"),
                    i.className = this.da("_cornerright"),
                    i.style.overflow = "hidden",
                    i.style.position = "relative",
                    i.style.width = "16px",
                    i.style.height = this.Sb() + "px";
                    var a = t();
                    a.className = this.da("_cornerright_inner"),
                    i.appendChild(a),
                    n.appendChild(i),
                    this.nav.cornerRight = i
                }
            }
            ,
            this.Ef = function() {
                var e = t();
                e.style.position = "relative",
                //add attribute test
                e.setAttribute("dp-id", "cornerthisone"),
                e.className = this.da("_corner"),
                e.style.width = this.hourWidth + "px",
                e.style.height = this.Sb() + "px",
                e.style.overflow = "hidden",
                e.oncontextmenu = function() {
                    return !1
                }
                ;
                var n = t();
                n.className = this.da("_corner_inner"),
                n.setAttribute("unselectable", "on"),
                e.appendChild(n);
                return e
            }
            ,
            this.Za = function() {
                if (w.nav.corner && w.nav.corner.firstChild) {
                    var e = w.nav.corner.firstChild
                      , t = e.domArgs;
                    if (e.domArgs = null,
                    t && ("function" == typeof w.onBeforeCornerDomRemove && w.onBeforeCornerDomRemove(t),
                    "function" == typeof w.onBeforeCornerDomAdd && w.X.reactDOM && e)) {
                        var n = w.X.reactDOM && d(t.element)
                          , i = w.Z.Ke && (c(t.element) || u(t.element));
                        n ? w.X.la(e) : i && (w.Z.Le = !0,
                        w.Z.ma(e),
                        w.Z.Le = !1)
                    }
                }
            }
            ,
            this.Xa = function() {
                var e = this.nav.main;
                e.root = null,
                e.onmouseup = null;
                for (var t = 0; t < e.rows.length; t++) {
                    var n = e.rows[t];
                    if (n)
                        for (var i = 0; i < n.cells.length; i++) {
                            var a = n.cells[i];
                            a && (a.root = null,
                            a.onmousedown = null,
                            a.onmousemove = null,
                            a.onmouseout = null,
                            a.onmouseup = null,
                            a.onclick = null,
                            a.ondblclick = null,
                            a.oncontextmenu = null)
                        }
                }
                this.ta || DayPilot.pu(e)
            }
            ,
            this.ub = function() {
                for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++)
                    this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
                for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++)
                    this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
                this.nav.scrollUp = [],
                this.nav.scrollDown = []
            }
            ,
            this.sf = function(e) {
                var n = t();
                n.style.marginRight = w.columnMarginRight + "px",
                n.style.marginLeft = w.columnMarginLeft + "px",
                n.style.position = "relative",
                n.style.height = "1px",
                n.style.marginTop = "-1px",
                e.events = n;
                var i = t();
                i.style.position = "relative",
                i.style.height = "1px",
                i.style.marginTop = "-1px",
                e.separators = i;
                var a = t();
                a.style.position = "relative",
                a.style.height = "1px",
                a.style.marginTop = "-1px",
                e.selection = a,
                e.appendChild(i),
                e.appendChild(a),
                e.appendChild(n)
            }
            ,
            this.wb = function() {
                w.sa ? w.Hf() : w.If()
            }
            ,
            this.Jf = function() {
                if (this.scrollLabelsVisible) {
                    var e = this.Kb
                      , n = this.showHours ? this.hourWidth : 0
                      , i = (this.nav.scroll.clientWidth - n) / e.length;
                    "Fixed" === w.columnWidthSpec && (i = w.columnWidth);
                    for (var a = 0; a < e.length; a++) {
                        var r = t();
                        r.style.position = "absolute",
                        r.style.top = "0px",
                        r.style.left = n + 2 + a * i + i / 2 + "px",
                        r.style.display = "none";
                        var o = t();
                        o.style.height = "10px",
                        o.style.width = "10px",
                        o.className = this.da("_scroll_up"),
                        r.appendChild(o),
                        this.nav.scrollLayer.appendChild(r),
                        this.nav.scrollUp.push(r);
                        var s = t();
                        s.style.position = "absolute",
                        s.style.top = "0px",
                        s.style.left = n + 2 + a * i + i / 2 + "px",
                        s.style.display = "none";
                        var o = t();
                        o.style.height = "10px",
                        o.style.width = "10px",
                        o.className = this.da("_scroll_down"),
                        s.appendChild(o),
                        this.nav.scrollLayer.appendChild(s),
                        this.nav.scrollDown.push(s)
                    }
                }
            }
            ,
            this.Kf = function() {
                var e = this.nav.events;
                e.innerHTML = "",
                e.rows = [{
                    "cells": []
                }],
                w.Ae().forEach(function(n, i) {
                    var a = t();
                    a.style.height = "1px",
                    a.style.overflow = "visible",
                    a.style.position = "absolute",
                    a.style.left = n.left + n.unit,
                    a.style.right = n.left + n.unit,
                    a.style.width = n.width + n.unit,
                    w.sf(a),
                    e.appendChild(a),
                    e.rows[0].cells.push(a)
                })
            }
            ,
            this.Ae = function() {
                function e(e) {
                    return DayPilot.browser.edge ? Math.floor(100 * e) / 100 : e
                }
                var t = w.Pd()
                  , n = w.Kb
                  , i = "Fixed" === this.columnWidthSpec
                  , a = 0;
                return DayPilot.list.for(n.length, function(r) {
                    var o = {}
                      , s = 0
                      , l = "";
                    return i ? (l = "px",
                    s = n[r].width ? n[r].width : w.columnWidth) : (l = "%",
                    s = t ? n[r].width : e(100 / n.length)),
                    o.left = a,
                    o.width = s,
                    o.unit = l,
                    a += s,
                    o
                })
            }
            ,
            this.Hf = function() {
                var e = this.nav.main
                  , t = this.nav.scrollable
                  , n = this.Vb()
                  , i = w.Kb;
                !function() {
                    w.elements.cells = {},
                    e.innerHTML = "",
                    e.rows = []
                }(),
                t.daypilotMainD = !0,
                t.calendar = this,
                w.Jf(),
                w.Kf();
                for (var a = 0; a < n; a++) {
                    e.rows.push({
                        "cells": []
                    });
                    for (var r = 0; r < i.length; r++)
                        w.Ye(r, a)
                }
                e.style.height = n * w.cellHeight + "px"
            }
            ,
            w.Lf = function(e, t) {
                var n = {}
                  , i = w.Pe(e)
                  , a = t * w.cellHeight;
                return n.left = i.left,
                n.width = i.width,
                n.right = n.left + n.width,
                n.top = a,
                n.height = w.cellHeight,
                n.bottom = n.top + n.height,
                n
            }
            ,
            w.Ye = function(e, n) {
                var i = "Fixed" === w.columnWidthSpec;
                if (!w.elements.cells[e + "_" + n]) {
                    if (i) {
                        var o = w.Lf(e, n)
                          , s = w.rd()
                          , h = s.pixels.right <= o.left || s.pixels.left >= o.right
                          , p = s.pixels.bottom <= o.top || s.pixels.top >= o.bottom;
                        if (!(!h && !p))
                            return
                    }
                    var m = w.Pe(e)
                      , g = 60 * _.Lb() * 1e3
                      , b = n * w.cellHeight
                      , y = w.Kb[e]
                      , x = t();
                    x.style.position = "absolute",
                    x.style.left = m.left + m.unit,
                    x.style.right = m.left + m.unit,
                    x.style.width = m.width + m.unit,
                    x.style.top = b + "px",
                    x.start = y.start.addTime(n * g).addHours(w.Rb()),
                    x.end = x.start.addTime(g),
                    x.resource = y.id,
                    x.data = {},
                    x.data.x = e,
                    x.data.y = n,
                    x.data.start = x.start,
                    x.data.end = x.end,
                    x.data.resource = x.resource,
                    x.data.calendar = w,
                    w.cellProperties || (w.cellProperties = {});
                    var k = {};
                    k.resource = x.resource,
                    k.start = x.start,
                    k.end = x.end,
                    k.x = e,
                    k.y = n;
                    var C = e + "_" + n
                      , S = ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"];
                    if (k.properties = w.cellProperties[C],
                    !w.cellProperties[C]) {
                        var E = k.properties = {};
                        E.cssClass = null,
                        E.html = null,
                        E.text = null,
                        E.backImage = null,
                        E.backRepeat = null,
                        E.backColor = null,
                        E.business = w.Mf(x.start, x.end),
                        E.fontColor = null,
                        w.cellProperties[C] = E
                    }
                    if ("function" == typeof w.onBeforeCellRender) {
                        var T = {};
                        T.cell = k,
                        w.onBeforeCellRender(T),
                        l(T.cell, T.cell.properties, S)
                    }
                    var D, A = w.Nf(e, n);
                    x.root = w,
                    x.setAttribute("unselectable", "on"),
                    D = t(),
                    D.className = w.da("_cell"),
                    D.style.position = "relative",
                    D.style.height = w.cellHeight + "px",
                    D.style.overflow = "hidden",
                    D.setAttribute("unselectable", "on");
                    var M = t();
                    M.className = w.da("_cell_inner"),
                    D.appendChild(M),
                    x.appendChild(D),
                    x.onmousedown = w.Oc,
                    x.onmousemove = w.bd,
                    x.onmouseout = w.ad,
                    a(x, DayPilot.touch.end, w.Ve.Of),
                    x.oncontextmenu = function() {
                        if (!w.Pc(w.coords)) {
                            var e = v.selecting = {};
                            e.start = w.coords,
                            e.start.time = w.tc(w.coords.x, w.coords.y),
                            e.start.columnIndex = w.Jb(w.coords.x),
                            e.start.column = w.Kb[e.start.columnIndex],
                            w.Qc(),
                            w.Ea = e,
                            v.selecting = null,
                            w.Rc(e)
                        }
                        return "Disabled" === w.timeRangeRightClickHandling,
                        !1
                    }
                    ;
                    var H = w.Pf(e, n);
                    D = x.firstChild;
                    "Fixed" === w.columnWidthSpec && (y.width ? D.style.width = y.width + "px" : D.style.width = w.columnWidth + "px"),
                    H && (D.firstChild.style.background = H);
                    (A ? A.business : w.Mf(x.start, x.end)) && r(D, w.da("_cell_business"));
                    var R = D.firstChild;
                    if (R && (R.innerHTML = ""),
                    D.style.backgroundImage = "",
                    D.style.backgroundRepeat = "",
                    A && (A.html ? R.innerHTML = A.html : A.text && (w.Ja.Ia() ? R.innerText = A.text : R.innerHTML = A.text),
                    A.cssClass && r(D, A.cssClass),
                    A.backImage && (D.style.backgroundImage = "url('" + A.backImage + "')"),
                    A.backRepeat && (D.style.backgroundRepeat = A.backRepeat),
                    A.fontColor && (D.style.color = A.fontColor),
                    A.areas)) {
                        var B = {};
                        B.start = x.start,
                        B.end = x.end,
                        B.resource = x.resource;
                        var P = f(A.areas).filter(function(e) {
                            return !(e.end && new DayPilot.Date(e.end) <= x.start) && !(e.start && new DayPilot.Date(e.start) >= x.end)
                        });
                        P.forEach(function(e) {
                            if (e.start || e.end) {
                                if (e.start) {
                                    var t = new DayPilot.Date(e.start).getTime() - x.start.getTime();
                                    e.top = w.Qf(t)
                                }
                                if (e.end) {
                                    var n = new DayPilot.Date(e.end).getTime() - x.start.getTime();
                                    e.height = w.Qf(n) - e.top
                                }
                            }
                        }),
                        DayPilot.Areas.attach(D, B, {
                            "areas": P
                        })
                    }
                    if (function() {
                        if ("function" == typeof w.onBeforeCellDomAdd || "function" == typeof w.onBeforeCellDomRemove) {
                            var e = {};
                            if (e.control = w,
                            e.cell = k,
                            e.element = null,
                            x.domArgs = e,
                            "function" == typeof w.onBeforeCellDomAdd && w.onBeforeCellDomAdd(e),
                            e.element) {
                                var t = M;
                                if (t) {
                                    e.Ie = t;
                                    var n = d(e.element)
                                      , i = c(e.element)
                                      , a = u(e.element);
                                    if (n) {
                                        if (!w.X.reactDOM)
                                            throw new DayPilot.Exception("Can't reach ReactDOM");
                                        w.X.W(e.element, t)
                                    } else if (i) {
                                        if (!w.Z.Ke)
                                            throw new DayPilot.Exception("Can't reach Vue");
                                        w.Z.Le = !0,
                                        w.Z._(e.element, t, e.props),
                                        w.Z.Le = !1
                                    } else if (a) {
                                        if (!w.Z.Ke)
                                            throw new DayPilot.Exception("Can't reach Vue");
                                        w.Z.Le = !0,
                                        w.Z.Me(e.element, t),
                                        w.Z.Le = !1
                                    } else
                                        t.appendChild(e.element)
                                }
                            }
                        }
                    }(),
                    w.nav.main.appendChild(x),
                    w.nav.main.rows[n].cells[e] = x,
                    w.elements.cells[e + "_" + n] = x,
                    "function" == typeof w.onAfterCellRender) {
                        var T = {};
                        T.cell = l(k, {}, ["start", "end", "resource"]),
                        T.div = D,
                        w.onAfterCellRender(T)
                    }
                }
            }
            ,
            this.If = function() {
                var e = _.Lb()
                  , n = this.nav.main
                  , i = 60 * e * 1e3
                  , o = this.Vb()
                  , s = (this.yf() * (60 / e),
                w.Kb)
                  , d = 0;
                for (n && (d = w.fd().scrollTop,
                this.Xa()),
                this.nav.scrollable.daypilotMainD = !0,
                this.nav.scrollable.calendar = this; n && n.rows && n.rows.length > 0; )
                    this.ta || DayPilot.pu(n.rows[0]),
                    n.deleteRow(0);
                if (this.Rf = !0,
                this.scrollLabelsVisible)
                    for (var s = this.Kb, c = this.showHours ? this.hourWidth : 0, u = (this.nav.scroll.clientWidth - c) / s.length, h = 0; h < s.length; h++) {
                        var p = t();
                        p.style.position = "absolute",
                        p.style.top = "0px",
                        p.style.left = c + 2 + h * u + u / 2 + "px",
                        p.style.display = "none";
                        var m = t();
                        m.style.height = "10px",
                        m.style.width = "10px",
                        m.className = this.da("_scroll_up"),
                        p.appendChild(m),
                        this.nav.scrollLayer.appendChild(p),
                        this.nav.scrollUp.push(p);
                        var g = t();
                        g.style.position = "absolute",
                        g.style.top = "0px",
                        g.style.left = c + 2 + h * u + u / 2 + "px",
                        g.style.display = "none";
                        var m = t();
                        m.style.height = "10px",
                        m.style.width = "10px",
                        m.className = this.da("_scroll_down"),
                        g.appendChild(m),
                        this.nav.scrollLayer.appendChild(g),
                        this.nav.scrollDown.push(g)
                    }
                var b = s.length;
                if (this.pa) {
                    for (var y = this.nav.events; y && y.rows && y.rows.length > 0; )
                        this.ta || DayPilot.pu(y.rows[0]),
                        y.deleteRow(0);
                    for (var x = y.insertRow(-1), k = 0; k < b; k++) {
                        var C = x.insertCell(-1);
                        C.style.padding = "0px",
                        C.style.border = "0px none",
                        C.style.height = "1px",
                        C.style.overflow = "visible";
                        var S = "Fixed" === this.columnWidthSpec;
                        S && (s[k].width ? C.style.width = s[k].width + "px" : C.style.width = this.columnWidth + "px"),
                        w.rtl || (C.style.textAlign = "left"),
                        w.sf(C)
                    }
                }
                for (var h = 0; h < o; h++) {
                    var x = n.insertRow(-1)
                      , E = h;
                    x.style.MozUserSelect = "none",
                    x.style.KhtmlUserSelect = "none",
                    x.style.WebkitUserSelect = "none";
                    for (var k = 0; k < b; k++) {
                        var T = this.Kb[k]
                          , C = x.insertCell(-1);
                        C.start = T.start.addTime(E * i).addHours(this.Rb()),
                        C.end = C.start.addTime(i),
                        C.resource = T.id,
                        this.cellProperties || (this.cellProperties = {});
                        var D = {};
                        D.resource = C.resource,
                        D.start = C.start,
                        D.end = C.end;
                        var A = k + "_" + E;
                        if (D.cssClass = null,
                        D.html = null,
                        D.backImage = null,
                        D.backRepeat = null,
                        D.backColor = null,
                        D.business = this.Mf(C.start, C.end),
                        this.cellProperties[A] && l(this.cellProperties[A], D, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"]),
                        "function" == typeof this.onBeforeCellRender) {
                            var M = {};
                            M.cell = D,
                            this.onBeforeCellRender(M)
                        }
                        this.cellProperties[A] = D;
                        var H, R = w.Nf(k, E);
                        C.root = this,
                        C.setAttribute("unselectable", "on"),
                        H = t(),
                        H.className = w.da("_cell"),
                        H.style.position = "relative",
                        H.style.height = w.cellHeight + "px",
                        H.style.overflow = "hidden",
                        H.setAttribute("unselectable", "on");
                        var B = t();
                        B.className = w.da("_cell_inner"),
                        H.appendChild(B),
                        C.appendChild(H),
                        C.onmousedown = this.Oc,
                        C.onmousemove = this.bd,
                        C.onmouseout = this.ad,
                        a(C, DayPilot.touch.end, this.Ve.Of),
                        C.oncontextmenu = function() {
                            if (!w.Pc(w.coords)) {
                                var e = v.selecting = {};
                                e.start = w.coords,
                                e.start.time = w.tc(w.coords.x, w.coords.y),
                                e.start.columnIndex = w.Jb(w.coords.x),
                                e.start.column = w.Kb[e.start.columnIndex],
                                w.Qc(),
                                w.Ea = e,
                                v.selecting = null,
                                w.Rc(e)
                            }
                            return "Disabled" === w.timeRangeRightClickHandling,
                            !1
                        }
                        ;
                        var P = w.Pf(k, E);
                        H = C.firstChild;
                        var S = "Fixed" === this.columnWidthSpec;
                        S && (T.width ? H.style.width = T.width + "px" : H.style.width = this.columnWidth + "px"),
                        P && (H.firstChild.style.background = P);
                        (R ? R.business : this.Mf(C.start, C.end)) && r(H, w.da("_cell_business"));
                        var N = H.firstChild;
                        if (N && (N.innerHTML = ""),
                        H.style.backgroundImage = "",
                        H.style.backgroundRepeat = "",
                        R && (R.html && (N.innerHTML = R.html),
                        R.cssClass && r(H, R.cssClass),
                        R.backImage && (H.style.backgroundImage = "url('" + R.backImage + "')"),
                        R.backRepeat && (H.style.backgroundRepeat = R.backRepeat),
                        R.areas)) {
                            var L = {};
                            L.start = C.start,
                            L.end = C.end,
                            L.resource = C.resource;
                            var I = f(R.areas).filter(function(e) {
                                return !(e.end && new DayPilot.Date(e.end) <= C.start) && !(e.start && new DayPilot.Date(e.start) >= C.end)
                            });
                            I.forEach(function(e) {
                                if (e.start || e.end) {
                                    if (e.start) {
                                        var t = new DayPilot.Date(e.start).getTime() - C.start.getTime();
                                        e.top = w.Qf(t)
                                    }
                                    if (e.end) {
                                        var n = new DayPilot.Date(e.end).getTime() - C.start.getTime();
                                        e.height = w.Qf(n) - e.top
                                    }
                                }
                            }),
                            DayPilot.Areas.attach(H, L, {
                                "areas": I
                            })
                        }
                    }
                }
                n.onmouseup = this.dd,
                n.root = this,
                n.style.height = o * w.cellHeight + "px",
                w.nav.scrollable.style.display = "",
                w.fd().scrollTop = d
            }
            ,
            this.kf = function(e) {
                if (!S.detected) {
                    var t = w.getSelection();
                    if (t) {
                        var n = {};
                        if (n.start = t.start,
                        n.end = t.end,
                        n.resource = t.resource,
                        n.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof w.onTimeRangeRightClick && (w.onTimeRangeRightClick(n),
                        n.preventDefault.value))
                            return !1;
                        "ContextMenu" === w.timeRangeRightClickHandling && w.contextMenuSelection && w.contextMenuSelection.show(w.getSelection()),
                        "function" == typeof w.onTimeRangeRightClicked && w.onTimeRangeRightClicked(n)
                    }
                }
            }
            ,
            this.Mf = function(e, t) {
                var n = _.Lb();
                if (n <= 1440 && !w.businessWeekends && (0 === e.dayOfWeek() || 6 === e.dayOfWeek()))
                    return !1;
                if (n < 720) {
                    var i = e.getHours();
                    i += e.getMinutes() / 60,
                    i += e.getSeconds() / 3600,
                    i += e.getMilliseconds() / 36e5;
                    var a = this.businessBeginsHour
                      , r = this.businessEndsHour;
                    if (0 === r && (r = 24),
                    a === r)
                        return !1;
                    if (!(a < r))
                        return i < r || i >= a;
                    if (i < a)
                        return !1;
                    if (r >= 24)
                        return !0;
                    if (i >= r)
                        return !1
                }
                return !0
            }
            ,
            this.jf = function(e) {
                e = e || window.event,
                e.insideMainD = !0,
                window.event && window.event.srcElement && (window.event.srcElement.inside = !0);
                for (var t = 0; t < m.Sf.length; t++) {
                    var n = m.Sf[t];
                    n !== w && n.db && n.db()
                }
                m.activeCalendar = this;
                var i = w.nav.main;
                w.coords = DayPilot.mo3(i, e);
                var a = DayPilot.mc(e)
                  , s = w.crosshairType && "Disabled" !== w.crosshairType;
                if (v.moving || v.resizing || v.selecting ? w.eb() : s && w.Tf(),
                v.resizing)
                    w.Uf(a);
                else if (v.moving) {
                    if (!v.moving.helper)
                        return p(m.movingShadow),
                        void (m.movingShadow = null);
                    if (!m.movingShadow) {
                        var l = 3;
                        if (!(DayPilot.distance(a, m.Vf) > l))
                            return;
                        m.movingShadow = w.Ib(v.moving, !0),
                        m.movingShadow.style.width = m.movingShadow.parentNode.offsetWidth + 1 + "px"
                    }
                    var d = m.movingShadow;
                    if (!w.coords)
                        return;
                    r(v.moving, w.da("_event_moving_source"));
                    var c = w.cellHeight
                      , u = w.snapToGrid && w.snapToGridEventMoving
                      , h = 0
                      , f = m.moveOffsetY;
                    f || (f = c / 2),
                    "Top" === this.moveBy && (f = 0);
                    var g = v.moving.event
                      , b = Math.floor((w.coords.y - f - h + c / 2) / c) * c + h;
                    u || (b = w.coords.y - f);
                    var y = !w.va;
                    b < h && y && (b = h);
                    var x = w.nav.main
                      , k = w.sa ? w.Vb() * w.cellHeight : x.clientHeight
                      , C = parseInt(d.style.height);
                    b + C > k && y && (b = k - C);
                    var S = w.Jb(w.coords.x);
                    S < 0 && (S = 0),
                    S >= w.Kb.length && (S = w.Kb.length - 1);
                    var E = w.vc(g, S, b);
                    if (w.va) {
                        var T = v.moving.helper.Wf;
                        E = w.rc(g, w.coords, T),
                        m.movingShadow.style.display = "none"
                    }
                    var D = w.eventMovingStartEndFormat;
                    "Auto" === D && (D = "Clock24Hours" === _.Sc() ? "H:mm" : "h:mm tt");
                    var A = {};
                    A.e = g,
                    A.start = E.start,
                    A.end = E.end,
                    A.resource = E.resource,
                    A.html = null,
                    A.cssClass = null,
                    A.allowed = !0,
                    A.areaData = v.movingAreaData,
                    A.top = {},
                    A.top.width = null,
                    A.top.space = 5,
                    A.top.html = A.start.toString(D, _.Tc()),
                    A.top.enabled = w.eventMovingStartEndEnabled,
                    A.bottom = {},
                    A.bottom.width = null,
                    A.bottom.space = 5,
                    A.bottom.html = A.end.toString(D, _.Tc()),
                    A.bottom.enabled = w.eventMovingStartEndEnabled,
                    A.external = !!m.drag,
                    function() {
                        var e = w.gb;
                        if (!(e && e.start.getTime() === E.start.getTime() && e.end.getTime() === E.end.getTime() && e.resource === E.resource)) {
                            if (w.gb = A,
                            d.args = A,
                            d.style.top = b + "px",
                            !u) {
                                var t = E.end.getTime() - E.start.getTime()
                                  , n = w.Qf(t);
                                d.style.height = n + "px"
                            }
                            var i = w.nav.events;
                            if (S < i.rows[0].cells.length && S >= 0 && d.column !== S && (d.column = S,
                            m.moveShadow(i.rows[0].cells[S])),
                            !w.allowEventOverlap) {
                                var a = {
                                    "id": g.id(),
                                    "start": A.start,
                                    "end": A.end,
                                    "resource": A.resource
                                };
                                w.events.Uc(a) && (A.allowed = !1)
                            }
                            if (w.Vc(A.start, A.end, A.resource) && (A.allowed = !1),
                            "function" == typeof w.onEventMoving && A.allowed && w.onEventMoving(A),
                            v.moving) {
                                var s = [{
                                    "div": d,
                                    "columnIndex": S
                                }];
                                if (w.va) {
                                    var l = {
                                        "start": A.start,
                                        "end": A.end,
                                        "resource": A.resource
                                    };
                                    w.Yc(g, l),
                                    w.xc = l,
                                    s = w.Fa,
                                    d.style.display = "none"
                                }
                                s.forEach(function(e) {
                                    o(e.div, w.da("_shadow_forbidden"))
                                }),
                                w.Zc(),
                                s.forEach(function(e) {
                                    var t = e.div
                                      , n = e.columnIndex;
                                    t.className = w.da("_shadow"),
                                    t.firstChild.innerHTML = "",
                                    A.html && (t.firstChild.innerHTML = A.html),
                                    A.cssClass && r(t, A.cssClass),
                                    A.allowed || r(t, w.da("_shadow_forbidden")),
                                    w.$c(t, n, A)
                                })
                            }
                        }
                    }()
                } else if (v.selecting) {
                    var M = v.selecting;
                    if (M.origin = "drag",
                    w.Qc(),
                    M.last && M.last.startTime === M.startTime && M.last.endTime === M.endTime)
                        return;
                    M.last = {
                        "startTime": M.startTime,
                        "endTime": M.endTime
                    },
                    w.Rc()
                }
                if (m.drag) {
                    if (m.gShadow && document.body.removeChild(m.gShadow),
                    m.gShadow = null,
                    !m.movingShadow && w.coords) {
                        var d = w.Ib(m.drag, !1);
                        if (d) {
                            m.movingShadow = d;
                            var H = DayPilot.Date.today()
                              , R = {
                                "id": m.drag.id,
                                "start": H,
                                "end": H.addSeconds(m.drag.duration),
                                "text": m.drag.text
                            }
                              , B = m.drag.Xf
                              , P = m.drag.Yf
                              , N = P || B;
                            if (N) {
                                var L = ["duration", "element", "remove", "id", "text"];
                                N === B && L.push("data");
                                for (var I in N)
                                    DayPilot.contains(L, I) || (R[I] = N[I])
                            }
                            var z = new DayPilot.Event(R,w);
                            z.external = !0,
                            v.moving = {},
                            v.moving.event = z,
                            v.moving.helper = {}
                        }
                    }
                    e.cancelBubble = !0
                }
                w.Zf(w.coords)
            }
            ,
            this.Yc = function(e, t) {
                var n = t.start
                  , i = t.end
                  , a = t.resource
                  , r = w.Nb(!0)
                  , o = w.Kb.map(function(e, t) {
                    var o = !e.id || a === e.id
                      , s = e.start.addHours(w.Rb(!0))
                      , l = s.addTime(r)
                      , d = DayPilot.Util.overlaps(n, i, s, l);
                    return {
                        "matches": o && d,
                        "data": e,
                        "start": s,
                        "end": l,
                        "index": t
                    }
                }).filter(function(e) {
                    return e.matches
                })
                  , s = o.map(function(t) {
                    var a = document.createElement("div");
                    a.className = w.da("_shadow"),
                    a.style.position = "absolute",
                    a.style.left = w.columnMarginLeft + "px",
                    a.style.right = w.columnMarginRight + "px";
                    var r = w.Rb(!0)
                      , o = t.start > n ? t.start : n
                      , s = t.end < i ? t.end : i
                      , l = w.sc(o, t.start.addHours(-r)).top
                      , d = w.sc(s, t.start.addHours(-r)).top
                      , c = d - l
                      , u = w.snapToGrid && w.snapToGridTimeRangeSelecting;
                    (e ? e.part.box : u) && (l = w.sc(o, t.start.addHours(-r)).boxTop,
                    c = w.sc(s, t.start.addHours(-r)).boxBottom - l),
                    a.style.top = l + "px",
                    a.style.height = c + "px",
                    a.onclick = function(e) {
                        if ("Disabled" !== w.timeRangeClickHandling) {
                            var t = w.getSelection();
                            t && w.Gc(t.start, t.end, t.resource)
                        }
                    }
                    ,
                    a.ondblclick = function(e) {
                        if ("Disabled" !== w.timeRangeDoubleClickHandling) {
                            clearTimeout(w.Xc);
                            var t = w.getSelection();
                            t && w.Hc(t.start, t.end, t.resource)
                        }
                    }
                    ;
                    var h = document.createElement("div");
                    return h.className = w.da("_shadow_inner"),
                    a.appendChild(h),
                    {
                        "div": a,
                        "column": t,
                        "columnIndex": t.index
                    }
                })
                  , l = (w.Fa || []).map(function(e) {
                    return e.div
                });
                DayPilot.de(l),
                w.Fa = s,
                s.forEach(function(e) {
                    w.nav.events.rows[0].cells[e.column.index].appendChild(e.div)
                })
            }
            ,
            this.getCoords = function() {
                if (!w.coords)
                    return null;
                var e = w.coords
                  , t = {};
                t.x = Math.floor(e.x),
                t.y = Math.floor(e.y);
                var n = w.Jb(e.x);
                n < 0 && (n = 0),
                n >= w.Kb.length && (n = w.Kb.length - 1);
                var i = w.Kb[n];
                t.column = w.bc(i);
                var a = w.sd(t.y)
                  , r = i.start.addHours(a);
                return t.time = r,
                t
            }
            ,
            this.$f = function(e) {
                m.movingShadow.offsetTop,
                v.moving.event,
                m.movingShadow.column
            }
            ,
            this.Vc = function(e, t, n) {
                return w._f(e, t, n).some(function(e) {
                    return e.disabled
                })
            }
            ,
            this.Qc = function() {
                var e = v.selecting;
                e.end = w.coords,
                e.end.time = w.tc(e.start.x, e.end.y),
                e.end.column = w.Kb[w.Jb(e.end.x)],
                w.va && (e.end.time = w.tc(e.end.x, e.end.y)),
                w.fe(e)
            }
            ,
            this.fe = function(e) {
                var t, n, i;
                w.snapToGrid && w.snapToGridTimeRangeSelecting ? e.end.time < e.start.time ? (t = w.uc(e.end.time, e.start.column.start),
                n = w.ag(e.start.time, e.start.column.start),
                i = e.endTime) : (t = w.uc(e.start.time, e.start.column.start),
                n = w.ag(e.end.time, e.start.column.start),
                i = e.startTime) : e.end.time < e.start.time ? (t = e.end.time,
                n = e.start.time,
                i = e.endTime) : (t = e.start.time,
                n = e.end.time,
                i = e.startTime),
                e.startTime = t,
                e.endTime = n,
                e.anchor = i
            }
            ,
            this.Pc = function(e) {
                var t = w.Ea;
                if (!t)
                    return !1;
                var n = t.start
                  , i = t.end
                  , a = w.tc(e.x, e.y)
                  , r = w.Kb[w.Jb(e.x)];
                return a >= n.time && a < i.time && r === n.column
            }
            ,
            this._f = function(e, t, n) {
                for (var i = [], a = 60 * _.Lb() * 1e3, r = 0; r < w.Kb.length; r++)
                    for (var o = w.Kb[r], s = 0; s < w.Vb(); s++) {
                        var l = r + "_" + s
                          , d = w.cellProperties[l]
                          , c = o.start.addTime(s * a).addHours(w.Rb())
                          , u = c.addTime(a)
                          , f = !n || n === o.id;
                        f && h(e, t, c, u) && d && i.push(d)
                    }
                return i
            }
            ,
            this.Uf = function(e) {
                if (!v.resizing.event)
                    return v.resizing = null,
                    p(m.resizingShadow),
                    void (m.resizingShadow = null);
                m.resizingShadow || (m.resizingShadow = w.Ib(v.resizing, !1));
                var t = v.resizing.event.calendar.cellHeight
                  , n = 0
                  , i = e.y - m.Vf.y
                  , a = v.resizing.event
                  , o = a.start()
                  , s = a.end()
                  , l = null
                  , d = w.snapToGrid && w.snapToGridEventResizing;
                if ("bottom" === v.resizing.dpBorder) {
                    var c = Math.floor((m.bg + m.cg + i + t / 2) / t) * t - m.cg + n;
                    d || (c = m.bg + i),
                    c < t && (c = t);
                    var u = w.sa ? w.Vb() * w.cellHeight : w.nav.main.clientHeight;
                    m.cg + c > u && (c = u - m.cg),
                    m.resizingShadow.style.height = c + "px",
                    s = w.lc(a, m.cg + c),
                    l = o;
                    var h = w.va;
                    if (h) {
                        m.resizingShadow.style.display = "none";
                        var f = w.coords
                          , g = w.tc(f.x, f.y)
                          , b = this.Jb(f.x)
                          , y = this.Kb[b];
                        s = w.snapToGrid && w.snapToGridEventResizing ? w.sc(g, y.start).boxEnd : g;
                        var x = o.addTime(60 * _.Lb() * 1e3);
                        s.getTime() < x.getTime() && (s = x)
                    }
                } else if ("top" === v.resizing.dpBorder) {
                    var k = Math.floor((m.cg + i - n + t / 2) / t) * t + n;
                    d || (k = m.cg + i),
                    k < n && (k = n),
                    k > m.cg + m.bg - t && (k = m.cg + m.bg - t);
                    var c = m.bg - (k - m.cg);
                    c < t ? c = t : m.resizingShadow.style.top = k + "px",
                    m.resizingShadow.style.height = c + "px",
                    o = w.kc(a, k),
                    l = s;
                    var h = w.va;
                    if (h) {
                        m.resizingShadow.style.display = "none";
                        var f = w.coords
                          , g = w.tc(f.x, f.y)
                          , b = this.Jb(f.x)
                          , y = this.Kb[b];
                        o = w.snapToGrid && w.snapToGridEventResizing ? w.sc(g, y.start).boxStart : g;
                        var C = s.addTime(60 * -_.Lb() * 1e3);
                        o.getTime() > C.getTime() && (o = C)
                    }
                }
                var S = m.resizingShadow
                  , E = w.eventResizingStartEndFormat;
                "Auto" === E && (E = "Clock24Hours" === _.Sc() ? "H:mm" : "h:mm tt");
                var T = {};
                if (T.e = a,
                T.start = o,
                T.end = s,
                T.resource = a.resource(),
                T.allowed = !0,
                T.html = null,
                T.cssClass = null,
                T.anchor = l,
                T.top = {},
                T.top.width = null,
                T.top.space = 5,
                T.top.html = T.start.toString(E, _.Tc()),
                T.top.enabled = w.eventResizingStartEndEnabled,
                T.bottom = {},
                T.bottom.width = null,
                T.bottom.space = 5,
                T.bottom.html = T.end.toString(E, _.Tc()),
                T.bottom.enabled = w.eventResizingStartEndEnabled,
                S.args = T,
                !w.allowEventOverlap) {
                    var D = {
                        "id": a.id(),
                        "start": T.start,
                        "end": T.end,
                        "resource": T.resource
                    };
                    w.events.Uc(D) && (T.allowed = !1)
                }
                w.Vc(T.start, T.end, T.resource) && (T.allowed = !1),
                "function" == typeof w.onEventResizing && T.allowed && w.onEventResizing(T);
                var A = {
                    "start": T.start,
                    "end": T.end,
                    "resource": a.resource()
                };
                w.Yc(a, A),
                w.oc = A;
                var M = w.va ? w.Fa : [{
                    "div": S,
                    "columnIndex": a.part.dayIndex
                }];
                w.Zc(),
                M.forEach(function(e) {
                    var t = e.div
                      , n = e.columnIndex;
                    t.firstChild.innerHTML = "",
                    t.className = w.da("_shadow"),
                    T.html && (t.firstChild.innerHTML = T.html),
                    T.cssClass && r(t, T.cssClass),
                    T.allowed || r(t, w.da("_shadow_forbidden")),
                    w.$c(t, n, T)
                })
            }
            ,
            this.temp = {},
            this.temp.getPosition = function() {
                var e = w.eg.dg();
                if (!e)
                    return null;
                var t = w.Kb[e.x]
                  , n = {};
                return n.resource = t.id,
                n.start = new DayPilot.Date(t.start).addHours(w.Rb(!0)).addMinutes(e.y * _.Lb()),
                n.end = n.start.addMinutes(_.Lb()),
                n
            }
            ,
            this.eg = {},
            this.eg.dg = function() {
                var e = {};
                if (e.x = 0,
                e.y = 0,
                !w.coords)
                    return null;
                e.x = w.Jb(w.coords.x);
                var t = 0
                  , n = Math.floor((w.coords.y - t) / w.cellHeight);
                return e.y = DayPilot.Util.atLeast(0, n),
                e.x < 0 ? null : e
            }
            ,
            this.eg.col = function(e, t) {
                var n = {};
                if (n.left = 0,
                n.width = 0,
                !e)
                    return null;
                if (!e.rows)
                    return null;
                if (0 === e.rows.length)
                    return null;
                if (0 == e.rows[0].cells.length)
                    return null;
                var i = e.rows[0].cells[t];
                if (!i)
                    return null;
                var a = DayPilot.abs(e)
                  , r = DayPilot.abs(i);
                return n.left = r.x - a.x,
                n.width = i.offsetWidth,
                n
            }
            ,
            this.Tf = function() {
                var e = w.nav.hourTable;
                this.eb(),
                this.elements.crosshair || (this.elements.crosshair = []);
                var n = this.eg.dg();
                if (n) {
                    var i = n.x;
                    if (null !== i) {
                        var a = Math.floor(n.y / (60 / _.Lb()) * (60 / _.vf()));
                        if (!(a < 0)) {
                            if (e) {
                                if (a >= e.rows.length)
                                    return;
                                var r = t();
                                r.style.position = "absolute",
                                r.style.left = "0px",
                                r.style.right = "0px",
                                r.style.top = "0px",
                                r.style.bottom = "0px",
                                r.className = w.da("_crosshair_left"),
                                e.rows[a].cells[0].firstChild.appendChild(r),
                                this.elements.crosshair.push(r)
                            }
                            if (this.nav.header) {
                                var o = t();
                                o.style.position = "absolute",
                                o.style.left = "0px",
                                o.style.right = "0px",
                                o.style.top = "0px",
                                o.style.bottom = "0px",
                                o.className = w.da("_crosshair_top");
                                var s = this.nav.header.rows[_.Od() - 1];
                                s.cells[i] && (s.cells[i].firstChild.appendChild(o),
                                this.elements.crosshair.push(o))
                            }
                            if ("Header" !== this.crosshairType) {
                                var l = this.nav.crosshair
                                  , d = 0
                                  , c = Math.floor((w.coords.y - d) / w.cellHeight) * w.cellHeight + d
                                  , u = w.cellHeight
                                  , h = t();
                                h.style.position = "absolute",
                                h.style.left = "0px",
                                h.style.right = "0px",
                                h.style.top = c + "px",
                                h.style.height = u + "px",
                                h.style.pointerEvents = "none",
                                h.className = w.da("_crosshair_horizontal"),
                                h.onmousedown = this.fg,
                                l.appendChild(h),
                                this.elements.crosshair.push(h);
                                var f = i
                                  , v = this.eg.col(this.nav.main, f);
                                if (u = w.Qe(),
                                v) {
                                    var p = t();
                                    p.style.position = "absolute",
                                    p.style.left = v.left + "px",
                                    p.style.width = v.width + "px",
                                    p.style.top = "0px",
                                    p.style.height = u + "px",
                                    p.style.pointerEvents = "none",
                                    p.className = w.da("_crosshair_vertical"),
                                    p.onmousedown = this.fg,
                                    l.appendChild(p),
                                    this.elements.crosshair.push(p)
                                }
                            }
                        }
                    }
                }
            }
            ,
            this.fg = function(e) {
                var t = w.nav.main;
                w.eb(),
                w.coords = DayPilot.mo3(t, e);
                var n = w.eg.dg()
                  , i = 0
                  , a = n.x
                  , r = t.rows[n.y + i].cells[a];
                w.Oc.apply(r, [e])
            }
            ,
            this.eb = function() {
                if (this.elements.crosshair && 0 !== this.elements.crosshair.length) {
                    for (var e = 0; e < this.elements.crosshair.length; e++) {
                        var t = this.elements.crosshair[e];
                        t && t.parentNode && t.parentNode.removeChild(t)
                    }
                    this.elements.crosshair = []
                }
            }
            ,
            this.pb = function() {
                if (this.cellConfig) {
                    var e = this.cellConfig;
                    if (e.vertical)
                        for (var t = 0; t < e.x; t++)
                            for (var n = this.cellProperties[t + "_0"], i = 1; i < e.y; i++)
                                this.cellProperties[t + "_" + i] = n;
                    if (e.horizontal)
                        for (var i = 0; i < e.y; i++)
                            for (var n = this.cellProperties["0_" + i], t = 1; t < e.x; t++)
                                this.cellProperties[t + "_" + i] = n;
                    if (e["default"])
                        for (var n = e["default"], i = 0; i < e.y; i++)
                            for (var t = 0; t < e.x; t++)
                                this.cellProperties[t + "_" + i] || (this.cellProperties[t + "_" + i] = n)
                }
            }
            ,
            this.Nf = function(e, t) {
                return this.cellProperties ? this.cellProperties[e + "_" + t] : null
            }
            ,
            this.gg = function(e, t) {
                var n = e + "_" + t;
                return !(!this.cellProperties || !this.cellProperties[n]) && this.cellProperties[n].business
            }
            ,
            this.Pf = function(e, t) {
                var n = e + "_" + t;
                return this.cellProperties && this.cellProperties[n] ? this.cellProperties[n].backColor : null
            }
            ,
            this.Ya = function() {
                var e = this.nav.header;
                if (e && e.rows)
                    for (var t = 0; t < e.rows.length; t++)
                        for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                            var a = n.cells[i];
                            a.onclick = null,
                            a.onmousemove = null,
                            a.onmouseout = null;
                            var r = a
                              , o = r.domArgs;
                            if (r.domArgs = null,
                            "function" == typeof w.onBeforeHeaderDomRemove && w.onBeforeHeaderDomRemove(o),
                            "function" == typeof w.onBeforeHeaderDomAdd && w.X.reactDOM) {
                                var s = o && o.Ie;
                                if (s) {
                                    var l = w.X.reactDOM && d(o.element)
                                      , h = w.Z.Ke && (c(o.element) || u(o.element));
                                    l ? w.X.la(s) : h && (w.Z.Le = !0,
                                    w.Z.ma(s),
                                    w.Z.Le = !1)
                                }
                            }
                        }
                e && (this.ta || DayPilot.pu(e),
                e.innerHTML = "",
                e.rows = [])
            }
            ,
            this.Ee = function(e) {
                var t = e + 1
                  , n = t === _.Od()
                  , i = this.Nd(t)
                  , a = 0
                  , r = 0
                  , o = w.Ae()
                  , s = []
                  , l = "Fixed" === this.columnWidthSpec
                  , d = l ? "px" : "%";
                if (!n)
                    for (var c = 0; c < i.length; c++) {
                        var u = i[c]
                          , h = (o[c],
                        !!u.Yd)
                          , f = h ? u.Zd(_.Od() - t + 1) : 1
                          , v = 0;
                        DayPilot.list.for(f, function() {
                            v += o[a].width,
                            a += 1
                        }),
                        s.push({
                            "left": r,
                            "width": v,
                            "unit": d
                        }),
                        r += v
                    }
                return s
            }
            ,
            this.hg = function(e) {
                function n(n) {
                    var i = a[n]
                      , o = h[n];
                    if (o) {
                        var m = {};
                        m.header = {},
                        m.header.cssClass = null,
                        m.column = w.bc(i, w);
                        var g = null;
                        w.Hb() && "function" == typeof w.onBeforeHeaderRender && (l(i, m.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]),
                        w.onBeforeHeaderRender(m),
                        l(m.header, i, ["html", "backColor", "toolTip", "areas", "cssClass"]));
                        var b = !!i.Yd
                          , y = o.width
                          , C = o.left;
                        s || (C = p[n].left,
                        y = p[n].width);
                        var S = t();
                        S.style.position = "absolute",
                        S.style.top = f + "px",
                        S.style.left = C + o.unit,
                        S.style.right = C + o.unit,
                        S.style.width = y + o.unit,
                        S.data = i,
                        v.push(S),
                        b && (S.onclick = w.cc,
                        S.onmousemove = w.dc,
                        S.onmouseout = w.fc,
                        i.toolTip && (S.title = i.toolTip)),
                        S.style.overflow = "hidden",
                        S.style.height = _.He() + "px";
                        var E = t();
                        E.setAttribute("unselectable", "on"),
                        E.style.userSelect = "none",
                        E.style.position = "relative",
                        E.style.height = _.He() + "px",
                        E.className = w.da("_colheader"),
                        i.cssClass && DayPilot.Util.addClass(E, i.cssClass),
                        w.headerTextWrappingEnabled || (E.style.whiteSpace = "nowrap");
                        var T = t();
                        if (T.className = w.da("_colheader_inner"),
                        i.backColor && (T.style.background = i.backColor),
                        E.appendChild(T),
                        S.appendChild(E),
                        _.te() && "undefined" != typeof k && k.ve && !function() {
                            var t = {};
                            t.column = r[n],
                            t.x = n,
                            t.y = e,
                            t.div = S,
                            k.ve(t)
                        }(),
                        _.ge() && b && "undefined" != typeof x && x.ie && !function() {
                            var t = {};
                            t.column = r[n],
                            t.x = n,
                            t.y = e,
                            t.div = S,
                            x.ie(t)
                        }(),
                        w.ig(E, i),
                        "function" == typeof w.onBeforeHeaderDomAdd && (m.element = null,
                        w.onBeforeHeaderDomAdd(m),
                        g = m.element),
                        S.domArgs = m,
                        g) {
                            var D = T;
                            m.Ie = D;
                            var A = d(g)
                              , M = c(m.element)
                              , H = u(m.element);
                            if (A)
                                w.X.Je(),
                                w.X.W(g, D);
                            else if (M) {
                                if (!w.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                w.Z.Le = !0,
                                w.Z._(m.element, D, m.props),
                                w.Z.Le = !1
                            } else if (H) {
                                if (!w.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                w.Z.Le = !0,
                                w.Z.Me(m.element, D),
                                w.Z.Le = !1
                            } else
                                D.appendChild(g)
                        } else
                            b && (E.firstChild.innerHTML = i.html || "");
                        w.nav.header.appendChild(S)
                    }
                }
                var i = e + 1
                  , a = this.Nd(i)
                  , r = this.Nd(i, !0)
                  , o = a.length
                  , s = i === _.Od()
                  , h = w.Ae()
                  , f = e * _.He()
                  , v = [];
                w.nav.header.rows.push({
                    "cells": v
                });
                for (var p = w.Ee(e), m = 0; m < o; m++)
                    n(m)
            }
            ,
            this.jg = function(e, n) {
                for (var i = n ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], a = this.Nd(e), r = a.length, o = e === _.Od(), s = 0; s < r; s++) {
                    var d = a[s];
                    if (w.Hb() && "function" == typeof w.onBeforeHeaderRender) {
                        var c = {};
                        c.header = {},
                        l(d, c.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]),
                        this.onBeforeHeaderRender(c),
                        l(c.header, d, ["html", "backColor", "toolTip", "areas"])
                    }
                    var u = !!d.Yd
                      , h = n ? i.insertCell(-1) : i.cells[s];
                    if (h.data = d,
                    o)
                        ;
                    else {
                        var f = 1;
                        u && (f = d.Zd(_.Od() - e + 1)),
                        h.colSpan = f
                    }
                    u && (h.onclick = this.cc,
                    h.onmousemove = this.dc,
                    h.onmouseout = this.fc,
                    d.toolTip && (h.title = d.toolTip)),
                    h.style.overflow = "hidden",
                    h.style.padding = "0px",
                    h.style.border = "0px none",
                    h.style.height = _.He() + "px";
                    var v = n ? t() : h.firstChild;
                    if (n) {
                        v.setAttribute("unselectable", "on"),
                        v.style.MozUserSelect = "none",
                        v.style.KhtmlUserSelect = "none",
                        v.style.WebkitUserSelect = "none",
                        v.style.position = "relative",
                        v.style.height = _.He() + "px",
                        v.className = w.da("_colheader");
                        var p = t();
                        p.className = w.da("_colheader_inner"),
                        d.backColor && (p.style.background = d.backColor),
                        v.appendChild(p),
                        h.appendChild(v)
                    } else
                        v.style.height = _.He() + "px";
                    this.ig(v, d),
                    u && (v.firstChild.innerHTML = d.html)
                }
            }
            ,
            this.ig = function(e, t) {
                for (var n = [], i = 0; i < e.childNodes.length; i++) {
                    var a = e.childNodes[i];
                    a.isActiveArea && n.push(a)
                }
                for (var i = 0; i < n.length; i++) {
                    var a = n[i];
                    p(a)
                }
                if (t.areas)
                    for (var r = t.areas, i = 0; i < r.length; i++) {
                        var o = r[i];
                        if (DayPilot.Areas.isVisible(o)) {
                            var s = w.bc(t)
                              , l = DayPilot.Areas.createArea(e, s, o);
                            e.appendChild(l)
                        }
                    }
            }
            ,
            this.sb = function() {
                w.sa ? w.kg() : w.lg()
            }
            ,
            this.kg = function() {
                var e = w.nav.header;
                if (w.Ya(),
                this.showHeader) {
                    var n = this.Nd(_.Od(), !0)
                      , i = n.length;
                    this.mg = !0;
                    var a = w.nav.corner;
                    if (a) {
                        this.ta || DayPilot.pu(a.firstChild);
                        var r = {};
                        r.html = w.Ha(w.cornerText, w.cornerHtml);
                        var o = null;
                        if (w.Za(),
                        "function" == typeof w.onBeforeCornerRender && w.onBeforeCornerRender(r),
                        "function" == typeof w.onBeforeCornerDomAdd && (r.element = null,
                        w.onBeforeCornerDomAdd(r),
                        o = r.element),
                        o) {
                            var s = a.firstChild;
                            s.domArgs = r;
                            d(o) ? (w.X.Je(),
                            w.X.W(o, s)) : s.appendChild(o)
                        } else
                            a.firstChild.innerHTML = r.html || ""
                    }
                    for (var l = 0; l < _.Od(); l++)
                        this.hg(l);
                    if (this.showAllDayEvents) {
                        var c = [];
                        w.nav.header.rows.push({
                            "cells": c
                        });
                        for (var u = w.Ae(), h = _.Od() * _.He(), f = 0; f < i; f++) {
                            var v = n[f]
                              , p = u[f]
                              , m = t();
                            m.data = v,
                            m.style.overflow = "hidden",
                            m.style.position = "absolute",
                            m.style.left = p.left + p.unit,
                            m.style.right = p.left + p.unit,
                            m.style.width = p.width + p.unit,
                            m.style.top = h + "px";
                            var g = t();
                            g.setAttribute("unselectable", "on"),
                            g.style.userSelect = "none",
                            g.style.overflow = "hidden",
                            g.style.position = "relative",
                            g.style.height = _.Cf() + "px",
                            g.className = this.da("_alldayheader");
                            var b = t();
                            b.className = this.da("_alldayheader_inner"),
                            g.appendChild(b),
                            m.appendChild(g),
                            g.style.height = _.Cf() + "px",
                            c.push(m),
                            e.appendChild(m)
                        }
                    }
                }
            }
            ,
            this.lg = function() {
                if (this.showHeader) {
                    var e = this.nav.header
                      , n = !0
                      , i = this.Nd(_.Od(), !0)
                      , a = i.length;
                    for (p(this.nav.header),
                    this.Ff(); this.mg && e && e.rows && e.rows.length > 0; )
                        this.ta || DayPilot.pu(e.rows[0]),
                        e.deleteRow(0);
                    this.mg = !0;
                    var r = w.nav.corner;
                    if (r) {
                        this.ta || DayPilot.pu(r.firstChild);
                        var o = {};
                        o.html = w.Ha(w.cornerText, w.cornerHtml),
                        "function" == typeof w.onBeforeCornerRender && w.onBeforeCornerRender(o),
                        r.firstChild.innerHTML = o.html ? o.html : ""
                    }
                    for (var s = 0; s < _.Od(); s++)
                        this.jg(s + 1, n);
                    if (this.showAllDayEvents)
                        for (var l = this.nav.header.insertRow(-1), s = 0; s < a; s++) {
                            var d = i[s]
                              , c = l.insertCell(-1);
                            c.data = d,
                            c.style.padding = "0px",
                            c.style.border = "0px none",
                            c.style.overflow = "hidden";
                            var u = t();
                            u.setAttribute("unselectable", "on"),
                            u.style.MozUserSelect = "none",
                            u.style.KhtmlUserSelect = "none",
                            u.style.WebkitUserSelect = "none",
                            u.style.overflow = "hidden",
                            u.style.position = "relative",
                            u.style.height = _.Cf() + "px",
                            u.className = this.da("_alldayheader");
                            var h = t();
                            h.className = this.da("_alldayheader_inner"),
                            u.appendChild(h),
                            c.appendChild(u),
                            u.style.height = _.Cf() + "px"
                        }
                }
            }
            ,
            this.loadingStart = function(e) {
                this.Na(e)
            }
            ,
            this.loadingStop = function() {
                this.kb(!0)
            }
            ,
            this.Na = function(e) {
                e = e || {};
                var t = e.delay || 0
                  , n = w.Ha(e.text || this.loadingLabelText, this.loadingLabelHtml)
                  , i = "undefined" != typeof e.block ? e.block : w.blockOnCallBack;
                this.callbackTimeout && window.clearTimeout(this.callbackTimeout);
                var a = function() {
                    (w.loadingLabelVisible || e.text) && w.nav.loading && (w.nav.loading.innerHTML = n,
                    w.nav.loading.style.top = w.Sb() + 5 + "px",
                    w.nav.loading.style.display = ""),
                    i && C.E()
                };
                0 === t ? a() : w.ng = window.setTimeout(a, t)
            }
            ,
            this.kb = function(e) {
                this.callbackTimeout && window.clearTimeout(this.callbackTimeout),
                this.nav.loading.style.display = "none",
                (e || w.blockOnCallBack) && C.C()
            }
            ,
            this.og = function(e) {
                var t = w.Rb(!0);
                return e < t && (e += 24),
                (e - t) * (60 / _.Lb()) * w.cellHeight
            }
            ,
            this.sd = function(e) {
                var t = w.Rb(!0);
                return e / (60 / _.Lb()) / w.cellHeight + t
            }
            ,
            this.pg = function() {
                var e = this.fd()
                  , t = this.initScrollPos;
                if (!t) {
                    var n = this.businessBeginsHour;
                    t = w.og(n)
                }
                e.root = this,
                e.onscroll = this.ed,
                w.Ga(),
                0 === e.scrollTop ? _.Lb() <= 720 && (e.scrollTop = t - this.Wc()) : this.ed()
            }
            ,
            this.qg = function() {
                var e = w.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0)
            }
            ,
            this.rg = function() {
                var e = w.qg;
                return e() ? void w.sg() : void (w.Sa || (w.Sa = setInterval(function() {
                    e() && (clearInterval(w.Sa),
                    w.pg(),
                    w.zb(),
                    w.sg())
                }, 100)))
            }
            ,
            this.scrollToY = function(e) {
                this.fd().scrollTop = e
            }
            ,
            this.scrollToHour = function(e) {
                var t = w.og(e);
                this.fd().scrollTop = t - this.Wc()
            }
            ,
            this.fd = function() {
                return "Fixed" === this.columnWidthSpec || this.ra ? this.nav.bottomRight : this.nav.scroll
            }
            ,
            this.onCallbackError = function(e, t) {
                alert("Error!\r\nResult: " + e + "\r\nContext:" + t)
            }
            ,
            this.zb = function() {
                if (w.showHeader) {
                    var e = this.Df()
                      , n = !!this.nav.cornerRight;
                    if (this.ra) {
                        this.nav.unifiedCornerRight && p(this.nav.unifiedCornerRight);
                        var i = (w.fd(),
                        w.nav.main.getBoundingClientRect().width)
                          , a = w.rf();
                        if ("100%" !== a && parseInt(a) < i)
                            return;
                        var r, o = DayPilot.sw(this.nav.bottomRight), s = "calc(100% - " + o + "px)";
                        w.sa ? (r = t(),
                        r.style.position = "absolute",
                        r.style.left = s,
                        r.style.right = s,
                        r.style.height = w.Sb() + "px",
                        w.nav.headerParent.appendChild(r),
                        w.nav.unifiedCornerRight = r,
                        w.nav.header.style.width = s,
                        w.nav.allday && (w.nav.allday.style.width = s)) : (this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1),
                        r = this.nav.unifiedCornerRight,
                        r.rowSpan = this.nav.header.rows.length),
                        r.style.width = o + "px";
                        var l = t();
                        l.className = w.da("_cornerright"),
                        l.setAttribute("unselectable", "on"),
                        l.style.overflow = "hidden",
                        l.style.height = this.Sb() + "px",
                        l.style.position = "relative";
                        var d = t();
                        d.className = w.da("_cornerright_inner"),
                        l.appendChild(d),
                        r.appendChild(l);
                        return void (!("Fixed" === this.columnWidthSpec) && this.nav.allday && (w.rtl ? this.nav.allday.style.left = o + "px" : this.nav.allday.style.right = o + "px"))
                    }
                    if (e !== n)
                        if (e)
                            this.Gf();
                        else {
                            if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) {
                                var r = this.nav.fullHeader.rows[0].cells[2];
                                r.parentNode && r.parentNode.removeChild(r)
                            }
                            this.nav.cornerRight = null
                        }
                    var c = this.nav.cornerRight;
                    if (c) {
                        var s = DayPilot.sw(w.Tb());
                        return c && (c.style.width = s + "px"),
                        s
                    }
                }
            }
            ,
            this.Gb = function(e) {
                if (e && (this.autoRefreshEnabled = !0),
                this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) {
                    this.Ua();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10)
                        throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        w.tg()
                    }, 1e3 * this.autoRefreshInterval)
                }
            }
            ,
            this.Ua = function() {
                this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout)
            }
            ,
            this.tg = function() {
                if (!(v.resizing || v.moving || m.drag || v.selecting)) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var t = {};
                        t.i = this.za,
                        t.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        w.onAutoRefresh(t),
                        t.preventDefault.value && (e = !0)
                    }
                    !e && this.ka() && this.commandCallBack(this.autoRefreshCommand),
                    this.za++
                }
                this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    w.tg()
                }, 1e3 * this.autoRefreshInterval))
            }
            ,
            this._a = function() {
                w.Eb()
            }
            ,
            this.Eb = function() {
                w.nav.top && (w.yb(),
                "Parent100Pct" === w.heightSpec && w.setHeight(parseInt(w.nav.top.clientHeight, 10)),
                w.zb(),
                w.Fb(),
                w.Ga())
            }
            ,
            this.ug = null,
            this.vg = null,
            w.Ta = null,
            this.sg = function() {
                var e = function() {
                    w.watchWidthChanges && (w.Eb(),
                    w.ed())
                };
                if (w.watchWidthChanges) {
                    if ("function" == typeof ResizeObserver) {
                        if (w.Ta)
                            return;
                        var t = new ResizeObserver(DayPilot.debounce(e, 50));
                        return t.observe(w.nav.top),
                        void (w.Ta = t)
                    }
                    if (!w.vg) {
                        var n = function() {
                            return w.nav && w.nav.top ? w.ug ? (w.ug.width !== w.nav.top.offsetWidth && (w.ug.changed = !0,
                            w.ug.counter = 0,
                            w.ug.width = w.nav.top.offsetWidth),
                            w.ug.changed && (w.ug.counter += 1),
                            void (w.ug.changed && w.ug.counter > 0 && (w.ug.changed = !1,
                            e()))) : (w.ug = {},
                            w.ug.counter = 0,
                            w.ug.changed = !1,
                            void (w.ug.width = w.nav.top.offsetWidth)) : void clearInterval(w.vg)
                        };
                        this.vg = setInterval(n, 200),
                        n()
                    }
                }
            }
            ,
            this.wg = function() {
                m.xg || (m.xg = !0,
                a(document, "mousemove", m.yg),
                a(document, "mouseup", m.zg),
                i(document, DayPilot.touch.move, m.Ag),
                a(document, DayPilot.touch.end, m.Bg)),
                a(window, "resize", this._a)
            }
            ,
            this.Ue = function(e) {
                if (!S.active && !S.using) {
                    e = e || window.event;
                    var t = DayPilot.Util.mouseButton(e);
                    if (m.editing)
                        return void m.editing.blur();
                    if ("undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(),
                    DayPilot.Bubble.cancelShowing()),
                    w.coords = DayPilot.mo3(w.nav.main, e),
                    "n-resize" !== this.style.cursor && "s-resize" !== this.style.cursor || !t.left) {
                        if (("move" === this.style.cursor || "Full" === w.moveBy && this.event.client.moveEnabled()) && t.left) {
                            v.moving = this;
                            var n = v.moving.helper = {}
                              , i = w.Kb[this.event.part.dayIndex];
                            n.oldColumn = i.id,
                            m.Vf = DayPilot.mc(e),
                            m.cg = this.offsetTop;
                            var a = this.event
                              , r = DayPilot.mo3(this, e);
                            if (r) {
                                m.moveOffsetY = r.y;
                                var o = w.coords
                                  , s = w.tc(o.x, o.y);
                                n.Wf = s.getTime() - a.start().getTime();
                                var l = w.snapToGrid && w.snapToGridEventMoving;
                                if (!l && a.part.box) {
                                    var d = w.sc(a.part.start, i.start)
                                      , c = d.top - d.boxTop;
                                    m.moveOffsetY = r.y - c
                                }
                            } else
                                m.moveOffsetY = 0;
                            w.nav.top.style.cursor = this.style.cursor
                        }
                    } else
                        v.resizing = this,
                        m.Vf = DayPilot.mc(e),
                        m.bg = this.offsetHeight,
                        m.cg = this.offsetTop,
                        w.nav.top.style.cursor = this.style.cursor;
                    return !1
                }
            }
            ,
            this.Cg = function(e) {
                var t = this.wa.events
                  , n = this.events.list[e]
                  , i = {};
                for (var a in n)
                    i[a] = n[a];
                if (i.start = new DayPilot.Date(n.start),
                i.end = new DayPilot.Date(n.end),
                w.showEventStartEnd) {
                    var r = i.start.getDatePart().getTime() === i.end.getDatePart().getTime()
                      , o = r ? _.Tc().timePattern : _.Tc().dateTimePattern
                      , s = i.start.toString(o)
                      , l = i.end.toString(o);
                    i.html = w.Ha(i.text) + " (" + s + " - " + l + ")"
                }
                if ("function" == typeof this.onBeforeEventRender) {
                    var d = {};
                    d.e = i,
                    d.data = i,
                    d.control = w,
                    this.onBeforeEventRender(d)
                }
                t[e] = i
            }
            ,
            this.Dg = function() {
                return !!(v.moving || v.resizing || v.selecting || m.drag)
            }
            ,
            this.dragInProgress = function() {
                return w.Dg()
            }
            ,
            this.Eg = {};
            var C = this.Eg;
            C.Fg = function() {
                if (!w.nav.overlay) {
                    var e = document.createElement("div");
                    e.style.position = "absolute",
                    e.style.left = "0px",
                    e.style.right = "0px",
                    e.style.top = "0px",
                    e.style.bottom = "0px",
                    e.className = w.da("_block"),
                    w.nav.top.appendChild(e),
                    w.nav.overlay = e
                }
            }
            ,
            C.E = function() {
                C.Fg(),
                w.nav.overlay.style.display = ""
            }
            ,
            C.C = function() {
                w.nav.overlay && (w.nav.overlay.style.display = "none")
            }
            ,
            this.Gg = null,
            this.Zf = function(e) {
                function t(e, t) {
                    return 1 - e / t
                }
                var n = w.Dg()
                  , i = "Always" === w.autoScroll
                  , a = "Drag" === w.autoScroll && n;
                if (i || a) {
                    var r = w.nav.bottomRight;
                    e.x -= r.scrollLeft,
                    e.y -= r.scrollTop;
                    var o = r.clientWidth
                      , s = r.clientHeight
                      , l = 30
                      , d = e.x < l ? e.x : 0
                      , c = o - e.x < l ? o - e.x : 0
                      , u = e.y < l ? e.y : 0
                      , h = s - e.y < l ? s - e.y : 0
                      , f = 0
                      , v = 0
                      , p = 50;
                    d && (f = -50 * t(d, l)),
                    c && (f = p * t(c, l)),
                    u && (v = -50 * t(u, l) / 2),
                    h && (v = p * t(u, l) / 2),
                    f || v ? w.Hg(f, v) : w.fb()
                }
            }
            ,
            this.Hg = function(e, t) {
                this.fb(),
                this.Ig(e, t)
            }
            ,
            this.Jg = function(e) {
                if (!e)
                    return !1;
                var t = w.nav.bottomRight
                  , n = t.scrollWidth
                  , i = t.scrollLeft
                  , a = t.clientWidth
                  , r = i + a;
                return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e,
                w.coords.x += e,
                w.Kg(),
                !0))
            }
            ,
            this.Lg = function(e) {
                if (!e)
                    return !1;
                var t = w.nav.bottomRight
                  , n = t.scrollHeight
                  , i = t.scrollTop
                  , a = t.clientHeight
                  , r = i + a;
                return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e,
                w.coords.y += e,
                w.Kg(),
                !0))
            }
            ,
            this.Kg = function() {}
            ,
            this.Ig = function(e, t) {
                if (this.Jg(e) || this.Lg(t)) {
                    var n = function(e, t) {
                        return function() {
                            w.Ig(e, t)
                        }
                    };
                    this.Mg = window.setTimeout(n(e, t), 200)
                }
            }
            ,
            this.fb = function() {
                w.Mg && (window.clearTimeout(w.Mg),
                w.Mg = null)
            }
            ,
            this.Ve = {};
            var S = w.Ve;
            S.active = !1,
            S.start = null,
            S.timeout = null,
            S.startcell = null,
            S.relativeCoords = function(e) {
                return S.Ng(e)
            }
            ,
            S.startResizing = function(e, t, n) {
                S.we(e, t, n)
            }
            ,
            S.startMoving = function(e, t) {
                S.je(e, t)
            }
            ,
            this.Ve.dg = function(e) {
                var t, n;
                e.touches ? (t = e.touches[0].pageX,
                n = e.touches[0].pageY) : (t = e.pageX,
                n = e.pageY);
                var i = DayPilot.abs(w.nav.main)
                  , a = {
                    x: t - i.x,
                    y: n - i.y
                }
                  , r = w.nav.main.clientWidth / w.Kb.length
                  , o = Math.floor(a.y / w.cellHeight);
                return o = DayPilot.Util.atLeast(0, o),
                o = DayPilot.Util.atMost(w.Vb() - 1, o),
                {
                    "pageX": t,
                    "pageY": n,
                    "x": Math.floor(a.x / r),
                    "y": o,
                    "toString": function() {
                        return "x: " + this.x + " y:" + this.y
                    }
                }
            }
            ,
            this.Ve.Og = function(e) {
                S.startcell = e,
                w.clearSelection(),
                w.coords = e,
                v.selecting = {
                    "calendar": w,
                    "start": e
                };
                var t = v.selecting;
                t.start.time = w.tc(e.x, e.y),
                t.start.columnIndex = w.Jb(e.x),
                t.start.column = w.Kb[t.start.columnIndex],
                w.Qc(),
                w.Rc()
            }
            ,
            this.Ve.Pg = function(e) {
                w.coords = e;
                var t = v.selecting
                  , n = (w.Jb(t.start.x),
                Math.floor(w.coords.y / w.cellHeight));
                n = DayPilot.Util.atLeast(0, n),
                t.origin = "drag",
                w.Qc(),
                t.last && t.last.startTime === t.startTime && t.last.endTime === t.endTime || (t.last = {
                    "startTime": t.startTime,
                    "endTime": t.endTime
                },
                w.Rc())
            }
            ,
            this.Ve.detected = !1,
            this.Ve.lf = function(e) {
                if (!s(e) && !S.start) {
                    var t = S.Ng(e);
                    if (w.coords = t,
                    !(t.x < 0 || (S.start = !0,
                    S.detected = !0,
                    S.active || e.touches.length > 1))) {
                        S.using = !0,
                        S.startCoords = t;
                        var n = w.tapAndHoldTimeout;
                        S.timeout = window.setTimeout(function() {
                            switch (e.preventDefault(),
                            S.active = !0,
                            S.start = !1,
                            w.timeRangeTapAndHoldHandling) {
                            case "Select":
                                S.Og(t);
                                break;
                            case "ContextMenu":
                                S.Og(t),
                                S.active = !1,
                                w.contextMenuSelection && w.contextMenuSelection.show(w.getSelection())
                            }
                        }, n)
                    }
                }
            }
            ,
            this.Ve.Qg = function(e) {}
            ,
            this.Ve.Of = function(e) {
                if (!S.active)
                    return window.clearTimeout(S.timeout),
                    void (S.start && !function(e) {
                        if ("Disabled" !== w.timeRangeSelectedHandling) {
                            if (!w.Pc(w.coords)) {
                                var t = v.selecting = {};
                                t.start = w.coords,
                                t.start.time = w.tc(w.coords.x, w.coords.y),
                                t.start.columnIndex = w.Jb(w.coords.x),
                                t.start.column = w.Kb[t.start.columnIndex],
                                w.Qc(),
                                w.Ea = t,
                                v.selecting = null,
                                w.Rc(t)
                            }
                            var n = w.getSelection();
                            n.toString = function() {
                                return "start: " + this.start + "\nend: " + this.end
                            }
                            ,
                            setTimeout(function() {
                                w.Fc(n.start, n.end, n.resource)
                            }, 10)
                        }
                    }(this));
                e.preventDefault(),
                e.stopPropagation(),
                S.startcell = null,
                S.start = !1;
                var t = v.selecting;
                v.selecting = null,
                w.Ea = t;
                var n = w.getSelection();
                n.toString = function() {
                    return "start: " + this.start + "\nend: " + this.end
                }
                ,
                w.Fc(n.start, n.end, n.resource),
                window.setTimeout(function() {
                    S.active = !1
                }, 500)
            }
            ,
            this.Ve.je = function(e, t) {
                v.moving = e;
                var n = v.moving.helper = {};
                n.oldColumn = w.Kb[e.event.part.dayIndex].id,
                m.Vf = t,
                m.cg = this.offsetTop;
                var i = DayPilot.abs(e);
                if (m.moveOffsetY = t.y - i.y,
                function() {
                    var t = w.coords
                      , i = w.tc(t.x, t.y);
                    n.Wf = i.getTime() - e.event.start().getTime()
                }(),
                m.movingShadow || (m.movingShadow = w.Ib(v.moving, !0),
                m.movingShadow.style.width = m.movingShadow.parentNode.offsetWidth + 1 + "px"),
                w.va) {
                    m.movingShadow.style.display = "none";
                    var a = w.rc(e.event, w.coords, n.Wf);
                    w.Yc(e.event, a)
                }
            }
            ,
            this.Ve.we = function(e, t, n) {
                v.resizing = e,
                e.dpBorder = t,
                m.Vf = n,
                m.bg = e.offsetHeight,
                m.cg = e.offsetTop
            }
            ,
            this.Ve.Rg = function(e) {
                w.Uf(e)
            }
            ,
            this.Ve.Sg = function() {
                var e = w.coords
                  , t = w.cellHeight
                  , n = 0
                  , i = m.moveOffsetY;
                i || (i = t / 2);
                var a = Math.floor((e.y - i - n + t / 2) / t) * t + n;
                a < n && (a = n);
                var r = (w.nav.main,
                w.Qe())
                  , o = parseInt(m.movingShadow.style.height);
                a + o > r && (a = r - o),
                m.movingShadow.style.top = a + "px",
                m.movingShadow.allowed = !0;
                var s = w.Jb(w.coords.x);
                s < 0 && (s = 0);
                var l = w.nav.events;
                if (s < l.rows[0].cells.length && s >= 0 && m.movingShadow.column !== s && (m.movingShadow.column = s,
                m.moveShadow(l.rows[0].cells[s])),
                w.va) {
                    var d = v.moving.event
                      , c = v.moving.helper.Wf
                      , u = w.rc(d, w.coords, c);
                    m.movingShadow.style.display = "none",
                    w.Yc(d, u),
                    w.xc = u
                }
            }
            ,
            this.Ve.onEventTouchStart = function(e) {
                if (!S.active && !s(e)) {
                    S.preventEventTap = !1,
                    S.using = !0,
                    S.start = !0,
                    S.startCoords = S.dg(e);
                    var t = this
                      , n = e.touches ? e.touches[0].pageX : e.pageX
                      , i = e.touches ? e.touches[0].pageY : e.pageY
                      , a = {
                        x: n,
                        y: i,
                        div: this
                    };
                    w.coords = S.Ng(e);
                    var r = w.tapAndHoldTimeout;
                    S.timeout = window.setTimeout(function() {
                        var n = t.event;
                        switch (S.active = !0,
                        S.start = !1,
                        w.eventTapAndHoldHandling) {
                        case "Move":
                            n.client.moveEnabled() && S.je(t, a);
                            break;
                        case "ContextMenu":
                            var i = n.client.contextMenu();
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                            i ? i.show(n) : w.contextMenu && w.contextMenu.show(n)
                        }
                    }, r)
                }
            }
            ,
            this.Ve.mf = function(e) {
                if (!s(e)) {
                    if (S.start = !1,
                    S.timeout) {
                        var t = S.dg(e);
                        t && S.startCoords && (t.pageX === S.startCoords.pageX && t.pageY === S.startCoords.pageY || window.clearTimeout(w.Ve.timeout))
                    }
                    if (v.moving && m.movingShadow)
                        return e.preventDefault(),
                        w.coords = S.Ng(e),
                        S.Sg(),
                        void w.Zf(S.Ng(e));
                    if (v.resizing) {
                        e.preventDefault();
                        var n = e.touches ? e.touches[0] : e
                          , t = {
                            x: n.pageX,
                            y: n.pageY
                        };
                        return S.Rg(t),
                        void w.Zf(S.Ng(e))
                    }
                    if (S.startcell) {
                        if (e.preventDefault(),
                        !S.active)
                            return void window.clearTimeout(S.timeout);
                        var t = S.Ng(e);
                        S.Pg(t),
                        w.Zf(S.Ng(e))
                    }
                    S.preventEventTap = !0
                }
            }
            ,
            this.Ve.Ng = function(e) {
                var t = w.nav.main
                  , n = e.touches ? e.touches[0].pageX : e.pageX
                  , i = e.touches ? e.touches[0].pageY : e.pageY
                  , a = DayPilot.abs(t);
                return {
                    x: n - a.x,
                    y: i - a.y,
                    "toString": function() {
                        return "x: " + this.x + ", y:" + this.y
                    }
                }
            }
            ,
            this.Ve.nf = function(e) {
                if (!s(e))
                    if (v.moving) {
                        S.active = !1,
                        e.preventDefault(),
                        e.stopPropagation();
                        var t = m.movingShadow.offsetTop
                          , n = v.moving.event
                          , i = n.calendar;
                        i._c(m.movingShadow);
                        var a = m.movingShadow.column
                          , r = m.movingShadow;
                        if (o(v.moving, i.da("_event_moving_source")),
                        v.moving = null,
                        m.movingShadow = null,
                        !r.allowed)
                            return void i.yc();
                        n.calendar.wc(n, a, t, e, m.drag)
                    } else if (S.startcell) {
                        if (!S.active)
                            return void window.clearTimeout(S.timeout);
                        e.preventDefault(),
                        S.startcell = null;
                        var l = i.getSelection();
                        l.toString = function() {
                            return "start: " + this.start + "\nend: " + this.end
                        }
                        ,
                        i.Fc(l.start, l.end, l.resource),
                        window.setTimeout(function() {
                            S.active = !1
                        }, 500)
                    }
            }
            ,
            this.Ve.onEventTouchMove = function(e) {
                S.preventEventTap = !0
            }
            ,
            this.Ve.onEventTouchEnd = function(e) {
                if (!s(e)) {
                    if (!S.active) {
                        if (S.preventEventTap)
                            return;
                        return e.preventDefault(),
                        window.clearTimeout(S.timeout),
                        void w.Xb(this, e)
                    }
                    return S.active = !1,
                    S.timeout ? void window.clearTimeout(S.timeout) : void 0
                }
            }
            ,
            this.Se = function(e) {
                var t = 5
                  , n = 10
                  , i = "Top" === w.moveBy;
                if ("undefined" != typeof m) {
                    var a = DayPilot.mo3(this, e);
                    if (a) {
                        w.eventOffset = a;
                        var o = this;
                        if (o.active || r(o, w.da("_event_hover")),
                        !v.resizing && !v.moving) {
                            var s = this.isFirst
                              , l = this.isLast;
                            if ("Disabled" !== w.moveBy && "None" !== w.moveBy && (!i && a.x <= n && this.event.client.moveEnabled() ? s ? this.style.cursor = "move" : this.style.cursor = "not-allowed" : !i && a.y <= t && this.event.client.resizeEnabled() ? s ? (this.style.cursor = "n-resize",
                            this.dpBorder = "top") : this.style.cursor = "not-allowed" : i && a.y <= n && this.event.client.moveEnabled() ? this.style.cursor = "move" : this.offsetHeight - a.y <= t && this.event.client.resizeEnabled() ? l ? (this.style.cursor = "s-resize",
                            this.dpBorder = "bottom") : this.style.cursor = "not-allowed" : v.resizing || v.moving || (this.event.client.clickEnabled() ? this.style.cursor = "pointer" : this.style.cursor = "default"),
                            "undefined" != typeof DayPilot.Bubble && w.bubble && "Disabled" !== w.eventHoverHandling && ("default" === this.style.cursor || "pointer" === this.style.cursor))) {
                                this.Tg && a.x === this.Tg.x && a.y === this.Tg.y || (this.Tg = a,
                                w.bubble.showEvent(this.event))
                            }
                        }
                    }
                }
            }
            ,
            this.Te = function(e) {
                o(this, w.da("_event_hover")),
                w.bubble && w.bubble.hideOnMouseOut(),
                DayPilot.Areas.hideAreas(this, e)
            }
            ,
            this.Ug = null,
            this.Bb = function() {
                if (this.showCurrentTime) {
                    this.Vg();
                    var e = (new DayPilot.Date).addMinutes(w.showCurrentTimeOffset);
                    if ("Full" === w.showCurrentTimeMode)
                        this.Wg(e);
                    else {
                        if ("Day" !== w.showCurrentTimeMode)
                            throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: " + w.showCurrentTimeMode);
                        this.Xg(e)
                    }
                    if (this.nav.events && !this.Ug) {
                        this.Ug = setTimeout(function() {
                            w.Ug = null,
                            w.Bb()
                        }, 3e4)
                    }
                }
            }
            ,
            this.Vg = function() {
                p(w.elements.separators),
                w.elements.separators = []
            }
            ,
            this.Xg = function(e) {
                var n = e.getTime()
                  , i = w.nav.events;
                if (i)
                    for (var a = 0; a < w.Kb.length; a++) {
                        var r = w.Kb[a]
                          , o = w.Nb(!0)
                          , s = new DayPilot.Date(r.start).addHours(this.Rb(!0))
                          , l = s.getTime()
                          , d = s.addTime(o)
                          , c = d.getTime();
                        if (l <= n && n <= c) {
                            var u = this.sc(e, r.start).top - 1 - w.Wc()
                              , h = i.rows[0].cells[a]
                              , f = h.separators
                              , v = t();
                            v.style.position = "absolute",
                            v.style.top = u + "px",
                            v.style.height = "1px",
                            v.style.left = "0px",
                            v.style.right = "0px",
                            v.className = w.da("_now"),
                            f.insertBefore(v, f.firstChild),
                            w.elements.separators.push(v)
                        }
                    }
            }
            ,
            this.Wg = function(e) {
                var n = e.getTime();
                if (w.nav.events) {
                    var i = w.Kb[0];
                    if (i)
                        for (var a = i.start.getDatePart().addTime(e.getTimePart()), r = this.sc(a, i.start).top - 1, o = 0; o < w.Kb.length; o++) {
                            var i = w.Kb[o]
                              , s = w.Nb(!0)
                              , l = new DayPilot.Date(i.start).addHours(this.Rb(!0))
                              , d = l.getTime()
                              , c = l.addTime(s)
                              , u = c.getTime();
                            if (d <= n && n <= u) {
                                var h = t();
                                return h.style.position = "absolute",
                                h.style.top = r + "px",
                                h.style.height = "1px",
                                h.style.left = "0px",
                                h.style.right = "0px",
                                h.className = w.da("_now"),
                                w.nav.events.appendChild(h),
                                void w.elements.separators.push(h)
                            }
                        }
                }
            }
            ,
            this.qb = function(e, t) {
                if (e ? this.events.list = e : e = this.events.list,
                e) {
                    var n = t && t.preloadOnly;
                    this.Fe = {},
                    this.Fe.events = [],
                    this.Fe.lines = [];
                    var i = e.length
                      , a = this.Nb(!0);
                    this.wa.pixels = {},
                    this.wa.Xe = [];
                    var r = [];
                    this.md = [],
                    this.jc = 1e4,
                    this.Qb = 0,
                    this.startDate = new DayPilot.Date(this.startDate);
                    for (var o = 0; o < i; o++) {
                        var s = e[o];
                        if ("object" != typeof s)
                            throw new DayPilot.Exception("Event data item must be an object");
                        if (!s.start)
                            throw new DayPilot.Exception("Event data item must specify 'start' property")
                    }
                    if (!n && ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd))
                        for (var o = 0; o < i; o++)
                            this.Cg(o);
                    for (var l = "Resources" === this.viewType, d = this.Qd(), c = d.start, u = d.end, o = 0; o < this.Kb.length; o++) {
                        var h = {};
                        h.minEnd = 1e6,
                        h.maxStart = -1,
                        this.md.push(h);
                        var f = this.Kb[o];
                        f.events = [],
                        f.lines = [],
                        f.blocks = [];
                        var v = new DayPilot.Date(f.start).addHours(this.Rb(!0))
                          , p = v.getTime()
                          , m = v.addTime(a)
                          , g = m.getTime();
                        l && (c = v.getDatePart(),
                        u = v.addDays(w.days));
                        for (var b = 0; b < i; b++)
                            if (!r[b]) {
                                var s = e[b]
                                  , y = null;
                                if (n || "function" != typeof w.onBeforeEventRender || (y = w.wa.events[b]),
                                y) {
                                    if (y.hidden)
                                        continue
                                } else if (s.hidden)
                                    continue;
                                var x = new DayPilot.Date(s.start)
                                  , k = new DayPilot.Date(s.end)
                                  , C = x.getTime()
                                  , S = k.getTime();
                                if (!(S < C))
                                    if (s.allday) {
                                        var E = !1;
                                        if (E = C === S ? !(S < c.getTime() || C >= u.getTime()) : "Date" === w.allDayEnd ? !(S < c.getTime() || C >= u.getTime()) : !(S <= c.getTime() || C >= u.getTime()),
                                        l && (E = E && (s.resource === f.id || "*" === f.id)),
                                        E) {
                                            var T = new DayPilot.Event(s,this);
                                            if (T.part.start = c.getTime() < C ? x : c,
                                            T.part.end = u.getTime() > S ? k : u,
                                            T.part.colStart = DayPilot.DateUtil.daysDiff(c, T.part.start),
                                            T.part.colWidth = DayPilot.DateUtil.daysSpan(T.part.start, T.part.end) + 1,
                                            l && (T.part.colStart = o,
                                            T.part.colWidth = 1),
                                            "function" == typeof w.onEventFilter && w.events.Yg) {
                                                var D = {};
                                                if (D.filter = w.events.Yg,
                                                D.filterParam = D.filter,
                                                D.visible = !0,
                                                D.e = T,
                                                w.onEventFilter(D),
                                                !D.visible)
                                                    continue
                                            }
                                            this.Fe.events.push(T),
                                            n || ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd) && (T.cache = this.wa.events[b]),
                                            r[b] = !0,
                                            !l || T.part.start.getTime() === C && T.part.end.getTime() === S || (r[b] = !1)
                                        }
                                    } else {
                                        var y = null;
                                        if (n || "function" != typeof w.onBeforeEventRender || (y = w.wa.events[b]),
                                        y) {
                                            if (y.hidden)
                                                continue
                                        } else if (s.hidden)
                                            continue;
                                        var E = !1;
                                        if (E = l ? f.id === s.resource && !(S <= p || C >= g) : !(S <= p || C >= g) || S === C && C === p) {
                                            var T = new DayPilot.Event(s,w);
                                            T.part.dayIndex = o,
                                            T.part.start = p < C ? x : v,
                                            T.part.end = g > S ? k : m;
                                            var A = this.sc(T.part.start, f.start)
                                              , M = this.sc(T.part.end, f.start)
                                              , H = A.top
                                              , R = M.top;
                                            if (H === R && (A.cut || M.cut))
                                                continue;
                                            T.part.box = _.Zg(S - C);
                                            var B = 0;
                                            if (T.part.box) {
                                                var P = M.boxBottom;
                                                T.part.top = Math.floor(H / this.cellHeight) * this.cellHeight + B + 1,
                                                T.part.height = Math.max(Math.ceil(P / this.cellHeight) * this.cellHeight - T.part.top, this.cellHeight - 1) + 1,
                                                T.part.barTop = Math.max(H - T.part.top - 1, 0),
                                                T.part.barHeight = Math.max(R - H - 2, 1)
                                            } else
                                                T.part.top = H + B,
                                                T.part.height = Math.max(R - H, 0),
                                                T.part.barTop = 0,
                                                T.part.barHeight = Math.max(R - H - 2, 1);
                                            if ("function" == typeof w.onEventFilter && w.events.Yg) {
                                                var D = {};
                                                if (D.filter = w.events.Yg,
                                                D.filterParam = D.filter,
                                                D.visible = !0,
                                                D.e = T,
                                                w.onEventFilter(D),
                                                !D.visible)
                                                    continue
                                            }
                                            var x = T.part.top
                                              , k = T.part.top + T.part.height;
                                            x > h.maxStart && (h.maxStart = x),
                                            k < h.minEnd && (h.minEnd = k),
                                            x < this.jc && (this.jc = x),
                                            k > this.Qb && (this.Qb = k),
                                            f.events.push(T),
                                            n || ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd) && (T.cache = this.wa.events[b]),
                                            T.part.start.getTime() === C && T.part.end.getTime() === S && (r[b] = !0),
                                            l && (r[b] = !1),
                                            w.wa.Xe.push(T)
                                        }
                                    }
                            }
                    }
                    for (var o = 0; o < this.Kb.length; o++) {
                        var f = this.Kb[o];
                        f.events.sort(this.$g);
                        for (var b = 0; b < f.events.length; b++) {
                            var s = f.events[b];
                            f.$d(s)
                        }
                        for (var b = 0; b < f.blocks.length; b++) {
                            var N = f.blocks[b];
                            N.events.sort(this._g);
                            for (var L = 0; L < N.events.length; L++) {
                                var s = N.events[L];
                                N.ae(s)
                            }
                        }
                    }
                    this.Fe.events.sort(this._g),
                    this.Fe.ae = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var n = this.lines[t];
                            if (n.be(e.part.colStart, e.part.colWidth))
                                return n.push(e),
                                t
                        }
                        var n = [];
                        return n.be = function(e, t) {
                            for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                                var r = this[a];
                                if (!(n < r.part.colStart || e > r.part.colStart + r.part.colWidth - 1))
                                    return !1
                            }
                            return !0
                        }
                        ,
                        n.push(e),
                        this.lines.push(n),
                        this.lines.length - 1
                    }
                    ;
                    for (var o = 0; o < this.Fe.events.length; o++) {
                        var s = this.Fe.events[o];
                        this.Fe.ae(s)
                    }
                    var I = Math.max(this.Fe.lines.length, 1);
                    this.wa.allDayHeaderHeight = I * (_.Ge() + 2) + 2
                }
            }
            ,
            this.$g = function(e, t) {
                if (!(e && t && e.start && t.start))
                    return 0;
                var n = e.start().ticks - t.start().ticks;
                return 0 !== n ? n : t.end().ticks - e.end().ticks
            }
            ,
            this._g = function(e, t) {
                if (!e || !t)
                    return 0;
                if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length))
                    return w.$g(e, t);
                for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i]; )
                    n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : w.ah(e.data.sort[i], t.data.sort[i], w.sortDirections[i]),
                    i++;
                return n
            }
            ,
            this.ah = function(e, t, n) {
                var i = "desc" !== n
                  , a = i ? -1 : 1
                  , r = -a;
                if (null === e && null === t)
                    return 0;
                if (null === t)
                    return r;
                if (null === e)
                    return a;
                var o = [];
                return o[0] = e,
                o[1] = t,
                o.sort(),
                e === o[0] ? a : r
            }
            ,
            this.bh = function(e) {
                for (var t = 0; t < w.elements.events.length; t++) {
                    var n = w.elements.events[t];
                    if (n.event === e || n.event.data === e.data)
                        return n
                }
                return null
            }
            ,
            this.events.find = function(e) {
                if (!w.events.list || "undefined" == typeof w.events.list.length)
                    return null;
                if ("function" == typeof e) {
                    for (var t = e, n = 0; n < w.events.list.length; n++) {
                        var i = new DayPilot.Event(w.events.list[n],w);
                        if (t(i))
                            return i
                    }
                    return null
                }
                for (var a = w.events.list.length, n = 0; n < a; n++)
                    if (w.events.list[n].id === e)
                        return new DayPilot.Event(w.events.list[n],w);
                return null
            }
            ,
            this.events.findRecurrent = function(e, t) {
                if (!w.events.list || "undefined" == typeof w.events.list.length)
                    return null;
                for (var n = w.events.list.length, i = 0; i < n; i++)
                    if (w.events.list[i].recurrentMasterId === e && w.events.list[i].start.getTime() === t.getTime())
                        return new DayPilot.Event(w.events.list[i],w);
                return null
            }
            ,
            this.events.all = function() {
                for (var e = [], t = 0; t < w.events.list.length; t++) {
                    var n = new DayPilot.Event(w.events.list[t],w);
                    e.push(n)
                }
                return f(e)
            }
            ,
            this.events.edit = function(e) {
                function t() {
                    var t = w.bh(e);
                    t && w.Yb(t)
                }
                t()
            }
            ,
            this.events.update = function(e, t) {
                if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                    var n = w.events.find(e.id);
                    if (!n)
                        throw new DayPilot.Exception("The event to be updated was not found");
                    var i = DayPilot.indexOf(w.events.list, n.data);
                    return w.events.list.splice(i, 1, e),
                    n.data = e,
                    void w.events.update(n)
                }
                var a = {};
                a.oldEvent = new DayPilot.Event(e.copy(),w),
                a.newEvent = new DayPilot.Event(e.temp(),w);
                var r = new DayPilot.Action(w,"EventUpdate",a,t);
                return e.commit(),
                w.Aa && w.Jd({
                    "eventsOnly": !0
                }),
                w.ch.notify(),
                r
            }
            ,
            this.events.remove = function(e, t) {
                if ("string" == typeof e || "number" == typeof e) {
                    var n = e
                      , i = w.events.find(n);
                    if (!i)
                        throw new DayPilot.Exception("The event to be removed was not found");
                    return void w.events.remove(i)
                }
                var a = {};
                a.e = new DayPilot.Event(e.data,w);
                var r = new DayPilot.Action(w,"EventRemove",a,t)
                  , o = DayPilot.indexOf(w.events.list, e.data);
                return w.events.list.splice(o, 1),
                w.Aa && w.Jd({
                    "eventsOnly": !0
                }),
                w.ch.notify(),
                r
            }
            ,
            this.events.add = function(e, t) {
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
                e.calendar = w,
                w.events.list || (w.events.list = []),
                w.events.list.push(e.data);
                var n = {};
                n.e = e;
                var i = new DayPilot.Action(w,"EventAdd",n,t);
                return w.Aa && w.Jd({
                    "eventsOnly": !0
                }),
                w.ch.notify(),
                i
            }
            ,
            this.events.filter = function(e) {
                w.events.Yg = e,
                w.Jd({
                    "eventsOnly": !0
                })
            }
            ,
            this.events.load = function(e, t, n) {
                var i = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , a = function(e) {
                    var n, a = e.request;
                    try {
                        n = JSON.parse(a.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void i(r)
                    }
                    if (DayPilot.isArray(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        w.events.list = n,
                        w.Aa && w.Jd({
                            "eventsOnly": !0
                        })
                    }
                };
                if (w.eventsLoadMethod && "POST" === w.eventsLoadMethod.toUpperCase())
                    DayPilot.ajax({
                        "method": "POST",
                        "data": {
                            "start": w.visibleStart().toString(),
                            "end": w.visibleEnd().toString()
                        },
                        "url": e,
                        "success": a,
                        "error": i
                    });
                else {
                    var r = e
                      , o = "start=" + w.visibleStart().toString() + "&end=" + w.visibleEnd().toString();
                    r += r.indexOf("?") > -1 ? "&" + o : "?" + o,
                    DayPilot.ajax({
                        "method": "GET",
                        "url": r,
                        "success": a,
                        "error": i
                    })
                }
            }
            ,
            this.events.forRange = function(e, t) {
                return e = new DayPilot.Date(e),
                t = new DayPilot.Date(t),
                f(w.events.list).filter(function(n) {
                    return h(e, t, new DayPilot.Date(n.start), new DayPilot.Date(n.end))
                }).map(function(e) {
                    return new DayPilot.Event(e,w)
                })
            }
            ,
            this.events.Uc = function(e) {
                if (!e)
                    throw new DayPilot.Exception("Error checking overlap for null (internal error)");
                var t = e instanceof DayPilot.Event ? e.data : e
                  , n = new DayPilot.Date(t.start)
                  , i = new DayPilot.Date(t.end);
                return !!f(w.events.list).find(function(e) {
                    return !w.Gd(t, e) && (("Resources" != w.viewType || t.resource === e.resource) && (!e.allday && h(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))))
                })
            }
            ,
            this.Gd = function(e, t) {
                return DayPilot.Util.isSameEvent(e, t)
            }
            ,
            this.X = {},
            this.X.reactDOM = null,
            this.X.react = null,
            this.X.Je = function() {
                if (!w.X.reactDOM)
                    throw new DayPilot.Exception("Can't reach ReactDOM")
            }
            ,
            this.X.W = function(e, t) {
                var n = w.X.reactDOM;
                if ("function" == typeof n.createRoot) {
                    var i = t.na;
                    i || (i = n.createRoot(t),
                    t.na = i),
                    i.render(e)
                } else
                    n.render(e, t)
            }
            ,
            this.X.la = function(e) {
                var t = w.X.reactDOM;
                if ("function" == typeof t.createRoot) {
                    var n = e.na;
                    setTimeout(function() {
                        n.unmount()
                    }, 0)
                } else
                    t.unmountComponentAtNode(e)
            }
            ,
            this.queue = {},
            this.queue.list = [],
            this.queue.list.ignoreToJSON = !0,
            this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction)
                        throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                    w.queue.list.push(e)
                }
            }
            ,
            this.queue.notify = function(e) {
                var t = {};
                t.actions = w.queue.list,
                w.Ma("Notify", t, e, "Notify"),
                w.queue.list = []
            }
            ,
            this.queue.clear = function() {
                w.queue.list = []
            }
            ,
            this.queue.pop = function() {
                return w.queue.list.pop()
            }
            ,
            this.Jd = function(e) {
                if (this.Aa && this.Kb) {
                    var e = e || {}
                      , t = !e.eventsOnly;
                    w.Ga(),
                    t ? (this.ka() || (w.cellProperties = {}),
                    w.Ja.dh(),
                    w.Va(),
                    w.eh(),
                    w.ob(),
                    w.Sd(),
                    w.qb(),
                    w.sb(),
                    w.tb(),
                    w.rb(),
                    w.ub(),
                    w.vb(),
                    w.Da(),
                    w.wb(),
                    w.Rc(),
                    w.xb(),
                    w.qf(),
                    w.yb(),
                    w.zb(),
                    w.Ab(),
                    w.fh(),
                    w.Cb(),
                    w.Db(),
                    w.Bb(),
                    w.Fb()) : (w.Va(),
                    w.qb(),
                    w.rb(),
                    w.Cb(),
                    w.Db(),
                    w.Fb()),
                    this.visible ? this.show() : this.hide()
                }
            }
            ,
            this.update = function(e) {
                if (!w.Aa)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet.");
                if (w.Ba)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");
                if (!w.Aa)
                    return void w.gh(e);
                if (DayPilot.Util.isOnlyProperty(e, "events"))
                    return w.events.list = e.events,
                    void w.Jd({
                        "eventsOnly": !0
                    });
                if (this.gh(e),
                this.Jd(),
                "function" == typeof w.onAfterRender) {
                    var t = {};
                    t.isUpdate = !0,
                    t.data = null,
                    w.onAfterRender(t)
                }
            }
            ,
            this.fh = function() {
                var e = w.da("_main");
                if (w.cssClass && (e += " " + w.cssClass),
                w.rtl && (e += " " + w.da("_direction_rtl")),
                w.nav.top.className !== e) {
                    w.nav.top.className = e;
                    var t = w.nav.corner;
                    t.className = w.da("_corner"),
                    t.firstChild.className = w.da("_corner_inner");
                    var n = w.nav.unifiedCornerRight;
                    n && (n.firstChild.className = w.da("_cornerright"),
                    n.firstChild.firstChild.className = w.da("_cornerright_inner"))
                }
            }
            ,
            this.show = function() {
                w.visible = !0,
                w.nav.top.style.display = "",
                w.Eb(),
                w.ed()
            }
            ,
            this.hide = function() {
                w.visible = !1,
                w.nav.top.style.display = "none"
            }
            ,
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function() {
                w.ch.scope && w.ch.scope["$apply"]()
            }
            ,
            this.debug = new DayPilot.Debug(this),
            this.Jb = function(e) {
                if (e < 0)
                    return 0;
                w.rtl && (e = w.nav.main.offsetWidth - e);
                for (var t = 0, n = w.nav.events.rows[0].cells, i = 0; i < n.length; i++) {
                    if (t += n[i].offsetWidth,
                    e < t)
                        return i
                }
                return n.length - 1
            }
            ,
            this.tc = function(e, t) {
                e = DayPilot.Util.atLeast(e, 0);
                var n = this.Jb(e)
                  , i = t / (60 / _.Lb()) / w.cellHeight
                  , a = 60 * i * 60 * 1e3
                  , r = 6e4 * Math.floor(a / 6e4)
                  , o = r
                  , s = this.Kb[n];
                if (!s)
                    return null;
                var l = s.start.addTime(o);
                return l = l.addHours(w.Rb())
            }
            ,
            this.uc = function(e, t) {
                var n = e.getTime();
                t && (n -= t.getTime());
                var i = 60 * _.Lb() * 1e3
                  , a = n % i;
                return e.addTime(-a)
            }
            ,
            this.ag = function(e, t) {
                var n = this.uc(e, t);
                return n.getTime() === e.getTime() ? n : n.addTime(60 * _.Lb() * 1e3)
            }
            ,
            this.sc = function(e, t) {
                t || (t = this.startDate);
                var n = t.getTime()
                  , i = e.getTime()
                  , a = this.wa.pixels[i + "_" + n];
                if (a)
                    return a;
                var r = this.Rb(!0);
                n = t.addHours(r).getTime();
                var o = 60 * _.Lb() * 1e3
                  , s = i - n
                  , l = s % o
                  , d = s - l
                  , c = d + o;
                0 === l && (c = d);
                var u = {};
                return u.cut = !1,
                u.top = this.Qf(s),
                u.boxTop = this.Qf(d),
                u.boxBottom = this.Qf(c),
                u.boxStart = t.addHours(r).addTime(d),
                u.boxEnd = t.addHours(r).addTime(c),
                this.wa.pixels[i + "_" + n] = u,
                u
            }
            ,
            this.Qf = function(e) {
                return Math.floor(this.cellHeight * e / (6e4 * _.Lb()))
            }
            ,
            this.eh = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart(),
                this.Cf = _.Ge() + 4
            }
            ,
            this.rb = function() {
                var e = this.Sb()
                  , t = this.af();
                if (this.nav.corner && (this.nav.corner.style.height = e + "px"),
                this.nav.cornerRight && (this.nav.cornerRight.style.height = e + "px"),
                this.nav.mid && (this.nav.mid.style.height = e + "px"),
                this.showAllDayEvents && this.nav.header)
                    for (var n = this.nav.header.rows[this.nav.header.rows.length - 1], i = 0; i < n.cells.length; i++) {
                        var a = n.cells[i];
                        a.firstChild.style.height = _.Cf() + "px"
                    }
                this.nav.upperRight && (this.nav.upperRight.style.height = e + "px"),
                this.nav.scroll.style.top = e + "px",
                this.nav.top.style.height = t + "px"
            }
            ,
            this.yb = function() {
                var e = this.bf();
                this.nav.scroll && e > 0 && (this.nav.scroll.style.height = e + "px",
                this.gd = w.nav.scroll.clientHeight,
                this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + "px"),
                this.nav.bottomRight && (this.nav.bottomRight.style.height = e + "px")),
                this.nav.top && ("Parent100Pct" === this.heightSpec ? this.nav.top.style.height = "100%" : this.nav.top.style.height = this.af() + "px")
            }
            ,
            this.setHeight = function(e) {
                "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
                this.height = e - this.Sb(),
                this.yb()
            }
            ,
            this.hh = function(e) {
                var n = t();
                n.style.position = "absolute",
                n.style.top = "-2000px",
                n.style.left = "-2000px",
                n.className = this.da(e),
                document.body.appendChild(n);
                var i = n.offsetHeight
                  , a = n.offsetWidth;
                document.body.removeChild(n);
                var r = {};
                return r.height = i,
                r.width = a,
                r
            }
            ,
            this.Ja = {};
            var _ = this.Ja;
            _.te = function() {
                return "Disabled" !== w.columnResizeHandling
            }
            ,
            _.ge = function() {
                return "Disabled" !== w.columnMoveHandling
            }
            ,
            _.De = function(e) {
                return w.columnResizeHandling === e
            }
            ,
            _.se = function(e) {
                return w.columnMoveHandling === e
            }
            ,
            _.Ia = function() {
                return "Disabled" !== w.xssProtection
            }
            ,
            _.Tc = function() {
                return DayPilot.Locale.find(w.locale)
            }
            ,
            _.Rd = function() {
                return "number" == typeof w.weekStarts ? w.weekStarts : _.Tc().weekStarts
            }
            ,
            _.Sc = function() {
                return "Auto" !== w.timeFormat ? w.timeFormat : _.Tc().timeFormat
            }
            ,
            _.Zg = function(e) {
                return "Always" === w.useEventBoxes || "Never" !== w.useEventBoxes && e < 60 * _.Lb() * 1e3
            }
            ,
            _.ic = function() {
                var e;
                if ("Immediate" === w.notifyCommit)
                    e = "Notify";
                else {
                    if ("Queue" !== w.notifyCommit)
                        throw new DayPilot.Exception("Invalid notifyCommit value: " + w.notifyCommit);
                    e = "Queue"
                }
                return e
            }
            ,
            _.Od = function() {
                return "Auto" === w.headerLevels ? w.Kd + 1 : w.headerLevels
            }
            ,
            _.dh = function() {
                delete w.wa.allDayEventHeight,
                delete w.wa.allDayHeaderHeight,
                delete w.wa.headerHeight
            }
            ,
            _.Ge = function() {
                if (w.wa.allDayEventHeight)
                    return w.wa.allDayEventHeight;
                var e = w.hh("_alldayevent_height").height;
                return e || (e = w.allDayEventHeight),
                w.wa.allDayEventHeight = e,
                e
            }
            ,
            _.Cf = function() {
                if (w.wa.allDayHeaderHeight)
                    return w.wa.allDayHeaderHeight;
                var e = w.Cf;
                return w.wa.allDayHeaderHeight = e,
                e
            }
            ,
            _.He = function() {
                if (w.wa.headerHeight)
                    return w.wa.headerHeight;
                var e = w.hh("_header_height").height;
                return e || (e = w.headerHeight),
                w.wa.headerHeight = e,
                e
            }
            ,
            _.vf = function() {
                if ("Auto" === w.timeHeaderCellDuration)
                    return _.Lb() <= 60 ? 60 : _.Lb();
                if ("number" == typeof w.timeHeaderCellDuration)
                    return w.timeHeaderCellDuration;
                throw new DayPilot.Exception("Invalid timeHeaderCellDuration value: " + w.timeHeaderCellDuration)
            }
            ,
            _.Lb = function() {
                switch (w.scale) {
                case "CellDuration":
                    return w.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 1440;
                case "Week":
                    return "Resources" !== w.viewType ? w.cellDuration : 10080;
                default:
                    throw new DayPilot.Exception("Invalid scale value: " + w.scale)
                }
            }
            ,
            this.exportAs = function(e, t) {
                if (!w.qg())
                    throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");
                var n = E.ih(e, t);
                return new DayPilot.Export(n)
            }
            ,
            this.jh = {};
            var E = this.jh;
            E.B = null,
            E.kh = null,
            E.ih = function(e, t) {
                "object" == typeof e && (t = e,
                e = null);
                var t = t || {}
                  , e = e || t.format || "svg"
                  , n = t.scale || 1;
                if ("config" !== e) {
                    "jpg" === e.toLowerCase() && (e = "jpeg");
                    var i = t.area || "viewport";
                    E.B = t,
                    E.kh = i;
                    var a, o = E.lh(), s = E.mh();
                    switch (e.toLowerCase()) {
                    case "svg":
                        a = new DayPilot.Svg(o,s);
                        break;
                    case "png":
                        a = new DayPilot.Canvas(o,s,"image/png",n);
                        break;
                    case "jpeg":
                        a = new DayPilot.Canvas(o,s,"image/jpeg",n,t.quality);
                        break;
                    default:
                        throw new DayPilot.Exception("Export format not supported: " + e)
                    }
                    var d = E.nh()
                      , c = new DayPilot.StyleReader(w.nav.top).getBackColor()
                      , u = new DayPilot.StyleReader(w.nav.top).get("border-top-color");
                    "0px" !== new DayPilot.StyleReader(w.nav.top).get("border-top-width") || (u = "white");
                    var h = new DayPilot.StyleReader(w.nav.corner.firstChild).getBackColor(c)
                      , v = w.nav.hourTable.rows[0].cells[0].firstChild.firstChild
                      , m = v.getElementsByClassName(w.da("_rowheader_minutes"))[0]
                      , g = new DayPilot.StyleReader(v).get("border-right-color")
                      , b = new DayPilot.StyleReader(v).getBackColor(c)
                      , y = new DayPilot.StyleReader(v).getFont()
                      , x = y
                      , k = 0;
                    m && (x = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getFont() || x,
                    k = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx("padding-right") || k);
                    var C = new DayPilot.StyleReader(v).get("color")
                      , S = w.nav.header.rows[0].cells[0].firstChild.firstChild
                      , T = new DayPilot.StyleReader(S).getBackColor(c)
                      , D = new DayPilot.StyleReader(S).getFont()
                      , A = new DayPilot.StyleReader(S).get("color")
                      , M = new DayPilot.StyleReader(S).get("border-right-color")
                      , H = w.nav.header.rows[w.nav.header.rows.length - 1].cells[0].firstChild
                      , R = H.firstChild
                      , B = new DayPilot.StyleReader(H).getBackColor(c)
                      , P = new DayPilot.StyleReader(R).getBackColor(B)
                      , N = w.nav.main.rows[0].cells[0].firstChild.firstChild
                      , L = new DayPilot.StyleReader(N).get("border-right-color")
                      , N = E.oh()
                      , I = new DayPilot.StyleReader(N.firstChild).getBackColor();
                    r(N, w.da("_cell_business"));
                    var z = new DayPilot.StyleReader(N.firstChild).getBackColor();
                    p(N);
                    var O = E.ph()
                      , U = 0;
                    U = "Fixed" === w.columnWidthSpec ? w.columnWidth : d.gridContent.w / w.Kb.length,
                    a.fillRect(d.main, "white"),
                    a.fillRect(d.main, c);
                    var j = d.corner.h - O;
                    DayPilot.list.for(w.tf(), function(e) {
                        return w.zf(e)
                    }).forEach(function(e) {
                        var t = w.wf()
                          , n = e.hour
                          , i = e.sup
                          , r = e.text ? e.text : n
                          , o = 0;
                        m && (o = 20);
                        var s = {
                            "x": 0,
                            "y": j,
                            "w": d.grid.x + 1,
                            "h": t + 1
                        }
                          , l = {
                            "x": 0,
                            "y": j,
                            "w": d.grid.x + 1 - o,
                            "h": t + 1
                        }
                          , c = {
                            "x": l.w,
                            "y": j,
                            "w": o - k - 1,
                            "h": t + 1
                        }
                          , u = b;
                        a.fillRect(s, u),
                        a.text(l, r, y, C, "right"),
                        m && a.text(c, i, x, C, "right"),
                        a.rect(s, g),
                        j += t
                    });
                    var W = 60 * _.Lb() * 1e3
                      , q = d.grid.x;
                    f(w.Kb).forEach(function(e, t) {
                        var n = U
                          , i = d.grid.y - O;
                        DayPilot.list.for(w.Vb()).forEach(function(o, s) {
                            var d = w.Nf(t, s) || {}
                              , c = null;
                            if (d.cssClass) {
                                var u = E.oh();
                                r(u, d.cssClass),
                                c = new DayPilot.StyleReader(u.firstChild).getBackColor(),
                                p(u)
                            }
                            var h = w.cellHeight
                              , f = {
                                "x": q,
                                "y": i,
                                "w": n + 1,
                                "h": h + 1
                            }
                              , v = d.business
                              , m = {};
                            m.cell = {},
                            m.cell.start = e.start.addTime(s * W).addHours(w.Rb()),
                            m.cell.end = m.cell.start.addTime(W),
                            m.cell.resource = e.id,
                            l(d, m.cell, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business"]),
                            m.backColor = c || (v ? z : I),
                            "function" == typeof w.onBeforeCellExport && w.onBeforeCellExport(m),
                            a.fillRect(f, m.backColor),
                            a.rect(f, L),
                            i += h
                        }),
                        q += n
                    });
                    var F = d.grid.x;
                    f(w.Kb).forEach(function(e) {
                        f(e.events).forEach(function(e) {
                            var t = e.cache || e.data
                              , n = E.qh();
                            n.className += " " + t.cssClass;
                            var i = n.firstChild
                              , r = n.childNodes[1]
                              , o = new DayPilot.StyleReader(i).getBackColor()
                              , s = new DayPilot.StyleReader(i.firstChild).getBackColor()
                              , c = new DayPilot.StyleReader(i.firstChild).getPx("width")
                              , u = new DayPilot.StyleReader(r).get("border-right-color")
                              , h = new DayPilot.StyleReader(r).getFont()
                              , v = new DayPilot.StyleReader(r).get("color")
                              , m = new DayPilot.StyleReader(r).getBackColor()
                              , g = {};
                            g.left = new DayPilot.StyleReader(r).getPx("padding-left"),
                            g.right = new DayPilot.StyleReader(r).getPx("padding-right"),
                            g.top = new DayPilot.StyleReader(r).getPx("padding-top"),
                            g.bottom = new DayPilot.StyleReader(r).getPx("padding-bottom"),
                            p(n);
                            var b = F + U * e.part.left / 100
                              , y = (U - w.columnMarginRight - w.columnMarginLeft) * e.part.width / 100
                              , x = e.part.top + d.grid.y - w.Wc() - O
                              , k = e.part.height
                              , C = t.backColor || m
                              , S = t.barColor || s
                              , _ = t.barBackColor || o
                              , T = t.borderColor || u
                              , D = {};
                            D.e = e,
                            D.text = e.text ? e.text() : e.client.html(),
                            D.fontSize = h.size,
                            D.fontFamily = h.family,
                            D.fontStyle = h.style,
                            D.fontColor = v,
                            D.backColor = C,
                            D.borderColor = T,
                            D.horizontalAlignment = "left",
                            D.barWidth = c,
                            D.barColor = S,
                            D.barBackColor = _,
                            "function" == typeof w.onBeforeEventExport && w.onBeforeEventExport(D);
                            var A = {
                                "x": b,
                                "y": x,
                                "w": y + 1,
                                "h": k + 1
                            }
                              , M = l(A)
                              , H = l(M);
                            if (H.x += g.left,
                            H.w -= g.left + g.right,
                            H.y += g.top,
                            H.h -= g.top + g.bottom,
                            a.fillRect(A, D.backColor),
                            e.client.barVisible()) {
                                var R = {
                                    "x": A.x,
                                    "y": A.y,
                                    "w": D.barWidth,
                                    "h": A.h
                                }
                                  , B = {
                                    "x": A.x,
                                    "y": A.y + 1 + e.part.barTop,
                                    "w": D.barWidth,
                                    "h": e.part.barHeight + 1
                                };
                                a.fillRect(R, D.barBackColor),
                                a.fillRect(B, D.barColor)
                            }
                            a.text(H, D.text, {
                                "size": D.fontSize,
                                "family": D.fontFamily,
                                "style": D.fontStyle
                            }, D.fontColor, D.horizontalAlignment),
                            a.rect(A, D.borderColor);
                            var b = A.x
                              , P = A.x + A.w - 2
                              , x = A.y;
                            f(t.areas).forEach(function(t) {
                                if (DayPilot.Areas.isVisible(t)) {
                                    var n = t.left;
                                    t.start && (n = w.getPixels(new DayPilot.Date(t.start)).left - e.part.left);
                                    var i = t.width || t.w
                                      , r = t.height || t.h;
                                    n || (n = P - i - b),
                                    t.right ? i = e.part.width - t.right - n : t.end && (i = w.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                    var o = t.top;
                                    "number" == typeof t.bottom && (r = e.part.height - t.bottom - o);
                                    var s = {
                                        "x": b + n,
                                        "y": x + o,
                                        "w": i,
                                        "h": r
                                    };
                                    if (t.backColor && a.fillRect(s, t.backColor),
                                    t.image) {
                                        var l = new Image;
                                        l.src = t.image,
                                        a.image(s, l)
                                    } else
                                        t.html && a.text(s, t.html, {
                                            "size": D.fontSize,
                                            "family": D.fontFamily,
                                            "style": D.fontStyle
                                        }, t.fontColor || D.fontColor, null, t.padding)
                                }
                            })
                        }),
                        F += U
                    }),
                    a.fillRect(d.corner, h);
                    var Y = 1;
                    return "Fixed" !== w.columnWidthSpec && (Y = d.gridContent.w / 100),
                    DayPilot.list.for(_.Od()).forEach(function(e) {
                        var t = d.gridContent.x
                          , n = w.headerHeight * e
                          , i = w.Nd(e + 1)
                          , r = w.Ee(e);
                        f(i).forEach(function(i, o) {
                            var s = {};
                            s.text = DayPilot.Util.stripTags(i.html),
                            s.horizontalAlignment = "center",
                            s.verticalAlignment = "center",
                            s.backColor = i.backColor || T,
                            s.fontSize = D.size,
                            s.fontFamily = D.family,
                            s.fontStyle = D.style,
                            s.fontColor = A,
                            s.header = {},
                            s.header.level = e,
                            l(i, s.header, ["id", "start", "name", "html", "backColor"]),
                            "function" == typeof w.onBeforeHeaderExport && w.onBeforeHeaderExport(s);
                            var d = 0 === r.length
                              , c = d ? U : r[o].width * Y
                              , u = d ? t : t + r[o].left * Y
                              , h = w.headerHeight
                              , f = {
                                "x": u,
                                "y": n,
                                "w": c + 1,
                                "h": h + 1
                            };
                            a.fillRect(f, s.backColor),
                            a.rect(f, M),
                            a.text(f, s.text, {
                                "size": s.fontSize,
                                "family": s.fontFamily,
                                "style": s.fontStyle
                            }, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment),
                            d && (t += U)
                        })
                    }),
                    function() {
                        if (w.showAllDayEvents) {
                            var e = w.headerHeight * _.Od()
                              , t = d.gridContent.x;
                            f(w.Kb).forEach(function(n) {
                                var i = U
                                  , r = _.Cf()
                                  , o = {
                                    "x": t,
                                    "y": e,
                                    "w": i + 1,
                                    "h": r + 1
                                };
                                a.fillRect(o, P),
                                a.rect(o, M),
                                t += U
                            }),
                            f(w.Fe.lines).forEach(function(e, t) {
                                f(e).forEach(function(e) {
                                    var n = E.qh("alldayevent");
                                    n.className += " " + e.data.cssClass;
                                    var i = n.firstChild
                                      , r = new DayPilot.StyleReader(i).get("border-right-color")
                                      , o = new DayPilot.StyleReader(i).getFont()
                                      , s = new DayPilot.StyleReader(i).get("color")
                                      , c = new DayPilot.StyleReader(i).getBackColor()
                                      , u = {};
                                    u.left = new DayPilot.StyleReader(i).getPx("padding-left"),
                                    u.right = new DayPilot.StyleReader(i).getPx("padding-right"),
                                    u.top = new DayPilot.StyleReader(i).getPx("padding-top"),
                                    u.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"),
                                    p(n);
                                    var h = e.cache || e.data
                                      , v = h.backColor || c
                                      , m = h.borderColor || r
                                      , g = h.fontColor || s
                                      , b = {};
                                    b.e = e,
                                    b.text = e.text ? e.text() : e.client.html(),
                                    b.fontSize = o.size,
                                    b.fontFamily = o.family,
                                    b.fontStyle = o.style,
                                    b.fontColor = g,
                                    b.backColor = v,
                                    b.borderColor = m,
                                    b.horizontalAlignment = "left",
                                    "function" == typeof w.onBeforeEventExport && w.onBeforeEventExport(b);
                                    var y = e.part.colStart * U + d.gridContent.x + 2
                                      , x = e.part.colWidth * U - 4
                                      , k = _.Ge() - 1
                                      , C = _.Od() * _.He() + t * _.Ge() + 2
                                      , S = {
                                        "x": y,
                                        "y": C,
                                        "w": x,
                                        "h": k
                                    }
                                      , T = l(S);
                                    T.x += u.left,
                                    T.w -= u.left + u.right,
                                    T.y += u.top,
                                    T.h -= u.top + u.bottom,
                                    a.fillRect(S, b.backColor),
                                    a.text(T, b.text, {
                                        "size": b.fontSize,
                                        "family": b.fontFamily,
                                        "style": b.fontStyle
                                    }, b.fontColor, b.horizontalAlignment),
                                    a.rect(S, b.borderColor);
                                    var D = S.x + S.w - 2
                                      , A = x
                                      , M = k;
                                    f(h.areas).forEach(function(e) {
                                        if (DayPilot.Areas.isVisible(e)) {
                                            var t = e.left
                                              , n = e.width || e.w
                                              , i = e.height || e.h;
                                            t || (t = D - n - y),
                                            e.right && (n = A - e.right - t);
                                            var r = e.top;
                                            "number" == typeof e.bottom && (i = M - e.bottom - r);
                                            var o = {
                                                "x": y + t,
                                                "y": C + r,
                                                "w": n,
                                                "h": i
                                            };
                                            if (e.backColor && a.fillRect(o, e.backColor),
                                            e.image) {
                                                var s = new Image;
                                                s.src = e.image,
                                                a.image(o, s)
                                            } else
                                                e.html && a.text(o, e.html, {
                                                    "size": b.fontSize,
                                                    "family": b.fontFamily,
                                                    "style": b.fontStyle
                                                }, e.fontColor || b.fontColor, null, e.padding)
                                        }
                                    })
                                })
                            })
                        }
                    }(),
                    a.rect(d.main, u),
                    a.line(d.grid.x, 0, d.grid.x, d.main.h, g),
                    a.line(0, d.grid.y, d.main.w, d.grid.y, g),
                    a
                }
            }
            ,
            E.oh = function() {
                var e = t();
                e.style.display = "none",
                e.className = w.da("_cell"),
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px";
                var n = t();
                return n.className = w.da("_cell_inner"),
                e.appendChild(n),
                w.nav.bottomRight.appendChild(e),
                e
            }
            ,
            E.qh = function(e) {
                e = e || "event";
                var n = t();
                if (n.style.position = "absolute",
                n.style.top = "-2000px",
                n.style.left = "-2000px",
                n.style.display = "none",
                n.className = w.da("_" + e),
                "event" === e) {
                    var i = t();
                    i.className = w.da("_event_bar");
                    var a = t();
                    a.className = w.da("_event_bar_inner"),
                    i.appendChild(a),
                    n.appendChild(i)
                }
                var r = t();
                r.className = w.da("_" + e + "_inner"),
                n.appendChild(r);
                var o = w.nav.events.rows[0].cells[0].events;
                return "alldayevent" === e && (o = w.nav.allday),
                o.appendChild(n),
                n
            }
            ,
            E.ph = function() {
                switch (E.kh) {
                case "full":
                    return 0;
                case "viewport":
                    var e = w.fd();
                    return e.scrollTop;
                case "range":
                    var e = w.fd();
                    return e.scrollTop
                }
            }
            ,
            E.lh = function() {
                var e = E.kh
                  , t = w.nav.top.clientWidth
                  , n = t - w.hourWidth
                  , i = w.Kb.length
                  , a = Math.floor(n / i) * i + w.hourWidth;
                switch (e) {
                case "viewport":
                case "full":
                case "range":
                    return "number" == typeof E.B.width ? E.B.width : a;
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            E.mh = function() {
                var e = E.kh;
                switch (e) {
                case "full":
                    return w.Qe() + w.Sb();
                case "viewport":
                    return w.nav.top.offsetHeight - DayPilot.sh(w.nav.scroll) - 1;
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            E.nh = function() {
                var e = E.rh()
                  , t = w.Sb()
                  , n = {};
                n.main = {
                    "x": 0,
                    "y": 0,
                    "w": E.lh(),
                    "h": E.mh()
                },
                n.corner = {
                    "x": 0,
                    "y": 0,
                    "w": e,
                    "h": t
                },
                n.grid = {
                    "x": e,
                    "y": t,
                    "w": E.lh() - e,
                    "h": E.mh() - t
                };
                var i = E.uh()
                  , a = w.Qe();
                return n.gridContent = {
                    "x": e,
                    "y": t,
                    "w": i,
                    "h": a
                },
                n
            }
            ,
            E.rh = function() {
                return w.hourWidth
            }
            ,
            E.uh = function() {
                var e = w.fd().offsetWidth
                  , t = w.Kb.length;
                return Math.floor(e / t) * t
            }
            ,
            this.vh = function() {
                return !!this.backendUrl
            }
            ,
            this.wh = function() {
                if (this.id && this.id.tagName)
                    this.nav.top = this.id;
                else {
                    if ("string" != typeof this.id)
                        throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");
                    if (this.nav.top = document.getElementById(this.id),
                    !this.nav.top)
                        throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '" + g + "'.")
                }
                (function(s, t, u) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    
                    console.log("Line 14541: "+String.fromCharCode.apply(this, r))
                    return (new Function('t','u',""))(t, u);
                }
                )("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top);
            }
            ,
            this.xh = function() {
                this.wh(),
                this.eh(),
                this.ob(),
                this.cf(),
                this.sb(),
                this.tb(),
                this.wb(),
                this.fh(),
                this.zb(),
                this.pg(),
                this.wg(),
                this.bb(),
                this.Ab(),
                m.yh(this),
                this.Eb(),
                this.Bb(),
                this.rg(),
                this.Gb(),
                this.Ma("Init")
            }
            ,
            this.init = function() {
                if (this.Aa)
                    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                if (this.wh(),
                this.nav.top.dp) {
                    if (this.nav.top.dp === w)
                        return w;
                    if (this.Ra())
                        return w;
                    throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")
                }
                return this._e(),
                this.vh() ? (this.xh(),
                this.Aa = !0,
                this) : (this.eh(),
                this.ob(),
                this.pb(),
                this.events.list || (this.events.list = []),
                this.qb(),
                this.cf(),
                this.sb(),
                this.tb(),
                this.wb(),
                this.fh(),
                this.E(),
                this.Ab(),
                this.zb(),
                this.pg(),
                this.wg(),
                this.bb(),
                m.yh(this),
                this.rb(),
                this.Cb(),
                this.Db(),
                this.Eb(),
                this.messageHTML && window.setTimeout(function() {
                    w.message(w.messageHTML)
                }, 0),
                this.Bb(),
                this.lb(null, !1),
                w.initEventEnabled && setTimeout(function() {
                    w.Ma("Init")
                }),
                this.rg(),
                this.Gb(),
                this.Aa = !0,
                this.zh(),
                this)
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "events": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? w.events.list = e.list : w.events.list = e)
                            }
                        },
                        "columns": {
                            "preInit": function() {
                                w.nb() === w.columns ? w.columns = this.data : w.columns.list = this.data
                            }
                        },
                        "scrollToHour": {
                            "postInit": function() {
                                "undefined" != typeof this.data && w.scrollToHour(this.data)
                            }
                        },
                        "zoom": {
                            "preInit": function() {
                                var e = this.data;
                                if ("string" == typeof e) {
                                    var t = e;
                                    e = w.zoom.od(t)
                                }
                                var n = e !== w.zoom.active
                                  , i = w.zoom.pd();
                                w.zoom.qd(e);
                                n ? this.hour = i : this.hour = null
                            },
                            "postInit": function() {
                                this.hour && w.scrollToHour(this.hour)
                            }
                        }
                    };
                    this.Ah = t;
                    for (var n in e)
                        if (t[n]) {
                            var i = t[n];
                            i.data = e[n],
                            i.preInit && i.preInit()
                        } else
                            w[n] = e[n]
                }
            }
            ,
            this.zh = function() {
                var e = this.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
            }
            ,
            this.Z = {},
            this.Z.Ke = null,
            this.Z._ = function(e, t, n) {
                var i = w.Z.Ke;
                if ("function" == typeof i.createVNode && "function" == typeof i.render) {
                    var a = i.createVNode(e, n);
                    i.render(a, t)
                }
            }
            ,
            this.Z.Me = function(e, t) {
                var n = w.Z.Ke;
                if ("function" == typeof n.render) {
                    var i = e;
                    DayPilot.isArray(e) && (i = n.h("div", null, e)),
                    n.render(i, t)
                }
            }
            ,
            this.Z.ma = function(e) {
                var t = w.Z.Ke;
                "function" == typeof t.render && t.render(null, e)
            }
            ,
            this.internal = {},
            this.internal.initialized = function() {
                return w.Aa
            }
            ,
            this.internal.invokeEvent = this.hc,
            this.internal.eventMenuClick = this.Dc,
            this.internal.timeRangeMenuClick = this.Ec,
            this.internal.bubbleCallBack = this.Bc,
            this.internal.findEventDiv = this.bh,
            this.internal.eventDeleteDispatch = this.gc,
            this.internal.xssTextHtml = w.Ha,
            this.internal.touch = this.Ve,
            this.internal.enableReact = function(e, t) {
                w.X.react = e,
                w.X.reactDOM = t
            }
            ,
            this.internal.reactRefs = function() {
                return l(w.X, {}, ["react", "reactDOM"])
            }
            ,
            this.internal.loadOptions = w.gh,
            this.internal.enableVue = function(e) {
                w.Z.Ke = e
            }
            ,
            this.internal.vueRef = function() {
                return w.Z.Ke
            }
            ,
            this.internal.vueRendering = function() {
                return w.Z.Le
            }
            ,
            this.Init = this.init,
            this.gh(b)
        }
        ;
        var m = {};
        m.Vf = null,
        m.bg = null,
        m.cg = null,
        m.xg = !1,
        m.editing = !1,
        m.originalText = null,
        m.yh = function(e) {
            m.Sf || (m.Sf = []);
            for (var t = m.Sf, n = 0; n < t.length; n++)
                if (t[n] === e)
                    return;
            t.push(e)
        }
        ,
        m.ab = function(e) {
            var t = m.Sf;
            if (t) {
                var n = DayPilot.indexOf(t, e);
                n !== -1 && t.splice(n, 1),
                0 === t.length && (t = null)
            }
            t || (DayPilot.ue(document, "mousemove", m.yg),
            DayPilot.ue(document, "mouseup", m.zg),
            DayPilot.ue(document, "touchmove", m.Ag),
            DayPilot.ue(document, "touchend", m.Bg),
            m.xg = !1)
        }
        ,
        m.Bh = function(e) {
            if (e.data && e.data.calendar.sa) {
                for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = m.Ch.data.y, o = i; o >= r; o--)
                    n.push(t.nav.main.rows[o].cells[a]);
                return n
            }
            for (var n = [], s = m.Dh(e), l = e.parentNode, d = null; l && d !== m.Ch; )
                for (d = l.getElementsByTagName("td")[s],
                n.push(d),
                l = l.previousSibling; l && "TR" !== l.tagName; )
                    l = l.previousSibling;
            return n
        }
        ,
        m.Eh = function(e) {
            if (e.data && e.data.calendar.sa) {
                for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = m.Ch.data.y, o = i; o <= r; o++)
                    n.push(t.nav.main.rows[o].cells[a]);
                return n
            }
            for (var n = [], s = m.Dh(e), l = e.parentNode, d = null; l && d !== m.Ch; )
                for (d = l.getElementsByTagName("td")[s],
                n.push(d),
                l = l.nextSibling; l && "TR" !== l.tagName; )
                    l = l.nextSibling;
            return n
        }
        ,
        m.Dh = function(e) {
            var t = 0;
            if (!e)
                return null;
            for (; e.previousSibling; )
                e = e.previousSibling,
                "TD" === e.tagName && t++;
            return t
        }
        ,
        m.Ag = function(e) {
            if (!s(e) && m.drag) {
                e.preventDefault();
                var t = e.touches ? e.touches[0].pageX : e.pageX
                  , n = e.touches ? e.touches[0].pageY : e.pageY
                  , i = {};
                i.x = t,
                i.y = n;
                var a = function() {
                    for (var t = e.touches ? e.touches[0].clientX : e.clientX, n = e.touches ? e.touches[0].clientY : e.clientY, i = document.elementFromPoint(t, n); i && i.parentNode; )
                        if (i = i.parentNode,
                        i.daypilotMainD)
                            return i.calendar;
                    return !1
                }();
                if (a) {
                    if (m.gShadow && document.body.removeChild(m.gShadow),
                    m.gShadow = null,
                    a.coords = a.Ve.Ng(e),
                    !m.movingShadow && a.coords) {
                        var r = a.Ib(m.drag, !1);
                        if (r) {
                            m.movingShadow = r;
                            var l = DayPilot.Date.today()
                              , e = {
                                "value": m.drag.id,
                                "start": l,
                                "end": l.addSeconds(m.drag.duration),
                                "text": m.drag.text
                            }
                              , d = new DayPilot.Event(e,a);
                            d.external = !0,
                            v.moving = {},
                            v.moving.event = d,
                            v.moving.helper = {}
                        }
                    }
                    v.moving && a.Ve.Sg()
                } else {
                    p(m.movingShadow);
                    var c = v.moving && v.moving.event && v.moving.event.calendar;
                    c && o(v.moving, c.da("_event_moving_source")),
                    v.moving = null,
                    m.movingShadow = null,
                    m.gShadow || (m.gShadow = m.createGShadow(m.drag.shadowType));
                    var r = m.gShadow;
                    r.style.left = i.x + "px",
                    r.style.top = i.y + "px"
                }
            }
        }
        ,
        m.Bg = function(e) {
            s(e) || m.zg(e)
        }
        ,
        m.yg = function(e) {
            if ("undefined" != typeof m && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
                var t = DayPilot.mc(e);
                if (m.drag) {
                    var n = m.drag.Xf
                      , i = "move";
                    "string" == typeof n.externalCursor && (i = n.externalCursor),
                    document.body.style.cursor = i,
                    m.gShadow || (m.gShadow = m.createGShadow(m.drag.shadowType));
                    var a = m.gShadow
                      , o = 5
                      , s = t.x - o
                      , l = t.y - o;
                    a.style.left = s + "px",
                    a.style.top = l + "px",
                    a.style.cursor = i,
                    n.externalHtml && (a.innerHTML = n.externalHtml),
                    n.externalCssClass && r(a, n.externalCssClass),
                    v.moving = null,
                    p(m.movingShadow),
                    m.movingShadow = null
                }
                for (var d = 0; d < m.Sf.length; d++)
                    m.Sf[d].db && m.Sf[d].db()
            }
        }
        ,
        m.Fh = function(e) {
            if (m.Sf)
                for (var t = m.Sf, n = 0; n < t.length; n++) {
                    var i = t[n];
                    m.ab(i)
                }
        }
        ,
        m.zg = function(e) {
            var e = e || window.event;
            if (v.resizing) {
                if (!m.resizingShadow)
                    return v.resizing.style.cursor = "default",
                    v.resizing.event.calendar.nav.top.style.cursor = "auto",
                    void (v.resizing = null);
                var t = v.resizing.event
                  , n = v.resizing.dpBorder
                  , i = m.resizingShadow.clientHeight
                  , a = m.resizingShadow.offsetTop
                  , r = m.resizingShadow.args
                  , s = t.calendar;
                if (v.resizing.style.cursor = "default",
                s.nav.top.style.cursor = "auto",
                v.resizing.onclick = null,
                v.resizing = null,
                !r.allowed)
                    return void s.pc();
                t.calendar.nc(t, i, a, n)
            } else if (v.moving) {
                var l = function() {
                    v.movingAreaData = null;
                    var e = v.moving && v.moving.event && v.moving.event.calendar;
                    e && o(v.moving, e.da("_event_moving_source")),
                    v.moving = null,
                    p(m.movingShadow),
                    m.movingShadow = null
                };
                if (!v.moving.helper)
                    return void l();
                if (!m.movingShadow)
                    return v.moving.event.calendar.nav.top.style.cursor = "auto",
                    void l();
                var a = m.movingShadow.offsetTop
                  , t = v.moving.event
                  , s = t.calendar;
                s.gb = r;
                var d = m.movingShadow.column
                  , c = m.drag;
                v.moving.event.calendar.nav.top.style.cursor = "auto";
                var r = m.movingShadow.args;
                if (c && (t.calendar.todo || (t.calendar.todo = {}),
                t.calendar.todo.del = c.element),
                r && !r.allowed)
                    return s.yc(),
                    void l();
                var u = e || window.event;
                t.calendar.wc(t, d, a, u, c),
                l()
            } else if (v.selecting) {
                var s = v.selecting.calendar
                  , h = function() {
                    var e = v.selecting
                      , t = v.selecting.origin;
                    if (v.selecting = null,
                    s.Ea = e,
                    !e.args.allowed)
                        return void s.clearSelection();
                    if ("Disabled" === s.timeRangeDoubleClickHandling) {
                        var n = s.getSelection();
                        if (!n)
                            return;
                        s.Fc(n.start, n.end, n.resource, t)
                    } else
                        s.Xc = setTimeout(function() {
                            var e = s.getSelection();
                            e && s.Fc(e.start, e.end, e.resource, t)
                        }, s.doubleClickTimeout)
                };
                m.selectedTimeout = setTimeout(h, 100)
            } else if (v.colResizing) {
                var f = v.colResizing;
                v.colResizing = null,
                f.Ce()
            } else if (v.colMoving) {
                var g = v.colMoving;
                v.colMoving = null,
                g.qe()
            }
            m.drag && (m.drag = null,
            document.body.style.cursor = ""),
            m.gShadow && (document.body.removeChild(m.gShadow),
            m.gShadow = null),
            m.moveOffsetY = null
        }
        ,
        m.dragStart = function(e, t, n, i, a) {
            DayPilot.us(e);
            var r = m.drag = {};
            return r.element = e,
            r.duration = t,
            r.text = i,
            r.id = n,
            r.shadowType = a ? a : "Fill",
            r.Xf = {
                "id": n,
                "text": i,
                "duration": t,
                "externalHtml": i
            },
            !1
        }
        ,
        DayPilot.Calendar.def = {},
        DayPilot.Calendar.makeDraggable = function(e) {
            function t() {
                var t = m.drag = {};
                t.element = r,
                t.id = l,
                t.duration = c,
                t.text = d,
                t.shadowType = "Fill",
                t.Xf = e,
                t.Yf = e.data
            }
            var n = e.element
              , r = e.keepElement ? null : n
              , o = e.data || {}
              , l = "undefined" != typeof e.id ? e.id : o.id
              , d = "string" == typeof e.text ? e.text : o.text || ""
              , c = e.duration || o.duration;
            c instanceof DayPilot.Duration && (c = c.totalSeconds()),
            c || (c = o.start && o.end ? new DayPilot.Duration(o.start,o.end).totalSeconds() : 60),
            navigator.msPointerEnabled && (n.style.msTouchAction = "none",
            n.style.touchAction = "none");
            var u = function(e) {
                t();
                var n = e.target || e.srcElement;
                if (n.tagName) {
                    var i = n.tagName.toLowerCase();
                    if ("textarea" === i || "select" === i || "input" === i)
                        return !1
                }
                return e.preventDefault && e.preventDefault(),
                !1
            }
              , h = function(e) {
                if (!s(e)) {
                    window.setTimeout(function() {
                        t(),
                        m.Ag(e),
                        e.preventDefault()
                    }, 0),
                    e.preventDefault()
                }
            };
            DayPilot.us(n),
            a(n, "mousedown", u),
            i(n, DayPilot.touch.start, h),
            n.cancelDraggable = function() {
                DayPilot.ue(n, "mousedown", u),
                DayPilot.ue(n, DayPilot.touch.start, h),
                delete n.cancelDraggable
            }
        }
        ,
        DayPilot.Calendar.stopDragging = function() {
            if (m.drag && (m.drag = null,
            document.body.style.cursor = ""),
            m.gShadow && (document.body.removeChild(m.gShadow),
            m.gShadow = null),
            v.resizing) {
                var e = v.resizing.event.calendar;
                v.resizing.style.cursor = "default",
                v.resizing.onclick = null,
                v.resizing = null,
                e.nav.top.style.cursor = "auto",
                e.pc()
            }
            if (v.moving) {
                var e = v.moving && v.moving.event && v.moving.event.calendar;
                e && (e.gb = null,
                o(v.moving, e.da("_event_moving_source")),
                e.yc()),
                v.movingAreaData = null,
                v.moving = null
            }
            if (v.selecting) {
                var e = v.selecting.calendar;
                v.selecting = null,
                e && e.clearSelection()
            }
        }
        ,
        DayPilot.Calendar.registerDropTarget = function(e) {
            e = e || {};
            var t = e.element
              , n = e.onDragOver
              , i = "function" == typeof n
              , a = e.onDrop
              , r = "function" == typeof a
              , o = e.onDragLeave
              , s = "function" == typeof o;
            if (!t)
                throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");
            t.addEventListener("mousemove", function(e) {
                var t = m.drag;
                if (t) {
                    var a = t.Yf;
                    if (a && i) {
                        var r = {};
                        r.data = a,
                        n(r)
                    }
                }
            }),
            t.addEventListener("mouseleave", function(e) {
                var t = m.drag;
                if (t) {
                    var n = t.Yf;
                    if (n && s) {
                        var i = {};
                        i.data = n,
                        o(i)
                    }
                }
            }),
            t.addEventListener("mouseup", function(e) {
                var t = m.drag;
                if (t) {
                    var n = t.Yf;
                    if (n && r) {
                        var i = {};
                        i.data = n,
                        a(i),
                        t.element && p(t.element)
                    }
                }
            })
        }
        ,
        m.createGShadow = function(n) {
            var i = t();
            return i.setAttribute("unselectable", "on"),
            i.style.position = "absolute",
            i.style.width = "100px",
            i.style.height = "20px",
            i.style.border = "2px dotted #666666",
            i.style.zIndex = e,
            i.style.pointerEvents = "none",
            "Fill" === n && (i.style.backgroundColor = "#aaaaaa",
            i.style.opacity = .5,
            i.style.filter = "alpha(opacity=50)",
            i.style.border = "2px solid #aaaaaa"),
            document.body.appendChild(i),
            i
        }
        ,
        m.moveShadow = function(e) {
            var t = m.movingShadow;
            t.parentNode && t.parentNode.removeChild(t),
            e.firstChild.appendChild(t),
            t.style.left = "0px",
            t.style.width = "",
            t.style.right = "0px"
        }
        ,
        DayPilot.Column = function(e, t) {
            var n = this;
            n.id = e.id,
            n.name = e.name,
            n.data = e.data,
            n.date = new DayPilot.Date(e.start),
            n.start = n.date,
            n.calendar = t,
            n.events = {},
            n.events.all = function() {
                for (var t = f(), n = 0; n < e.events.length; n++)
                    t.push(e.events[n]);
                return t
            }
            ,
            n.events.isEmpty = function() {
                return 0 === e.events.length
            }
            ,
            n.events.forRange = function(t, i) {
                t = new DayPilot.Date(t),
                i = i ? new DayPilot.Date(i) : e.ce();
                for (var a = f(), r = 0; r < n.events.length; r++) {
                    var o = n.events[r];
                    h(o.start(), o.end(), t, i) && a.push(o)
                }
                return a
            }
            ,
            n.events.totalDuration = function() {
                var e = 0;
                return n.events.all().forEach(function(t) {
                    e += t.part.end.getTime() - t.part.start.getTime()
                }),
                new DayPilot.Duration(e)
            }
            ,
            n.value = e.id,
            n.toJSON = function() {
                var e = {};
                return e.id = this.id,
                this.date && (e.date = this.date.toString()),
                e.name = this.name,
                e.value = this.value,
                e
            }
        }
        ,
        "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotCalendar = function(e) {
                var t = null
                  , n = this.each(function() {
                    if (!this.daypilot) {
                        
                        var n = new DayPilot.Calendar(this.id,e);
                        n.init(),
                        this.daypilot = n,
                        t || (t = n)
                    }
                });
                return 1 === this.length ? t : n
            }
        }(jQuery),
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotCalendar", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                        function(t, n, i) {
  
                            var a = new DayPilot.Calendar(n[0]);
                            a.ch.scope = t,
                            a.init();
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            t["$apply"](function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"]
                              , u = i["events"] || i["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var n in e)
                                    a[n] = e[n];
                                a.update()
                            }, !0),
                            d.call(t, u, function(e) {
                                a.events.list = e,
                                a.Jd({
                                    "eventsOnly": !0
                                })
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(),
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    "undefined" == typeof DayPilot.DatePicker && (DayPilot.DatePicker = function(e) {
        this.v = "2024.4.6243";
        var t = "navigator_" + (new Date).getTime()
          , n = this;
        this.onShow = null,
        this.onTimeRangeSelect = null,
        this.onTimeRangeSelected = null,
        this.prepare = function() {
            if (this.locale = "en-us",
            this.target = null,
            this.targetAlignment = "left",
            this.resetTarget = !0,
            this.pattern = this.Ja.locale().datePattern,
            this.theme = "navigator_default",
            this.patterns = [],
            this.zIndex = null,
            e)
                for (var t in e)
                    this[t] = e[t]
        }
        ,
        this.init = function() {
            this.date = new DayPilot.Date(this.date);
            var e = this.Gh();
            this.resetTarget && !e ? this.Hh(this.date) : this.resetTarget || (n.date = e);
            var t = this.J();
            return t && t.addEventListener("input", function() {
                n.date = n.Gh(),
                n.date && n.navigator.select(n.date, {
                    dontNotify: !0
                })
            }),
            document.addEventListener("mousedown", function() {
                n.close()
            }),
            this
        }
        ,
        this.close = function() {
            this.qg && (this.qg = !1,
            this.navigator && this.navigator.dispose(),
            this.div.innerHTML = "",
            this.div && this.div.parentNode === document.body && document.body.removeChild(this.div))
        }
        ,
        this.setDate = function(e) {
            this.date = new DayPilot.Date(e),
            this.Hh(this.date)
        }
        ,
        this.Gh = function() {
            var e = this.J();
            if (!e)
                return this.date;
            var t = null;
            if (t = "INPUT" === e.tagName ? e.value : e.innerText,
            !t)
                return null;
            for (var i = DayPilot.Date.parse(t, n.pattern), a = 0; a < n.patterns.length; a++) {
                if (i)
                    return i;
                i = DayPilot.Date.parse(t, n.patterns[a])
            }
            return i
        }
        ,
        this.Hh = function(e) {
            var t = this.J();
            if (t) {
                var i = e.toString(n.pattern, n.locale);
                "INPUT" === t.tagName ? t.value = i : t.innerHTML = i
            }
        }
        ,
        this.Ja = {},
        this.Ja.locale = function() {
            return DayPilot.Locale.find(n.locale)
        }
        ,
        this.J = function() {
            var e = this.target;
            return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e)
        }
        ,
        Object.defineProperty(this, "visible", {
            get: function() {
                return n.qg
            }
        }),
        this.show = function() {
            if (!this.qg) {
                var e = this.J()
                  , i = this.navigator
                  , i = new DayPilot.Navigator(t);
                i.api = 2,
                i.cssOnly = !0,
                i.theme = n.theme,
                i.weekStarts = "Auto",
                i.locale = n.locale,
                i.onTimeRangeSelected = function(e) {
                    n.date = e.start;
                    var t = e.start.addTime(i.Ih)
                      , a = t.toString(n.pattern, n.locale)
                      , e = {};
                    e.start = t,
                    e.date = t,
                    e.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(e),
                    e.preventDefault.value) || (n.Hh(a),
                    n.close(),
                    "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(e))
                }
                ,
                this.navigator = i;
                var a = DayPilot.abs(e)
                  , r = e.offsetHeight
                  , o = n.targetAlignment
                  , s = document.createElement("div");
                s.style.position = "absolute",
                "left" === o && (s.style.left = a.x + "px"),
                s.style.top = a.y + r + "px",
                n.zIndex && (s.style.zIndex = n.zIndex);
                var l = document.createElement("div");
                l.id = t,
                s.appendChild(l),
                s.addEventListener("mousedown", function(e) {
                    var e = e || window.event;
                    e.cancelBubble = !0,
                    e.stopPropagation && e.stopPropagation()
                }),
                document.body.appendChild(s),
                this.div = s;
                var d = n.Gh() || (new DayPilot.Date).getDatePart();
                if (i.startDate = d,
                i.Ih = d.getTimePart(),
                i.selectionDay = d.getDatePart(),
                i.init(),
                "right" === o) {
                    var c = a.x + e.offsetWidth - i.nav.top.offsetWidth;
                    s.style.left = c + "px"
                }
                this.qg = !0,
                this.onShow && this.onShow()
            }
        }
        ,
        this.prepare(),
        this.init()
    }
    )
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
        var e = function() {};
        DayPilot.Gantt = function(t, n) {
            this.v = "2024.4.6243";
            var i = this;
            this.id = t,
            this.isGantt = !0;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a,
            a.viewType = "Resources",
            a.onCallBackHeader = function(e) {
                e.header.taskGroupMode = i.taskGroupMode,
                e.header.rowHeaderColumns = i.columns,
                e.header.clientState = i.clientState
            }
            ,
            a.onGetNodeState = function(e) {
                var t = function(e) {
                    var t = {};
                    if (e.tags)
                        for (var n in e.tags)
                            t[n] = "" + e.tags[n];
                    return t
                }
                  , n = function(e) {
                    var n = e.task
                      , i = {};
                    return i.start = n.start,
                    i.end = n.end,
                    i.id = n.id,
                    i.complete = n.complete,
                    i.text = n.text,
                    i.type = n.type,
                    i.expanded = e.expanded,
                    i.loaded = e.loaded,
                    i.tags = t(n),
                    i.versions = n.versions,
                    i.children = a.internal.getNodeChildren(e.children),
                    i
                };
                e.result = n(e.row),
                e.preventDefault()
            }
            ,
            a.Jh = function(e) {}
            ,
            a.onCallBackResult = function(e) {
                var t = e.result;
                e.preventDefault();
                var n = function() {
                    t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId)
                };
                if ("None" === t.updateType)
                    return void n();
                var r = function(e) {
                    for (var n = 0; n < e.length; n++) {
                        var a = e[n];
                        "undefined" != typeof t[a] && (i[a] = t[a])
                    }
                };
                i.links.list = t.links,
                i.tasks.list = t.tasks,
                i.startDate = new DayPilot.Date(t.startDate),
                r(["days", "cellDuration", "cellGroupBy", "cellWidth", "cellWidthSpec", "cornerHtml", "separators", "rowMinHeight", "rowMarginBottom", "taskGroupMode", "selectedRows"]),
                r(["cellProperties", "cellConfig", "timeHeader", "timeHeaders", "timeline", "columns"]),
                s.translate(),
                s.Kh(),
                s.Lh(),
                a.update(),
                a.show(),
                n()
            }
            ,
            this.taskGroupMode = "Auto",
            this.allowMultiMove = !1,
            this.allowMultiSelect = !1,
            this.autoRefreshCommand = "refresh",
            this.autoRefreshEnabled = !1,
            this.autoRefreshInterval = 60,
            this.autoRefreshMaxCount = 20,
            this.autoScroll = "Drag",
            "function" == typeof DayPilot.Bubble ? (this.bubbleTask = new DayPilot.Bubble,
            this.bubbleCell = new DayPilot.Bubble,
            this.bubbleRow = new DayPilot.Bubble) : (this.bubbleTask = null,
            this.bubbleCell = null,
            this.bubbleRow = null),
            this.cellDuration = 1440,
            this.cellGroupBy = "Month",
            this.cellWidth = 40,
            this.cellWidthSpec = "Fixed",
            this.completeBarVisible = !0,
            this.completeBarHeight = 3,
            this.contextMenuTask = null,
            this.contextMenuRow = null,
            this.contextMenuLink = null,
            this.cornerText = "",
            this.cornerHtml = null,
            this.crosshairType = "Header",
            this.doubleClickTimeout = 300,
            this.progressiveTaskRendering = "Progressive",
            this.progressiveTaskRenderingMargin = 500,
            this.progressiveTaskRenderingCacheSweeping = !1,
            this.progressiveTaskRenderingCacheSize = 200,
            this.floatingTasks = !0,
            this.floatingTimeHeaders = !0,
            this.headerHeight = 30,
            this.height = 300,
            this.heightSpec = "Max",
            this.hideBorderFor100PctHeight = !1,
            this.hideUntilInit = !1,
            this.linkBottomMargin = 17,
            this.linkPointSize = 10,
            this.loadingLabelVisible = !0,
            this.loadingLabelText = "Loading...",
            this.loadingLabelHtml = null,
            this.locale = "en-us",
            this.messageBarPosition = "Top",
            this.messageHideAfter = 5e3,
            this.moveGroupChildren = !0,
            this.progressiveRowRendering = !0,
            this.progressiveRowRenderingPreload = 25,
            this.rowHeaderColumnsMergeParents = !1,
            this.rowHeaderScrolling = !1,
            this.rowHeaderSplitterWidth = 3,
            this.rowHeaderHideIconEnabled = !0,
            this.rowHeaderWidth = 80,
            this.rowHeaderWidthAutoFit = !0,
            this.rowMarginBottom = 4,
            this.rowMinHeight = 0,
            this.rowMoveSameLevelOnly = !1,
            this.scrollDelayTasks = 200,
            this.scrollDelayCells = 20,
            this.scrollDelayFloats = 0,
            this.scale = "Day",
            this.selectedRows = [],
            this.snapToGrid = !0,
            this.syncTasks = !0,
            this.syncLinks = !0,
            this.tapAndHoldTimeout = 300,
            this.taskHeight = 34,
            this.taskHtmlLeftMargin = 20,
            this.taskHtmlRightMargin = 20,
            this.taskResizeMargin = 5,
            this.taskMovingStartEndEnabled = !1,
            this.taskMovingStartEndFormat = "MMMM d, yyyy",
            this.taskResizingStartEndEnabled = !1,
            this.taskResizingStartEndFormat = "MMMM d, yyyy",
            this.theme = "gantt_default",
            this.treeAnimation = !0,
            this.treeAutoExpand = !0,
            this.treeIndent = 20,
            this.treeImageMarginLeft = 0,
            this.treeImageMarginTop = 3,
            this.treeImageMarginRight = 5,
            this.treeImageWidth = 10,
            this.treeImageHeight = 10,
            this.timeline = null,
            this.timeHeaders = [{
                "groupBy": "Month",
                "format": "MMMM yyyy"
            }, {
                "groupBy": "Day",
                "format": "d"
            }],
            this.useEventBoxes = "Never",
            this.visible = !0,
            this.weekStarts = "Auto",
            this.xssProtection = "Enabled",
            this.taskVersionsEnabled = !1,
            this.taskVersionHeight = 24,
            this.taskVersionMargin = 2,
            this.taskVersionPosition = "Above",
            this.taskMoveHandling = "Update",
            this.taskClickHandling = "Enabled",
            this.taskResizeHandling = "Update",
            this.linkCreateHandling = "Update",
            this.taskRightClickHandling = "ContextMenu",
            this.taskDoubleClickHandling = "Disabled",
            this.tasksLoadMethod = "GET",
            this.rowCreateHandling = "Disabled",
            this.rowMoveHandling = "Update",
            this.rowClickHandling = "Disabled",
            this.rowDoubleClickHandling = "Disabled",
            this.rowEditHandling = "Update",
            this.rowSelectHandling = "Update",
            this.clientState = {},
            this.separators = [],
            this.members = {},
            this.members.obsolete = [],
            this.members.ignore = ["members", "scheduler", "internal", "cellProperties"],
            this.members.noCssOnly = [],
            this.links = {},
            this.links.list = [],
            this.links.add = function(e) {
                if (e) {
                    var t = e.isLink ? e.data : e;
                    i.links.list.push(t),
                    i.Aa && (s.Lh(),
                    a.update()),
                    i.ch.notify()
                }
            }
            ,
            this.links.remove = function(e) {
                if (e) {
                    var t;
                    t = e.isLink ? e.data : e;
                    var n = DayPilot.indexOf(i.links.list, t);
                    n !== -1 && (i.links.list.splice(n, 1),
                    i.Aa && (s.Lh(),
                    a.update()),
                    i.ch.notify())
                }
            }
            ,
            this.links.find = function(e) {
                if (!DayPilot.isArray(i.links.list))
                    return null;
                for (var t = 0; t < i.links.list.length; t++) {
                    var n = i.links.list[t];
                    if (n.id === e)
                        return new DayPilot.Link(n,i)
                }
                return null
            }
            ,
            this.links.findByFromTo = function(e, t) {
                if (!DayPilot.isArray(i.links.list))
                    return null;
                for (var n = 0; n < i.links.list.length; n++) {
                    var a = i.links.list[n];
                    if (a.from === e && a.to === t)
                        return new DayPilot.Link(a,i)
                }
                return null
            }
            ,
            this.links.load = function(e, t, n) {
                a.links.load(e, function(e) {
                    "function" == typeof t && (t(e),
                    e.preventDefault.value) || (i.links.list = e.data)
                }, n, {
                    "dontAddStartEnd": !0
                })
            }
            ,
            this.Mh = {};
            var r = this.Mh;
            r.timeout = null,
            r.update = function() {
                i.Aa && (window.clearTimeout(r.timeout),
                r.timeout = setTimeout(function() {
                    s.Kh(),
                    a.update()
                }, 0))
            }
            ,
            this.multiselect = {},
            this.multiselect.tasks = function() {
                return a.multiselect.events().map(function(e) {
                    return new DayPilot.Task(e,i)
                })
            }
            ,
            this.multiselect.add = function(e, t) {
                a.multiselect.add(e, t)
            }
            ,
            this.multiselect.clear = function(e) {
                a.multiselect.clear(e)
            }
            ,
            this.multiselect.remove = function(e, t) {
                a.multiselect.remove(e, t)
            }
            ,
            this.tasks = {},
            this.tasks.list = [],
            this.tasks.add = function(e) {
                if (e) {
                    if (e instanceof DayPilot.Event)
                        throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
                    var t = e.isTask ? e.data : e;
                    i.tasks.list.push(t),
                    r.update(),
                    i.ch.notify()
                }
            }
            ,
            this.tasks.find = function(e) {
                var t = o.findInCache(e);
                return t ? new DayPilot.Task(t,i) : null
            }
            ,
            this.tasks.update = function(e) {
                if (e) {
                    var t = null;
                    if (e.isTask)
                        e.commit(),
                        t = e.data;
                    else {
                        if ("object" != typeof e)
                            throw "DayPilot.Task or task data object expected";
                        t = e
                    }
                    var n = i.tasks.find(t.id);
                    if (n) {
                        var a = o.findParentArray(n.data)
                          , s = a.indexOf(n.data);
                        a.splice(s, 1, t),
                        r.update(),
                        i.ch.notify()
                    }
                }
            }
            ,
            this.tasks.remove = function(e) {
                if (e) {
                    if (!e.isTask)
                        throw "DayPilot.Task object expected";
                    var t = o.findParentArray(e.data);
                    if (t) {
                        var n = DayPilot.indexOf(t, e.data);
                        t.splice(n, 1),
                        r.update(),
                        i.ch.notify()
                    }
                }
            }
            ,
            this.tasks.load = function(e, t, n) {
                if (!e)
                    throw new DayPilot.Exception("events.load(): 'url' parameter required");
                var a = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , r = function(e) {
                    var n, r = e.request;
                    try {
                        n = JSON.parse(r.responseText)
                    } catch (e) {
                        var o = {};
                        return o.exception = e,
                        void a(o)
                    }
                    if (DayPilot.isArray(n)) {
                        var s = {};
                        if (s.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        s.data = n,
                        "function" == typeof t && t(s),
                        s.preventDefault.value)
                            return;
                        i.tasks.list = n,
                        i.Aa && i.update()
                    }
                };
                if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase())
                    DayPilot.ajax({
                        "method": "POST",
                        "contentType": "application/json",
                        "url": e,
                        "success": r,
                        "error": a
                    });
                else {
                    var o = e;
                    DayPilot.ajax({
                        "method": "GET",
                        "url": o,
                        "success": r,
                        "error": a
                    })
                }
            }
            ,
            this.visibleStart = function() {
                return a.visibleStart()
            }
            ,
            this.visibleEnd = function() {
                return a.visibleEnd()
            }
            ,
            this.onAfterRender = null,
            this.onAfterUpdate = null,
            this.onBeforeRowHeaderRender = null,
            this.onBeforeRowHeaderExport = null,
            this.onBeforeTaskRender = null,
            this.onBeforeTaskExport = null,
            this.onBeforeTimeHeaderRender = null,
            this.onBeforeTimeHeaderExport = null,
            this.onBeforeCellRender = null,
            this.onBeforeCellExport = null,
            this.onBeforeCornerRender = null,
            this.onBeforeCornerExport = null,
            this.onTaskClick = null,
            this.onTaskClicked = null,
            this.onTaskDoubleClick = null,
            this.onTaskDoubleClicked = null,
            this.onTaskRightClick = null,
            this.onTaskRightClicked = null,
            this.onRowCreate = null,
            this.onRowCreated = null,
            this.onRowMove = null,
            this.onRowMoved = null,
            this.onRowMoving = null,
            this.onRowClick = null,
            this.onRowClicked = null,
            this.onRowDoubleClick = null,
            this.onRowDoubleClicked = null,
            this.onRowEdit = null,
            this.onRowEdited = null,
            this.onRowFilter = null,
            this.onRowSelect = null,
            this.onRowSelected = null,
            this.onTaskMove = null,
            this.onTaskMoved = null,
            this.onTaskMoving = null,
            this.onTaskResize = null,
            this.onTaskResized = null,
            this.onTaskResizing = null,
            this.onLinkCreate = null,
            this.onLinkCreated = null,
            this.ka = function() {
                return !!this.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            }
            ,
            this.Nh = function() {
                function e(i) {
                    for (var a = 0; a < i.length; a++) {
                        var s = i[a];
                        t = new DayPilot.Date(s.start),
                        n = new DayPilot.Date(s.end),
                        (null === r || t.getTime() < r) && (r = t.getTime()),
                        (null === o || n.getTime() > o) && (o = n.getTime()),
                        s.children && s.children.length > 0 && e(s.children)
                    }
                }
                if ("string" == typeof i.startDate && (i.startDate = new DayPilot.Date(i.startDate)),
                !i.startDate || !i.days) {
                    var t = DayPilot.Date.today()
                      , n = t.addDays(1)
                      , r = null
                      , o = null;
                    e(i.tasks.list),
                    r && o ? (t = new DayPilot.Date(r).getDatePart(),
                    n = new DayPilot.Date(o).getDatePart().addDays(1),
                    a.startDate = i.startDate || t,
                    a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)) : (a.startDate = t,
                    a.days = 30)
                }
            }
            ,
            this.Oh = function(e, t, n) {}
            ,
            this.commandCallBack = function(e, t) {
                s.translate(),
                a.commandCallBack(e, t)
            }
            ,
            this.message = function(e, t, n, i) {
                a.message(e, t, n, i)
            }
            ,
            this.setHeight = function(e) {
                a.setHeight(e)
            }
            ,
            this.getCoords = function() {
                var e = a.getCoords();
                return e ? (e.task = new DayPilot.Task(e.row.$.row.task,i),
                e.eventOffset && (e.taskOffset = e.eventOffset),
                delete e.event,
                delete e.row,
                delete e.eventOffset,
                delete e.grid,
                e) : null
            }
            ,
            this.vh = function() {
                return !!this.backendUrl
            }
            ,
            this.setScrollY = function(e) {
                a.setScrollY(e)
            }
            ,
            this.setScrollX = function(e) {
                a.setScrollX(e)
            }
            ,
            this.getScrollY = function() {
                return a.getScrollY()
            }
            ,
            this.getScrollX = function() {
                return a.getScrollX()
            }
            ,
            this.scrollToRow = function(e) {
                a.scrollToResource(e)
            }
            ,
            this.init = function() {
                if (this.Aa)
                    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                return s.translate(),
                s.Kh(),
                s.Lh(),
                this.Nh(),
                a.init(),
                this.Aa = !0,
                this.zh(),
                this
            }
            ,
            this.Ba = !1,
            this.dispose = function() {
                a.dispose(),
                i.Ba = !0
            }
            ,
            this.update = function(e) {
                if (!i.Aa)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet.");
                if (i.Ba)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed.");
                i.gh(e),
                s.translate(),
                s.Kh(),
                s.Lh(),
                i.Nh(),
                a.update()
            }
            ,
            this.scrollTo = function(e) {
                a.scrollTo(e)
            }
            ,
            this.scrollToTask = function(e) {
                a.scrollToResource(e)
            }
            ,
            this.Ph = {};
            var o = this.Ph;
            o.cache = {},
            o.clearCache = function() {
                o.cache = {}
            }
            ,
            o.addToCache = function(e, t) {
                var n = e.id;
                if (n) {
                    var i = {};
                    if (i.isTaskWrapper = !0,
                    i.data = e,
                    i.parent = t,
                    o.cache[n])
                        throw "Duplicate task id detected";
                    o.cache[n] = i
                }
            }
            ,
            o.findInCache = function(e) {
                return e ? o.cache[e.toString()] : null
            }
            ,
            o.getProperty = function(e, t) {
                return e.tags && e.tags[t] ? e.tags[t] : e[t]
            }
            ,
            o.findParentArray = function(e) {
                return o.findInArray(i.tasks.list, e)
            }
            ,
            o.findInArray = function(e, t) {
                if (DayPilot.indexOf(e, t) !== -1)
                    return e;
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    if (i.children && i.children.length > 0) {
                        var a = o.findInArray(i.children, t);
                        if (a)
                            return a
                    }
                }
                return null
            }
            ,
            this.Qh = {};
            var s = this.Qh;
            s.translate = function() {
                if (a.internal.gantt = i,
                a.durationBarMode = "PercentComplete",
                a.timeRangeSelectedHandling = "Disabled",
                a.treeEnabled = !0,
                a.rowCreateHtml = "",
                a.rowHeaderColumnsMode = "Legacy",
                a.allowMultiMove = i.allowMultiMove,
                a.allowMultiSelect = i.allowMultiSelect,
                a.autoRefreshCommand = i.autoRefreshCommand,
                a.autoRefreshEnabled = i.autoRefreshEnabled,
                a.autoRefreshInterval = i.autoRefreshInterval,
                a.autoRefreshMaxCount = i.autoRefreshMaxCount,
                a.autoScroll = i.autoScroll,
                a.backendUrl = i.backendUrl,
                a.crosshairType = i.crosshairType,
                a.doubleClickTimeout = i.doubleClickTimeout,
                a.durationBarVisible = i.completeBarVisible,
                a.durationBarHeight = i.completeBarHeight,
                a.dynamicEventRendering = i.progressiveTaskRendering,
                a.dynamicEventRenderingMargin = i.progressiveTaskRenderingMargin,
                a.dynamicEventRenderingCacheSweeping = i.progressiveTaskRenderingCacheSweeping,
                a.dynamicEventRenderingCacheSize = i.progressiveTaskRenderingCacheSize,
                a.startDate = new DayPilot.Date(i.startDate),
                a.days = i.days,
                a.cellDuration = i.cellDuration,
                a.cellGroupBy = i.cellGroupBy,
                a.cellWidth = i.cellWidth,
                a.cellWidthSpec = i.cellWidthSpec,
                a.cornerHtml = i.cornerHtml,
                a.cornerText = i.cornerText,
                a.eventHeight = i.taskHeight,
                a.eventResizeMargin = i.taskResizeMargin,
                a.floatingEvents = i.floatingTasks,
                a.floatingTimeHeaders = i.floatingTimeHeaders,
                a.headerHeight = i.headerHeight,
                a.heightSpec = i.heightSpec,
                a.height = i.height,
                a.linkBottomMargin = i.linkBottomMargin,
                a.linkPointSize = i.linkPointSize,
                a.loadingLabelVisible = i.loadingLabelVisible,
                a.loadingLabelText = i.loadingLabelText,
                a.loadingLabelHtml = i.loadingLabelHtml,
                a.locale = i.locale,
                a.messageBarPosition = i.messageBarPosition,
                a.messageHideAfter = i.messageHideAfter,
                a.rowCreateHandling = i.rowCreateHandling,
                a.rowMoveSameLevelOnly = i.rowMoveSameLevelOnly,
                a.progressiveRowRendering = i.progressiveRowRendering,
                a.progressiveRowRenderingPreload = i.progressiveRowRenderingPreload,
                a.scale = i.scale,
                a.scrollDelayEvents = i.scrollDelayTasks,
                a.scrollDelayCells = i.scrollDelayCells,
                a.scrollDelayFloats = i.scrollDelayFloats,
                a.scrollX = i.scrollX,
                a.scrollY = i.scrollY,
                i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId),
                a.separators = i.separators,
                a.tapAndHoldTimeout = i.tapAndHoldTimeout,
                a.eventHtmlLeftMargin = i.taskHtmlLeftMargin,
                a.eventHtmlRightMargin = i.taskHtmlRightMargin,
                a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled,
                a.eventMovingStartEndFormat = i.taskMovingStartEndFormat,
                a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled,
                a.eventResizingStartEndFormat = i.taskResizingStartEndFormat,
                a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight,
                a.hideUntilInit = i.hideUntilInit,
                a.treeIndent = i.treeIndent,
                a.treeAnimation = i.treeAnimation,
                a.treeAutoExpand = i.treeAutoExpand,
                a.treeImageMarginLeft = i.treeImageMarginLeft,
                a.treeImageMarginTop = i.treeImageMarginTop,
                a.treeImageMarginRight = i.treeImageMarginRight,
                a.treeImageWidth = i.treeImageWidth,
                a.treeImageHeight = i.treeImageHeight,
                a.timeHeaders = i.timeHeaders,
                a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled,
                a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents,
                a.rowHeaderScrolling = i.rowHeaderScrolling,
                a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth,
                a.rowHeaderWidth = i.rowHeaderWidth,
                a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit,
                a.rowMarginBottom = i.rowMarginBottom,
                a.rowMinHeight = i.rowMinHeight,
                a.selectedRows = i.selectedRows,
                a.theme = i.theme,
                a.useEventBoxes = i.useEventBoxes,
                a.snapToGrid = i.snapToGrid,
                a.uniqueID = i.uniqueID,
                a.bubble = i.bubbleTask,
                a.cellBubble = i.bubbleCell,
                a.resourceBubble = i.bubbleRow,
                a.contextMenu = i.contextMenuTask,
                a.contextMenuResource = i.contextMenuRow,
                a.contextMenuLink = i.contextMenuLink,
                a.syncResourceTree = i.syncTasks,
                a.syncLinks = i.syncLinks,
                a.timeline = i.timeline,
                a.visible = i.visible,
                a.devsb = i.devsb,
                a.weekStarts = i.weekStarts,
                a.xssProtection = i.xssProtection,
                a.eventMoveHandling = i.taskMoveHandling,
                a.eventClickHandling = i.taskClickHandling,
                a.eventResizeHandling = i.taskResizeHandling,
                a.linkCreateHandling = i.linkCreateHandling,
                a.eventRightClickHandling = i.taskRightClickHandling,
                a.eventDoubleClickHandling = i.taskDoubleClickHandling,
                a.rowMoveHandling = i.rowMoveHandling,
                a.rowClickHandling = i.rowClickHandling,
                a.rowDoubleClickHandling = i.rowDoubleClickHandling,
                a.rowEditHandling = i.rowEditHandling,
                a.rowSelectHandling = i.rowSelectHandling,
                a.eventVersionsEnabled = i.taskVersionsEnabled,
                a.eventVersionHeight = i.taskVersionHeight,
                a.eventVersionMargin = i.taskVersionMargin,
                a.eventVersionPosition = i.taskVersionPosition,
                DayPilot.isArray(i.columns)) {
                    a.rowHeaderColumns = [];
                    for (var e = 0; e < i.columns.length; e++) {
                        var t = i.columns[e]
                          , n = {};
                        DayPilot.Util.copyProps(t, n, ["html", "text", "name", "title", "width", "hidden", "maxAutoWidth"]),
                        n.display = t.display || t.property,
                        a.rowHeaderColumns.push(n)
                    }
                }
                i.ka() && (a.timeHeader = i.timeHeader,
                a.cellProperties = i.cellProperties,
                a.cellConfig = i.cellConfig),
                a.onRowCreate = function(e) {
                    e.control = i,
                    "function" == typeof i.onRowCreate && i.onRowCreate(e)
                }
                ,
                a.onRowCreated = function(e) {
                    "function" == typeof i.onRowCreated && i.onRowCreated(e)
                }
                ,
                a.onAfterRender = function(e) {
                    "function" == typeof i.onAfterRender && i.onAfterRender(e)
                }
                ,
                a.onAfterUpdate = function(e) {
                    "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e)
                }
                ,
                a.onRowHeaderResized = function(e) {
                    i.rowHeaderWidth = a.rowHeaderWidth
                }
                ,
                a.onRowFilter = function(e) {
                    "function" == typeof i.onRowFilter && (e.task = new DayPilot.Task(e.row.$.row.task,i),
                    e.control = i,
                    i.onRowFilter(e))
                }
                ,
                a.onAjaxError = function(e) {
                    "function" == typeof i.onAjaxError && i.onAjaxError(e)
                }
                ,
                a.onRowHeaderColumnResized = function(e) {
                    for (var t = e.column, n = DayPilot.indexOf(a.rowHeaderColumns, t), r = 0; r < i.columns.length; r++) {
                        var o = a.rowHeaderColumns[r];
                        i.columns[r].width = o.width
                    }
                    if ("function" == typeof i.onColumnResized) {
                        var s = {};
                        s.column = i.columns[n],
                        i.onColumnResized(s)
                    }
                }
                ,
                a.internalUseStandardColumns = DayPilot.isArray(i.columns),
                a.onBeforeRowHeaderRender = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task,i);
                    var t = e.row.$.row.events[0];
                    t && "Auto" === i.taskGroupMode && "Group" === t.data.type && (e.task.data.start = t.data.start,
                    e.task.data.end = t.data.end);
                    var n = [];
                    if (DayPilot.isArray(i.columns))
                        for (var r = 0; r < i.columns.length; r++) {
                            var s = i.columns[r]
                              , l = s.display || s.property
                              , d = {};
                            d.value = a.internal.xssTextHtml(o.getProperty(e.task.data, l)),
                            e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[r] ? d.html = e.task.data.row.columns[r].html : d.html = d.value,
                            n.push(d)
                        }
                    e.row.columns = n,
                    "function" == typeof i.onBeforeRowHeaderRender && i.onBeforeRowHeaderRender(e)
                }
                ,
                a.onBeforeRowHeaderExport = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task,i),
                    "function" == typeof i.onBeforeRowHeaderExport && i.onBeforeRowHeaderExport(e)
                }
                ,
                a.onBeforeEventExport = function(e) {
                    "function" == typeof i.onBeforeTaskExport && (e.task = new DayPilot.Task(e.e,i),
                    i.onBeforeTaskExport(e))
                }
                ,
                a.onBeforeCellRender = function(e) {
                    e.task = i.tasks.find(e.cell.resource),
                    delete e.cell.resource,
                    "function" == typeof i.onBeforeCellRender && (e.control = i,
                    i.onBeforeCellRender(e))
                }
                ,
                a.onBeforeCellExport = function(e) {
                    e.task = i.tasks.find(e.cell.resource),
                    delete e.cell.resource,
                    "function" == typeof i.onBeforeCellExport && (e.control = i,
                    i.onBeforeCellExport(e))
                }
                ,
                a.onBeforeCornerRender = function(e) {
                    "function" == typeof i.onBeforeCornerRender && (e.control = i,
                    i.onBeforeCornerRender(e))
                }
                ,
                a.onBeforeCornerExport = function(e) {
                    "function" == typeof i.onBeforeCornerExport && (e.control = i,
                    i.onBeforeCornerExport(e))
                }
                ,
                a.onBeforeTimeHeaderRender = function(e) {
                    "function" == typeof i.onBeforeTimeHeaderRender && (e.control = i,
                    i.onBeforeTimeHeaderRender(e))
                }
                ,
                a.onBeforeTimeHeaderExport = function(e) {
                    "function" == typeof i.onBeforeTimeHeaderExport && (e.control = i,
                    i.onBeforeTimeHeaderExport(e))
                }
                ,
                a.onEventClick = function(e) {
                    e.task = new DayPilot.Task(e.e,i),
                    e.control = i,
                    "function" == typeof i.onTaskClick && i.onTaskClick(e)
                }
                ,
                a.onEventClicked = function(e) {
                    "function" == typeof i.onTaskClicked && i.onTaskClicked(e)
                }
                ,
                a.onEventDelete = function(e) {
                    "function" == typeof i.onTaskDelete && i.onTaskDelete(e)
                }
                ,
                a.onEventDeleted = function(e) {
                    "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e)
                }
                ,
                a.onEventDoubleClick = function(e) {
                    e.task = new DayPilot.Task(e.e,i),
                    e.control = i,
                    "function" == typeof i.onTaskDoubleClick && i.onTaskDoubleClick(e)
                }
                ,
                a.onEventDoubleClicked = function(e) {
                    "function" == typeof i.onTaskDoubleClicked && i.onTaskDoubleClicked(e)
                }
                ,
                a.onEventRightClick = function(e) {
                    e.task = new DayPilot.Task(e.e,i),
                    "function" == typeof i.onTaskRightClick && i.onTaskRightClick(e)
                }
                ,
                a.onEventRightClicked = function(e) {
                    "function" == typeof i.onTaskRightClicked && i.onTaskRightClicked(e)
                }
                ,
                a.onRowMoving = function(e) {
                    e.Rh = e.source,
                    e.Sh = e.target,
                    e.source = new DayPilot.Task(e.Rh.$.row.task,i),
                    e.target = new DayPilot.Task(e.Sh.$.row.task,i),
                    "function" == typeof i.onRowMoving && i.onRowMoving(e)
                }
                ,
                a.onRowMove = function(e) {
                    e.Rh = e.source,
                    e.Sh = e.target,
                    e.source = new DayPilot.Task(e.Rh.$.row.task,i),
                    e.target = new DayPilot.Task(e.Sh.$.row.task,i),
                    e.control = i,
                    "function" == typeof i.onRowMove && i.onRowMove(e),
                    e.source = e.Rh,
                    e.target = e.Sh
                }
                ,
                a.onRowMoved = function(e) {
                    if ("Update" === i.rowMoveHandling || "Notify" === i.rowMoveHandling) {
                        var t = e.Rh.$.row.task
                          , n = e.Sh.$.row.task
                          , a = e.position;
                        if ("forbidden" === a)
                            return;
                        var r = e.Rh.calendar.internal.gantt
                          , s = r.Ph.findParentArray(t);
                        if (!s)
                            throw "Cannot find source node parent";
                        var l = DayPilot.indexOf(s, t);
                        s.splice(l, 1);
                        var d = o.findParentArray(n);
                        if (!d)
                            throw "Cannot find target node parent";
                        var c = DayPilot.indexOf(d, n);
                        switch (a) {
                        case "before":
                            d.splice(c, 0, t);
                            break;
                        case "after":
                            d.splice(c + 1, 0, t);
                            break;
                        case "child":
                            n.children || (n.children = [],
                            n.expanded = !0),
                            n.children.push(t)
                        }
                        i.ch.notify(),
                        i.update(),
                        r !== i && r.update()
                    }
                    e.source = new DayPilot.Task(e.Rh.$.row.task,i),
                    e.target = new DayPilot.Task(e.Sh.$.row.task,i),
                    "function" == typeof i.onRowMoved && i.onRowMoved(e)
                }
                ,
                a.onRowClick = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task,i),
                    "function" == typeof i.onRowClick && i.onRowClick(e)
                }
                ,
                a.onRowClicked = function(e) {
                    "function" == typeof i.onRowClicked && i.onRowClicked(e)
                }
                ,
                a.onRowDoubleClick = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task,i),
                    "function" == typeof i.onRowDoubleClick && i.onRowDoubleClick(e)
                }
                ,
                a.onRowDoubleClicked = function(e) {
                    "function" == typeof i.onRowDoubleClicked && i.onRowDoubleClicked(e)
                }
                ,
                a.onRowEdit = function(e) {
                    e.task = new DayPilot.Task(e.resource.$.row.task,i),
                    "function" == typeof i.onRowEdit && i.onRowEdit(e)
                }
                ,
                a.onRowEdited = function(e) {
                    "function" == typeof i.onRowEdited && i.onRowEdited(e)
                }
                ,
                a.onRowSelect = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task,i),
                    "function" == typeof i.onRowSelect && i.onRowSelect(e)
                }
                ,
                a.onRowSelected = function(e) {
                    "function" == typeof i.onRowSelected && i.onRowSelected(e)
                }
                ,
                a.onEventMove = function(e) {
                    var t = {
                        "task": new DayPilot.Task(e.e,i),
                        "control": i,
                        "newStart": e.newStart,
                        "newEnd": e.newEnd,
                        "ctrl": e.ctrl,
                        "shift": e.shift,
                        "preventDefault": function() {
                            e.preventDefault()
                        },
                        "multimove": e.multimove.map(function(e) {
                            return {
                                "task": new DayPilot.Task(e.event,i),
                                "start": e.start,
                                "end": e.end
                            }
                        })
                    };
                    e.Th = t,
                    "function" == typeof i.onTaskMove && i.onTaskMove(t)
                }
                ,
                a.onEventMoved = function(e) {
                    if ("Auto" === i.taskGroupMode) {
                        var t = e.e
                          , n = t.data.task;
                        for (n.start = t.start(),
                        n.end = t.end(); t.data.parent; ) {
                            var r = a.events.find(t.data.parent.id)
                              , o = s.Uh(t.data.parent);
                            r.start(o.start),
                            r.end(o.end),
                            a.events.update(r),
                            t = r
                        }
                    }
                    i.ch.notify();
                    var l = e.Th;
                    "function" == typeof i.onTaskMoved && i.onTaskMoved(l)
                }
                ,
                a.onEventMoving = function(e) {
                    var t = new DayPilot.Task(e.e,i)
                      , n = e.start.getTime() - e.e.start().getTime();
                    if ("Group" === e.e.data.type && i.moveGroupChildren) {
                        var r = s.Vh(t);
                        e.multimove = r.map(function(e) {
                            var t = a.internal.f(e.data);
                            return {
                                "event": t,
                                "start": e.start().addTime(n),
                                "end": e.end().addTime(n),
                                "resource": t.resource()
                            }
                        }),
                        e.multimove.splice(0, 0, {
                            "event": e.e,
                            "start": t.start().addTime(n),
                            "end": t.end().addTime(n),
                            "resource": e.e.resource()
                        })
                    }
                    var o = {
                        "allowed": e.allowed,
                        "ctrl": e.ctrl,
                        "shift": e.shift,
                        "meta": e.meta,
                        "alt": e.alt,
                        "cssClass": null,
                        "duration": e.duration,
                        "html": e.html,
                        "task": t,
                        "control": i,
                        "start": e.start,
                        "end": e.end,
                        "left": e.left,
                        "right": e.right,
                        "multimove": e.multimove.map(function(e) {
                            return {
                                "task": new DayPilot.Task(e.event,i),
                                "start": e.start,
                                "end": e.end
                            }
                        })
                    };
                    "function" == typeof i.onTaskMoving && i.onTaskMoving(o);
                    var l = new DayPilot.Date(o.start)
                      , d = new DayPilot.Date(o.end);
                    e.start = l,
                    e.end = d,
                    e.allowed = o.allowed,
                    e.cssClass = o.cssClass,
                    e.html = o.html,
                    e.multimove = o.multimove.map(function(t, n) {
                        var i = new DayPilot.Date(t.start)
                          , a = new DayPilot.Date(t.end);
                        return {
                            "event": e.multimove[n].event,
                            "start": i,
                            "end": a,
                            "resource": t.task.id()
                        }
                    })
                }
                ,
                a.onEventResize = function(e) {
                    e.Wh = e.e,
                    e.task = new DayPilot.Task(e.e,i),
                    e.control = i,
                    "function" == typeof i.onTaskResize && i.onTaskResize(e)
                }
                ,
                a.onEventResized = function(e) {
                    if ("Auto" === i.taskGroupMode) {
                        var t = e.Wh
                          , n = t.data.task;
                        for (n.start = t.start(),
                        n.end = t.end(); t.data.parent; ) {
                            var r = a.events.find(t.data.parent.id)
                              , o = s.Uh(t.data.parent);
                            r.start(o.start),
                            r.end(o.end),
                            a.events.update(r),
                            t = r
                        }
                    }
                    i.ch.notify(),
                    "function" == typeof i.onTaskResized && i.onTaskResized(e)
                }
                ,
                a.onEventResizing = function(e) {
                    e.task = new DayPilot.Task(e.e,i),
                    e.Wh = e.e,
                    e.control = i,
                    "function" == typeof i.onTaskResizing && i.onTaskResizing(e)
                }
                ,
                a.onLinkCreate = function(e) {
                    e.source = i.tasks.find(e.from),
                    e.target = i.tasks.find(e.to),
                    e.control = i,
                    "function" == typeof i.onLinkCreate && i.onLinkCreate(e)
                }
                ,
                a.onLinkCreated = function(e) {
                    "function" == typeof i.onLinkCreated && i.onLinkCreated(e)
                }
                ,
                a.onResourceExpand = function(e) {
                    var t = e.resource.$.row.task;
                    t.row || (t.row = {}),
                    t.row.collapsed = !1
                }
                ,
                a.onResourceCollapse = function(e) {
                    var t = e.resource.$.row.task;
                    t.row || (t.row = {}),
                    t.row.collapsed = !0
                }
                ,
                a.onBeforeRowHeaderDomAdd = function(e) {
                    e.task = new DayPilot.Task(e.row.$.row.task,i),
                    "function" == typeof i.onBeforeRowHeaderDomAdd && i.onBeforeRowHeaderDomAdd(e)
                }
            }
            ,
            s.Xh = function(e) {
                for (var t = 0; t < a.rowlist.length; t++) {
                    var n = a.rowlist[t];
                    if (n.task === e)
                        return a.internal.createRowObject(n)
                }
                return null
            }
            ,
            s.Lh = function() {
                a.links.list = i.links.list ? i.links.list : []
            }
            ,
            s.Kh = function() {
                a.resources = [],
                a.events.list = [],
                o.clearCache(),
                s.Yh(i.tasks.list, a.resources, null),
                l.sheet && (l.sheet.commit(),
                l.sheet = null)
            }
            ,
            s.Zh = function(e) {
                var t = e.type || "Task";
                e.children && e.children.length && (t = "Group");
                var n = {};
                for (var r in e)
                    "children" !== r && (n[r] = e[r]);
                var o = {};
                if (o.data = n,
                o.type = t,
                n.box || (n.box = {}),
                "undefined" == typeof n.box.html)
                    if ("Task" === o.type) {
                        var s = n.complete || 0;
                        n.box.text = s + "%"
                    } else
                        n.box.text = "";
                return "undefined" == typeof n.box.htmlRight && (n.box.htmlRight = a.internal.xssTextHtml(n.text)),
                "function" == typeof i.onBeforeTaskRender && i.onBeforeTaskRender(o),
                o.type = t,
                o
            }
            ;
            var l = {};
            l.keys = {},
            l.sheet = null,
            s.$h = function(e) {
                if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && "Task" !== e.type) {
                    var t = DayPilot.Util.normalizeColor(e.data.box.backColor)
                      , n = e.type + "_" + t.replace("#", "")
                      , a = i.theme
                      , r = i.theme + "_" + n;
                    return l.keys[n] || (l.keys[n] = !0,
                    l.sheet || (l.sheet = DayPilot.sheet()),
                    "Group" === e.type ? (l.sheet.add("." + r + "." + a + "_task_group ." + a + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + t + "; filter: none; border: 0px none;"),
                    l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:before", "content:''; border-color: transparent transparent transparent " + t + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),
                    l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:after", "content:''; border-color: transparent " + t + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")) : "Milestone" === e.type && (l.sheet.add("." + r + "." + a + "_task_milestone ." + a + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + t + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),
                    l.sheet.add("." + r + "." + a + "_browser_ie8 ." + a + "_task_milestone ." + a + "_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),
                    r
                }
            }
            ,
            s.Yh = function(t, n, r) {
                if (DayPilot.isArray(t))
                    for (var l = 0; l < t.length; l++) {
                        var d = t[l];
                        o.addToCache(d, r);
                        var c = s.Zh(d)
                          , u = c.data
                          , h = c.type
                          , f = {};
                        if (DayPilot.Util.copyProps(u, f, ["id", "start", "end", "text", "complete", "tags", "versions"]),
                        DayPilot.Util.copyProps(u.box, f),
                        f.parent = r,
                        f.task = d,
                        f.resource = u.id,
                        f.commitCallback = function(e) {
                            return function() {
                                e.task.start = e.start,
                                e.task.end = e.end
                            }
                        }(f),
                        "Group" == h) {
                            f.type = "Group",
                            f.html = u.box && u.box.html || "";
                            var v = s.$h(c);
                            if (v && (f.cssClass = (f.cssClass || "") + " " + v),
                            "Auto" === i.taskGroupMode) {
                                var p = s.Uh(d);
                                f.start = p.start,
                                f.end = p.end,
                                f.resizeDisabled = !0,
                                f.moveDisabled = !0,
                                i.moveGroupChildren && (f.moveDisabled = !1)
                            }
                        } else if ("Milestone" === h) {
                            f.html = "",
                            d.end = d.start;
                            var v = s.$h(c);
                            v && (f.cssClass = (f.cssClass || "") + " " + v),
                            u.end = u.start,
                            f.end = u.start,
                            f.barHidden = !0,
                            f.resizeDisabled = !0,
                            f.type = "Milestone",
                            f.width = i.taskHeight,
                            delete f.backColor
                        } else
                            "Task" === h && e();
                        f.moveVDisabled = !0,
                        f.htmlRight = u.box.htmlRight,
                        f.htmlLeft = u.box.htmlLeft,
                        a.events.list.push(f);
                        var m = {};
                        m.task = d,
                        DayPilot.Util.copyProps(u.row, m),
                        m.name = u.text,
                        m.id = u.id,
                        m.children = [],
                        m.expanded = !u.row || !u.row.collapsed,
                        d.children && d.children.length && s.Yh(d.children, m.children, d),
                        n.push(m)
                    }
            }
            ,
            s.Vh = function(e) {
                var t = []
                  , n = e.children();
                if (!n)
                    return t;
                for (var i = 0; i < n.length; i++) {
                    var a = n[i];
                    t.push(a),
                    t = t.concat(s.Vh(a))
                }
                return t
            }
            ,
            s.Uh = function(e) {
                if (!e.children || !e.children.length) {
                    var t = e.start
                      , n = e.end;
                    return "Milestone" === e.type && (n = t),
                    {
                        "start": new DayPilot.Date(t),
                        "end": new DayPilot.Date(n)
                    }
                }
                for (var t = null, n = null, i = 0; i < e.children.length; i++) {
                    var a = s.Uh(e.children[i]);
                    (!t || a.start.getTime() < t.getTime()) && (t = a.start),
                    (!n || a.end.getTime() > n.getTime()) && (n = a.end)
                }
                return {
                    "start": t,
                    "end": n
                }
            }
            ,
            this.rows = {},
            this.rows.expand = function(e) {
                a.rows.expand(e)
            }
            ,
            this.rows.expandAll = function() {
                a.rows.expandAll()
            }
            ,
            this.rows.collapseAll = function() {
                a.rows.collapseAll()
            }
            ,
            this.rows.filter = function(e) {
                a.rows.filter(e)
            }
            ,
            this.rows.selection = {},
            this.rows.selection.add = function(e) {
                a.rows.find(e.data.id)
            }
            ,
            this.rows.selection.clear = function() {
                a.rows.selection.clear()
            }
            ,
            this.rows.selection.get = function() {
                return a.rows.selection.get().map(function(e) {
                    return new DayPilot.Task(e.$.row.task,i)
                })
            }
            ,
            this.exportAs = function(e, t) {
                return a.exportAs(e, t)
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "tasks": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.tasks.list = e.list : i.tasks.list = e)
                            }
                        },
                        "links": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.links.list = e.list : i.links.list = e)
                            }
                        },
                        "scrollTo": {
                            "postInit": function() {
                                this.data && i.scrollTo(this.data)
                            }
                        },
                        "scrollToTask": {
                            "postInit": function() {
                                this.data && i.scrollToTask(this.data)
                            }
                        }
                    };
                    this.Ah = t;
                    for (var n in e)
                        if (t[n]) {
                            var a = t[n];
                            a.data = e[n],
                            a.preInit && a.preInit()
                        } else
                            i[n] = e[n]
                }
            }
            ,
            this.zh = function() {
                var e = this.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
            }
            ,
            this.internal = {},
            this.internal.initialized = function() {
                return i.Aa
            }
            ,
            this.internal.rowObjectForTaskData = s.Xh,
            this.internal.loadOptions = i.gh,
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function() {
                i.ch.scope && i.ch.scope["$apply"]()
            }
            ,
            this.gh(n)
        }
        ,
        "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotGantt = function(e) {
                var t = null
                  , n = this.each(function() {
                    if (!this.daypilot) {
                        var n = new DayPilot.Gantt(this.id,e);
                        n.init(),
                        this.daypilot = n,
                        t || (t = n)
                    }
                });
                return 1 === this.length ? t : n
            }
        }(jQuery),
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotGantt", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                        function(t, n, i) {
                            var a = new DayPilot.Gantt(n[0]);
                            a.ch.scope = t,
                            a.init();
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            t["$apply"](function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"];
                            d.call(t, c, function(e, t) {
                                a.gh(e),
                                a.update()
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(),
        DayPilot.Gantt.def = {},
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
        var e = function() {};
        DayPilot.Kanban = function(t, n) {
            this.v = "2024.4.6243";
            var i = this;
            this.barWidth = 5,
            this.cardAutoHeight = !0,
            this.cardHeight = 60,
            this.cardMarginLeft = 5,
            this.cardMarginRight = 5,
            this.cardMarginBottom = 5,
            this.columnHeaderHeight = 20,
            this.crosshairType = "Disabled",
            this.height = 300,
            this.heightSpec = "Auto",
            this.theme = "kanban_default",
            this.cellMarginBottom = 4,
            this.cellMarginTop = 5,
            this.columnWidthSpec = "Auto",
            this.columnWidth = 200,
            this.cornerHtml = null,
            this.contextMenuCard = null,
            this.rowMinHeight = 0,
            this.swimlaneCollapsingEnabled = !1,
            this.swimlaneHeaderWidth = 80,
            this.visible = !0,
            this.swimlanes = {},
            this.swimlanes.list = [],
            this.columns = {},
            this.columns.list = [],
            this.cards = {},
            this.cards.list = [],
            this.cardDeleteHandling = "Disabled",
            this.cardMoveHandling = "Update",
            this.columnMoveHandling = "Disabled",
            this.swimlaneMoveHandling = "Disabled",
            this.cardRightClickHandling = "ContextMenu",
            this.onBeforeCellRender = null,
            this.onCardClick = null,
            this.onCardClicked = null,
            this.onCardRightClick = null,
            this.onCardRightClicked = null,
            this.onCardDelete = null,
            this.onCardDeleted = null,
            this.onCardMove = null,
            this.onCardMoved = null,
            this.onColumnMove = null,
            this.onColumnMoved = null,
            this.onHeightChanged = null,
            this.onSwimlaneMove = null,
            this.onSwimlaneMoved = null;
            var a = new DayPilot.Scheduler(t);
            this.scheduler = a;
            var r = {}
              , o = 15
              , s = 15;
            e();
            var l = new DayPilot.Date("2000-01-01");
            r.translate = function() {
                var e = a;
                e.startDate = l,
                e.scale = "Day",
                e.timeHeaders = [{
                    groupBy: "Cell",
                    format: "d"
                }],
                e.rowHeaderColumnsMode = "Legacy",
                e.heightSpec = i.heightSpec,
                e.cellWidthSpec = i.columnWidthSpec,
                e.cellWidth = i.columnWidth,
                e.cellsMarkBusiness = !1,
                e.cornerHtml = i.cornerHtml,
                e.crosshairType = i.crosshairType,
                e.dynamicEventRendering = "Disabled",
                e.floatingEvents = !1,
                e.floatingTimeHeaders = !1,
                e.rowMinHeight = i.rowMinHeight,
                e.rowMarginTop = i.cellMarginTop,
                e.rowMarginBottom = i.cellMarginBottom,
                e.devsb = i.devsb,
                e.eventMoveToPosition = !0,
                e.headerHeight = i.columnHeaderHeight,
                e.eventResizeHandling = "Disabled",
                e.timeRangeSelectedHandling = "Disabled",
                e.eventHeight = i.cardHeight,
                e.eventMarginLeft = i.cardMarginLeft,
                e.eventMarginRight = i.cardMarginRight,
                e.eventMarginBottom = i.cardMarginBottom,
                e.eventTextWrappingEnabled = !0,
                e.durationBarVisible = !1,
                e.theme = i.theme,
                e.visible = i.visible,
                e.rowHeaderWidth = i.swimlaneHeaderWidth,
                e.contextMenu = i.contextMenuCard,
                e.eventDeleteHandling = i.cardDeleteHandling,
                e.eventMoveHandling = i.cardMoveHandling,
                e.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty() ? "Disabled" : i.swimlaneMoveHandling,
                e.eventRightClickHandling = i.cardRightClickHandling,
                e.onHeightChanged = i.onHeightChanged,
                e.internal.enableCellStacking(i.cardAutoHeight),
                e.internal.cssNames.timeheadercol = "_colheadercell",
                e.internal.cssNames.timeheadercolInner = "_colheadercell_inner",
                e.internal.cssNames.resourcedivider = "_rowheaderdivider",
                e.internal.cssNames.event = "_card",
                e.internal.cssNames.eventInner = "_card_inner",
                e.internal.cssNames.eventDelete = "_card_delete",
                e.internal.cssNames.eventMovingSource = "_card_moving_source",
                i.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15),
                e.onBeforeTimeHeaderRender = function(e) {
                    var t = i._h(e.header.start);
                    if (e.header.html = t.name,
                    e.header.toolTip = t.toolTip || "",
                    e.header.areas = DayPilot.list(t.areas).map(function(e) {
                        var t = [];
                        return DayPilot.Util.copyProps(e, t),
                        t
                    }),
                    DayPilot.list(e.header.areas).forEach(function(e) {
                        e.target = new DayPilot.KanbanColumn(t,i)
                    }),
                    "Disabled" !== i.columnMoveHandling) {
                        var n = i.theme + "_columnmove_handle";
                        e.header.areas.push({
                            "left": 0,
                            "top": 0,
                            "width": 20,
                            "height": 20,
                            "css": n,
                            "mousedown": i.ai,
                            "action": "None"
                        })
                    }
                }
                ,
                e.onBeforeCellRender = function(t) {
                    var n = {};
                    n.cell = {},
                    n.cell.column = new DayPilot.KanbanColumn(i._h(t.cell.start),i),
                    n.cell.swimlane = null;
                    var a = i.bi(t.cell.resource);
                    a && (n.cell.swimlane = new DayPilot.Swimlane(a,i)),
                    n.cell.areas = [],
                    n.cell.cssClass = null,
                    n.cell.html = null,
                    n.cell.backImage = null,
                    n.cell.backRepeat = null,
                    n.cell.backColor = null,
                    "function" == typeof i.onBeforeCellRender && (i.onBeforeCellRender(n),
                    DayPilot.Util.copyProps(n.cell, t.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]),
                    DayPilot.list(t.cell.areas).forEach(function(e) {
                        e.target = {
                            "swimlane": n.cell.swimlane,
                            "column": n.cell.column
                        }
                    }));
                    var r = e.rows.find(t.cell.resource);
                    e.resources[r.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = ""),
                    t.cell.cssClass += " " + i.theme + "_collapsed")
                }
                ,
                e.onEventClick = function(e) {
                    var t = new DayPilot.Args(e);
                    t.card = new DayPilot.Card(e.e.data.card,i),
                    "function" == typeof i.onCardClick && i.onCardClick(t),
                    e.wrapped = t
                }
                ,
                e.onEventClicked = function(e) {
                    var t = e.wrapped;
                    "function" == typeof i.onCardClicked && i.onCardClicked(t)
                }
                ,
                e.onEventRightClick = function(e) {
                    var t = new DayPilot.Args(e);
                    if (t.card = new DayPilot.Card(e.e.data.card,i),
                    "function" == typeof i.onCardRightClick && i.onCardRightClick(t),
                    e.wrapped = t,
                    !e.preventDefault.value) {
                        var n = e.e
                          , a = t.card;
                        switch (i.cardRightClickHandling) {
                        case "ContextMenu":
                            var r = n.client.contextMenu();
                            r ? r.show(a) : i.contextMenuCard && i.contextMenuCard.show(a),
                            e.preventDefault()
                        }
                    }
                }
                ,
                e.onEventRightClicked = function(e) {
                    var t = e.wrapped;
                    "function" == typeof i.onCardRightClicked && i.onCardRightClicked(t)
                }
                ,
                e.onEventDelete = function(e) {
                    var t = new DayPilot.Args(e);
                    t.card = new DayPilot.Card(e.e.data.card,i),
                    t.control = i,
                    "function" == typeof i.onCardDelete && i.onCardDelete(t),
                    e.wrapped = t
                }
                ,
                e.onEventDeleted = function(e) {
                    DayPilot.rfa(i.cards.list, e.e.data.card);
                    var t = e.wrapped;
                    "function" == typeof i.onCardDeleted && i.onCardDeleted(t)
                }
                ,
                e.onEventMove = function(e) {
                    e.external && (e.e.data.card = {
                        id: e.e.data.id,
                        name: e.e.data.name,
                        text: e.e.data.text,
                        barColor: e.e.data.barColor,
                        barBackColor: e.e.data.barBackColor
                    });
                    var t = new DayPilot.Args(e);
                    t.async = !1,
                    t.control = i,
                    t.card = new DayPilot.Card(e.e.data.card,i),
                    t.column = new DayPilot.KanbanColumn(i._h(e.newStart)),
                    t.position = e.position,
                    t.external = e.external,
                    t.loaded = function() {
                        if (t.async) {
                            if (t.preventDefault.value)
                                return;
                            u()
                        }
                    }
                    ,
                    "*" !== e.newResource ? t.swimlane = new DayPilot.Swimlane(i.bi(e.newResource),i) : t.swimlane = null;
                    for (var n = a.cells.find(e.newStart, e.newResource)[0].events(), o = e.position, s = null, l = o - 1; n[l]; ) {
                        if (n[l].data !== e.e.data) {
                            s = new DayPilot.Card(n[l]);
                            break
                        }
                        l -= 1
                    }
                    for (var d = null, c = o; n[c]; ) {
                        if (n[c].data !== e.e.data) {
                            d = new DayPilot.Card(n[c]);
                            break
                        }
                        c += 1
                    }
                    if (t.previous = s,
                    t.next = d,
                    "function" == typeof i.onCardMove && i.onCardMove(t),
                    e.wrapped = t,
                    e.preventDefault(),
                    !t.preventDefault.value) {
                        var u = function() {
                            switch (i.cardMoveHandling) {
                            case "Update":
                                var t = 0;
                                d ? t = d.wrapped.data.sort[0] : s && (t = s.wrapped.data.sort[0]),
                                e.e.data.sort = [t, (new DayPilot.Date).toString()],
                                DayPilot.rfa(i.cards.list, e.e.data.card);
                                var n = 0;
                                d ? n = DayPilot.indexOf(i.cards.list, d.data) : s && (n = DayPilot.indexOf(i.cards.list, s.data) + 1);
                                var o = i._h(e.newStart);
                                e.e.data.card.column = o.id,
                                e.e.data.card.swimlane = e.newResource,
                                i.cards.list.splice(n, 0, e.e.data.card),
                                r.updateSort(),
                                a.internal.deleteDragSource(),
                                i.update()
                            }
                            !function() {
                                var t = e.wrapped
                                  , n = DayPilot.list(i.cards.list).find(function(t) {
                                    return e.e.data.card === t
                                });
                                n.swimlane = t.swimlane ? t.swimlane.data.id : null,
                                n.column = t.column.data.id,
                                "function" == typeof i.onCardMoved && i.onCardMoved(t)
                            }()
                        };
                        t.async || u()
                    }
                }
                ,
                e.onBeforeResHeaderRender = function(e) {
                    if (i.swimlaneCollapsingEnabled) {
                        if (!DayPilot.list(i.swimlanes.list).isEmpty()) {
                            var t = i.theme + "_swimlane_collapse";
                            e.resource.collapsed && (t = i.theme + "_swimlane_expand"),
                            e.resource.areas = [{
                                "right": 0,
                                "top": 0,
                                "height": s,
                                "width": o,
                                "action": "JavaScript",
                                "css": t,
                                "js": function() {
                                    i.ci(e.resource.index)
                                }
                            }]
                        }
                    }
                }
                ,
                e.onRowMove = function(e) {
                    var t = new DayPilot.Args(e);
                    t.control = i,
                    e.wrapped = t,
                    t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane);
                    var n = 0;
                    switch (e.position) {
                    case "before":
                        n = e.target.index;
                        break;
                    case "after":
                        n = e.target.index + 1;
                        break;
                    default:
                        throw "Unexpected target swimlane position: " + e.position
                    }
                    t.position = n,
                    t.previous = null;
                    for (var r = n - 1; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data; )
                        t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane),
                        r -= 1;
                    t.next = null;
                    for (var o = n; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data; )
                        t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane),
                        o += 1;
                    "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t)
                }
                ,
                e.onRowMoved = function(e) {
                    var t = e.wrapped;
                    DayPilot.rfa(i.swimlanes.list, t.swimlane.data);
                    var n = 0;
                    t.next ? n = DayPilot.indexOf(i.swimlanes.list, t.next.data) : t.previous && (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1),
                    i.swimlanes.list.splice(n, 0, t.swimlane.data),
                    "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t)
                }
                ,
                e.treePreventParentUsage = !0
            }
            ,
            r.loadCards = function() {
                var e = i.theme + "_card_header"
                  , t = i.theme + "_card_body"
                  , n = (new DayPilot.Date).toString();
                a.sortDirections = ["asc", "desc"],
                a.events.list = DayPilot.list(i.cards.list).map(function(a, r) {
                    var o = a.html || a.text || ""
                      , s = a.name || ""
                      , d = {};
                    return d.id = a.id,
                    d.text = a.text,
                    d.html = "<div class='" + e + "'>" + s + "</div><div class='" + t + "'>" + o + "</div>",
                    d.resource = a.swimlane,
                    d.start = l.addDays(DayPilot.list(i.columns.list).findIndex(function(e) {
                        return a.column === e.id
                    })),
                    d.end = d.start.addDays(1),
                    d.card = a,
                    d.height = a.height,
                    d.cssClass = a.cssClass,
                    d.sort = [r, n],
                    d.areas = DayPilot.list(a.areas).map(function(e) {
                        var t = {};
                        return DayPilot.Util.copyProps(e, t),
                        e.js && (t.js = function(t) {
                            e.js(new DayPilot.Card(t.data.card,i))
                        }
                        ),
                        t
                    }),
                    d.areas.push({
                        "left": 0,
                        "width": 5,
                        "top": 0,
                        "bottom": 0,
                        "backColor": a.barColor,
                        "cssClass": i.theme + "_card_bar"
                    }),
                    d
                })
            }
            ,
            r.updateSort = function() {
                var e = (new DayPilot.Date).toString();
                DayPilot.list(i.cards.list).forEach(function(t, n) {
                    var i = r.findSchedulerEventData(t);
                    i && (i.sort = [n, e])
                })
            }
            ,
            r.findSchedulerEventData = function(e) {
                return DayPilot.list(a.events.list).find(function(t) {
                    return t.card === e
                })
            }
            ,
            r.loadSwimlanes = function() {
                var e = DayPilot.list(i.swimlanes.list);
                a.resources = e.map(function(e) {
                    var t = {};
                    return t.name = e.name,
                    t.id = e.id,
                    t.swimlane = e,
                    e.collapsed && (t.collapsed = !0,
                    t.eventHeight = 20,
                    t.hideEvents = !0),
                    t
                }),
                e.isEmpty() && (a.resources = [{
                    name: "",
                    id: "*"
                }])
            }
            ,
            r.loadColumns = function() {
                var e = DayPilot.list(i.columns.list);
                a.days = e.length
            }
            ;
            var d = {};
            d.active = null,
            d.div = null,
            d.update = function() {
                d.clear();
                var e = d.findPosition();
                d.draw(e)
            }
            ,
            d.clear = function() {
                DayPilot.de(d.div),
                d.div = null
            }
            ,
            d.draw = function(e) {
                var t = 0;
                if (e >= a.itline.length) {
                    var n = a.itline[a.itline.length - 1];
                    t = n.left + n.width - 3
                } else
                    t = a.itline[e].left;
                var r = document.createElement("div");
                r.style.position = "absolute",
                r.style.left = t + "px",
                r.style.width = "3px",
                r.style.top = 0,
                r.style.height = a.headerHeight + "px",
                r.className = i.theme + "_columnmove_position",
                d.div = r,
                a.nav.timeHeader.appendChild(r)
            }
            ,
            d.findPosition = function() {
                if (i.coords.x < 0)
                    return 0;
                var e = DayPilot.list(a.itline).findIndex(function(e) {
                    var t = e.left + a.rowHeaderWidth
                      , n = e.width;
                    return i.coords.x < t + n / 2
                });
                return e === -1 ? a.itline.length : e
            }
            ,
            this.ai = function(e) {
                d.active = e
            }
            ,
            this._h = function(e) {
                return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)]
            }
            ,
            this.bi = function(e) {
                return DayPilot.list(i.swimlanes.list).find(function(t) {
                    return t.id === e
                })
            }
            ,
            this.message = function(e, t, n, i) {
                a.message(e, t, n, i)
            }
            ,
            this.show = function() {
                i.visible = !0,
                a.show()
            }
            ,
            this.hide = function() {
                i.visible = !1,
                a.hide()
            }
            ,
            this.cards.add = function(e) {
                var t = null;
                t = e && e instanceof DayPilot.Card ? e.data : e,
                e && (i.cards.list.push(t),
                i.update())
            }
            ,
            this.cards.remove = function(e) {
                var t = null;
                t = e && e instanceof DayPilot.Card ? e.data : e,
                e && (DayPilot.rfa(i.cards.list, t),
                i.update())
            }
            ,
            this.cards.update = function(e) {
                i.update()
            }
            ,
            this.cards.find = function(e) {
                var t = DayPilot.list(i.cards.list).find(function(t) {
                    return e === t.id
                });
                return t ? new DayPilot.Card(t,i) : null
            }
            ,
            this.ci = function(e) {
                DayPilot.list(i.swimlanes.list).isEmpty() || (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed),
                i.update()
            }
            ,
            this.init = function() {
                if (this.Aa)
                    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                return r.translate(),
                r.loadSwimlanes(),
                r.loadColumns(),
                r.loadCards(),
                a.init(),
                i.wg(),
                this.Aa = !0,
                this
            }
            ,
            this.Ba = !1,
            this.dispose = function() {
                a.dispose(),
                i.Ba = !0
            }
            ,
            this.update = function(e) {
                var t = i;
                if (!t.Aa)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet.");
                if (t.Ba)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed.");
                i.gh(e),
                r.translate(),
                r.loadSwimlanes(),
                r.loadColumns(),
                r.loadCards(),
                a.update()
            }
            ,
            this.wg = function() {
                DayPilot.re(document, "mouseup", i.zg),
                DayPilot.re(document, "mousemove", i.yg)
            }
            ,
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function() {
                i.ch.scope && i.ch.scope["$apply"]()
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "cards": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.cards.list = e.list : i.cards.list = e)
                            }
                        },
                        "columns": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.columns.list = e.list : i.columns.list = e)
                            }
                        },
                        "swimlanes": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? i.swimlanes.list = e.list : i.swimlanes.list = e)
                            }
                        }
                    };
                    this.Ah = t;
                    for (var n in e)
                        if (t[n]) {
                            var a = t[n];
                            a.data = e[n],
                            a.preInit && a.preInit()
                        } else
                            i[n] = e[n]
                }
            }
            ,
            this.zh = function() {
                var e = this.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
            }
            ,
            this.internal = {},
            this.internal.loadOptions = i.gh,
            this.gh(n),
            this.qg = function() {
                var e = i.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0)
            }
            ,
            this.rg = function() {
                var e = i
                  , t = e.qg;
                t() || e.Sa || (e.Sa = setInterval(function() {
                    t() && (e.update(),
                    clearInterval(e.Sa))
                }, 100))
            }
            ,
            this.yg = function(e) {
                i.coords = DayPilot.mo3(a.nav.top, e),
                d.active && d.update()
            }
            ,
            this.zg = function(e) {
                if (d.active) {
                    var t = d.active.source
                      , n = d.findPosition()
                      , a = i._h(t.start)
                      , r = new DayPilot.Args;
                    r.column = new DayPilot.KanbanColumn(a,i),
                    r.position = n,
                    r.previous = null,
                    r.next = null;
                    for (var o = null, s = r.position; 0 !== s && !o; )
                        a !== i.columns.list[s - 1] && (o = i.columns.list[s - 1]),
                        s -= 1;
                    o && (r.previous = new DayPilot.KanbanColumn(o,i));
                    var l = null;
                    for (s = r.position; s < i.columns.list.length - 1 && !l; )
                        a !== i.columns.list[s] && (l = i.columns.list[s]),
                        s += 1;
                    if (l && (r.next = new DayPilot.KanbanColumn(l,i)),
                    "function" == typeof i.onColumnMove && i.onColumnMove(r),
                    !r.preventDefault.value) {
                        if ("Update" === i.columnMoveHandling) {
                            DayPilot.rfa(i.columns.list, r.column.data);
                            var c = 0;
                            r.next ? c = DayPilot.indexOf(i.columns.list, r.next.data) : r.previous && (c = DayPilot.indexOf(i.columns.list, r.previous.data) + 1),
                            i.columns.list.splice(c, 0, r.column.data),
                            i.update()
                        }
                        "function" == typeof i.onColumnMoved && i.onColumnMove(r)
                    }
                    d.active = null,
                    d.clear()
                }
            }
        }
        ,
        DayPilot.Kanban.makeDraggable = function(e) {
            DayPilot.Scheduler.makeDraggable(e)
        }
        ,
        DayPilot.Card = function(e, t) {
            if (e instanceof DayPilot.Event) {
                var n = e;
                this.data = n.data.card,
                this.wrapped = e
            } else
                this.data = e;
            this.control = t
        }
        ,
        DayPilot.KanbanColumn = function(e, t) {
            this.data = e,
            this.control = t
        }
        ,
        DayPilot.Swimlane = function(e, t) {
            this.data = e,
            this.control = t
        }
        ,
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotKanban", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                        function(t, n, i) {
                            var a = new DayPilot.Kanban(n[0]);
                            a.ch.scope = t,
                            a.init();
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            t["$apply"](function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"];
                            d.call(t, c, function(e, t) {
                                a.gh(e),
                                a.update()
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(),
        DayPilot.Kanban.def = {}
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) {
        var e = function() {}
          , t = {};
        t.mouse = null,
        t.menu = null,
        t.handlersRegistered = !1,
        t.hideTimeout = null,
        t.waitingSubmenu = null,
        DayPilot.Menu = function(n) {
            var i = this
              , a = null;
            this.v = "2024.4.6243",
            this.zIndex = 120,
            this.cssClassPrefix = "menu_default",
            this.cssOnly = !0,
            this.menuTitle = null,
            this.showMenuTitle = !1,
            this.hideOnMouseOut = !1,
            this.hideAfter = 200,
            this.theme = null,
            this.onShow = null,
            this.S = function() {}
            ,
            n && DayPilot.isArray(n) && (this.items = n),
            this.toJSON = function() {
                return null
            }
            ,
            this.show = function(n, r) {
                r = r || {};
                var o = null;
                if (n ? "string" == typeof n.id || "number" == typeof n.id ? o = n.id : "function" == typeof n.id ? o = n.id() : "function" == typeof n.value && (o = n.value()) : o = null,
                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                r.submenu || t.menuClean(),
                this.S.submenu = null,
                null !== t.mouse) {
                    i.cssOnly || (i.cssOnly = !0);
                    var s = null;
                    if (n && n.isRow && n.$.row.task ? (s = new DayPilot.Task(n.$.row.task,n.calendar),
                    s.menuType = "resource") : s = n && n.isEvent && n.data.task ? new DayPilot.Task(n,n.calendar) : n,
                    "function" == typeof i.onShow) {
                        var l = {};
                        if (l.source = s,
                        l.menu = i,
                        l.preventDefault = function() {
                            l.preventDefault.value = !0
                        }
                        ,
                        i.onShow(l),
                        l.preventDefault.value)
                            return
                    }
                    var d = document.createElement("div");
                    if (d.style.position = "absolute",
                    d.style.top = "0px",
                    d.style.left = "0px",
                    d.style.display = "none",
                    d.style.overflow = "hidden",
                    d.style.zIndex = this.zIndex + 1,
                    d.className = this.applyCssClass("main"),
                    d.onclick = function(e) {
                        e.cancelBubble = !0,
                        this.parentNode.removeChild(this)
                    }
                    ,
                    this.hideOnMouseOut && (d.onmousemove = function(e) {
                        clearTimeout(t.hideTimeout)
                    }
                    ,
                    d.onmouseleave = function(e) {
                        i.delayedHide({
                            "hideParent": !0
                        })
                    }
                    ),
                    !this.items || 0 === this.items.length)
                        throw "No menu items defined.";
                    if (this.showMenuTitle) {
                        var c = document.createElement("div");
                        c.innerHTML = this.menuTitle,
                        c.className = this.applyCssClass("title"),
                        d.appendChild(c)
                    }
                    for (var u = 0; u < this.items.length; u++) {
                        var h = this.items[u]
                          , f = document.createElement("div");
                        if (DayPilot.Util.addClass(f, this.applyCssClass("item")),
                        h.items && (DayPilot.Util.addClass(f, this.applyCssClass("item_haschildren")),
                        DayPilot.Util.addClass(d, this.applyCssClass("withchildren"))),
                        "undefined" != typeof h && !h.hidden) {
                            if ("-" === h.text) {
                                var v = document.createElement("div");
                                v.addEventListener("click", function(e) {
                                    e.stopPropagation()
                                }),
                                f.appendChild(v)
                            } else {
                                var p = document.createElement("a");
                                if (p.style.position = "relative",
                                p.style.display = "block",
                                h.cssClass && DayPilot.Util.addClass(p, h.cssClass),
                                h.disabled)
                                    DayPilot.Util.addClass(p, i.applyCssClass("item_disabled"));
                                else {
                                    if (h.onclick || h.onClick) {
                                        p.item = h,
                                        p.onclick = function(e, t) {
                                            return function(n) {
                                                if ("function" == typeof e.onClick) {
                                                    var i = {};
                                                    if (i.item = e,
                                                    i.source = t.source,
                                                    i.originalEvent = n,
                                                    i.preventDefault = function() {
                                                        i.preventDefault.value = !0
                                                    }
                                                    ,
                                                    e.onClick(i),
                                                    i.preventDefault.value)
                                                        return void n.stopPropagation()
                                                }
                                                e.onclick && e.onclick.call(t, n)
                                            }
                                        }(h, p);
                                        var m = function(e, n) {
                                            return function(i) {
                                                i.stopPropagation(),
                                                i.preventDefault();
                                                var a = function() {
                                                    window.setTimeout(function() {
                                                        n.source.calendar && (n.source.calendar.internal.touch.active = !1)
                                                    }, 500)
                                                };
                                                if ("function" == typeof e.onClick) {
                                                    var r = {};
                                                    if (r.item = e,
                                                    r.source = n.source,
                                                    r.originalEvent = i,
                                                    r.preventDefault = function() {
                                                        r.preventDefault.value = !0
                                                    }
                                                    ,
                                                    e.onClick(r),
                                                    r.preventDefault.value)
                                                        return void a()
                                                }
                                                e.onclick && e.onclick.call(n, i),
                                                t.menuClean(),
                                                a()
                                            }
                                        };
                                        DayPilot.reNonPassive(p, "touchstart", function(e) {
                                            e.stopPropagation(),
                                            e.preventDefault(),
                                            p.source.calendar && (p.source.calendar.internal.touch.active = !0)
                                        }),
                                        DayPilot.reNonPassive(p, "touchend", m(h, p))
                                    }
                                    if (h.items && !h.disabled) {
                                        var g = function(e, t) {
                                            return function(n) {
                                                n.preventDefault(),
                                                n.stopPropagation(),
                                                i.di(e, t)
                                            }
                                        };
                                        p.ontouchend = g(h, p)
                                    }
                                    if (h.onclick)
                                        e();
                                    else if (h.href)
                                        p.href = h.href.replace(/\x7B0\x7D/gim, o),
                                        h.target && p.setAttribute("target", h.target);
                                    else if (h.command) {
                                        var g = function(e, t) {
                                            return function(n) {
                                                var i = t.source
                                                  , a = e;
                                                a.action = a.action ? a.action : "CallBack";
                                                var r = i.calendar || i.root;
                                                if (i instanceof DayPilot.Link)
                                                    return void r.internal.linkMenuClick(a.command, i, a.action);
                                                if (i instanceof DayPilot.Selection)
                                                    return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                if (i instanceof DayPilot.Event)
                                                    return void r.internal.eventMenuClick(a.command, i, a.action);
                                                if (i instanceof DayPilot.Selection)
                                                    return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                if (i instanceof DayPilot.Task)
                                                    return void ("resource" === i.menuType ? r.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : r.internal.eventMenuClick(a.command, t.menuSource, a.action));
                                                switch (i.menuType) {
                                                case "resource":
                                                    return void r.internal.resourceHeaderMenuClick(a.command, i, a.action);
                                                case "selection":
                                                    return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                default:
                                                    return void r.internal.eventMenuClick(a.command, i, a.action)
                                                }
                                                n.preventDefault()
                                            }
                                        };
                                        p.onclick = g(h, p),
                                        p.ontouchend = g(h, p)
                                    }
                                }
                                h.items && p.addEventListener("click", function(e) {
                                    e.stopPropagation()
                                }),
                                p.source = s,
                                p.menuSource = n;
                                var b = document.createElement("span");
                                if (b.className = i.applyCssClass("item_text"),
                                b.innerHTML = DayPilot.Util.escapeTextHtml(h.text, h.html),
                                p.appendChild(b),
                                h.image) {
                                    var y = document.createElement("img");
                                    y.src = h.image,
                                    y.style.position = "absolute",
                                    y.style.top = "0px",
                                    y.style.left = "0px",
                                    p.appendChild(y)
                                }
                                if (h.icon) {
                                    var w = document.createElement("span");
                                    w.className = i.applyCssClass("item_icon");
                                    var x = document.createElement("i");
                                    x.className = h.icon,
                                    w.appendChild(x),
                                    p.appendChild(w)
                                }
                                if (h.symbol) {
                                    var k = "http://www.w3.org/2000/svg"
                                      , C = document.createElementNS(k, "svg");
                                    C.setAttribute("width", "100%"),
                                    C.setAttribute("height", "100%");
                                    var S = document.createElementNS(k, "use");
                                    S.setAttribute("href", h.symbol),
                                    C.appendChild(S);
                                    var _ = document.createElement("span");
                                    _.className = i.applyCssClass("item_symbol"),
                                    _.style.position = "absolute",
                                    _.style.top = "0px",
                                    _.style.left = "0px",
                                    _.appendChild(C),
                                    p.appendChild(_)
                                }
                                var E = function(e, n) {
                                    return function() {
                                        var a = (n.source,
                                        e)
                                          , r = t.waitingSubmenu;
                                        if (r) {
                                            if (r.parent === a)
                                                return;
                                            clearTimeout(r.timeout),
                                            t.waitingSubmenu = null
                                        }
                                        e.disabled || (t.waitingSubmenu = {},
                                        t.waitingSubmenu.parent = a,
                                        t.waitingSubmenu.timeout = setTimeout(function() {
                                            t.waitingSubmenu = null,
                                            i.di(a, n)
                                        }, 300))
                                    }
                                };
                                p.onmouseover = E(h, p),
                                f.appendChild(p)
                            }
                            d.appendChild(f)
                        }
                    }
                    var T = function(e) {
                        window.setTimeout(function() {
                            t.menuClean(),
                            DayPilot.MenuBar.deactivate()
                        }, 100)
                    };
                    d.onclick = T,
                    d.ontouchend = T,
                    d.onmousedown = function(e) {
                        e = e || window.event,
                        e.cancelBubble = !0,
                        e.stopPropagation && e.stopPropagation()
                    }
                    ,
                    d.oncontextmenu = function() {
                        return !1
                    }
                    ,
                    document.body.appendChild(d),
                    i.S.visible = !0,
                    i.S.source = n,
                    d.style.display = "";
                    var D = d.offsetHeight
                      , A = d.offsetWidth;
                    d.style.display = "none";
                    var M = document.documentElement.clientHeight
                      , H = window.innerWidth
                      , R = "number" == typeof r.windowMargin ? r.windowMargin : 5;
                    if (function() {
                        var e = r.initiator;
                        if (e) {
                            var t = e.div
                              , n = e.e
                              , i = e.area
                              , o = i.visibility || i.v || "Visible"
                              , s = e.a;
                            if ("Visible" !== o && (s = DayPilot.Areas.createArea(t, n, i),
                            t.appendChild(s),
                            a = s),
                            s) {
                                var l = DayPilot.abs(s);
                                r.x = l.x,
                                r.y = l.y + l.h + 2
                            }
                        }
                    }(),
                    function() {
                        var e = "number" == typeof r.x ? r.x : t.mouse.x + 1
                          , n = "number" == typeof r.y ? r.y : t.mouse.y + 1
                          , a = document.body.scrollTop || document.documentElement.scrollTop
                          , o = document.body.scrollLeft || document.documentElement.scrollLeft
                          , s = 0
                          , l = 0;
                        if (n - a > M - D && 0 !== M) {
                            s = n - (n - a - (M - D) + R)
                        } else
                            s = n;
                        if (i.S.y = s,
                        d.style.top = s + "px",
                        "right" === r.align && (e -= A),
                        e - o > H - A && 0 !== H) {
                            l = e - (e - o - (H - A) + R)
                        } else
                            l = e;
                        i.S.x = l,
                        d.style.left = l + "px"
                    }(),
                    r.parentLink) {
                        var B = r.parentLink
                          , P = parseInt(new DayPilot.StyleReader(d).get("border-top-width"))
                          , N = DayPilot.abs(r.parentLink.parentNode)
                          , L = N.x + B.offsetWidth
                          , I = N.y - P;
                        L + A > H && (L = Math.max(0, N.x - A));
                        var z = document.body.scrollTop + document.documentElement.scrollTop;
                        I + D - z > M && (I = Math.max(0, M - D + z)),
                        d.style.left = L + "px",
                        d.style.top = I + "px"
                    }
                    d.style.display = "",
                    this.addShadow(d),
                    this.S.div = d,
                    r.submenu || (DayPilot.Menu.active = this)
                }
            }
            ,
            this.update = function() {
                i.S.visible && (i.hide(),
                i.show(i.S.source, {
                    "x": i.S.x,
                    "y": i.S.y
                }))
            }
            ,
            this.di = function(e, t) {
                var n = e
                  , a = t.source;
                if ((!i.S.submenu || i.S.submenu.item !== e) && (i.S.submenu && i.S.submenu.item !== e && (DayPilot.Util.removeClass(i.S.submenu.link.parentNode, i.applyCssClass("item_haschildren_active")),
                i.S.submenu.menu.hide(),
                i.S.submenu = null),
                e.items)) {
                    var r = i.cloneOptions();
                    r.items = e.items,
                    i.S.submenu = {},
                    i.S.submenu.menu = new DayPilot.Menu(r),
                    i.S.submenu.menu.ei = i,
                    i.S.submenu.menu.show(a, {
                        "submenu": !0,
                        "parentLink": t,
                        "parentItem": n
                    }),
                    i.S.submenu.item = e,
                    i.S.submenu.link = t,
                    DayPilot.Util.addClass(t.parentNode, i.applyCssClass("item_haschildren_active"))
                }
            }
            ,
            this.applyCssClass = function(e) {
                var t = this.theme || this.cssClassPrefix
                  , n = this.cssOnly ? "_" : "";
                return t ? t + n + e : ""
            }
            ,
            this.cloneOptions = function() {
                return DayPilot.Util.copyProps(r, {}, ["cssClassPrefix", "theme", "hideAfter", "hideOnMouseOut", "zIndex"])
            }
            ,
            this.hide = function(e) {
                e = e || {},
                this.S.submenu && this.S.submenu.menu.hide();
                var n = t.waitingSubmenu;
                if (n && (t.waitingSubmenu = null,
                clearTimeout(n.timeout)),
                this.removeShadow(),
                this.S.div && this.S.div.parentNode === document.body && document.body.removeChild(this.S.div),
                a && (DayPilot.de(a),
                a = null),
                i.S.visible = !1,
                i.S.source = null,
                i.ei && e.hideParent && i.ei.hide(e),
                DayPilot.Menu.active === i && (DayPilot.Menu.active = null),
                "function" == typeof this.onHide) {
                    var r = {};
                    this.onHide(r)
                }
            }
            ,
            this.delayedHide = function(e) {
                t.hideTimeout = setTimeout(function() {
                    i.hide(e)
                }, i.hideAfter)
            }
            ,
            this.cancelHideTimeout = function() {
                clearTimeout(t.hideTimeout)
            }
            ,
            this.init = function(e) {
                return t.mouseMove(e),
                this
            }
            ,
            this.addShadow = function(e) {}
            ,
            this.removeShadow = function() {}
            ;
            var r = DayPilot.isArray(n) ? null : n;
            if (r)
                for (var o in r)
                    this[o] = r[o]
        }
        ,
        DayPilot.MenuBar = function(e, t) {
            var n = this;
            t = t || {},
            this.items = [],
            this.theme = "menubar_default",
            this.windowMargin = 0,
            this.nav = {},
            this.elements = {},
            this.elements.items = DayPilot.list(),
            this.t = null,
            this.Aa = !1;
            for (var i in t)
                this[i] = t[i];
            this.fi = function(e) {
                return this.theme + "_" + e
            }
            ,
            this.E = function() {
                this.nav.top = document.getElementById(e);
                var t = this.nav.top;
                t.className = this.fi("main"),
                DayPilot.list(n.items).forEach(function(e) {
                    var i = document.createElement("span");
                    i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html),
                    i.className = n.fi("item"),
                    e.cssClass && i.classList.add(e.cssClass),
                    i.data = e,
                    i.onclick = function(t) {
                        if (n.active && n.active.item === e)
                            n.gi();
                        else if (e.children)
                            return void n.hi(i);
                        if ("function" == typeof e.onClick) {
                            var a = {};
                            a.item = e,
                            a.originalEvent = t,
                            e.onClick(a)
                        }
                    }
                    ,
                    i.onmousedown = function(e) {
                        e.stopPropagation()
                    }
                    ,
                    i.onmouseover = function() {
                        n.active && n.active.item !== e && n.hi(i)
                    }
                    ,
                    t.appendChild(i),
                    n.elements.items.push(i)
                })
            }
            ,
            this.gi = function() {
                var e = n.fi("item_active");
                n.elements.items.forEach(function(t) {
                    DayPilot.Util.removeClass(t, e)
                }),
                n.active && n.active.menu && n.active.menu.hide(),
                n.active = null
            }
            ,
            this.ii = function(e) {
                return !!n.active && n.active.item === e.data
            }
            ,
            this.hi = function(e) {
                if (!n.ii(e)) {
                    n.gi();
                    var t = e.data
                      , i = n.active = {};
                    i.item = t,
                    i.div = e;
                    var a = n.fi("item_active");
                    DayPilot.Util.addClass(e, a);
                    var r = DayPilot.abs(e);
                    if (t.children) {
                        i.menu = new DayPilot.Menu({
                            "items": t.children
                        });
                        var o = r.x;
                        "right" === t.align && (o += r.w),
                        i.menu.show(null, {
                            "x": o,
                            "y": r.y + r.h,
                            "align": t.align,
                            "windowMargin": n.windowMargin
                        })
                    }
                    DayPilot.MenuBar.active = n
                }
            }
            ,
            this.init = function() {
                return this.E(),
                this.Aa = !0,
                this
            }
            ,
            this.dispose = function() {
                this.Aa && (this.nav.top.innerHTML = "",
                this.elements.items = [])
            }
        }
        ,
        DayPilot.MenuBar.deactivate = function() {
            DayPilot.MenuBar.active && (DayPilot.MenuBar.active.gi(),
            DayPilot.MenuBar.active = null)
        }
        ,
        t.menuClean = function() {
            "undefined" != typeof DayPilot.Menu.active && DayPilot.Menu.active && (DayPilot.Menu.active.hide(),
            DayPilot.Menu.active = null)
        }
        ,
        t.mouseDown = function(e) {
            "undefined" != typeof t && (t.menuClean(),
            DayPilot.MenuBar.deactivate())
        }
        ,
        t.wheel = function(e) {
            "undefined" != typeof t && (t.menuClean(),
            DayPilot.MenuBar.deactivate())
        }
        ,
        t.mouseMove = function(e) {
            "undefined" != typeof t && (t.mouse = t.mousePosition(e))
        }
        ,
        t.touchMove = function(e) {
            "undefined" != typeof t && (t.mouse = t.touchPosition(e))
        }
        ,
        t.touchStart = function(e) {
            "undefined" != typeof t && (t.mouse = t.touchPosition(e))
        }
        ,
        t.touchEnd = function(e) {}
        ,
        t.touchPosition = function(e) {
            if (!e || !e.touches)
                return null;
            var t = e.touches[0]
              , n = {};
            return n.x = t.pageX,
            n.y = t.pageY,
            n
        }
        ,
        t.mousePosition = function(e) {
            return DayPilot.mo3(null, e)
        }
        ,
        DayPilot.Menu.touchPosition = function(e) {
            e.touches && (t.mouse = t.touchPosition(e))
        }
        ,
        DayPilot.Menu.hide = function(e) {
            if (e = e || {},
            e.calendar) {
                var n = DayPilot.Menu.active;
                if (n) {
                    var i = n.S.source;
                    i && i.calendar === e.calendar && t.menuClean()
                }
            } else
                t.menuClean()
        }
        ,
        t.handlersRegistered || "undefined" == typeof document || (DayPilot.re(document, "mousemove", t.mouseMove),
        DayPilot.re(document, "mousedown", t.mouseDown),
        DayPilot.re(document, "wheel", t.wheel),
        DayPilot.re(document, "touchmove", t.touchMove),
        DayPilot.re(document, "touchstart", t.touchStart),
        DayPilot.re(document, "touchend", t.touchEnd),
        t.handlersRegistered = !0),
        DayPilot.Menu.def = {},
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot && (DayPilot = {}),
function(DayPilot) {
    function e(t, n, i) {
        var a = n.indexOf(".");
        if (a === -1)
            return void ("__proto__" !== n && "constructor" !== n && (t[n] = i));
        var r = n.substring(0, a);
        if ("__proto__" !== r && "constructor" !== r) {
            var o = n.substring(a + 1)
              , s = t[r];
            "object" == typeof s && null !== s || (t[r] = {},
            s = t[r]),
            e(s, o, i)
        }
    }
    function t(e, n, i) {
        n = n || {},
        i = i || "";
        for (var a in e) {
            var r = e[a];
            "object" == typeof r ? "[object Array]" === Object.prototype.toString.call(r) ? n[i + a] = r : r && r.toJSON ? n[i + a] = r.toJSON() : t(r, n, i + a + ".") : n[i + a] = r
        }
        return n
    }
    if (!DayPilot.ModalStatic) {
        DayPilot.ModalStatic = {},
        DayPilot.ModalStatic.list = [],
        DayPilot.ModalStatic.hide = function() {
            if (this.list.length > 0) {
                var e = this.list.pop();
                e && e.hide()
            }
        }
        ,
        DayPilot.ModalStatic.remove = function(e) {
            for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
                if (t[n] === e)
                    return void t.splice(n, 1)
        }
        ,
        DayPilot.ModalStatic.close = function(e) {
            DayPilot.ModalStatic.result(e),
            DayPilot.ModalStatic.hide()
        }
        ,
        DayPilot.ModalStatic.result = function(e) {
            var t = DayPilot.ModalStatic.list;
            t.length > 0 && (t[t.length - 1].result = e)
        }
        ,
        DayPilot.ModalStatic.displayed = function(e) {
            for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)
                if (t[n] === e)
                    return !0;
            return !1
        }
        ,
        DayPilot.ModalStatic.stretch = function() {
            if (this.list.length > 0) {
                var e = this.list[this.list.length - 1];
                e && e.stretch()
            }
        }
        ,
        DayPilot.ModalStatic.last = function() {
            var e = DayPilot.ModalStatic.list;
            return e.length > 0 ? e[e.length - 1] : null
        }
        ;
        var n = function() {
            if ("undefined" == typeof window) {
                var e = {};
                return e.add = function() {}
                ,
                e.commit = function() {}
                ,
                e
            }
            var t = document.createElement("style");
            t.setAttribute("type", "text/css"),
            t.styleSheet || t.appendChild(document.createTextNode("")),
            (document.head || document.getElementsByTagName("head")[0]).appendChild(t);
            var n = !!t.styleSheet
              , e = {};
            return e.rules = [],
            e.commit = function() {
                try {
                    n && (t.styleSheet.cssText = this.rules.join("\n"))
                } catch (e) {}
            }
            ,
            e.add = function(e, i, a) {
                if (n)
                    return void this.rules.push(e + "{" + i + "}");
                if (t.sheet.insertRule)
                    "undefined" == typeof a && (a = t.sheet.cssRules.length),
                    t.sheet.insertRule(e + "{" + i + "}", a);
                else {
                    if (!t.sheet.addRule)
                        throw "No CSS registration method found";
                    t.sheet.addRule(e, i, a)
                }
            }
            ,
            e.print = function() {
                for (var e = t.sheet.cssRules, n = [], i = 0; i < e.length; i++)
                    n.push(e[i].cssText);
                return n.join("\n")
            }
            ,
            e
        }
          , i = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K"
          , a = new n;
        a.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"),
        a.add(".modal_default_main:focus", "outline: none;"),
        a.add(".modal_default_content", "padding: 10px 0px;"),
        a.add(".modal_default_inner", "padding: 20px;"),
        a.add(".modal_default_input", "padding: 10px 0px;"),
        a.add(".modal_default_buttons", "margin-top: 10px;"),
        a.add(".modal_default_buttons", "padding: 10px 0px;"),
        a.add(".modal_default_form_item", "padding: 10px 0px; position: relative;"),
        a.add(".modal_default_form_item_level1", "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),
        a.add(".modal_default_form_item.modal_default_form_title", "font-size: 1.5rem; font-weight: bold;"),
        a.add(".modal_default_form_item input[type=text]", "width: 100%; box-sizing: border-box;"),
        a.add(".modal_default_form_item textarea", "width: 100%; height: 200px; box-sizing: border-box;"),
        a.add(".modal_default_form_item input[type=select]", "width: 100%; box-sizing: border-box;"),
        a.add(".modal_default_form_item label", "display: block;"),
        a.add(".modal_default_form_item select", "width: 100%; box-sizing: border-box;"),
        a.add(".modal_default_form_item_label", "margin: 2px 0px;"),
        a.add(".modal_default_form_item_image img", "max-width: 100%; height: auto;"),
        a.add(".modal_default_form_item_invalid", ""),
        a.add(".modal_default_form_item_invalid_message", "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),
        a.add(".modal_default_background", "opacity: 0.5; background-color: #000;"),
        a.add(".modal_default_ok", "padding: 3px; width: 80px;"),
        a.add(".modal_default_cancel", "padding: 3px; width: 80px;"),
        a.add(".modal_default_form_item_date", "position: relative;"),
        a.add(".modal_default_form_item_date:after", "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" + "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" + ")"),
        "undefined" != typeof navigator && navigator.userAgent.indexOf("Edge") !== -1 && a.add(".modal_default_form_item_date input::-ms-clear", "display: none;"),
        a.add(".modal_default_form_item_scrollable_scroll", "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),
        a.add(".modal_default_form_item_scrollable_scroll_content", "padding: 5px;"),
        a.add(".modal_default_form_item_searchable", "position: relative;"),
        a.add(".modal_default_form_item_searchable_icon", ""),
        a.add(".modal_default_form_item_searchable_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"),
        a.add(".modal_default_form_item_searchable_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),
        a.add(".modal_default_form_item_searchable_list_item", "background: white; padding: 2px; cursor: default;"),
        a.add(".modal_default_form_item_searchable_list_item_highlight", "background: #ccc;"),
        a.add(".modal_default_form_item_time", "position: relative;"),
        a.add(".modal_default_form_item_time_icon", ""),
        a.add(".modal_default_form_item_time_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"),
        a.add(".modal_default_form_item_time_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),
        a.add(".modal_default_form_item_time_list_item", "background: white; padding: 2px; cursor: default;"),
        a.add(".modal_default_form_item_time_list_item_highlight", "background: #ccc;"),
        a.add(".modal_default_form_item_datetime_parent", "display: flex;"),
        a.add(".modal_default_form_item_datetime .modal_default_form_item_time_main", "margin-left: 5px;"),
        a.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ", ""),
        a.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"),
        a.add(".modal_default_form_item_tabular_table", "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),
        a.add(".modal_default_form_item_tabular_tbody", "display: table-row-group;"),
        a.add(".modal_default_form_item_tabular_row", "display: table-row;"),
        a.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header", ""),
        a.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction", "padding: 0px; width: 23px;"),
        a.add(".modal_default_form_item_tabular_cell", "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),
        a.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell", "padding-left: 0px; padding-bottom: 0px;"),
        a.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]", "width:100%; box-sizing: border-box;"),
        a.add(".modal_default_form_item_tabular_table select", "width:100%; height:100%; box-sizing: border-box;"),
        a.add(".modal_default_form_item_tabular_plus", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),
        a.add(".modal_default_form_item_tabular_plus:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),
        a.add(".modal_default_form_item_tabular_delete", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"),
        a.add(".modal_default_form_item_tabular_delete:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"),
        a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus", "display: none;"),
        a.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus", "display: none;"),
        a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete", "visibility: hidden;"),
        a.add(".modal_default_form_item_tabular_empty", "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),
        a.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell", "padding: 0px;"),
        a.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"),
        a.add(".modal_min_background", "opacity: 0.5; background-color: #000;"),
        a.add(".modal_min_ok", "padding: 3px 10px;"),
        a.add(".modal_min_cancel", "padding: 3px 10px;"),
        a.add(".navigator_modal_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),
        a.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after", "box-sizing: content-box;"),
        a.add(".navigator_modal_month", "font-size: 11px;"),
        a.add(".navigator_modal_day", "color: black;"),
        a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"),
        a.add(".navigator_modal_dayheader", "color: black;"),
        a.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"),
        a.add(".navigator_modal_dayother", "color: gray;"),
        a.add(".navigator_modal_todaybox", "border: 1px solid red;"),
        a.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),
        a.add(".navigator_modal_busy", "font-weight: bold;"),
        a.add(".navigator_modal_cell", "text-align: center;"),
        a.add(".navigator_modal_select .navigator_modal_cell_box", "background-color: #FFE794; opacity: 0.5;"),
        a.add(".navigator_modal_title", "text-align: center;"),
        a.add(".navigator_modal_titleleft, .navigator_modal_titleright", "text-align: center;"),
        a.add(".navigator_modal_dayheader", "text-align: center;"),
        a.add(".navigator_modal_weeknumber", "text-align: center;"),
        a.add(".navigator_modal_cell_text", "cursor: pointer;"),
        a.commit(),
        DayPilot.Modal = function(e) {
            this.autoFocus = !0,
            this.focus = null,
            this.autoStretch = !0,
            this.autoStretchFirstLoadOnly = !1,
            this.className = null,
            this.theme = "modal_default",
            this.disposeOnClose = !0,
            this.dragDrop = !0,
            this.loadingHtml = null,
            this.maxHeight = null,
            this.scrollWithPage = !0,
            this.useIframe = !0,
            this.zIndex = 99999,
            this.left = null,
            this.width = 600,
            this.top = 20,
            this.height = 200,
            this.locale = null,
            this.closed = null,
            this.onClose = null,
            this.onClosed = null,
            this.onShow = null;
            var t = this;
            this.id = "_" + (new Date).getTime() + "n" + 10 * Math.random(),
            this.Sf = !1,
            this.ji = null,
            this.ki = null,
            this.showHtml = function(e) {
                if (DayPilot.ModalStatic.displayed(this))
                    throw "This modal dialog is already displayed.";
                if (this.div || this.Fg(),
                this.Jd(),
                this.useIframe) {
                    var t = function(e, t) {
                        return function() {
                            e.setInnerHTML(e.id + "iframe", t)
                        }
                    };
                    window.setTimeout(t(this, e), 0)
                } else
                    e.nodeType ? this.div.appendChild(e) : this.div.innerHTML = e;
                this.Jd(),
                this.yh(),
                this.li()
            }
            ,
            this.showUrl = function(e) {
                if (DayPilot.ModalStatic.displayed(this))
                    throw "This modal dialog is already displayed.";
                if (this.useIframe) {
                    this.div || this.Fg();
                    var n = this.loadingHtml;
                    n && (this.iframe.src = "about:blank",
                    this.setInnerHTML(this.id + "iframe", n)),
                    this.re(this.iframe, "load", this.mi),
                    this.iframe.src = e,
                    this.Jd(),
                    this.yh(),
                    this.li()
                } else
                    t.ni({
                        "url": e,
                        "success": function(e) {
                            var n = e.request.responseText;
                            t.showHtml(n)
                        },
                        "error": function(e) {
                            t.showHtml("Error loading the modal dialog")
                        }
                    })
            }
            ,
            this.li = function() {
                if ("function" == typeof t.onShow) {
                    var e = {};
                    e.root = t.oi(),
                    e.modal = t,
                    t.onShow(e)
                }
            }
            ,
            this.oi = function() {
                return t.iframe ? t.iframe.contentWindow.document : t.div
            }
            ,
            this.ni = function(e) {
                var t = new XMLHttpRequest;
                if (t) {
                    var n = e.method || "GET"
                      , i = e.success || function() {}
                      , a = e.error || function() {}
                      , r = e.data
                      , o = e.url;
                    t.open(n, o, !0),
                    t.setRequestHeader("Content-type", "text/plain"),
                    t.onreadystatechange = function() {
                        if (4 === t.readyState)
                            if (200 === t.status || 304 === t.status) {
                                var e = {};
                                e.request = t,
                                i(e)
                            } else if (a) {
                                var e = {};
                                e.request = t,
                                a(e)
                            } else
                                window.console && console.log("HTTP error " + t.status)
                    }
                    ,
                    4 !== t.readyState && ("object" == typeof r && (r = JSON.stringify(r)),
                    t.send(r))
                }
            }
            ,
            this.Jd = function() {
                delete this.result;
                var e = window
                  , n = document
                  , i = e.pageYOffset ? e.pageYOffset : n.documentElement && n.documentElement.scrollTop ? n.documentElement.scrollTop : n.body.scrollTop;
                this.theme && (this.hideDiv.className = this.theme + "_background"),
                this.zIndex && (this.hideDiv.style.zIndex = this.zIndex),
                this.hideDiv.style.display = "",
                window.setTimeout(function() {
                    t.hideDiv && (t.hideDiv.onclick = function() {
                        t.hide({
                            "backgroundClick": !0
                        })
                    }
                    )
                }, 500),
                this.theme ? this.div.className = this.theme + "_main" : this.div.className = "",
                this.className && (this.div.className += " " + this.className),
                this.left ? this.div.style.left = this.left + "px" : this.div.style.marginLeft = "-" + Math.floor(this.width / 2) + "px",
                this.div.style.position = "absolute",
                this.div.style.boxSizing = "content-box",
                this.div.style.top = i + this.top + "px",
                this.div.style.width = this.width + "px",
                this.zIndex && (this.div.style.zIndex = this.zIndex),
                this.height && (this.useIframe || !this.autoStretch ? this.div.style.height = this.height + "px" : this.div.style.height = ""),
                this.useIframe && this.height && (this.iframe.style.height = this.height + "px"),
                this.div.style.display = "",
                this.qi(),
                DayPilot.ModalStatic.remove(this),
                DayPilot.ModalStatic.list.push(this)
            }
            ,
            this.mi = function() {
                t.iframe.contentWindow.modal = t,
                t.autoStretch && t.stretch()
            }
            ,
            this.stretch = function() {
                var e = function() {
                    return t.pi().y
                }
                  , n = function() {
                    return t.pi().x
                };
                if (this.useIframe) {
                    for (var i = n() - 40, a = this.width; a < i && this.ri(); a += 10)
                        this.div.style.width = a + "px",
                        this.div.style.marginLeft = "-" + Math.floor(a / 2) + "px";
                    for (var r = this.maxHeight || e() - 2 * this.top, o = this.height; o < r && this.si(); o += 10)
                        this.iframe.style.height = o + "px",
                        this.div.style.height = o + "px";
                    this.autoStretchFirstLoadOnly && this.ue(this.iframe, "load", this.mi)
                } else
                    this.div.style.height = ""
            }
            ,
            this.ri = function() {
                for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollWidth, i = e.body.children, a = 0; a < i.length; a++) {
                    var r = i[a].offsetLeft + i[a].offsetWidth;
                    n = Math.max(n, r)
                }
                return n > t.clientWidth
            }
            ,
            this.si = function() {
                for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollHeight, i = e.body.children, a = 0; a < i.length; a++) {
                    var r = i[a].offsetTop + i[a].offsetHeight;
                    n = Math.max(n, r)
                }
                return n > t.clientHeight
            }
            ,
            this.pi = function() {
                var e = document;
                if ("CSS1Compat" === e.compatMode && e.documentElement && e.documentElement.clientWidth) {
                    var t = e.documentElement.clientWidth
                      , n = e.documentElement.clientHeight;
                    return {
                        x: t,
                        y: n
                    }
                }
                var t = e.body.clientWidth
                  , n = e.body.clientHeight;
                return {
                    x: t,
                    y: n
                }
            }
            ,
            this.yh = function() {
                this.Sf || (this.re(window, "resize", this.vi),
                this.re(window, "scroll", this.wi),
                this.dragDrop && (this.re(document, "mousemove", this.xi),
                this.re(document, "mouseup", this.yi)),
                this.Sf = !0)
            }
            ,
            this.ab = function() {
                this.ue(window, "resize", this.vi),
                this.ue(window, "scroll", this.wi),
                this.dragDrop && (this.ue(document, "mousemove", this.xi),
                this.ue(document, "mouseup", this.yi)),
                this.Sf = !1
            }
            ,
            this.zi = function(e) {
                e.target === t.div && (e.preventDefault(),
                t.div.style.cursor = "move",
                t.Ai(),
                t.ki = t.mc(e || window.event),
                t.ji = {
                    x: t.div.offsetLeft,
                    y: t.div.offsetTop
                })
            }
            ,
            this.xi = function(e) {
                if (t.ki) {
                    var e = e || window.event
                      , n = t.mc(e)
                      , i = n.x - t.ki.x
                      , a = n.y - t.ki.y;
                    t.div.style.marginLeft = "0px",
                    t.div.style.top = t.ji.y + a + "px",
                    t.div.style.left = t.ji.x + i + "px"
                }
            }
            ,
            this.yi = function(e) {
                t.ki && (t.Bi(),
                t.div.style.cursor = null,
                t.ki = null)
            }
            ,
            this.Ai = function() {
                if (this.useIframe) {
                    var e = document.createElement("div");
                    e.style.backgroundColor = "#ffffff",
                    e.style.filter = "alpha(opacity=80)",
                    e.style.opacity = "0.80",
                    e.style.width = "100%",
                    e.style.height = this.height + "px",
                    e.style.position = "absolute",
                    e.style.left = "0px",
                    e.style.top = "0px",
                    this.div.appendChild(e),
                    this.mask = e
                }
            }
            ,
            this.Bi = function() {
                this.useIframe && (this.div.removeChild(this.mask),
                this.mask = null)
            }
            ,
            this.vi = function() {
                t.Ci(),
                t.qi()
            }
            ,
            this.wi = function() {
                t.Ci()
            }
            ,
            this.qi = function() {
                if (!t.left && t.div) {
                    var e = t.div.offsetWidth;
                    t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px"
                }
            }
            ,
            this.Ci = function() {
                if (t.hideDiv && t.div && "none" !== t.hideDiv.style.display && "none" !== t.div.style.display) {
                    var e = t.Di.scrollY();
                    t.scrollWithPage || (t.div.style.top = e + t.top + "px")
                }
            }
            ,
            this.Di = {},
            this.Di.container = function() {
                return t.container || document.body
            }
            ,
            this.Di.scrollY = function() {
                var e = t.Di.container();
                return e === document.body ? window.pageYOffset ? window.pageYOffset : document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop : e.scrollTop
            }
            ,
            this.re = function(e, t, n) {
                e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n)
            }
            ,
            this.ue = function(e, t, n) {
                e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n)
            }
            ,
            this.mc = function(e) {
                return e.pageX || e.pageY ? {
                    x: e.pageX,
                    y: e.pageY
                } : {
                    x: e.clientX + document.documentElement.scrollLeft,
                    y: e.clientY + document.documentElement.scrollTop
                }
            }
            ,
            this.abs = function(e) {
                for (var t = {
                    x: e.offsetLeft,
                    y: e.offsetTop
                }; e.offsetParent; )
                    e = e.offsetParent,
                    t.x += e.offsetLeft,
                    t.y += e.offsetTop;
                return t
            }
            ,
            this.Fg = function() {
                var e = t.Di.container()
                  , n = e === document.body
                  , i = n ? "fixed" : "absolute"
                  , a = document.createElement("div");
                a.id = this.id + "hide",
                a.style.position = i,
                a.style.left = "0px",
                a.style.top = "0px",
                a.style.right = "0px",
                a.style.bottom = "0px",
                a.oncontextmenu = function() {
                    return !1
                }
                ,
                a.onmousedown = function() {
                    return !1
                }
                ,
                e.appendChild(a);
                var r = document.createElement("div");
                r.id = this.id + "popup",
                r.style.position = i,
                r.style.left = "50%",
                r.style.top = "0px",
                r.style.backgroundColor = "white",
                r.style.width = "50px",
                r.style.height = "50px",
                this.dragDrop && (r.onmousedown = this.zi),
                r.addEventListener("keydown", function(e) {
                    e.stopPropagation()
                });
                var o = null;
                this.useIframe && (o = document.createElement("iframe"),
                o.id = this.id + "iframe",
                o.name = this.id + "iframe",
                o.frameBorder = "0",
                o.style.width = "100%",
                o.style.height = "50px",
                r.appendChild(o)),
                e.appendChild(r),
                this.div = r,
                this.iframe = o,
                this.hideDiv = a
            }
            ,
            this.setInnerHTML = function(e, n) {
                var i = window.frames[e]
                  , a = i.contentWindow || i.document || i.contentDocument;
                a.document && (a = a.document),
                null == a.body && a.write("<body></body>"),
                n.nodeType ? a.body.appendChild(n) : a.body.innerHTML = n,
                t.autoStretch && (t.autoStretchFirstLoadOnly && t.Ei || (t.stretch(),
                t.Ei = !0))
            }
            ,
            this.close = function(e) {
                this.result = e,
                this.hide()
            }
            ,
            this.closeSerialized = function() {
                for (var e = t.oi(), n = e.querySelectorAll("input, textarea, select"), i = {}, a = 0; a < n.length; a++) {
                    var r = n[a]
                      , o = r.name;
                    if (o) {
                        var s = r.value;
                        i[o] = s
                    }
                }
                t.close(i)
            }
            ,
            this.hide = function(e) {
                e = e || {};
                var n = {};
                n.backgroundClick = !!e.backgroundClick,
                n.result = this.result,
                n.canceled = "undefined" == typeof this.result,
                n.preventDefault = function() {
                    this.preventDefault.value = !0
                }
                ,
                "function" == typeof this.onClose && (this.onClose(n),
                n.preventDefault.value) || (this.div && (this.div.style.display = "none",
                this.hideDiv.style.display = "none",
                this.useIframe || (this.div.innerHTML = null)),
                window.focus(),
                DayPilot.ModalStatic.remove(this),
                "function" == typeof this.onClosed ? this.onClosed(n) : this.closed && this.closed(),
                delete this.result,
                this.disposeOnClose && (t.ab(),
                t.Fi(t.div),
                t.Fi(t.hideDiv),
                t.div = null,
                t.hideDiv = null,
                t.iframe = null))
            }
            ,
            this.Fi = function(e) {
                e && e.parentNode && e.parentNode.removeChild(e)
            }
            ,
            this.Gi = function() {
                if (e)
                    for (var t in e)
                        this[t] = e[t]
            }
            ,
            this.Gi()
        }
        ,
        DayPilot.Modal.alert = function(e, t) {
            t = t || {},
            t.height = t.height || 40,
            t.useIframe = !1;
            var n = t.okText || "Ok";
            t.cancelText || "Cancel";
            return DayPilot.getPromise(function(i, a) {
                t.onClosed = function(e) {
                    i(e)
                }
                ;
                var r = new DayPilot.Modal(t)
                  , o = document.createElement("div");
                o.className = r.theme + "_inner";
                var s = document.createElement("div");
                s.className = r.theme + "_content",
                s.innerHTML = e;
                var l = document.createElement("div");
                l.className = r.theme + "_buttons";
                var d = document.createElement("button");
                d.innerText = n,
                d.className = r.theme + "_ok",
                d.onclick = function(e) {
                    DayPilot.ModalStatic.close("Ok")
                }
                ,
                l.appendChild(d),
                o.appendChild(s),
                o.appendChild(l),
                r.showHtml(o),
                r.autoFocus && d.focus()
            })
        }
        ,
        DayPilot.Modal.confirm = function(e, t) {
            t = t || {},
            t.height = t.height || 40,
            t.useIframe = !1;
            var n = t.okText || "Ok"
              , i = t.cancelText || "Cancel";
            return DayPilot.getPromise(function(a, r) {
                t.onClosed = function(e) {
                    a(e)
                }
                ;
                var o = new DayPilot.Modal(t)
                  , s = document.createElement("div");
                s.className = o.theme + "_inner";
                var l = document.createElement("div");
                l.className = o.theme + "_content",
                l.innerHTML = e;
                var d = document.createElement("div");
                d.className = o.theme + "_buttons";
                var c = document.createElement("button");
                c.innerText = n,
                c.className = o.theme + "_ok",
                c.onclick = function(e) {
                    DayPilot.ModalStatic.close("Ok")
                }
                ;
                var u = document.createTextNode(" ")
                  , h = document.createElement("button");
                h.innerText = i,
                h.className = o.theme + "_cancel",
                h.onclick = function(e) {
                    DayPilot.ModalStatic.close()
                }
                ,
                d.appendChild(c),
                d.appendChild(u),
                d.appendChild(h),
                s.appendChild(l),
                s.appendChild(d),
                o.showHtml(s),
                o.autoFocus && c.focus()
            })
        }
        ,
        DayPilot.Modal.prompt = function(e, t, n) {
            "object" == typeof t && (n = t,
            t = ""),
            n = n || {},
            n.height = n.height || 40,
            n.useIframe = !1;
            var i = n.okText || "Ok"
              , a = n.cancelText || "Cancel"
              , r = t || "";
            return DayPilot.getPromise(function(t, o) {
                n.onClosed = function(e) {
                    t(e)
                }
                ;
                var s = new DayPilot.Modal(n)
                  , l = document.createElement("div");
                l.className = s.theme + "_inner";
                var d = document.createElement("div");
                d.className = s.theme + "_content",
                d.innerHTML = e;
                var c = document.createElement("div");
                c.className = s.theme + "_input";
                var u = document.createElement("input");
                u.value = r,
                u.style.width = "100%",
                u.onkeydown = function(e) {
                    var t = !1;
                    switch (e.keyCode) {
                    case 13:
                        s.close(this.value);
                        break;
                    case 27:
                        s.close();
                        break;
                    default:
                        t = !0
                    }
                    t || (e.preventDefault(),
                    e.stopPropagation())
                }
                ,
                c.appendChild(u);
                var h = document.createElement("div");
                h.className = s.theme + "_buttons";
                var f = document.createElement("button");
                f.innerText = i,
                f.className = s.theme + "_ok",
                f.onclick = function(e) {
                    s.close(u.value)
                }
                ;
                var v = document.createTextNode(" ")
                  , p = document.createElement("button");
                p.innerText = a,
                p.className = s.theme + "_cancel",
                p.onclick = function(e) {
                    s.close()
                }
                ,
                h.appendChild(f),
                h.appendChild(v),
                h.appendChild(p),
                l.appendChild(d),
                l.appendChild(c),
                l.appendChild(h),
                s.showHtml(l),
                s.autoFocus && u.focus()
            })
        }
        ;
        var r = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        };
        DayPilot.Modal.form = function(t, n, i) {
            if (1 === arguments.length) {
                var a = t;
                if (r(a))
                    n = {};
                else {
                    if ("object" != typeof a)
                        throw "Invalid DayPilot.Modal.form() parameter";
                    n = t,
                    t = [];
                    for (var s in n) {
                        var l = {};
                        l.name = s,
                        l.id = s,
                        t.push(l)
                    }
                }
            }
            var d = {};
            for (var s in i)
                d[s] = i[s];
            d.height = d.height || 40,
            d.useIframe = !1;
            var c = d.okText || "Ok"
              , u = d.cancelText || "Cancel";
            return DayPilot.getPromise(function(i, a) {
                d.onClosed = function(t) {
                    if (t.result) {
                        var a = JSON.parse(JSON.stringify(n));
                        for (var r in t.result)
                            e(a, r, t.result[r]);
                        t.result = a
                    }
                    i(t)
                }
                ;
                var r = new DayPilot.Modal(d)
                  , s = document.createElement("div");
                s.className = r.theme + "_inner";
                var l = document.createElement("div");
                l.className = r.theme + "_input";
                var h = new o({
                    theme: r.theme,
                    form: t,
                    data: n,
                    zIndex: r.zIndex,
                    locale: r.locale,
                    plugins: r.plugins,
                    onKey: function(e) {
                        switch (e.key) {
                        case "Enter":
                            h.validate() && r.close(h.serialize());
                            break;
                        case "Escape":
                            r.close()
                        }
                    },
                    onChange: function(e) {
                        "function" == typeof r.onChange && r.onChange(e)
                    }
                })
                  , f = h.create();
                l.append(f);
                var v = document.createElement("div");
                v.className = r.theme + "_buttons";
                var p = document.createElement("button");
                p.innerText = c,
                p.className = r.theme + "_ok",
                d.okDisabled && (p.disabled = !0),
                p.onclick = function(e) {
                    h.validate() && r.close(h.serialize())
                }
                ;
                var m = document.createTextNode(" ")
                  , g = document.createElement("button");
                if (g.innerText = u,
                g.className = r.theme + "_cancel",
                g.onclick = function(e) {
                    r.close()
                }
                ,
                g.onmousedown = function(e) {
                    h.canceling = !0
                }
                ,
                v.appendChild(p),
                v.appendChild(m),
                v.appendChild(g),
                s.appendChild(l),
                s.appendChild(v),
                r.showHtml(s),
                r.div.setAttribute("tabindex", "-1"),
                r.div.addEventListener("keydown", function(e) {
                    switch (e.keyCode) {
                    case 27:
                        r.close();
                        break;
                    case 13:
                        h.validate() && r.close(h.serialize())
                    }
                }),
                r.focus) {
                    var b = null;
                    if ("object" == typeof r.focus) {
                        var y = r.focus.id
                          , w = r.focus.value;
                        b = h.findViewById(y, w)
                    } else
                        "string" == typeof r.focus && (b = h.findViewById(r.focus));
                    b && b.focus()
                } else {
                    var x = h.firstFocusable();
                    r.autoFocus && x ? x.focus() : r.div.focus()
                }
            })
        }
        ,
        DayPilot.Modal.close = function(e) {
            var t = DayPilot.Modal.opener();
            t && t.close(e)
        }
        ,
        DayPilot.Modal.stretch = function(e) {
            var t = DayPilot.Modal.opener();
            if (!t)
                throw "Unable to find the opener DayPilot.Modal instance.";
            t.stretch()
        }
        ,
        DayPilot.Modal.closeSerialized = function() {
            var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
            e && e.closeSerialized()
        }
        ,
        DayPilot.Modal.opener = function() {
            return "undefined" != typeof DayPilot && "undefined" != typeof DayPilot.ModalStatic && DayPilot.ModalStatic.list.length > 0 ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1] : parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1]
        }
        ,
        DayPilot.Modal.Experimental = {},
        DayPilot.Modal.Experimental.Form = o,
        "undefined" == typeof DayPilot.getPromise && (DayPilot.getPromise = function(e) {
            return "undefined" != typeof Promise ? new Promise(e) : (DayPilot.Promise = function(e) {
                var t = this;
                this.then = function(t, n) {
                    return t = t || function() {}
                    ,
                    n = n || function() {}
                    ,
                    e(t, n),
                    DayPilot.getPromise(e)
                }
                ,
                this["catch"] = function(n) {
                    return t.then(null, n),
                    DayPilot.getPromise(e)
                }
            }
            ,
            new DayPilot.Promise(e))
        }
        );
        var o = function(e) {
            this.form = [],
            this.data = {},
            this.theme = "form_default",
            this.zIndex = 99999,
            this.locale = "en-us",
            this.plugins = {},
            this.onKey = null,
            this.Hi = [],
            this.Ii = null,
            this.canceling = !1,
            this.Ji = [],
            this.p = [],
            this.c = null,
            e = e || {};
            for (var t in e)
                this[t] = e[t]
        };
        o.prototype.create = function() {
            return this.load(),
            this.render(),
            this.c
        }
        ,
        o.prototype.render = function() {
            var e = this;
            this.c = document.createElement("div"),
            this.Hi.forEach(function(t) {
                e.createView(t)
            }),
            this.applyState()
        }
        ,
        o.prototype.createView = function(e) {
            var t = this.theme
              , n = this
              , i = document.createElement("div");
            if (i.className = t + "_form_item " + t + "_form_item_level" + e.level,
            e.interactive || "title" !== e.type ? i.className += " " + t + "_form_item_" + e.type : i.className += " " + t + "_form_title",
            e.data.cssClass && (i.className += " " + e.data.cssClass),
            !e.isValue) {
                var a = document.createElement("div");
                a.className = t + "_form_item_label",
                a.innerText = e.text,
                i.appendChild(a)
            }
            var r = this.createInteractive(e);
            r.onInput = function(e) {
                if (e = e || {},
                n.Ki(r, {
                    "debounce": !e.immediate
                }),
                "function" == typeof n.onChange) {
                    var t = {};
                    t.result = n.serialize(),
                    n.onChange(t)
                }
            }
            ,
            r.onBlur = function() {
                n.canceling || n.Ki(r)
            }
            ,
            r.apply(e),
            r.c = i,
            r.row = e,
            r.element && i.appendChild(r.element),
            this.p.push(r),
            this.c.appendChild(i)
        }
        ,
        o.prototype.validate = function() {
            var e = this
              , t = !0;
            return this.p.forEach(function(n) {
                var i = e.Ki(n);
                t = t && i
            }),
            t
        }
        ,
        o.prototype.Ki = function(e, t) {
            function n() {
                e.Li && (e.Li.remove(),
                e.Li = null),
                e.c.classList.add(u);
                var t = document.createElement("div");
                t.classList.add(h),
                t.innerText = c.message,
                e.Li = t,
                e.c.appendChild(t)
            }
            t = t || {};
            var i = t.debounce
              , a = t.silent
              , r = e.row
              , o = !0
              , s = "function" == typeof r.data.onValidate ? r.data.onValidate : null
              , l = "function" == typeof r.data.validate ? r.data.validate : null
              , d = s || l;
            if (d) {
                var c = {};
                c.valid = !0,
                c.value = e.save()[r.field],
                c.message = "Error",
                c.values = this.serialize(),
                c.result = this.serialize(),
                d(c);
                var u = this.theme + "_form_item_invalid"
                  , h = this.theme + "_form_item_invalid_message";
                if (c.valid)
                    clearTimeout(this.Ji[r.field]),
                    e.Li && (e.Li.remove(),
                    e.Li = null),
                    e.c.classList.remove(u);
                else if (!a)
                    if (i) {
                        var f = 1e3;
                        clearTimeout(this.Ji[r.field]),
                        this.Ji[r.field] = setTimeout(function() {
                            n()
                        }, f)
                    } else
                        n();
                o = c.valid
            }
            return o
        }
        ,
        o.prototype.load = function() {
            var e = this;
            this.form.forEach(function(t) {
                e.processFormItem(t, 0)
            });
            var n;
            try {
                var i = JSON.stringify(this.data);
                n = t(JSON.parse(i))
            } catch (e) {
                throw new Error("The 'data' object is not serializable (it may contain circular dependencies): " + e)
            }
            for (var a in n)
                this.setValue(a, n[a])
        }
        ,
        o.prototype.setValue = function(e, t) {
            this.Hi.forEach(function(n) {
                n.applyValue(e, t)
            })
        }
        ,
        o.prototype.updateDependentState = function() {
            var e = this
              , t = [!0];
            (this.Ii ? this.Ii : this.Hi).forEach(function(n) {
                var i = e.updateState(n, {
                    enabled: t[n.level] && !n.data.disabled
                });
                i.isValue && (t[i.level + 1] = i.enabled && i.checked)
            })
        }
        ,
        o.prototype.processFormItem = function(e, t) {
            var n = this
              , i = this.getFieldType(e)
              , a = [];
            if ("radio" === i) {
                if (e.name) {
                    var r = new s;
                    r.field = e.id,
                    r.data = e,
                    r.level = t,
                    r.type = "label",
                    r.interactive = !1,
                    r.text = e.name,
                    n.Hi.push(r),
                    a.push(r)
                }
                e.options.forEach(function(r) {
                    var o = new s;
                    o.field = e.id,
                    o.data = r,
                    o.level = t,
                    o.type = i,
                    o.isValue = !0,
                    o.text = r.name,
                    o.resolved = r.id,
                    n.Hi.push(o),
                    a.push(o),
                    r.children && r.children.forEach(function(e) {
                        var i = n.processFormItem(e, t + 1);
                        a = a.concat(i)
                    })
                })
            } else if ("title" === i) {
                var r = new s;
                r.field = e.id,
                r.data = e,
                r.level = t,
                r.type = i,
                r.interactive = !1,
                r.text = e.name,
                n.Hi.push(r),
                a.push(r)
            } else if ("image" === i) {
                var r = new s;
                r.isValue = !0,
                r.field = e.id,
                r.data = e,
                r.level = t,
                r.type = i,
                r.interactive = !1,
                r.text = null,
                n.Hi.push(r),
                a.push(r)
            } else if ("html" === i) {
                var r = new s;
                r.isValue = !0,
                r.field = e.id,
                r.data = e,
                r.level = t,
                r.type = i,
                r.interactive = !1,
                r.text = null,
                n.Hi.push(r),
                a.push(r)
            } else if ("scrollable" === i) {
                var r = new s;
                r.isValue = !0,
                r.field = e.id,
                r.data = e,
                r.level = t,
                r.type = i,
                r.interactive = !1,
                r.text = null,
                n.Hi.push(r),
                a.push(r)
            } else {
                var r = new s;
                r.field = e.id,
                r.data = e,
                r.level = t,
                r.type = i,
                r.text = e.name,
                r.children = [],
                n.Hi.push(r),
                a.push(r)
            }
            return "checkbox" === i && (r.isValue = !0,
            r.resolved = !0,
            e.children && e.children.forEach(function(e) {
                var i = n.processFormItem(e, t + 1);
                a = a.concat(i)
            })),
            a
        }
        ,
        o.prototype.doOnKey = function(e) {
            if ("function" == typeof this.onKey) {
                var t = {
                    key: e
                };
                this.onKey(t)
            }
        }
        ,
        o.prototype.createInteractive = function(e) {
            var t = this
              , n = {
                "label": function() {
                    return new l
                },
                "title": function() {
                    return new l
                },
                "image": function() {
                    var t = new l
                      , n = document.createElement("img");
                    return n.src = e.data.image,
                    t.element = n,
                    t
                },
                "html": function() {
                    var t = new l
                      , n = document.createElement("div");
                    return "string" == typeof e.data.text ? n.innerText = e.data.text : "string" == typeof e.data.html && (n.innerHTML = e.data.html),
                    t.element = n,
                    t
                },
                "scrollable": function() {
                    var n = new l
                      , i = document.createElement("div");
                    i.className = t.theme + "_form_item_scrollable_scroll",
                    e.data.height && (i.style.height = e.data.height + "px");
                    var a = document.createElement("div");
                    return a.className = t.theme + "_form_item_scrollable_scroll_content",
                    "string" == typeof e.data.text ? a.innerText = e.data.text : "string" == typeof e.data.html && (a.innerHTML = e.data.html),
                    i.appendChild(a),
                    n.element = i,
                    n
                },
                "text": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.element;
                        t.value = e.value,
                        t.disabled = !e.enabled
                    }
                    ;
                    var i = document.createElement("input");
                    return i.name = e.field,
                    i.type = "text",
                    i.autocomplete = "off",
                    i.onkeydown = function(e) {
                        var n = !1;
                        switch (e.keyCode) {
                        case 13:
                            t.doOnKey("Enter");
                            break;
                        case 27:
                            t.doOnKey("Escape");
                            break;
                        default:
                            n = !0
                        }
                        n || (e.preventDefault(),
                        e.stopPropagation())
                    }
                    ,
                    i.oninput = function(e) {
                        n.onInput()
                    }
                    ,
                    i.onblur = function(e) {
                        n.onBlur()
                    }
                    ,
                    n.element = i,
                    n.canFocus = function() {
                        return !n.element.disabled
                    }
                    ,
                    n.focus = function() {
                        n.element.focus(),
                        n.element.setSelectionRange(0, n.element.value.length)
                    }
                    ,
                    n.save = function() {
                        var t = {};
                        return t[e.field] = i.value,
                        t
                    }
                    ,
                    n
                },
                "textarea": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.element;
                        t.value = e.value,
                        t.disabled = !e.enabled
                    }
                    ;
                    var i = document.createElement("textarea");
                    return i.name = e.field,
                    e.data.height && (i.style.height = e.data.height + "px"),
                    i.onkeydown = function(e) {
                        var n = !1;
                        switch (e.keyCode) {
                        case 13:
                            (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"),
                            n = !1;
                            break;
                        case 27:
                            t.doOnKey("Escape");
                            break;
                        default:
                            n = !0
                        }
                        n || e.stopPropagation()
                    }
                    ,
                    i.oninput = function(e) {
                        n.onInput()
                    }
                    ,
                    i.onblur = function(e) {
                        n.onBlur()
                    }
                    ,
                    n.element = i,
                    n.canFocus = function() {
                        return !n.element.disabled
                    }
                    ,
                    n.focus = function() {
                        n.element.focus(),
                        n.element.setSelectionRange(0, 0)
                    }
                    ,
                    n.save = function() {
                        var t = {};
                        return t[e.field] = i.value,
                        t
                    }
                    ,
                    n
                },
                "date": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var i = n.element
                          , a = n.picker;
                        e.data.dateFormat && (a.pattern = e.data.dateFormat);
                        var r = e.data.locale || t.locale;
                        r && (a.locale = r),
                        i.disabled = !e.enabled,
                        a.date = new DayPilot.Date(e.value);
                        var o = new DayPilot.Date(e.value).toString(e.data.dateFormat || a.pattern, a.locale);
                        i.value = o
                    }
                    ;
                    var i = document.createElement("input");
                    i.name = e.field;
                    var a = new DayPilot.DatePicker({
                        target: i,
                        theme: "navigator_modal",
                        zIndex: t.zIndex + 1,
                        resetTarget: !1,
                        targetAlignment: "left",
                        onTimeRangeSelect: function(e) {
                            n.onInput({
                                "immediate": !0
                            })
                        }
                    });
                    return i.picker = a,
                    i.className = t.theme + "_input_date",
                    i.type = "text",
                    i.onkeydown = function(e) {
                        var n = !1;
                        switch (e.keyCode) {
                        case 13:
                            a.visible ? a.close() : t.doOnKey("Enter");
                            break;
                        case 27:
                            a.visible ? a.close() : t.doOnKey("Escape");
                            break;
                        case 9:
                            a.close(),
                            n = !0;
                            break;
                        default:
                            n = !0
                        }
                        n || (e.preventDefault(),
                        e.stopPropagation())
                    }
                    ,
                    i.onfocus = function() {
                        a.show()
                    }
                    ,
                    i.onclick = function() {
                        a.show()
                    }
                    ,
                    i.oninput = function(e) {
                        n.onInput()
                    }
                    ,
                    i.onblur = function(e) {
                        n.onBlur()
                    }
                    ,
                    n.element = i,
                    n.picker = a,
                    n.canFocus = function() {
                        return !n.element.disabled
                    }
                    ,
                    n.focus = function() {
                        n.element.focus()
                    }
                    ,
                    n.save = function() {
                        var t = a.date ? a.date.toString() : null
                          , n = {};
                        return n[e.field] = t,
                        n
                    }
                    ,
                    n
                },
                "time": function() {
                    return t.Mi(e)
                },
                "datetime": function() {
                    return t.Ni(e)
                },
                "select": function() {
                    var t = new l;
                    t.apply = function(e) {
                        t.row = e;
                        var n = t.element;
                        n.value = e.value,
                        n.disabled = !e.enabled
                    }
                    ;
                    var n = document.createElement("select");
                    return n.name = e.field,
                    e.data.options && e.data.options.forEach && e.data.options.forEach(function(e) {
                        var t = document.createElement("option");
                        t.innerText = e.name || e.id,
                        t.value = e.id,
                        t.Oi = e.id,
                        n.appendChild(t)
                    }),
                    n.onchange = function(e) {
                        t.onInput({
                            "immediate": !0
                        })
                    }
                    ,
                    n.onblur = function(e) {
                        t.onBlur()
                    }
                    ,
                    t.element = n,
                    t.canFocus = function() {
                        return !t.element.disabled
                    }
                    ,
                    t.focus = function() {
                        t.element.focus()
                    }
                    ,
                    t.save = function() {
                        var t = null
                          , i = n.options[n.selectedIndex];
                        i && "undefined" != typeof i.Oi && (t = i.Oi);
                        var a = {};
                        return a[e.field] = t,
                        a
                    }
                    ,
                    t
                },
                "searchable": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.searchable;
                        t.disabled = !e.enabled,
                        t.select(e.value)
                    }
                    ;
                    var i = new d({
                        data: e.data.options || [],
                        name: e.field,
                        theme: t.theme + "_form_item_searchable",
                        listZIndex: t.zIndex + 1,
                        onSelect: function(e) {
                            e.ui && n.onInput({
                                "immediate": !0
                            })
                        }
                    })
                      , a = i.create();
                    return n.element = a,
                    n.searchable = i,
                    n.canFocus = function() {
                        return !n.searchable.disabled
                    }
                    ,
                    n.focus = function() {
                        n.searchable.focus()
                    }
                    ,
                    n.save = function() {
                        var t = i.selected && i.selected.id
                          , n = {};
                        return n[e.field] = t,
                        n
                    }
                    ,
                    n
                },
                "radio": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.radio;
                        t.checked = e.checked,
                        t.disabled = !e.enabled
                    }
                    ;
                    var i = document.createElement("label")
                      , a = document.createElement("input");
                    a.type = "radio",
                    a.name = e.field,
                    a.Oi = e.resolved,
                    a.onchange = function(e) {
                        var i = n.row;
                        t.findRowsByField(i.field).forEach(function(e) {
                            t.updateState(e, {
                                checked: !1
                            })
                        }),
                        t.updateState(i, {
                            checked: !0
                        }),
                        t.applyState(),
                        n.onInput({
                            "immediate": !0
                        })
                    }
                    ,
                    a.onblur = function(e) {
                        n.onBlur()
                    }
                    ,
                    i.appendChild(a);
                    var r = document.createTextNode(e.text);
                    return i.append(r),
                    n.element = i,
                    n.radio = a,
                    n.canFocus = function() {
                        return !1
                    }
                    ,
                    n.focus = function() {
                        n.radio.focus()
                    }
                    ,
                    n.save = function() {
                        if (!a.checked)
                            return {};
                        var t = a.Oi
                          , n = {};
                        return n[e.field] = t,
                        n
                    }
                    ,
                    n
                },
                "checkbox": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.checkbox;
                        t.checked = e.checked,
                        t.disabled = !e.enabled
                    }
                    ;
                    var i = document.createElement("label")
                      , a = document.createElement("input");
                    a.type = "checkbox",
                    a.name = e.field,
                    a.Oi = e.resolved,
                    a.onchange = function(e) {
                        var i = n.row;
                        t.updateState(i, {
                            checked: this.checked
                        }),
                        t.applyState(),
                        n.onInput({
                            "immediate": !0
                        })
                    }
                    ,
                    a.onblur = function(e) {
                        n.onBlur()
                    }
                    ,
                    i.appendChild(a);
                    var r = document.createTextNode(e.text);
                    return i.append(r),
                    n.element = i,
                    n.checkbox = a,
                    n.canFocus = function() {
                        return !1
                    }
                    ,
                    n.focus = function() {
                        n.checkbox.focus()
                    }
                    ,
                    n.save = function() {
                        var t = a.checked
                          , n = {};
                        return n[e.field] = t,
                        n
                    }
                    ,
                    n
                },
                "table": function() {
                    var n = new l;
                    n.apply = function(e) {
                        n.row = e;
                        var t = n.table;
                        t.disabled = !e.enabled,
                        t.load(e.value || [])
                    }
                    ;
                    var i = new c({
                        name: e.field,
                        form: t,
                        theme: t.theme + "_form_item_tabular",
                        item: e.data,
                        onInput: function(e) {
                            n.onInput()
                        }
                    })
                      , a = i.create();
                    return n.element = a,
                    n.table = i,
                    n.canFocus = function() {
                        return !1
                    }
                    ,
                    n.focus = function() {
                        n.table.focus()
                    }
                    ,
                    n.save = function() {
                        var t = i.save()
                          , n = {};
                        return n[e.field] = t,
                        n
                    }
                    ,
                    n
                }
            };
            return t.plugins && t.plugins[e.type] ? t.plugins[e.type](e) : n[e.type]()
        }
        ,
        o.prototype.Mi = function(e) {
            var t = this
              , n = new l;
            n.apply = function(e) {
                n.row = e;
                var t = n.searchable;
                t.disabled = !e.enabled,
                t.select(e.value)
            }
            ;
            var i = []
              , a = e.data.timeInterval || 15;
            [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
            for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, c = DayPilot.Date.today(), u = 0; u < 24 * r; u++) {
                var h = c.addMinutes(a * u)
                  , f = {};
                f.name = h.toString(e.data.timeFormat || s.timePattern, s),
                f.id = h.toString("HH:mm"),
                i.push(f)
            }
            var v = new d({
                data: i,
                name: e.field,
                theme: t.theme + "_form_item_time",
                listZIndex: t.zIndex + 1,
                strategy: "startsWith",
                onSelect: function(e) {
                    e.ui && n.onInput({
                        "immediate": !0
                    })
                }
            })
              , p = v.create();
            return n.element = p,
            n.searchable = v,
            n.canFocus = function() {
                return !n.searchable.disabled
            }
            ,
            n.focus = function() {
                n.searchable.focus()
            }
            ,
            n.save = function() {
                var t = v.selected && v.selected.id
                  , n = {};
                return n[e.field] = t,
                n
            }
            ,
            n
        }
        ,
        o.prototype.Ni = function(e) {
            var t = this
              , n = new l;
            n.apply = function(e) {
                n.row = e;
                var i = n.searchable;
                i.disabled = !e.enabled;
                var a = new DayPilot.Date(e.value).toString("HH:mm");
                i.select(a);
                var r = n.dateInput
                  , o = n.picker;
                e.data.dateFormat && (o.pattern = e.data.dateFormat);
                var s = e.data.locale || t.locale;
                if (s) {
                    var l = DayPilot.Locale.find(s) || DayPilot.Locale.US;
                    o.locale = s,
                    o.pattern = l.datePattern
                }
                r.disabled = !e.enabled,
                o.date = new DayPilot.Date(e.value);
                var d = new DayPilot.Date(e.value).toString(e.data.dateFormat || o.pattern, o.locale);
                r.value = d
            }
            ;
            var i = function() {
                var i = document.createElement("input");
                i.name = e.field;
                var a = new DayPilot.DatePicker({
                    target: i,
                    theme: "navigator_modal",
                    zIndex: t.zIndex + 1,
                    resetTarget: !1,
                    targetAlignment: "left",
                    onTimeRangeSelect: function(e) {
                        n.onInput({
                            "immediate": !0
                        })
                    }
                });
                return i.picker = a,
                i.className = t.theme + "_input_date",
                i.type = "text",
                i.onkeydown = function(e) {
                    var n = !1;
                    switch (e.keyCode) {
                    case 13:
                        a.visible ? a.close() : t.doOnKey("Enter");
                        break;
                    case 27:
                        a.visible ? a.close() : t.doOnKey("Escape");
                        break;
                    case 9:
                        a.close(),
                        n = !0;
                        break;
                    default:
                        n = !0
                    }
                    n || (e.preventDefault(),
                    e.stopPropagation())
                }
                ,
                i.onfocus = function() {
                    a.show()
                }
                ,
                i.onclick = function() {
                    a.show()
                }
                ,
                i.oninput = function(e) {
                    n.onInput()
                }
                ,
                i.onblur = function(e) {
                    n.onBlur()
                }
                ,
                n.dateInput = i,
                n.picker = a,
                i
            }()
              , a = function() {
                var i = []
                  , a = e.data.timeInterval || 15;
                [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, l = DayPilot.Date.today(), c = 0; c < 24 * r; c++) {
                    var u = l.addMinutes(a * c)
                      , h = {};
                    h.name = u.toString(e.data.timeFormat || s.timePattern, s),
                    h.id = u.toString("HH:mm"),
                    i.push(h)
                }
                var f = new d({
                    data: i,
                    name: e.field,
                    theme: t.theme + "_form_item_time",
                    listZIndex: t.zIndex + 1,
                    strategy: "startsWith",
                    onSelect: function(e) {
                        e.ui && n.onInput({
                            "immediate": !0
                        })
                    }
                });
                return n.searchable = f,
                f.create()
            }()
              , r = document.createElement("div");
            return r.className = t.theme + "_form_item_datetime_parent",
            r.appendChild(i),
            r.appendChild(a),
            n.element = r,
            n.canFocus = function() {
                return !n.searchable.disabled
            }
            ,
            n.focus = function() {
                n.dateInput.focus()
            }
            ,
            n.save = function() {
                var t = n.searchable.selected && n.searchable.selected.id
                  , i = n.picker.date ? n.picker.date.toString() : null
                  , a = new DayPilot.Date(i).getDatePart()
                  , r = DayPilot.Date.parse(a.toString("yyyy-dd-MM ") + t, "yyyy-dd-MM HH:mm")
                  , o = {};
                return o[e.field] = r,
                o
            }
            ,
            n
        }
        ,
        o.prototype.findRowsByField = function(e) {
            return this.Hi.filter(function(t) {
                return t.field === e
            })
        }
        ,
        o.prototype.findViewById = function(e, t) {
            return this.p.find(function(n) {
                return n.row.field === e && ("radio" !== n.row.type || n.row.resolved === t)
            })
        }
        ,
        o.prototype.firstFocusable = function() {
            return this.p.find(function(e) {
                return e.canFocus && e.canFocus()
            })
        }
        ,
        o.prototype.updateState = function(e, t) {
            var n = this.Ii ? this.Ii : this.Hi
              , i = n.indexOf(e);
            return this.Ii = n.map(function(n) {
                if (n !== e)
                    return n;
                if (e.propsEqual(t))
                    return e;
                var i = e.clone();
                for (var a in t)
                    i[a] = t[a];
                return i
            }),
            this.Ii[i]
        }
        ,
        o.prototype.updateInteractive = function(e) {
            var t = this.Ii.indexOf(e);
            this.p[t].apply(e)
        }
        ,
        o.prototype.applyState = function() {
            var e = this;
            if (this.updateDependentState(),
            this.Ii) {
                this.Ii.filter(function(t, n) {
                    return e.Hi[n] !== t
                }).forEach(function(t) {
                    e.updateInteractive(t)
                }),
                this.Hi = this.Ii,
                this.Ii = null
            }
        }
        ,
        o.prototype.getFieldType = function(e) {
            return ["text", "date", "select", "searchable", "radio", "checkbox", "table", "title", "image", "html", "textarea", "scrollable", "time", "datetime"].indexOf(e.type) !== -1 ? e.type : e.type && this.plugins && this.plugins[e.type] ? e.type : e.image ? "image" : e.html || e.text ? "html" : e.id ? e.options ? "searchable" : e.dateFormat ? "date" : e.columns ? "table" : "text" : "title"
        }
        ,
        o.prototype.serialize = function() {
            var e = {};
            return this.p.forEach(function(t) {
                var n = t.save();
                for (var i in n)
                    e[i] = n[i]
            }),
            e
        }
        ;
        var s = function() {
            this.id = this.guid(),
            this.field = null,
            this.data = null,
            this.type = null,
            this.level = 0,
            this.enabled = !0,
            this.value = null,
            this.text = null,
            this.interactive = !0,
            this.isValue = !1,
            this.checked = !1,
            this.resolved = null
        };
        s.prototype.clone = function() {
            var e = new s;
            for (var t in this)
                "id" !== t && (e[t] = this[t]);
            return e
        }
        ,
        s.prototype.propsEqual = function(e) {
            for (var t in e)
                if (this[t] !== e[t])
                    return !1;
            return !0
        }
        ,
        s.prototype.guid = function() {
            var e = function() {
                return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
            };
            return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e()
        }
        ,
        s.prototype.applyValue = function(e, t) {
            this.field === e && (this.value = t,
            this.isValue && t === this.resolved && (this.checked = !0))
        }
        ;
        var l = function() {
            this.element = null,
            this.canFocus = function() {
                return !1
            }
            ,
            this.apply = function(e) {}
            ,
            this.focus = function() {}
            ,
            this.save = function() {
                return {}
            }
        }
          , d = function(e) {
            this.data = [],
            this.name = null,
            this.theme = "searchable_default",
            this.Pi = !1,
            this.listZIndex = 1e5,
            this.onSelect = null,
            this.Qi = null,
            this.Ri = null,
            this.Si = !1,
            this.Ti = null,
            this.Kc = null,
            this.B = [],
            this.Ui = null,
            e = e || {};
            var t = this
              , n = {
                "selected": {
                    post: function(e) {
                        "object" == typeof e && e.id ? t.Qi = e : "string" != typeof e && "number" != typeof e || t.select(e)
                    }
                }
            };
            Object.defineProperty(this, "selected", {
                get: function() {
                    return this.Qi
                }
            }),
            Object.defineProperty(this, "disabled", {
                get: function() {
                    return this.Pi
                },
                set: function(e) {
                    this.Pi = e,
                    this.Ti && (this.Ti.disabled = e,
                    e && this.Vi())
                }
            });
            for (var i in e)
                n[i] || (this[i] = e[i]);
            for (var i in e)
                n[i] && n[i].post(e[i])
        };
        d.prototype.select = function(e) {
            return this.Qi = this.data.find(function(t) {
                return t.id === e
            }),
            this.Wi(!1),
            this
        }
        ,
        d.prototype.create = function() {
            function e(e) {
                var n = l.strategy;
                "includes" !== l.strategy && "startsWith" !== l.strategy && (n = "includes"),
                e = e || n || "includes",
                h.style.display = "",
                h.style.top = v.offsetHeight + "px",
                h.style.left = "0px",
                h.style.width = v.offsetWidth + "px",
                h.innerHTML = "",
                h.addEventListener("mousedown", function(e) {
                    e.preventDefault()
                }),
                l.Ri = null,
                l.B = [];
                var a = null;
                l.data.forEach(function(n) {
                    var r = n.name || n.id;
                    if ("includes" === e) {
                        if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1)
                            return
                    } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase()))
                        return;
                    var o = document.createElement("div");
                    o.className = l.theme + "_list_item",
                    o.innerText = r,
                    o.item = n,
                    n === l.Qi && (l.Ri = o),
                    a || (a = o),
                    o.addEventListener("mousedown", function(e) {
                        i(o),
                        e.preventDefault()
                    }),
                    o.addEventListener("mousemove", function(e) {
                        l.Ri !== o && (l.Ri = o,
                        t({
                            dontScroll: !0
                        }))
                    }),
                    h.appendChild(o),
                    l.B.push(o)
                }),
                l.Ri || (l.Ri = a),
                t()
            }
            function t(e) {
                e = e || {};
                var t = !e.dontScroll;
                document.querySelectorAll("." + l.theme + "_list_item_highlight").forEach(function(e) {
                    e.className = e.className.replace(l.theme + "_list_item_highlight", "")
                }),
                l.Ri && (l.Ri.className += " " + l.theme + "_list_item_highlight",
                t && !n(l.Ri, h) && l.Ri.scrollIntoView())
            }
            function n(e, t) {
                var n = e.getBoundingClientRect()
                  , i = t.getBoundingClientRect();
                return n.top >= i.top && n.bottom <= i.bottom
            }
            function i(e) {
                var t = e.item;
                l.Qi = t,
                l.Wi(!0),
                r(),
                o()
            }
            function a() {
                l.Vi()
            }
            function r() {
                l.C()
            }
            function o() {
                l.Si = !0,
                v.setAttribute("readonly", "readonly"),
                v.focus()
            }
            function s() {
                l.Si = !1,
                v.removeAttribute("readonly"),
                v.select(),
                e("all")
            }
            var l = this
              , d = this
              , c = document.createElement("div");
            c.className = this.theme + "_main",
            c.style.position = "relative";
            var u = document.createElement("div");
            u.className = this.theme + "_icon",
            u.style.position = "absolute",
            u.style.right = "0",
            u.style.top = "0",
            u.style.bottom = "0",
            u.style.width = "20px",
            u.addEventListener("mousedown", function(e) {
                e.preventDefault(),
                l.Si ? (l.focus(),
                s()) : (a(),
                o())
            });
            var h = document.createElement("div");
            h.className = this.theme + "_list",
            h.style.display = "none",
            h.style.position = "absolute",
            h.style.zIndex = this.listZIndex;
            var f = document.createElement("input");
            f.type = "hidden",
            f.name = this.name,
            f.searchable = d,
            this.Ui = f;
            var v = document.createElement("input");
            return v.type = "text",
            v.className = this.theme + "_input",
            v.disabled = this.Pi,
            v.addEventListener("click", function(e) {
                s()
            }),
            v.addEventListener("focus", function(t) {
                e("all")
            }),
            v.addEventListener("input", function(t) {
                e()
            }),
            v.addEventListener("blur", function(e) {
                v.removeAttribute("readonly"),
                a()
            }),
            v.addEventListener("keydown", function(e) {
                if (l.Si) {
                    if ("Enter" === e.key)
                        return;
                    if ("Esc" === e.key || "Escape" === e.key)
                        return;
                    s()
                }
                if ("ArrowDown" === e.key) {
                    var n = d.B.indexOf(d.Ri);
                    n + 1 < d.B.length && (d.Ri = d.B[n + 1]),
                    t()
                } else if ("ArrowUp" === e.key) {
                    var n = d.B.indexOf(d.Ri);
                    n - 1 >= 0 && (d.Ri = d.B[n - 1]),
                    t()
                } else
                    "Enter" === e.key ? l.Ri ? (e.stopPropagation(),
                    i(l.Ri)) : (e.stopPropagation(),
                    a(),
                    o()) : "Esc" !== e.key && "Escape" !== e.key || (e.stopPropagation(),
                    a(),
                    o())
            }),
            this.Ti = v,
            this.Kc = h,
            this.Qi || (this.Qi = this.data[0],
            this.Qi && (v.value = this.Qi.name)),
            c.appendChild(v),
            c.appendChild(u),
            c.appendChild(f),
            c.appendChild(h),
            c
        }
        ,
        d.prototype.Vi = function() {
            this.C(),
            this.Qi ? this.Ti.value = this.Qi.name : (this.Ti.value = "",
            this.Wi(!0))
        }
        ,
        d.prototype.focus = function() {
            this.Si = !0,
            this.Ti.setAttribute("readonly", "readonly"),
            this.Ti.focus(),
            this.Vi()
        }
        ,
        d.prototype.C = function() {
            this.Kc.style.display = "none"
        }
        ,
        d.prototype.Wi = function(e) {
            if (this.Ui.value = this.selected ? this.selected.id : null,
            this.Qi ? this.Ti.value = this.Qi.name : this.Ti.value = "",
            "function" == typeof this.onSelect) {
                var t = {
                    control: this,
                    ui: e
                };
                this.onSelect(t)
            }
        }
        ;
        var c = function(e) {
            this.form = null,
            this.item = null,
            this.data = null,
            this.name = null,
            this.theme = "edit_table_default",
            this.onInput = null,
            this.nav = {},
            this.Xi = null,
            this.Hi = [],
            e = e || {};
            for (var t in e)
                this[t] = e[t]
        };
        c.prototype.create = function() {
            var e = this
              , t = document.createElement("div");
            t.className = this.theme + "_main",
            t.style.position = "relative";
            var n = document.createElement("input");
            n.type = "hidden",
            n.name = e.name,
            n.table = this,
            t.appendChild(n);
            var i = document.createElement("div");
            i.className = this.theme + "_table";
            var a = this.Yi();
            i.appendChild(a);
            var r = e.Zi({});
            r.spacer = !0;
            var o = this.$i(r);
            o.classList.add(e.theme + "_spacer"),
            i.appendChild(o);
            var s = document.createElement("div");
            s.className = e.theme + "_tbody",
            i.appendChild(s),
            t.appendChild(i);
            var l = document.createElement("div");
            t.appendChild(l),
            this.nav.body = s,
            this.nav.table = i,
            this.nav.main = t,
            this.nav.after = l;
            var d = document.createElement("div")
              , c = document.createElement("span");
            return c.className = this.theme + "_plus",
            c.addEventListener("click", function(t) {
                if (!e.disabled) {
                    var n = e.item.onNewRow
                      , i = {};
                    if ("function" == typeof n) {
                        var a = {};
                        a.result = e.form.serialize(),
                        a.value = {},
                        n(a),
                        i = a.value
                    }
                    var r = e.Zi(i);
                    e.Hi.push(r),
                    e.W(),
                    e._i()
                }
            }),
            this.nav.plus = c,
            d.appendChild(c),
            t.appendChild(d),
            t
        }
        ,
        c.prototype.Yi = function() {
            var e = this
              , t = document.createElement("div");
            return t.classList.add(this.theme + "_row"),
            t.classList.add(this.theme + "_header"),
            this.item.columns.forEach(function(n) {
                var i = document.createElement("div");
                i.classList.add(e.theme + "_cell"),
                i.innerText = n.name,
                t.appendChild(i)
            }),
            t
        }
        ,
        c.prototype.aj = function() {
            var e = this.item.max || 0;
            return !!(e && this.Hi.length >= e)
        }
        ,
        c.prototype.save = function() {
            var e = this
              , t = [];
            return e.Hi.forEach(function(e) {
                var n = {};
                e.cells.forEach(function(e) {
                    n[e.id] = e.value
                }),
                t.push(n)
            }),
            t
        }
        ,
        c.prototype.load = function(e) {
            if ("[object Array]" !== Object.prototype.toString.call(e))
                throw new Error("Array expected");
            this.data = e,
            this.bj(),
            this.W()
        }
        ,
        c.prototype.cj = function() {
            this.disabled ? this.nav.main.classList.add(this.theme + "_disabled") : this.nav.main.classList.remove(this.theme + "_disabled"),
            this.aj() ? this.nav.plus.classList.add(this.theme + "_plus_max") : this.nav.plus.classList.remove(this.theme + "_plus_max")
        }
        ,
        c.prototype.bj = function() {
            var e = this;
            this.Hi = [],
            this.data.forEach(function(t) {
                var n = e.Zi(t);
                e.Hi.push(n)
            })
        }
        ,
        c.prototype.dj = function(e) {
            var t = this
              , n = t.Hi.indexOf(e);
            t.Hi.splice(n, 1)
        }
        ,
        c.prototype.Zi = function(e) {
            var t = this
              , n = {};
            return n.data = e,
            n.cells = [],
            t.item.columns.forEach(function(i) {
                var a = i.id
                  , r = e[a]
                  , o = t.ej(i);
                if ("undefined" == typeof r)
                    if ("text" === o)
                        r = "";
                    else if ("number" === o)
                        r = 0;
                    else if ("select" === o) {
                        var s = i.options;
                        r = s && s[0].id
                    }
                var l = {};
                l.id = a,
                l.value = r,
                l.type = o,
                l.data = i,
                n.cells.push(l)
            }),
            n
        }
        ,
        c.prototype.ej = function(e) {
            var t = e.type;
            return t || (t = e.options ? "select" : "text"),
            t
        }
        ,
        c.prototype.W = function() {
            var e = this;
            if (this.nav.body.innerHTML = "",
            this.nav.after.innerHTML = "",
            this.Hi.forEach(function(t) {
                var n = e.$i(t);
                e.nav.body.appendChild(n)
            }),
            0 === this.Hi.length) {
                var t = e.fj();
                e.nav.after.appendChild(t)
            }
            this.cj()
        }
        ,
        c.prototype.fj = function() {
            var e = document.createElement("div");
            return e.className = this.theme + "_empty",
            e
        }
        ,
        c.prototype.$i = function(e) {
            var t = this
              , n = document.createElement("div");
            n.className = t.theme + "_row",
            e.cells.forEach(function(i) {
                var a = document.createElement("div");
                a.className = t.theme + "_cell";
                var r = t.gj(i);
                if (e.spacer) {
                    var o = document.createElement("div");
                    o.style.height = "0px",
                    o.style.overflow = "hidden",
                    o.appendChild(r),
                    a.appendChild(o)
                } else
                    a.appendChild(r);
                n.appendChild(a)
            });
            var i = document.createElement("div");
            i.classList.add(t.theme + "_cell"),
            i.classList.add(t.theme + "_rowaction");
            var a = document.createElement("span");
            return a.className = this.theme + "_delete",
            a.addEventListener("click", function(n) {
                t.disabled || (t.dj(e),
                t.W(),
                t._i())
            }),
            e.spacer || i.appendChild(a),
            n.appendChild(i),
            n
        }
        ,
        c.prototype._i = function() {
            var e = this;
            if ("function" == typeof e.onInput) {
                var t = {};
                e.onInput(t)
            }
        }
        ,
        c.prototype.gj = function(e) {
            var t = this
              , n = e.type;
            if ("text" === n || "number" === n) {
                var i = document.createElement("input");
                return i.type = n,
                t.disabled && (i.disabled = !0),
                e.value && (i.value = e.value),
                i.addEventListener("keyup", function(i) {
                    "number" === n ? e.value = Number(this.value) : e.value = this.value,
                    t._i()
                }),
                i
            }
            if ("select" === n) {
                var a = document.createElement("select");
                return t.disabled && (a.disabled = !0),
                e.data.options.forEach(function(t) {
                    var n = document.createElement("option");
                    n.innerText = t.name,
                    n.value = t.id,
                    n.Oi = t.id,
                    a.appendChild(n),
                    e.value === t.id && n.setAttribute("selected", !0)
                }),
                a.addEventListener("change", function(n) {
                    var i = a.options[a.selectedIndex];
                    i && "undefined" != typeof i.Oi && (e.value = i.Oi),
                    t._i()
                }),
                a
            }
            throw new Error("Unsupported item type: " + n)
        }
        ,
        c.prototype.focus = function() {}
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    var e = function() {};
    if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
        var t = {}
          , n = DayPilot.Util.isReactComponent
          , i = DayPilot.Util.isVueComponent
          , a = DayPilot.Util.isVueVNode;
        DayPilot.Month = function(r, o) {
            this.v = "2024.4.6243",
            this.nav = {};
            var s = this;
            this.id = r,
            this.isMonth = !0,
            this.api = 2,
            this.Aa = !1,
            this.hideUntilInit = !0,
            this.startDate = new DayPilot.Date,
            this.width = null,
            "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null,
            this.cssClassPrefix = "month_default",
            this.cellHeight = 100,
            this.cellMarginBottom = 0,
            this.allowMultiSelect = !0,
            this.autoRefreshCommand = "refresh",
            this.autoRefreshEnabled = !1,
            this.autoRefreshInterval = 60,
            this.autoRefreshMaxCount = 20,
            this.doubleClickTimeout = 300,
            this.eventEndSpec = "DateTime",
            this.eventTextWrappingEnabled = !1,
            this.headerHeight = 30,
            this.heightSpec = "Auto",
            this.weekStarts = "Auto",
            this.eventBarVisible = !0,
            this.eventHeight = 25,
            this.cellHeaderHeight = 24,
            this.clientState = {},
            this.afterRender = function() {}
            ,
            this.cssOnly = !0,
            this.eventsLoadMethod = "GET",
            this.initEventEnabled = !1,
            this.lineSpace = 1,
            this.loadingLabelVisible = !0,
            this.loadingLabelText = "Loading...",
            this.loadingLabelHtml = null,
            this.locale = "en-us",
            this.maxEvents = "All",
            this.messageHideAfter = 5e3,
            this.notifyCommit = "Immediate",
            this.visible = !0,
            this.eventMoveToPosition = !1,
            this.eventStartTime = !1,
            this.eventEndTime = !1,
            this.eventStartEndWidth = 45,
            this.showWeekend = !0,
            this.cellMode = !1,
            this.rtl = !1,
            this.shadowType = "Fill",
            this.tapAndHoldTimeout = 300,
            this.timeFormat = "Auto",
            this.viewType = "Month",
            this.weeks = 1,
            this.xssProtection = "Enabled",
            this.cellHeaderClickHandling = "Enabled",
            this.eventClickHandling = "Enabled",
            this.eventDeleteHandling = "Disabled",
            this.eventDoubleClickHandling = "Disabled",
            this.eventMoveHandling = "Update",
            this.eventResizeHandling = "Update",
            this.eventRightClickHandling = "ContextMenu",
            this.eventSelectHandling = "Update",
            this.headerClickHandling = "Enabled",
            this.timeRangeSelectedHandling = "Enabled",
            this.timeRangeDoubleClickHandling = "Disabled",
            this.onEventFilter = null,
            this.onBeforeEventRender = null,
            this.onBeforeCellRender = null,
            this.onBeforeHeaderRender = null,
            this.onBeforeEventDomAdd = null,
            this.onBeforeEventDomRemove = null,
            this.onBeforeEventExport = null,
            this.onBeforeCellExport = null,
            this.onBeforeHeaderExport = null,
            this.onCellHeaderClick = null,
            this.onCellHeaderClicked = null,
            this.backendUrl = null,
            this.cellEvents = [],
            this.elements = {},
            this.elements.events = [],
            this.wa = {},
            this.wa.events = {},
            this.events = {},
            this.za = 0,
            this.members = {},
            this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"],
            this.Ca = "javasc",
            this.Qa = function(e, t) {
                var e = JSON.parse(e);
                if (e.BubbleGuid) {
                    var n = e.BubbleGuid
                      , i = this.bubbles[n];
                    return delete this.bubbles[n],
                    s.kb(),
                    void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i))
                }
                if (e.CallBackRedirect)
                    return void (document.location.href = e.CallBackRedirect);
                if ("undefined" != typeof e.ClientState && (s.clientState = e.ClientState),
                "None" === e.UpdateType)
                    return s.lb(e.CallBackData, !0),
                    e.Message && s.message(e.Message),
                    void s.kb();
                if (e.VsUpdate) {
                    var a = document.createElement("input");
                    a.type = "hidden",
                    a.name = s.id + "_vsupdate",
                    a.id = a.name,
                    a.value = e.VsUpdate,
                    s.hj.innerHTML = "",
                    s.hj.appendChild(a)
                }
                s.events.list = e.Events,
                "undefined" != typeof e.TagFields && (s.tagFields = e.TagFields),
                "undefined" != typeof e.SortDirections && (s.sortDirections = e.SortDirections),
                "Full" === e.UpdateType && (s.cellProperties = e.CellProperties,
                s.headerProperties = e.HeaderProperties,
                s.startDate = e.StartDate,
                "undefined" != typeof e.ShowWeekend && (s.showWeekend = e.ShowWeekend),
                s.locale = e.Locale ? e.Locale : s.locale,
                s.timeFormat = e.TimeFormat ? e.TimeFormat : s.timeFormat,
                "undefined" != typeof e.WeekStarts && (s.weekStarts = e.WeekStarts),
                s.hashes = e.Hashes),
                s.multiselect.clear(!0),
                s.multiselect.initList = e.SelectedEvents,
                s.Va(),
                s.ij(),
                s.qb(),
                "Full" === e.UpdateType && (s.jj(),
                s.kj()),
                s.yb(),
                s.E(),
                s.Cb(),
                s.lb(e.CallBackData, !0),
                s.Gb(),
                e.Message && s.message(e.Message),
                s.kb()
            }
            ,
            this.lb = function(e, t) {
                var n = function(e, t) {
                    return function() {
                        if (s.Hb()) {
                            if ("function" == typeof s.onAfterRender) {
                                var n = {};
                                n.isCallBack = t,
                                n.data = e,
                                s.onAfterRender(n)
                            }
                        } else
                            s.afterRender && s.afterRender(e, t)
                    }
                };
                window.setTimeout(n(e, t), 0)
            }
            ,
            this.Hb = function() {
                return 2 === s.api
            }
            ,
            this.Ha = function(e, t) {
                return s.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t
            }
            ,
            this.da = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : ""
            }
            ,
            this.qb = function() {
                if (this.events.list) {
                    if ("function" == typeof this.onBeforeEventRender)
                        for (var e = this.events.list.length, t = 0; t < e; t++)
                            this.Cg(t);
                    this.cellMode ? this.lj() : this.mj()
                }
            }
            ,
            this.Na = function(e) {
                var t = e ? 0 : 100;
                s.loadingTimeout && window.clearTimeout(s.loadingTimeout),
                s.loadingTimeout = window.setTimeout(function() {
                    s.loadingLabelVisible && s.nav.loading && (s.nav.loading.style.top = c.headerHeight() + 5 + "px",
                    s.nav.loading.innerHTML = s.Ha(this.loadingLabelText, this.loadingLabelHtml),
                    s.nav.loading.style.display = "")
                }, t)
            }
            ,
            this.kb = function() {
                this.loadingTimeout && window.clearTimeout(this.loadingTimeout),
                s.nav.loading && (this.nav.loading.style.display = "none")
            }
            ,
            this.mj = function() {
                if (this.events.list) {
                    for (var e = 0; e < this.events.list.length; e++) {
                        var t = this.events.list[e];
                        if ("object" != typeof t)
                            throw new DayPilot.Exception("Event data item must be an object");
                        if (!t.start)
                            throw new DayPilot.Exception("Event data item must specify 'start' property");
                        var n = null;
                        if ("function" == typeof s.onBeforeEventRender && (n = s.wa.events[e]),
                        n) {
                            if (n.hidden)
                                continue
                        } else if (t.hidden)
                            continue;
                        var i = new DayPilot.Date(t.start)
                          , a = new DayPilot.Date(t.end);
                        if (a = s.nj(a),
                        !(i.getTime() > a.getTime()))
                            for (var r = 0; r < this.rows.length; r++) {
                                var o = this.rows[r];
                                if (o.belongsHere(i, a)) {
                                    var l = new DayPilot.Event(t,s);
                                    if ("function" == typeof s.onEventFilter && s.events.Yg) {
                                        var d = {};
                                        if (d.filter = s.events.Yg,
                                        d.visible = !0,
                                        d.e = l,
                                        s.onEventFilter(d),
                                        !d.visible)
                                            break
                                    }
                                    o.events.push(l),
                                    "function" == typeof this.onBeforeEventRender && (l.cache = this.wa.events[e])
                                }
                            }
                    }
                    for (var c = 0; c < this.rows.length; c++) {
                        var o = this.rows[c];
                        o.events.sort(this._g);
                        for (var u = 0; u < this.rows[c].events.length; u++) {
                            var h = o.events[u]
                              , f = o.getStartColumn(h)
                              , v = o.getWidth(h);
                            o.putIntoLine(h, f, v, c)
                        }
                    }
                }
            }
            ,
            this.lj = function() {
                this.cellEvents = [];
                for (var e = 0; e < this.oj(); e++) {
                    this.cellEvents[e] = [];
                    for (var t = 0; t < this.rows.length; t++) {
                        var n = {}
                          , i = this.firstDate.addDays(7 * t + e);
                        n.start = i,
                        n.end = i.addDays(1),
                        n.events = [],
                        this.cellEvents[e][t] = n
                    }
                }
                for (var a = 0; a < this.events.list.length; a++) {
                    var r = this.events.list[a];
                    if ("object" != typeof r)
                        throw new DayPilot.Exception("Event data item must be an object");
                    if (!r.start)
                        throw new DayPilot.Exception("Event data item must specify 'start' property");
                    var o = null;
                    if ("function" == typeof s.onBeforeEventRender && (o = s.wa.events[a]),
                    o) {
                        if (o.hidden)
                            continue
                    } else if (r.hidden)
                        continue;
                    var l = new DayPilot.Date(r.start)
                      , d = new DayPilot.Date(r.start);
                    if (d = s.nj(d),
                    !(l.getTime() > d.getTime()))
                        for (var e = 0; e < this.oj(); e++)
                            for (var t = 0; t < this.rows.length; t++) {
                                var n = this.cellEvents[e][t];
                                if (l.getTime() >= n.start.getTime() && l.getTime() < n.end.getTime()) {
                                    var c = new DayPilot.Event(r,s);
                                    if ("function" == typeof s.onEventFilter && s.events.Yg) {
                                        var u = {};
                                        if (u.filter = s.events.Yg,
                                        u.visible = !0,
                                        u.e = c,
                                        s.onEventFilter(u),
                                        !u.visible)
                                            continue
                                    }
                                    n.events.push(c),
                                    "function" == typeof this.onBeforeEventRender && (c.cache = this.wa.events[a])
                                }
                            }
                }
                for (var e = 0; e < this.oj(); e++)
                    for (var t = 0; t < this.rows.length; t++) {
                        var n = this.cellEvents[e][t];
                        n.events.sort(this._g)
                    }
            }
            ,
            this.Va = function() {
                for (var e = 0; e < this.elements.events.length; e++) {
                    var t = this.elements.events[e];
                    !function() {
                        var e = t.domArgs;
                        if (t.domArgs = null,
                        "function" == typeof s.onDomRemoveEvent && s.onDomRemoveEvent(e),
                        e && "function" == typeof s.onBeforeEventDomRemove && s.onBeforeEventDomRemove(e),
                        e && "function" == typeof s.onBeforeEventDomAdd && s.X.reactDOM) {
                            var r = e && e.Ie;
                            if (r) {
                                var o = s.X.reactDOM && n(e.element)
                                  , l = s.Z.Ke && (i(e.element) || a(e.element));
                                o ? s.X.la(r) : l && (s.Z.Le = !0,
                                s.Z.ma(r),
                                s.Z.Le = !1)
                            }
                        }
                    }(),
                    t.event = null,
                    t.click = null,
                    t.parentNode.removeChild(t)
                }
                this.elements.events = []
            }
            ,
            this.Cb = function() {
                this.wa.events = {},
                this.cellMode ? this.pj() : this.qj(),
                this.multiselect.redraw()
            }
            ,
            this.pj = function() {
                if (this.elements.events = [],
                0 !== this.cellEvents.length)
                    for (var e = 0; e < this.oj(); e++)
                        for (var t = 0; t < this.rows.length; t++)
                            for (var n = this.cellEvents[e][t], i = (this.cells[e][t],
                            0); i < n.events.length; i++) {
                                var a = n.events[i];
                                a.part.colStart = e,
                                a.part.colWidth = 1,
                                a.part.row = t,
                                a.part.line = i,
                                a.part.startsHere = !0,
                                a.part.endsHere = !0,
                                this.Re(a)
                            }
            }
            ,
            this.qj = function() {
                this.elements.events = [];
                for (var e = "number" == typeof s.maxEvents ? s.maxEvents : 1e3, t = 0; t < this.rows.length; t++)
                    for (var n = this.rows[t], i = 0; i < n.lines.length; i++) {
                        var a = n.lines[i];
                        if (!(i >= e))
                            for (var r = 0; r < a.length; r++)
                                this.Re(a[r])
                    }
            }
            ,
            this.$g = function(e, t) {
                if (!(e && t && e.start && t.start))
                    return 0;
                var n = e.start().ticks - t.start().ticks;
                return 0 !== n ? n : t.end().ticks - e.end().ticks
            }
            ,
            this._g = function(e, t) {
                if (!e || !t)
                    return 0;
                if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length))
                    return s.$g(e, t);
                for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i]; )
                    n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : s.ah(e.data.sort[i], t.data.sort[i], s.sortDirections[i]),
                    i++;
                return n
            }
            ,
            this.ah = function(e, t, n) {
                var i = "desc" !== n
                  , a = i ? -1 : 1
                  , r = -a;
                if (null === e && null === t)
                    return 0;
                if (null === t)
                    return r;
                if (null === e)
                    return a;
                var o = [];
                return o[0] = e,
                o[1] = t,
                o.sort(),
                e === o[0] ? a : r
            }
            ,
            this.rj = function(e, n, i, a, r, o) {
                r || (r = 0);
                var l = function() {
                    for (var t = 0; t < a; t++) {
                        var i = e + 7 * n + t - r;
                        if (!(i < 0)) {
                            var o = i % 7
                              , l = Math.floor(i / 7);
                            if (!(l > s.rows.length - 1)) {
                                if (s.cells[o][l].props.disabled)
                                    return !0
                            }
                        }
                    }
                }()
                  , d = a;
                this.shadow = {},
                this.shadow.list = [],
                this.shadow.start = {
                    x: e,
                    y: n
                },
                this.shadow.width = a,
                this.shadow.disabled = l,
                this.eventMoveToPosition && (d = 1,
                this.shadow.position = i);
                var c = 7 * n + e - r;
                c < 0 && (d += c,
                e = 0,
                n = 0);
                for (var u = r; u >= 7; )
                    n--,
                    u -= 7;
                if (u > e) {
                    u > e + (7 - this.oj()) ? (n--,
                    e = e + 7 - u) : (d = d - u + e,
                    e = 0)
                } else
                    e -= u;
                n < 0 && (n = 0,
                e = 0);
                var h = null;
                for (t.resizingEvent ? h = "w-resize" : t.movingEvent && (h = "move"),
                this.nav.top.style.cursor = h; d > 0 && n < this.rows.length; ) {
                    var f = Math.min(this.oj() - e, d)
                      , v = this.rows[n]
                      , p = this.sj(n)
                      , m = v.getHeight();
                    this.eventMoveToPosition && (p = this.tj(n, i),
                    m = 2);
                    var g = document.createElement("div");
                    g.setAttribute("unselectable", "on"),
                    g.style.position = "absolute",
                    g.style.left = this.uj() * e + "%",
                    g.style.width = this.uj() * f + "%",
                    g.style.top = p + "px",
                    g.style.height = m + "px",
                    g.style.cursor = h;
                    var b = document.createElement("div");
                    b.setAttribute("unselectable", "on"),
                    g.appendChild(b),
                    g.className = this.da("_shadow"),
                    b.className = this.da("_shadow_inner"),
                    l && DayPilot.Util.addClass(g, this.da("_shadow_forbidden"));
                    this.nav.events.appendChild(g),
                    this.shadow.list.push(g),
                    d -= f + 7 - this.oj(),
                    e = 0,
                    n++
                }
            }
            ,
            this.vj = function() {
                if (this.shadow) {
                    this.nav.events;
                    DayPilot.de(this.shadow.list),
                    this.shadow = null,
                    this.nav.top.style.cursor = ""
                }
            }
            ,
            this.tj = function(e, t) {
                for (var n = 0, i = 0; i < e; i++)
                    n += this.rows[i].getHeight();
                return n += this.cellHeaderHeight,
                n += t * c.lineHeight()
            }
            ,
            this.wj = function(e, t) {
                return this.firstDate.addDays(7 * t + e)
            }
            ,
            this.Cg = function(e) {
                var t = this.wa.events
                  , n = this.events.list[e]
                  , i = {};
                for (var a in n)
                    i[a] = n[a];
                if ("function" == typeof this.onBeforeEventRender) {
                    var r = {};
                    r.e = i,
                    r.data = i,
                    r.control = s,
                    this.onBeforeEventRender(r)
                }
                t[e] = i
            }
            ,
            this.Re = function(e) {
                var t = this.cellMode
                  , r = e.part.row
                  , o = e.part.line
                  , d = e.part.colStart
                  , u = e.part.colWidth
                  , h = e.cache || e.data
                  , f = t ? 0 : this.uj() * d
                  , v = t ? 100 : this.uj() * u
                  , p = t ? o * c.lineHeight() : this.tj(r, o)
                  , m = document.createElement("div");
                m.setAttribute("unselectable", "on"),
                m.style.height = c.eventHeight() + "px",
                m.style.position = "relative",
                m.style.overflow = "hidden",
                m.className = this.da("_event"),
                h.cssClass && DayPilot.Util.addClass(m, h.cssClass),
                m.event = e,
                t ? (m.style.marginRight = "2px",
                m.style.marginBottom = "2px") : (m.style.width = v + "%",
                m.style.position = "absolute",
                m.style.left = f + "%",
                m.style.top = p + "px"),
                this.showToolTip && h.toolTip && !this.bubble && (m.title = h.toolTip),
                s.eventTextWrappingEnabled || (m.style.whiteSpace = "nowrap"),
                m.onclick = this.xj,
                m.ondblclick = this.yj,
                m.oncontextmenu = this.zj,
                m.onmousedown = this.Ue,
                m.onmousemove = this.Se,
                m.onmouseout = this.Te,
                DayPilot.reNonPassive(m, "touchstart", l.onEventTouchStart),
                DayPilot.rePassive(m, "touchmove", l.onEventTouchMove),
                DayPilot.rePassive(m, "touchend", l.onEventTouchEnd),
                e.part.startsHere || DayPilot.Util.addClass(m, this.da("_event_continueleft")),
                e.part.endsHere || DayPilot.Util.addClass(m, this.da("_event_continueright"));
                var g = document.createElement("div");
                if (g.setAttribute("unselectable", "on"),
                g.className = this.da("_event_inner"),
                h.fontColor && (g.style.color = h.fontColor),
                h.borderColor && ("darker" === h.borderColor && h.backColor ? g.style.borderColor = DayPilot.ColorUtil.darker(h.backColor, 2) : g.style.borderColor = h.borderColor),
                h.backColor && (g.style.background = h.backColor),
                h.backImage && (g.style.backgroundImage = "url(" + h.backImage + ")",
                h.backRepeat && (g.style.backgroundRepeat = h.backRepeat)),
                m.appendChild(g),
                e.client.barVisible()) {
                    var b = document.createElement("div");
                    b.setAttribute("unselectable", "on"),
                    b.className = this.da("_event_bar"),
                    b.style.position = "absolute";
                    var y = document.createElement("div");
                    y.setAttribute("unselectable", "on"),
                    y.className = this.da("_event_bar_inner"),
                    y.style.top = "0%",
                    y.style.height = "100%",
                    h.barColor && (y.style.backgroundColor = h.barColor),
                    b.appendChild(y),
                    m.appendChild(b)
                }
                var w = this.Ja.locale()
                  , x = s.eventStartEndWidth;
                if (this.eventStartTime || h.htmlStart) {
                    var f = 5;
                    s.eventBarVisible && (f += 5);
                    var k = "Clock12Hours" === s.Ja.timeFormat() ? e.start().toString("h tt", w) : e.start().toString("H", w)
                      , C = {
                        "left": f,
                        "top": 2,
                        "width": x,
                        "bottom": 2,
                        "v": "Visible",
                        "html": h.htmlStart || k,
                        "css": s.da("_event_timeleft")
                    }
                      , S = DayPilot.Areas.createArea(m, e, C);
                    m.appendChild(S),
                    g.style.paddingLeft = x + "px"
                }
                if (this.eventEndTime || h.htmlEnd) {
                    var k = "Clock12Hours" === s.Ja.timeFormat() ? e.end().toString("h tt", w) : e.end().toString("H", w)
                      , C = {
                        "right": 5,
                        "top": 2,
                        "width": x,
                        "bottom": 2,
                        "v": "Visible",
                        "html": h.htmlEnd || k,
                        "css": s.da("_event_timeright")
                    }
                      , S = DayPilot.Areas.createArea(m, e, C);
                    m.appendChild(S),
                    g.style.paddingRight = x + "px"
                }
                if (h.areas)
                    for (var _ = h.areas, E = 0; E < _.length; E++) {
                        var C = _[E];
                        if (DayPilot.Areas.isVisible(C)) {
                            var S = DayPilot.Areas.createArea(m, e, C);
                            m.appendChild(S)
                        }
                    }
                !function() {
                    var t = {};
                    if (t.e = e,
                    t.control = s,
                    t.element = null,
                    m.domArgs = t,
                    "function" == typeof s.onDomAddEvent && s.onDomAddEvent(t),
                    "function" == typeof s.onBeforeEventDomAdd && s.onBeforeEventDomAdd(t),
                    t.element) {
                        var r = g;
                        if (r) {
                            t.Ie = r;
                            var o = n(t.element)
                              , l = i(t.element)
                              , d = a(t.element);
                            if (o)
                                s.X.Je(),
                                s.X.W(t.element, r);
                            else if (l) {
                                if (!s.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                s.Z.Le = !0,
                                s.Z._(t.element, r, t.props),
                                s.Z.Le = !1
                            } else if (d) {
                                if (!s.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                s.Z.Le = !0,
                                s.Z.Me(t.element, r),
                                s.Z.Le = !1
                            } else
                                r.appendChild(t.element)
                        }
                    } else
                        g.innerHTML = e.client.innerHTML()
                }(),
                this.elements.events.push(m),
                t ? this.cells[d][r].body.appendChild(m) : this.nav.events.appendChild(m),
                s.multiselect.yd(m.event) && s.multiselect.add(m.event, !0);
                var m = m;
                if (s.Hb()) {
                    if ("function" == typeof s.onAfterEventRender) {
                        var T = {};
                        T.e = m.event,
                        T.div = m,
                        s.onAfterEventRender(T)
                    }
                } else
                    s.afterEventRender && s.afterEventRender(m.event, m)
            }
            ,
            this.xj = function(e) {
                l.start || s.Wb(this, e)
            }
            ,
            this.yj = function(e) {
                e.stopPropagation(),
                s.$b(this, e)
            }
            ,
            this.Se = function(e) {
                var n = this
                  , i = n.event;
                if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
                    var a = DayPilot.mo3(n, e);
                    if (a) {
                        !function() {
                            var e = n;
                            if (!e.active) {
                                var t = []
                                  , a = i.cache || i.data;
                                "Disabled" === s.eventDeleteHandling || a.deleteDisabled || t.push({
                                    "action": "JavaScript",
                                    "v": "Hover",
                                    "w": 17,
                                    "h": 17,
                                    "top": 2,
                                    "right": 2,
                                    "css": s.da("_event_delete"),
                                    "js": function(e) {
                                        s.gc(e)
                                    }
                                });
                                var r = e.event.cache ? e.event.cache.areas : e.event.data.areas;
                                r && r.length > 0 && (t = t.concat(r)),
                                DayPilot.Areas.showAreas(e, e.event, null, t)
                            }
                        }(),
                        s.Aj(n.event).forEach(function(e) {
                            DayPilot.Util.addClass(e, s.da("_event_hover"))
                        });
                        var r = 6;
                        if (!s.cellMode && a.x <= r && i.client.resizeEnabled() ? i.part.startsHere ? (n.style.cursor = "w-resize",
                        n.dpBorder = "left") : n.style.cursor = "not-allowed" : !s.cellMode && n.clientWidth - a.x <= r && i.client.resizeEnabled() ? i.part.endsHere ? (n.style.cursor = "e-resize",
                        n.dpBorder = "right") : n.style.cursor = "not-allowed" : i.client.clickEnabled() ? n.style.cursor = "pointer" : n.style.cursor = "default",
                        "undefined" != typeof DayPilot.Bubble && s.bubble && "Disabled" !== s.eventHoverHandling)
                            if (t.movingEvent || t.resizingEvent)
                                DayPilot.Bubble.hideActive();
                            else {
                                var o = this.Tg && a.x === this.Tg.x && a.y === this.Tg.y;
                                o || (this.Tg = a,
                                s.bubble.showEvent(n.event))
                            }
                    }
                }
            }
            ,
            this.Te = function(e) {
                var t = this;
                "undefined" != typeof DayPilot.Bubble && s.bubble && s.bubble.hideOnMouseOut(),
                t.style.cursor = "",
                s.Aj(t.event).forEach(function(e) {
                    DayPilot.Util.removeClass(e, s.da("_event_hover"))
                }),
                DayPilot.Areas.hideAreas(t, e)
            }
            ,
            this.zj = function() {
                var e = this;
                return s._b(e.event),
                !1
            }
            ,
            this.Ue = function(e) {
                if (!l.start) {
                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(),
                    DayPilot.Bubble.cancelShowing());
                    var n = this
                      , i = n.event
                      , a = i.part.row
                      , r = i.part.colStart
                      , o = i.part.line
                      , d = i.part.colWidth;
                    e = e || window.event;
                    var c = DayPilot.Util.mouseButton(e);
                    if (e.cancelBubble = !0,
                    e.stopPropagation && e.stopPropagation(),
                    c.left)
                        if ("undefined" != typeof DayPilot.Bubble && s.bubble && DayPilot.Bubble.hideActive(),
                        t.movingEvent = null,
                        "w-resize" === this.style.cursor || "e-resize" === this.style.cursor) {
                            var u = {};
                            u.start = {},
                            u.start.x = r,
                            u.start.y = a,
                            u.event = n.event,
                            u.width = DayPilot.DateUtil.daysSpan(u.event.start(), u.event.end()) + 1,
                            u.direction = this.style.cursor,
                            t.resizingEvent = u
                        } else if ("move" === this.style.cursor || i.client.moveEnabled()) {
                            s.vj();
                            var h = DayPilot.mo3(s.nav.events, e);
                            if (!h)
                                return;
                            var f = s.Bj(h.x, h.y);
                            if (!f)
                                return;
                            var v = DayPilot.DateUtil.daysDiff(i.start(), s.rows[a].start)
                              , p = 7 * f.y + f.x - (7 * a + r);
                            v && (p += v);
                            var m = {};
                            m.start = {},
                            m.start.x = r,
                            m.start.y = a,
                            m.start.line = o,
                            m.offset = s.eventMoveToPosition ? 0 : p,
                            m.colWidth = d,
                            m.event = n.event,
                            m.coords = h,
                            t.movingEvent = m
                        }
                }
            }
            ,
            this.temp = {},
            this.temp.getPosition = function() {
                if (!s.coords)
                    return null;
                var e = s.Bj(s.coords.x, s.coords.y);
                if (!e)
                    return null;
                var t = new DayPilot.Date(s.wj(e.x, e.y))
                  , e = {};
                return e.start = t,
                e.end = t.addDays(1),
                e
            }
            ,
            this.Ve = {};
            var l = s.Ve;
            l.active = !1,
            l.start = !1,
            l.timeouts = [],
            l.onEventTouchStart = function(e) {
                if (!l.active && !l.start) {
                    l.clearTimeouts(),
                    l.start = !0,
                    l.active = !1;
                    var t = this;
                    if (t.event.client.moveEnabled()) {
                        var n = s.tapAndHoldTimeout;
                        l.timeouts.push(window.setTimeout(function() {
                            l.active = !0,
                            l.start = !1;
                            var n = l.relativeCoords(e);
                            l.startMoving(t, n),
                            e.preventDefault()
                        }, n))
                    }
                    e.stopPropagation()
                }
            }
            ,
            l.onEventTouchMove = function(e) {
                l.clearTimeouts(),
                l.start = !1
            }
            ,
            l.onEventTouchEnd = function(e) {
                l.clearTimeouts(),
                l.start && s.Xb(this, e),
                window.setTimeout(function() {
                    l.start = !1,
                    l.active = !1
                }, 500)
            }
            ,
            l.onMainTouchStart = function(e) {
                if (!l.active && !l.start) {
                    l.clearTimeouts(),
                    l.start = !0,
                    l.active = !1;
                    var t = s.tapAndHoldTimeout;
                    l.timeouts.push(window.setTimeout(function() {
                        l.active = !0,
                        l.start = !1,
                        e.preventDefault();
                        var t = l.relativeCoords(e);
                        l.startRange(t)
                    }, t))
                }
            }
            ,
            l.onMainTouchMove = function(e) {
                if (l.clearTimeouts(),
                l.start = !1,
                l.active) {
                    e.preventDefault();
                    var t = l.relativeCoords(e);
                    if (l.moving)
                        return void l.updateMoving(t);
                    l.range && l.updateRange(t)
                }
            }
            ,
            l.onMainTouchEnd = function(e) {
                if (l.clearTimeouts(),
                l.active) {
                    if (l.moving) {
                        var t = (l.moving,
                        l.moving.event)
                          , n = s.shadow.start
                          , i = s.shadow.position
                          , a = l.moving.offset;
                        s.vj(),
                        l.moving = null,
                        s.wc(t, n.x, n.y, a, e, i)
                    }
                    if (l.range) {
                        var r = l.range
                          , n = new DayPilot.Date(s.wj(r.from.x, r.from.y))
                          , o = n.addDays(r.width);
                        l.range = null,
                        s.Fc(n, o)
                    }
                }
                window.setTimeout(function() {
                    l.start = !1,
                    l.active = !1
                }, 500)
            }
            ,
            l.clearTimeouts = function() {
                for (var e = 0; e < l.timeouts.length; e++)
                    clearTimeout(l.timeouts[e]);
                l.timeouts = []
            }
            ,
            l.relativeCoords = function(e) {
                var t = s.nav.events
                  , n = e.touches ? e.touches[0] : e
                  , i = n.pageX
                  , a = n.pageY
                  , r = DayPilot.abs(t);
                return {
                    x: i - r.x,
                    y: a - r.y,
                    toString: function() {
                        return "x: " + this.x + ", y:" + this.y
                    }
                }
            }
            ,
            l.startMoving = function(e, t) {
                s.vj();
                var n = e.event
                  , i = s.Bj(t.x, t.y);
                if (i) {
                    var a = DayPilot.DateUtil.daysDiff(n.start(), s.rows[n.part.row].start)
                      , r = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart);
                    a && (r += a);
                    var o = {};
                    o.start = {},
                    o.start.x = n.part.colStart,
                    o.start.y = n.part.row,
                    o.start.line = n.part.line,
                    o.offset = s.eventMoveToPosition ? 0 : r,
                    o.colWidth = n.part.colWidth,
                    o.event = n,
                    o.coords = t,
                    l.moving = o,
                    l.updateMoving(t)
                }
            }
            ,
            l.updateMoving = function(e) {
                var t = s.Bj(e.x, e.y);
                if (t) {
                    var n = s.Cj(t);
                    s.vj();
                    var i = l.moving.event
                      , a = l.moving.offset
                      , r = s.cellMode ? 1 : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1;
                    r < 1 && (r = 1),
                    s.rj(t.x, t.y, n, r, a, i)
                }
            }
            ,
            l.startRange = function(e) {
                var t = s.Bj(e.x, e.y);
                if (t) {
                    s.vj();
                    var n = {};
                    n.start = {},
                    n.start.x = t.x,
                    n.start.y = t.y,
                    n.x = t.x,
                    n.y = t.y,
                    n.width = 1,
                    l.range = n,
                    l.updateRange(e)
                }
            }
            ,
            l.updateRange = function(e) {
                var t = s.Bj(e.x, e.y);
                if (t) {
                    s.vj();
                    var n = l.range.start
                      , i = 7 * n.y + n.x
                      , a = 7 * t.y + t.x
                      , r = Math.abs(a - i) + 1;
                    r < 1 && (r = 1);
                    var o = i < a ? n : t;
                    l.range.width = r,
                    l.range.from = {
                        x: o.x,
                        y: o.y
                    },
                    s.rj(o.x, o.y, 0, r, 0, null)
                }
            }
            ,
            this.isWeekend = function(e) {
                return 0 === e.dayOfWeek() || 6 === e.dayOfWeek()
            }
            ,
            this.Dj = function() {
                var e = this.startDate.lastDayOfMonth();
                if (this.showWeekend)
                    return e;
                for (; this.isWeekend(e); )
                    e = e.addDays(-1);
                return e
            }
            ,
            this.ij = function() {
                if ("string" == typeof this.startDate && (this.startDate = new DayPilot.Date(this.startDate)),
                "Month" === this.viewType ? this.startDate = this.startDate.firstDayOfMonth() : this.startDate = this.startDate.getDatePart(),
                this.firstDate = this.startDate.firstDayOfWeek(c.weekStarts()),
                !this.showWeekend) {
                    for (var e = this.startDate.addMonths(-1).getMonth(), t = new DayPilot.Date(this.firstDate).addDays(6); this.isWeekend(t); )
                        t = t.addDays(-1);
                    t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7))
                }
                var n;
                this.startDate;
                if ("Month" === this.viewType) {
                    var i = this.Dj()
                      , a = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1;
                    n = Math.ceil(a / 7)
                } else
                    n = this.weeks;
                this.days = 7 * n,
                this.rows = [];
                for (var r = 0; r < n; r++) {
                    var o = {};
                    o.start = this.firstDate.addDays(7 * r),
                    o.end = o.start.addDays(this.oj()),
                    o.events = [],
                    o.lines = [],
                    o.index = r,
                    o.minHeight = this.cellHeight,
                    o.calendar = this,
                    o.belongsHere = function(e, t) {
                        return t.getTime() === e.getTime() && e.getTime() === this.start.getTime() || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime())
                    }
                    ,
                    o.getPartStart = function(e) {
                        return DayPilot.DateUtil.max(this.start, e.start())
                    }
                    ,
                    o.getPartEnd = function(e) {
                        return DayPilot.DateUtil.min(this.end, e.rawend())
                    }
                    ,
                    o.getStartColumn = function(e) {
                        var t = this.getPartStart(e);
                        return DayPilot.DateUtil.daysDiff(this.start, t)
                    }
                    ,
                    o.getWidth = function(e) {
                        var t = this.getPartStart(e)
                          , n = this.getPartEnd(e);
                        return DayPilot.DateUtil.daysSpan(t, n) + 1
                    }
                    ,
                    o.putIntoLine = function(e, t, n, i) {
                        for (var a = this, r = 0; r < this.lines.length; r++) {
                            var o = this.lines[r];
                            if (o.isFree(t, n))
                                return o.addEvent(e, t, n, i, r),
                                r
                        }
                        var o = [];
                        return o.isFree = function(e, t) {
                            for (var n = !0, i = 0; i < this.length; i++) {
                                var a = this[i];
                                e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (n = !1)
                            }
                            return n
                        }
                        ,
                        o.addEvent = function(e, t, n, i, r) {
                            e.part.colStart = t,
                            e.part.colWidth = n,
                            e.part.row = i,
                            e.part.line = r,
                            e.part.startsHere = a.start.getTime() <= e.start().getTime(),
                            e.part.endsHere = a.end.getTime() >= e.end().getTime(),
                            this.push(e)
                        }
                        ,
                        o.addEvent(e, t, n, i, this.lines.length),
                        this.lines.push(o),
                        this.lines.length - 1
                    }
                    ,
                    o.getStart = function() {
                        for (var e = 0, t = 0; t < s.rows.length && t < this.index; t++)
                            e += s.rows[t].getHeight()
                    }
                    ,
                    o.getHeight = function() {
                        var e = "number" == typeof s.maxEvents ? s.maxEvents : 1e3
                          , t = Math.min(e, this.lines.length);
                        return Math.max(t * c.lineHeight() + s.cellHeaderHeight + s.cellMarginBottom, this.calendar.cellHeight)
                    }
                    ,
                    this.rows.push(o)
                }
                this.Ej = this.firstDate.addDays(7 * n)
            }
            ,
            this.mh = function() {
                switch (this.heightSpec) {
                case "Auto":
                    for (var e = c.headerHeight(), t = 0; t < this.rows.length; t++)
                        e += this.rows[t].getHeight();
                    return e;
                case "Fixed":
                    return this.height
                }
            }
            ,
            this.lh = function(e, t) {
                return 7 * t.y + t.x - (7 * e.y + e.x) + 1
            }
            ,
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function() {
                s.ch.scope && s.ch.scope["$apply"]()
            }
            ,
            this.debug = new DayPilot.Debug(this),
            this.cf = function() {
                var e = this.nav.top;
                this.nav.top.dp = this,
                e.setAttribute("unselectable", "on"),
                e.style.MozUserSelect = "none",
                e.style.KhtmlUserSelect = "none",
                e.style.WebkitUserSelect = "none",
                e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)",
                e.style.WebkitTouchCallout = "none",
                e.style.position = "relative",
                this.width && (e.style.width = this.width),
                e.onselectstart = function(e) {
                    return !1
                }
                ,
                e.className = this.da("_main"),
                s.rtl && (e.style.direction = "rtl",
                DayPilot.Util.addClass(e, this.da("_direction_rtl"))),
                this.hideUntilInit && (e.style.visibility = "hidden"),
                this.visible || (e.style.display = "none"),
                e.onmousemove = this.jf,
                DayPilot.reNonPassive(e, "touchstart", l.onMainTouchStart),
                DayPilot.reNonPassive(e, "touchmove", l.onMainTouchMove),
                DayPilot.rePassive(e, "touchend", l.onMainTouchEnd),
                this.hj = document.createElement("div"),
                this.hj.style.display = "none",
                this.nav.top.appendChild(this.hj);
                var t = document.createElement("div");
                t.style.position = "relative",
                t.style.height = c.headerHeight() + "px",
                t.oncontextmenu = function() {
                    return !1
                }
                ,
                this.nav.top.appendChild(t),
                this.nav.header = t;
                var n = document.createElement("div");
                n.style.zoom = "1";
                var i = document.createElement("div");
                i.style.position = "relative",
                i.ondblclick = s.Fj,
                n.appendChild(i),
                this.nav.loading = document.createElement("div"),
                this.nav.loading.style.position = "absolute",
                this.nav.loading.style.top = "0px",
                this.nav.loading.style.left = "5px",
                this.nav.loading.className = s.da("_loading"),
                this.nav.loading.innerHTML = s.Ha(this.loadingLabelText, this.loadingLabelHtml),
                this.nav.loading.style.display = "none",
                this.nav.top.appendChild(n),
                this.nav.top.appendChild(this.nav.loading),
                this.nav.scrollable = n,
                this.nav.events = i
            }
            ,
            this.jf = function(e) {
                e.insideMainD = !0,
                window.event && window.event.srcElement && (window.event.srcElement.inside = !0),
                s.coords = DayPilot.mo3(s.nav.events, e);
                var n = s.coords;
                if (n) {
                    var i = s.Bj(n.x, n.y);
                    if (i) {
                        if (t.resizingEvent) {
                            s.vj();
                            var a, r, o = t.resizingEvent;
                            o.start;
                            if ("w-resize" === o.direction) {
                                r = i;
                                var l = o.event.rawend();
                                l.getDatePart().getTime() === l.getTime() && (l = l.addDays(-1));
                                var d = s.Gj(l);
                                a = s.lh(i, d)
                            } else
                                r = s.Gj(o.event.start()),
                                a = s.lh(r, i);
                            a < 1 && (a = 1),
                            s.rj(r.x, r.y, 0, a)
                        } else if (t.movingEvent) {
                            if (n.x === t.movingEvent.coords.x && n.y === t.movingEvent.coords.y)
                                return;
                            var c = 3
                              , u = Math.abs(n.x - t.movingEvent.coords.x) + Math.abs(n.y - t.movingEvent.coords.y);
                            if (u <= c)
                                return;
                            var h = s.Cj(i);
                            s.vj();
                            var f = t.movingEvent.event
                              , v = t.movingEvent.offset
                              , a = s.cellMode ? 1 : DayPilot.DateUtil.daysSpan(f.start(), f.rawend()) + 1;
                            a < 1 && (a = 1),
                            s.rj(i.x, i.y, h, a, v, f)
                        } else if (t.timeRangeSelecting) {
                            t.cancelCellClick = !0,
                            s.vj();
                            var r = t.timeRangeSelecting
                              , p = 7 * r.y + r.x
                              , m = 7 * i.y + i.x
                              , a = Math.abs(m - p) + 1;
                            a < 1 && (a = 1);
                            var g = p < m ? r : i;
                            t.timeRangeSelecting.from = {
                                x: g.x,
                                y: g.y
                            },
                            t.timeRangeSelecting.width = a,
                            t.timeRangeSelecting.moved = !0,
                            s.rj(g.x, g.y, 0, a, 0, null)
                        }
                        if (t.drag) {
                            if (t.gShadow && document.body.removeChild(t.gShadow),
                            t.gShadow = null,
                            !t.movingEvent) {
                                var b = DayPilot.Date.today()
                                  , e = {
                                    "id": t.drag.id,
                                    "start": b,
                                    "end": b.addSeconds(t.drag.duration),
                                    "text": t.drag.text
                                }
                                  , y = t.drag.data;
                                if (y) {
                                    var w = ["duration", "element", "remove", "id", "text"];
                                    for (var x in y)
                                        DayPilot.contains(w, x) || (e[x] = y[x])
                                }
                                var f = new DayPilot.Event(e,s);
                                f.external = !0;
                                var k = t.movingEvent = {};
                                k.event = f,
                                k.coords = n,
                                k.position = 0,
                                k.offset = 0,
                                k.external = !0,
                                k.removeElement = t.drag.element
                            }
                            e.cancelBubble = !0
                        }
                    }
                }
            }
            ,
            this.Cj = function(e) {
                for (var t = e.relativeY, n = s.rows[e.y], i = s.cellHeaderHeight, a = c.lineHeight(), r = n.lines.length, o = 0; o < n.lines.length; o++) {
                    if (n.lines[o].isFree(e.x, 1)) {
                        r = o;
                        break
                    }
                }
                var l = Math.floor((t - i + a / 2) / a)
                  , l = Math.min(r, l)
                  , l = Math.max(0, l);
                return l
            }
            ,
            this.message = function(e, t) {
                if (null !== e && s.Aa) {
                    var n, i = {};
                    "object" == typeof arguments[1] ? (i = arguments[1],
                    n = i.delay) : n = t;
                    var a = "";
                    a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e),
                    n = n || this.messageHideAfter || 2e3;
                    var r, o = c.headerHeight();
                    if (this.nav.message)
                        r = s.nav.message;
                    else {
                        r = document.createElement("div"),
                        r.setAttribute("unselectable", "on"),
                        r.style.position = "absolute",
                        r.style.right = "0px",
                        r.style.left = "0px",
                        r.style.top = o + "px",
                        r.style.display = "none",
                        r.onmousemove = function() {
                            r.messageTimeout && !r.status && clearTimeout(r.messageTimeout)
                        }
                        ,
                        r.onmouseout = function() {
                            "none" !== s.nav.message.style.display && (r.messageTimeout = setTimeout(s.Ub, 500))
                        }
                        ;
                        var l = document.createElement("div");
                        l.setAttribute("unselectable", "on"),
                        l.onclick = function() {
                            s.nav.message.style.display = "none"
                        }
                        ,
                        l.className = this.da("_message"),
                        r.appendChild(l);
                        var d = document.createElement("div");
                        d.setAttribute("unselectable", "on"),
                        d.style.position = "absolute",
                        d.className = this.da("_message_close"),
                        d.onclick = function() {
                            s.nav.message.style.display = "none"
                        }
                        ,
                        r.appendChild(d),
                        this.nav.top.appendChild(r),
                        this.nav.message = r
                    }
                    var u = function() {
                        if (s.nav.message) {
                            var e = s.nav.message.firstChild;
                            e.className = s.da("_message"),
                            i.cssClass && DayPilot.Util.addClass(e, i.cssClass),
                            e.innerHTML = a;
                            var t = function() {
                                r.messageTimeout = setTimeout(s.Ub, n)
                            };
                            DayPilot.fade(s.nav.message, .2, t)
                        }
                    };
                    clearTimeout(r.messageTimeout),
                    "none" !== this.nav.message.style.display ? DayPilot.fade(s.nav.message, -.2, u) : u()
                }
            }
            ,
            this.message.show = function(e) {
                s.message(e)
            }
            ,
            this.message.hide = function() {
                s.Ub()
            }
            ,
            this.Ub = function() {
                var e = function() {
                    s.nav.message.style.display = "none"
                };
                DayPilot.fade(s.nav.message, -.2, e)
            }
            ,
            this._a = function(e) {
                "Parent100Pct" === s.heightSpec && s.yb()
            }
            ,
            this.yb = function() {
                var e = this.nav.scrollable;
                if ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec ? (e.style.top = this.headerHeight + "px",
                e.style.bottom = "0px",
                e.style.left = "0px",
                e.style.right = "0px",
                e.style.overflow = "auto",
                e.style.position = "absolute") : e.style.position = "relative",
                "Parent100Pct" === this.heightSpec) {
                    this.nav.top.style.height = "100%";
                    this.nav.top.clientHeight
                } else
                    this.nav.top.style.height = this.mh() + "px";
                for (var t = 0; t < this.cells.length; t++)
                    for (var n = 0; n < this.cells[t].length; n++)
                        this.cells[t][n].style.top = this.sj(n) + "px",
                        this.cells[t][n].style.height = this.rows[n].getHeight() + "px";
                this.Hj()
            }
            ,
            this.Bj = function(e, t) {
                var n = s.oj();
                e = Math.max(0, e);
                for (var i = Math.floor(this.nav.top.clientWidth / n), a = Math.min(Math.floor(e / i), n - 1), r = null, o = 0, l = 0, d = 0, c = 0; c < this.rows.length; c++) {
                    if (l += this.rows[c].getHeight(),
                    t < l) {
                        o = t - d,
                        r = c;
                        break
                    }
                    d = l
                }
                null === r && (r = this.rows.length - 1);
                var u = {};
                return u.x = a,
                u.y = r,
                u.relativeY = o,
                u
            }
            ,
            this.Gj = function(e) {
                for (var t = DayPilot.DateUtil.daysDiff(this.firstDate, e), n = {
                    x: 0,
                    y: 0
                }; t >= 7; )
                    n.y++,
                    t -= 7;
                return n.x = t,
                n
            }
            ,
            this.Hj = function() {
                var e = DayPilot.sw(this.nav.scrollable);
                this.nav.header.style.marginRight = e + "px"
            }
            ;
            var d = null;
            this.kj = function() {
                var e = this.nav.header
                  , t = this.nav.events
                  , n = s.oj();
                this.cells = [];
                for (var i = 0; i < n; i++) {
                    var a = s.rtl ? 0 === i : i === n - 1;
                    this.cells[i] = [];
                    var r = this.headerProperties ? this.headerProperties[i] : null
                      , o = i + c.weekStarts();
                    if (o > 6 && (o -= 7),
                    !r) {
                        var r = {};
                        r.html = c.locale().dayNames[o]
                    }
                    if ("function" == typeof s.onBeforeHeaderRender) {
                        var l = {};
                        l.header = {},
                        l.header.dayOfWeek = o;
                        var u = ["html", "backColor", "cssClass"];
                        DayPilot.Util.copyProps(r, l.header, u),
                        s.onBeforeHeaderRender(l),
                        DayPilot.Util.copyProps(l.header, r, u)
                    }
                    var h = document.createElement("div");
                    h.setAttribute("unselectable", "on"),
                    h.style.position = "absolute",
                    s.rtl ? h.style.right = this.uj() * i + "%" : h.style.left = this.uj() * i + "%",
                    a ? (h.style.right = "0px",
                    s.rtl && (h.style.width = this.uj() + "%")) : h.style.width = this.uj() + "%",
                    h.style.top = "0px",
                    h.style.height = c.headerHeight() + "px",
                    function(e) {
                        h.onclick = function() {
                            s.cc(e)
                        }
                    }(o);
                    var f = document.createElement("div");
                    f.setAttribute("unselectable", "on"),
                    f.className = this.da("_header_inner"),
                    f.innerHTML = r.html,
                    h.appendChild(f),
                    h.className = this.da("_header"),
                    r && (r.cssClass && DayPilot.Util.addClass(h, r.cssClass),
                    r.backColor && (f.style.background = r.backColor)),
                    e.appendChild(h);
                    for (var v = 0; v < this.rows.length; v++)
                        this.Ye(i, v, t)
                }
                if (!DayPilot.contains(this.nav.top.childNodes, d) && DayPilot.Util.isNullOrUndefined(undefined)) {
                    var p = document.createElement("div");
                    p.style.position = "absolute",
                    p.style.padding = "2px",
                    p.style.top = "0px",
                    p.style.left = "0px",
                    p.style.backgroundColor = "#FF6600",
                    p.style.color = "white",
                    p.innerHTML = "\u0044\u0045" + "\u004D\u004F",
                    d = p,
                    this.nav.top.appendChild(p)
                }
            }
            ,
            this.jj = function() {
                for (var e = 0; e < this.cells.length; e++)
                    for (var t = 0; t < this.cells[e].length; t++)
                        this.cells[e][t].onclick = null,
                        function() {
                            var r = s.cells[e][t]
                              , o = r.domArgs;
                            if (r.domArgs = null,
                            o && "function" == typeof s.onBeforeCellDomRemove && s.onBeforeCellDomRemove(o),
                            o && "function" == typeof s.onBeforeCellDomAdd && s.X.reactDOM) {
                                var l = o && o.Ie;
                                if (l) {
                                    var d = s.X.reactDOM && n(o.element)
                                      , c = s.Z.Ke && (i(o.element) || a(o.element));
                                    d ? s.X.la(l) : c && (s.Z.Le = !0,
                                    s.Z.ma(l),
                                    s.Z.Le = !1)
                                }
                            }
                        }();
                this.nav.header.innerHTML = "",
                this.nav.events.innerHTML = ""
            }
            ,
            this.Ye = function(t, r, o) {
                var l = this.rows[r]
                  , d = this.firstDate.addDays(7 * r + t)
                  , u = this.cellProperties ? this.cellProperties[r * this.oj() + t] : null
                  , h = s.oj()
                  , f = t === h - 1
                  , v = null;
                if (u)
                    v = u["headerHtml"];
                else {
                    var p = d.getDay();
                    v = 1 === p ? c.locale().monthNames[d.getMonth()] + " " + p : p + ""
                }
                if (!u) {
                    var u = {};
                    u.business = !s.isWeekend(d),
                    u.headerHtml = v,
                    u.disabled = !1,
                    u.backColor = null,
                    u.backImage = null,
                    u.backRepeat = null,
                    u.areas = null,
                    u.headerBackColor = null,
                    u.cssClass = null,
                    u.html = null
                }
                var m = {};
                m.cell = {},
                m.cell.start = d,
                m.cell.end = m.cell.start.addDays(1),
                m.cell.properties = u,
                m.cell.events = function() {
                    return s.events.forRange(m.cell.start, m.cell.end)
                }
                ,
                "function" == typeof s.onBeforeCellRender && (s.onBeforeCellRender(m),
                DayPilot.Util.copyProps(m.cell, u, ["areas", "backColor", "backImage", "backRepeat", "business", "disabled", "headerHtml", "headerBackColor", "cssClass", "html"]));
                var g = this.uj() * t
                  , b = this.uj()
                  , y = document.createElement("div");
                y.setAttribute("unselectable", "on"),
                y.style.position = "absolute",
                y.style.cursor = "default",
                s.rtl ? y.style.right = g + "%" : y.style.left = g + "%",
                f ? s.rtl ? (y.style.left = "100%",
                y.style.width = b + "%") : y.style.right = "0px" : y.style.width = b + "%",
                y.style.top = this.sj(r) + "px",
                y.style.height = l.getHeight() + "px",
                y.d = d,
                y.x = t,
                y.y = r,
                y.props = u;
                var w = this.startDate.addMonths(-1).getMonth()
                  , x = this.startDate.addMonths(1).getMonth()
                  , k = this.startDate.getMonth()
                  , C = document.createElement("div");
                C.setAttribute("unselectable", "on"),
                y.appendChild(C),
                C.className = this.da("_cell_inner"),
                C.className = this.da("_cell_inner"),
                d.getMonth() === k ? y.className = this.da("_cell") : d.getMonth() === w ? y.className = this.da("_cell") + " " + this.da("_previous") : d.getMonth() === x ? y.className = this.da("_cell") + " " + this.da("_next") : e(),
                u && (u["cssClass"] && DayPilot.Util.addClass(y, u.cssClass),
                u["business"] && DayPilot.Util.addClass(y, this.da("_cell_business")),
                u["backColor"] && (C.style.backgroundColor = u["backColor"]),
                u["backImage"] && (C.style.backgroundImage = "url('" + u["backImage"] + "')"),
                u["backRepeat"] && (C.style.backgroundRepeat = u["backRepeat"])),
                y.onmousedown = this.Oc,
                y.onmousemove = this.bd,
                y.onmouseout = this.ad,
                y.oncontextmenu = this.Ij,
                y.onclick = this.Jj,
                y.ondblclick = this.Fj;
                var S = document.createElement("div");
                if (S.setAttribute("unselectable", "on"),
                S.style.height = this.cellHeaderHeight + "px",
                u && u["headerBackColor"] && (S.style.background = u["headerBackColor"]),
                S.className = this.da("_cell_header"),
                S.innerHTML = u.headerHtml,
                S.onclick = function(e) {
                    if ("Enabled" === s.cellHeaderClickHandling) {
                        e.stopPropagation();
                        var t = {};
                        t.control = s,
                        t.start = d,
                        t.end = d.addDays(1),
                        t.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof s.onCellHeaderClick && (s.onCellHeaderClick(t),
                        t.preventDefault.value) || "function" == typeof s.onCellHeaderClicked && s.onCellHeaderClicked(t)
                    }
                }
                ,
                C.appendChild(S),
                u && u["html"]) {
                    var _ = document.createElement("div");
                    _.setAttribute("unselectable", "on"),
                    _.style.height = l.getHeight() - this.cellHeaderHeight + "px",
                    _.style.overflow = "hidden",
                    _.innerHTML = u["html"],
                    C.appendChild(_)
                }
                if (this.cellMode) {
                    var E = document.createElement("div");
                    E.setAttribute("unselectable", "on"),
                    E.style.height = this.cellHeight - this.cellHeaderHeight + "px",
                    E.style.overflow = "auto",
                    E.style.position = "relative";
                    var T = document.createElement("div");
                    T.setAttribute("unselectable", "on"),
                    T.style.paddingTop = "1px",
                    T.style.paddingBottom = "1px",
                    E.appendChild(T),
                    C.appendChild(E),
                    y.body = T,
                    y.scrolling = E
                }
                if (y.props)
                    for (var D = y.props.areas || [], A = 0; A < D.length; A++) {
                        var M = D[A];
                        if (DayPilot.Areas.isVisible(M)) {
                            var H = DayPilot.Areas.createArea(y, m.cell, M);
                            y.appendChild(H)
                        }
                    }
                !function() {
                    if ("function" == typeof s.onBeforeCellDomAdd || "function" == typeof s.onBeforeCellDomRemove) {
                        var e = {};
                        if (e.control = s,
                        e.cell = {},
                        e.cell.start = d,
                        e.cell.end = e.cell.start.addDays(1),
                        e.cell.events = function() {
                            return s.events.forRange(e.cell.start, e.cell.end)
                        }
                        ,
                        e.element = null,
                        y.domArgs = e,
                        "function" == typeof s.onBeforeCellDomAdd && s.onBeforeCellDomAdd(e),
                        e.element) {
                            var t = C;
                            if (t) {
                                e.Ie = t;
                                var r = n(e.element)
                                  , o = i(e.element)
                                  , l = a(e.element);
                                if (r) {
                                    if (!s.X.reactDOM)
                                        throw new DayPilot.Exception("Can't reach ReactDOM");
                                    s.X.W(e.element, t)
                                } else if (o) {
                                    if (!s.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    s.Z.Le = !0,
                                    s.Z._(e.element, t, e.props),
                                    s.Z.Le = !1
                                } else if (l) {
                                    if (!s.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    s.Z.Le = !0,
                                    s.Z.Me(e.element, t),
                                    s.Z.Le = !1
                                } else
                                    t.appendChild(e.element)
                            }
                        }
                    }
                }(),
                this.cells[t][r] = y,
                o.appendChild(y),
                "function" == typeof s.onAfterCellRender && (m.cell.div = y,
                m.cell.divHeader = S,
                s.onAfterCellRender(m))
            }
            ,
            this.bd = function() {
                var e = this;
                e.props && DayPilot.Areas.showAreas(e, e.props)
            }
            ,
            this.ad = function(e) {
                var t = this;
                t.props && DayPilot.Areas.hideAreas(t, e)
            }
            ,
            this.Ij = function() {
                var e = this.d;
                return function(e) {
                    var t = new DayPilot.Date(e)
                      , n = t.addDays(1)
                      , i = new DayPilot.Selection(t,n,null,s);
                    s.contextMenuSelection && s.contextMenuSelection.show(i)
                }(e),
                !1
            }
            ,
            this.Fj = function() {
                var e = s.coords
                  , t = s.Bj(e.x, e.y)
                  , n = s.wj(t.x, t.y);
                if (s.timeouts) {
                    for (var i in s.timeouts)
                        window.clearTimeout(s.timeouts[i]);
                    s.timeouts = null
                }
                if ("Disabled" !== s.timeRangeDoubleClickHandling) {
                    var a = new DayPilot.Date(n)
                      , r = a.addDays(1);
                    s.Hc(a, r)
                }
            }
            ,
            this.Jj = function() {
                if (!t.cancelCellClick) {
                    var e = this.d;
                    if (!this.props.disabled) {
                        var n = function(e) {
                            var t = new DayPilot.Date(e)
                              , n = t.addDays(1);
                            s.Fc(t, n)
                        };
                        if ("Disabled" !== s.timeRangeSelectedHandling && "Disabled" === s.timeRangeDoubleClickHandling)
                            return void n(e);
                        s.timeouts || (s.timeouts = []);
                        var i = function(e) {
                            return function() {
                                n(e)
                            }
                        };
                        s.timeouts.push(window.setTimeout(i(e), s.doubleClickTimeout))
                    }
                }
            }
            ,
            this.Oc = function(e) {
                var n = this
                  , i = n.x
                  , a = n.y;
                if (t.cancelCellClick = !1,
                n.scrolling) {
                    var r = DayPilot.mo3(n.scrolling, e)
                      , o = DayPilot.sw(n.scrolling)
                      , l = n.scrolling.offsetWidth;
                    if (r.x > l - o)
                        return
                }
                "Disabled" !== s.timeRangeSelectedHandling && (s.vj(),
                s.rtl && (i = s.oj() - 1 - i),
                t.timeRangeSelecting = {
                    "root": s,
                    "x": i,
                    "y": a,
                    "from": {
                        x: i,
                        y: a
                    },
                    "width": 1
                }),
                s.rj(i, a, 0, 1)
            }
            ,
            this.oj = function() {
                return this.showWeekend ? 7 : 5
            }
            ,
            this.uj = function() {
                return this.showWeekend ? 14.285 : 20
            }
            ,
            this.sj = function(e) {
                for (var t = 0, n = 0; n < e; n++)
                    t += this.rows[n].getHeight();
                return t
            }
            ,
            this.clearSelection = function() {
                this.vj()
            }
            ,
            this.Ka = function(e, t, n) {
                var i = {};
                i.action = e,
                i.parameters = n,
                i.data = t,
                i.header = this.La();
                var a = "JSON" + JSON.stringify(i);
                __doPostBack(s.uniqueID, a)
            }
            ,
            this.Ma = function(e, t, n, i) {
                if (!this.ka())
                    return void s.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof i && (i = "CallBack"),
                s.Na();
                var a = {};
                a.action = e,
                a.type = i,
                a.parameters = t,
                a.data = n,
                a.header = this.La();
                var r = "JSON" + JSON.stringify(a);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, null, this.callbackError, !0)
            }
            ,
            this.ka = function() {
                return "javasc" !== s.Ca && s.Ca.indexOf("DCODE") === -1 || s.devsb
            }
            ,
            this.Ra = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            }
            ,
            this.Pa = function(e) {
                if ("function" == typeof s.onAjaxError) {
                    var t = {};
                    t.request = e,
                    s.onAjaxError(t)
                } else
                    "function" == typeof s.ajaxError && s.ajaxError(e)
            }
            ,
            this.Oa = function(e) {
                s.Qa(e.responseText)
            }
            ,
            this.La = function() {
                var e = {};
                return e.v = this.v,
                e.control = "dpm",
                e.id = this.id,
                e.visibleStart = new DayPilot.Date(this.firstDate),
                e.visibleEnd = e.visibleStart.addDays(this.days),
                e.clientState = this.clientState,
                e.cssClassPrefix = s.cssClassPrefix,
                e.startDate = s.startDate,
                e.showWeekend = this.showWeekend,
                e.locale = this.locale,
                e.timeFormat = this.timeFormat,
                e.weekStarts = this.weekStarts,
                e.viewType = this.viewType,
                e.weeks = this.weeks,
                e.selected = s.multiselect.events(),
                e.hashes = s.hashes,
                e
            }
            ,
            this.visibleStart = function() {
                return new DayPilot.Date(this.firstDate)
            }
            ,
            this.visibleEnd = function() {
                return s.visibleStart().addDays(s.days)
            }
            ,
            this.hc = function(e, t, n, i) {
                if ("PostBack" === e)
                    s.postBack2(t, n, i);
                else if ("CallBack" === e)
                    s.Ma(t, n, i, "CallBack");
                else if ("Immediate" === e)
                    s.Ma(t, n, i, "Notify");
                else if ("Queue" === e)
                    s.queue.add(new DayPilot.Action(this,t,n,i));
                else {
                    if ("Notify" !== e)
                        throw "Invalid event invocation type";
                    "Notify" === c.notifyType() ? s.Ma(t, n, i, "Notify") : s.queue.add(new DayPilot.Action(s,t,n,i))
                }
            }
            ,
            this.Bc = function(e, t) {
                var n = s.Cc(t)
                  , i = {};
                i.args = e,
                i.guid = n,
                s.Ma("Bubble", i)
            }
            ,
            this.Cc = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []),
                this.bubbles[t] = e,
                t
            }
            ,
            this.eventClickPostBack = function(e, t) {
                this.Ka("EventClick", t, e)
            }
            ,
            this.eventClickCallBack = function(e, t) {
                this.Ma("EventClick", e, t)
            }
            ,
            this.Wb = function(e, n) {
                t.movingEvent = null,
                t.resizingEvent = null;
                var n = n || window.event;
                n.ctrlKey,
                n.metaKey;
                if (n.cancelBubble = !0,
                n.stopPropagation && n.stopPropagation(),
                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                "Disabled" === s.eventDoubleClickHandling)
                    return void s.Xb(e, n);
                if (s.timeouts) {
                    for (var i in s.timeouts)
                        window.clearTimeout(s.timeouts[i]);
                    s.timeouts = []
                } else
                    s.timeouts = [];
                var a = function(e, t) {
                    return function() {
                        s.Xb(e, t)
                    }
                };
                s.timeouts.push(window.setTimeout(a(e, n), s.doubleClickTimeout))
            }
            ,
            this.Xb = function(e, t) {
                var n = e.event;
                if (n.client.clickEnabled()) {
                    var i = t.ctrlKey
                      , a = t.metaKey;
                    if (s.Hb()) {
                        var r = {};
                        if (r.e = n,
                        r.control = s,
                        r.div = e,
                        r.originalEvent = t,
                        r.meta = t.metaKey,
                        r.ctrl = t.ctrlKey,
                        r.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof s.onEventClick && (s.onEventClick(r),
                        r.preventDefault.value))
                            return;
                        switch (s.eventClickHandling) {
                        case "PostBack":
                            s.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            s.eventClickCallBack(n);
                            break;
                        case "Select":
                            s.Zb(e, n, i, a);
                            break;
                        case "ContextMenu":
                            var o = n.client.contextMenu();
                            o ? o.show(n) : s.contextMenu && s.contextMenu.show(n);
                            break;
                        case "Bubble":
                            s.bubble && s.bubble.showEvent(n)
                        }
                        "function" == typeof s.onEventClicked && s.onEventClicked(r)
                    } else
                        switch (s.eventClickHandling) {
                        case "PostBack":
                            s.eventClickPostBack(n);
                            break;
                        case "CallBack":
                            s.eventClickCallBack(n);
                            break;
                        case "JavaScript":
                            s.onEventClick(n);
                            break;
                        case "Select":
                            s.Zb(e, n, i, a);
                            break;
                        case "ContextMenu":
                            var o = n.client.contextMenu();
                            o ? o.show(n) : s.contextMenu && s.contextMenu.show(n);
                            break;
                        case "Bubble":
                            s.bubble && s.bubble.showEvent(n)
                        }
                }
            }
            ,
            this.gc = function(e) {
                if (s.Hb()) {
                    var t = {};
                    if (t.e = e,
                    t.control = s,
                    t.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onEventDelete && (s.onEventDelete(t),
                    t.preventDefault.value))
                        return;
                    switch (s.eventDeleteHandling) {
                    case "PostBack":
                        s.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        s.eventDeleteCallBack(e);
                        break;
                    case "Update":
                        s.events.remove(e)
                    }
                    "function" == typeof s.onEventDeleted && s.onEventDeleted(t)
                } else
                    switch (s.eventDeleteHandling) {
                    case "PostBack":
                        s.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        s.eventDeleteCallBack(e);
                        break;
                    case "JavaScript":
                        s.onEventDelete(e)
                    }
            }
            ,
            this.eventDeletePostBack = function(e, t) {
                this.Ka("EventDelete", e, t)
            }
            ,
            this.eventDeleteCallBack = function(e, t) {
                this.Ma("EventDelete", e, t)
            }
            ,
            this.eventDoubleClickPostBack = function(e, t) {
                this.Ka("EventDoubleClick", t, e)
            }
            ,
            this.eventDoubleClickCallBack = function(e, t) {
                this.Ma("EventDoubleClick", e, t)
            }
            ,
            this.$b = function(e, t) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                s.timeouts) {
                    for (var n in s.timeouts)
                        window.clearTimeout(s.timeouts[n]);
                    s.timeouts = null
                }
                var t = t || window.event
                  , i = e.event;
                if (i.client.doubleClickEnabled())
                    if (s.Hb()) {
                        var a = {};
                        if (a.e = i,
                        a.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof s.onEventDoubleClick && (s.onEventDoubleClick(a),
                        a.preventDefault.value))
                            return;
                        switch (s.eventDoubleClickHandling) {
                        case "PostBack":
                            s.eventDoubleClickPostBack(i);
                            break;
                        case "CallBack":
                            s.eventDoubleClickCallBack(i);
                            break;
                        case "Select":
                            s.Zb(e, i, t.ctrlKey, t.metaKey);
                            break;
                        case "Bubble":
                            s.bubble && s.bubble.showEvent(i)
                        }
                        "function" == typeof s.onEventDoubleClicked && s.onEventDoubleClicked(a)
                    } else
                        switch (s.eventDoubleClickHandling) {
                        case "PostBack":
                            s.eventDoubleClickPostBack(i);
                            break;
                        case "CallBack":
                            s.eventDoubleClickCallBack(i);
                            break;
                        case "JavaScript":
                            s.onEventDoubleClick(i);
                            break;
                        case "Select":
                            s.Zb(e, i, t.ctrlKey, t.metaKey);
                            break;
                        case "Bubble":
                            s.bubble && s.bubble.showEvent(i)
                        }
            }
            ,
            this.Zb = function(e, t, n, i) {
                s.Jc(e, t, n, i)
            }
            ,
            this.eventSelectPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ka("EventSelect", n, i)
            }
            ,
            this.eventSelectCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ma("EventSelect", i, n)
            }
            ,
            this.Jc = function(e, t, n, i) {
                var a = s.multiselect
                  , r = a.isSelected(t);
                if (n || i || !r || 1 !== a.list.length)
                    if (s.Hb()) {
                        a.previous = a.events();
                        var o = {};
                        if (o.e = t,
                        o.selected = a.isSelected(t),
                        o.ctrl = n,
                        o.meta = i,
                        o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof s.onEventSelect && (s.onEventSelect(o),
                        o.preventDefault.value))
                            return;
                        switch (s.eventSelectHandling) {
                        case "PostBack":
                            s.eventSelectPostBack(t, l);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            s.eventSelectCallBack(t, l);
                            break;
                        case "Update":
                            a.Nc(e, n)
                        }
                        "function" == typeof s.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected",
                        o.selected = a.isSelected(t),
                        s.onEventSelected(o))
                    } else {
                        a.previous = a.events(),
                        a.Nc(e, n);
                        var l = a.isSelected(t) ? "selected" : "deselected";
                        switch (s.eventSelectHandling) {
                        case "PostBack":
                            s.eventSelectPostBack(t, l);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            s.eventSelectCallBack(t, l);
                            break;
                        case "JavaScript":
                            s.onEventSelect(t, l)
                        }
                    }
            }
            ,
            this.eventRightClickPostBack = function(e, t) {
                this.Ka("EventRightClick", t, e)
            }
            ,
            this.eventRightClickCallBack = function(e, t) {
                this.Ma("EventRightClick", e, t)
            }
            ,
            this._b = function(e) {
                if (this.event = e,
                !e.client.rightClickEnabled())
                    return !1;
                if (s.Hb()) {
                    var t = {};
                    if (t.e = e,
                    t.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onEventRightClick && (s.onEventRightClick(t),
                    t.preventDefault.value))
                        return;
                    switch (s.eventRightClickHandling) {
                    case "PostBack":
                        s.eventRightClickPostBack(e);
                        break;
                    case "CallBack":
                        s.eventRightClickCallBack(e);
                        break;
                    case "ContextMenu":
                        var n = e.client.contextMenu();
                        n ? n.show(e) : s.contextMenu && s.contextMenu.show(this.event);
                        break;
                    case "Bubble":
                        s.bubble && s.bubble.showEvent(e)
                    }
                    "function" == typeof s.onEventRightClicked && s.onEventRightClicked(t)
                } else
                    switch (s.eventRightClickHandling) {
                    case "PostBack":
                        s.eventRightClickPostBack(e);
                        break;
                    case "CallBack":
                        s.eventRightClickCallBack(e);
                        break;
                    case "JavaScript":
                        s.onEventRightClick(e);
                        break;
                    case "ContextMenu":
                        var n = e.client.contextMenu();
                        n ? n.show(e) : s.contextMenu && s.contextMenu.show(this.event);
                        break;
                    case "Bubble":
                        s.bubble && s.bubble.showEvent(e)
                    }
                return !1
            }
            ,
            this.eventMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ka("EventMenuClick", n, i)
            }
            ,
            this.eventMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ma("EventMenuClick", i, n)
            }
            ,
            this.Dc = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    s.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    s.eventMenuClickCallBack(t, e)
                }
            }
            ,
            this.eventMovePostBack = function(e, t, n, i, a) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var r = {};
                r.e = e,
                r.newStart = t,
                r.newEnd = n,
                r.position = a,
                this.Ka("EventMove", i, r)
            }
            ,
            this.eventMoveCallBack = function(e, t, n, i, a) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var r = {};
                r.e = e,
                r.newStart = t,
                r.newEnd = n,
                r.position = a,
                this.Ma("EventMove", r, i)
            }
            ,
            this.wc = function(e, t, n, i, a, r, o) {
                var l = e.start().getTimePart()
                  , d = e.rawend().getDatePart();
                d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
                var c = DayPilot.DateUtil.diff(e.rawend(), d)
                  , u = this.wj(t, n);
                u = u.addDays(-i);
                var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1
                  , f = u.addDays(h)
                  , v = u.addTime(l)
                  , p = f.addTime(c);
                if (p = s.Kj(p),
                s.Hb()) {
                    var m = {};
                    if (m.e = e,
                    m.control = s,
                    m.newStart = v,
                    m.newEnd = p,
                    m.position = r,
                    m.external = o,
                    m.ctrl = !1,
                    m.shift = !1,
                    m.meta = !1,
                    a && (m.shift = a.shiftKey,
                    m.ctrl = a.ctrlKey,
                    m.meta = a.metaKey),
                    m.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onEventMove && (s.onEventMove(m),
                    m.preventDefault.value))
                        return;
                    switch (s.eventMoveHandling) {
                    case "PostBack":
                        s.eventMovePostBack(e, v, p, null, r);
                        break;
                    case "CallBack":
                        s.eventMoveCallBack(e, v, p, null, r);
                        break;
                    case "Notify":
                        s.eventMoveNotify(e, v, p, null, r);
                        break;
                    case "Update":
                        m.external ? (e.start(v),
                        e.end(p),
                        e.commit(),
                        s.events.add(e)) : (e.start(v),
                        e.end(p),
                        s.events.update(e)),
                        s.zc()
                    }
                    "function" == typeof s.onEventMoved && s.onEventMoved(m)
                } else
                    switch (s.eventMoveHandling) {
                    case "PostBack":
                        s.eventMovePostBack(e, v, p, null, r);
                        break;
                    case "CallBack":
                        s.eventMoveCallBack(e, v, p, null, r);
                        break;
                    case "JavaScript":
                        s.onEventMove(e, v, p, a.ctrlKey, a.shiftKey, r);
                        break;
                    case "Notify":
                        s.eventMoveNotify(e, v, p, null, r)
                    }
            }
            ,
            this.eventMoveNotify = function(e, t, n, i, a) {
                var r = new DayPilot.Event(e.copy(),this);
                e.start(t),
                e.end(n),
                e.commit(),
                s.update(),
                this.Ac("Notify", r, t, n, i, a)
            }
            ,
            this.Ac = function(e, t, n, i, a, r) {
                var o = {};
                o.e = t,
                o.newStart = n,
                o.newEnd = i,
                o.position = r,
                this.hc(e, "EventMove", o, a)
            }
            ,
            this.eventResizePostBack = function(e, t, n, i) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var a = {};
                a.e = e,
                a.newStart = t,
                a.newEnd = n,
                this.Ka("EventResize", i, a)
            }
            ,
            this.eventResizeCallBack = function(e, t, n, i) {
                if (!t)
                    throw "newStart is null";
                if (!n)
                    throw "newEnd is null";
                var a = {};
                a.e = e,
                a.newStart = t,
                a.newEnd = n,
                this.Ma("EventResize", a, i)
            }
            ,
            this.nc = function(e, t, n) {
                var i = e.start().getTimePart()
                  , a = e.rawend().getDatePart();
                a.getTime() !== e.rawend().getTime() && (a = a.addDays(1));
                var r = DayPilot.DateUtil.diff(e.rawend(), a)
                  , o = this.wj(t.x, t.y)
                  , l = o.addDays(n)
                  , d = o.addTime(i)
                  , c = l.addTime(r);
                if (c = s.Kj(c),
                s.Hb()) {
                    var u = {};
                    if (u.e = e,
                    u.control = s,
                    u.newStart = d,
                    u.newEnd = c,
                    u.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onEventResize && (s.onEventResize(u),
                    u.preventDefault.value))
                        return;
                    switch (s.eventResizeHandling) {
                    case "PostBack":
                        s.eventResizePostBack(e, d, c);
                        break;
                    case "CallBack":
                        s.eventResizeCallBack(e, d, c);
                        break;
                    case "Notify":
                        s.eventResizeNotify(e, d, c);
                        break;
                    case "Update":
                        e.start(d),
                        e.end(c),
                        s.events.update(e)
                    }
                    "function" == typeof s.onEventResized && s.onEventResized(u)
                } else
                    switch (s.eventResizeHandling) {
                    case "PostBack":
                        s.eventResizePostBack(e, d, c);
                        break;
                    case "CallBack":
                        s.eventResizeCallBack(e, d, c);
                        break;
                    case "JavaScript":
                        s.onEventResize(e, d, c);
                        break;
                    case "Notify":
                        s.eventResizeNotify(e, d, c)
                    }
            }
            ,
            this.eventResizeNotify = function(e, t, n, i) {
                var a = new DayPilot.Event(e.copy(),this);
                e.start(t),
                e.end(n),
                e.commit(),
                s.update(),
                this.qc("Notify", a, t, n, i)
            }
            ,
            this.qc = function(e, t, n, i, a) {
                var r = {};
                r.e = t,
                r.newStart = n,
                r.newEnd = i,
                this.hc(e, "EventResize", r, a)
            }
            ,
            this.timeRangeSelectedPostBack = function(e, t, n) {
                var i = {};
                i.start = e,
                i.end = t,
                this.Ka("TimeRangeSelected", n, i)
            }
            ,
            this.timeRangeSelectedCallBack = function(e, t, n) {
                var i = {};
                i.start = e,
                i.end = t,
                this.Ma("TimeRangeSelected", i, n)
            }
            ,
            this.Fc = function(e, t) {
                if (t = s.Kj(t),
                s.Hb()) {
                    var n = {};
                    if (n.start = e,
                    n.end = t,
                    n.control = s,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onTimeRangeSelect && (s.onTimeRangeSelect(n),
                    n.preventDefault.value))
                        return;
                    switch (s.timeRangeSelectedHandling) {
                    case "PostBack":
                        s.timeRangeSelectedPostBack(e, t),
                        s.clearSelection();
                        break;
                    case "CallBack":
                        s.timeRangeSelectedCallBack(e, t),
                        s.clearSelection()
                    }
                    "function" == typeof s.onTimeRangeSelected && s.onTimeRangeSelected(n)
                } else
                    switch (s.timeRangeSelectedHandling) {
                    case "PostBack":
                        s.timeRangeSelectedPostBack(e, t),
                        s.clearSelection();
                        break;
                    case "CallBack":
                        s.timeRangeSelectedCallBack(e, t),
                        s.clearSelection();
                        break;
                    case "JavaScript":
                        s.onTimeRangeSelected(e, t)
                    }
            }
            ,
            this.timeRangeMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ka("TimeRangeMenuClick", n, i)
            }
            ,
            this.timeRangeMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ma("TimeRangeMenuClick", i, n)
            }
            ,
            this.Ec = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    s.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    s.timeRangeMenuClickCallBack(t, e)
                }
            }
            ,
            this.headerClickPostBack = function(e, t) {
                this.Ka("HeaderClick", t, e)
            }
            ,
            this.headerClickCallBack = function(e, t) {
                this.Ma("HeaderClick", e, t)
            }
            ,
            this.cc = function(e) {
                var t = (this.data,
                {
                    day: e
                });
                if (s.Hb()) {
                    var n = {};
                    if (n.header = {},
                    n.header.dayOfWeek = e,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onHeaderClick && (s.onHeaderClick(n),
                    n.preventDefault.value))
                        return;
                    switch (s.headerClickHandling) {
                    case "PostBack":
                        s.headerClickPostBack(t);
                        break;
                    case "CallBack":
                        s.headerClickCallBack(t)
                    }
                    "function" == typeof s.onHeaderClicked && s.onHeaderClicked(n)
                } else
                    switch (s.headerClickHandling) {
                    case "PostBack":
                        s.headerClickPostBack(t);
                        break;
                    case "CallBack":
                        s.headerClickCallBack(t);
                        break;
                    case "JavaScript":
                        s.onHeaderClick(t)
                    }
            }
            ,
            this.timeRangeDoubleClickPostBack = function(e, t, n) {
                var i = {};
                i.start = e,
                i.end = t,
                this.Ka("TimeRangeDoubleClick", n, i)
            }
            ,
            this.timeRangeDoubleClickCallBack = function(e, t, n) {
                var i = {};
                i.start = e,
                i.end = t,
                this.Ma("TimeRangeDoubleClick", i, n)
            }
            ,
            this.Hc = function(e, t) {
                if (s.Hb()) {
                    var n = {};
                    if (n.start = e,
                    n.end = t,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof s.onTimeRangeDoubleClick && (s.onTimeRangeDoubleClick(n),
                    n.preventDefault.value))
                        return;
                    switch (s.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        s.timeRangeDoubleClickPostBack(e, t);
                        break;
                    case "CallBack":
                        s.timeRangeDoubleClickCallBack(e, t)
                    }
                    "function" == typeof s.onTimeRangeDoubleClicked && s.onTimeRangeDoubleClicked(n)
                } else
                    switch (s.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        s.timeRangeDoubleClickPostBack(e, t);
                        break;
                    case "CallBack":
                        s.timeRangeDoubleClickCallBack(e, t);
                        break;
                    case "JavaScript":
                        s.onTimeRangeDoubleClick(e, t)
                    }
            }
            ,
            this.commandCallBack = function(e, t) {
                this.Lj();
                var n = {};
                n.command = e,
                this.Ma("Command", n, t)
            }
            ,
            this.commandPostBack = function(e, t) {
                this.Lj();
                var n = {};
                n.command = e,
                this.Ka("Command", n, t)
            }
            ,
            this.bh = function(e) {
                for (var t = 0; t < s.elements.events.length; t++) {
                    var n = s.elements.events[t];
                    if (n.event === e || n.event.data === e.data)
                        return n
                }
                return null
            }
            ,
            this.Aj = function(e) {
                var t = {};
                t.list = [],
                t.forEach = function(e) {
                    if (e)
                        for (var t = 0; t < this.list.length; t++)
                            e(this.list[t])
                }
                ;
                for (var n = 0; n < this.elements.events.length; n++) {
                    var i = this.elements.events[n];
                    i.event.data === e.data && t.list.push(i)
                }
                return t
            }
            ,
            this.hh = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute",
                t.style.top = "-2000px",
                t.style.left = "-2000px",
                t.className = this.da(e),
                document.body.appendChild(t);
                var n = t.offsetHeight
                  , i = t.offsetWidth;
                document.body.removeChild(t);
                var a = {};
                return a.height = n,
                a.width = i,
                a
            }
            ,
            this.Ja = {};
            var c = this.Ja;
            c.Ia = function() {
                return "Disabled" !== s.xssProtection
            }
            ,
            c.clearCache = function() {
                delete s.wa.eventHeight,
                delete s.wa.headerHeight
            }
            ,
            c.lineHeight = function() {
                return c.eventHeight() + s.lineSpace
            }
            ,
            c.rounded = function() {
                return "Rounded" === s.eventCorners
            }
            ,
            c.loadFromServer = function() {
                return !!s.backendUrl
            }
            ,
            c.locale = function() {
                return DayPilot.Locale.find(s.locale)
            }
            ,
            c.getWeekStart = function() {
                return s.showWeekend ? s.weekStarts : 1
            }
            ,
            c.weekStarts = function() {
                if (!s.showWeekend)
                    return 1;
                if ("Auto" === s.weekStarts) {
                    var e = c.locale();
                    return e ? e.weekStarts : 0
                }
                return s.weekStarts
            }
            ,
            c.notifyType = function() {
                var e;
                if ("Immediate" === s.notifyCommit)
                    e = "Notify";
                else {
                    if ("Queue" !== s.notifyCommit)
                        throw "Invalid notifyCommit value: " + s.notifyCommit;
                    e = "Queue"
                }
                return e
            }
            ,
            c.eventHeight = function() {
                if (s.wa.eventHeight)
                    return s.wa.eventHeight;
                var e = s.hh("_event_height").height;
                return e || (e = s.eventHeight),
                s.wa.eventHeight = e,
                e
            }
            ,
            c.headerHeight = function() {
                if (s.wa.headerHeight)
                    return s.wa.headerHeight;
                var e = s.hh("_header_height").height;
                return e || (e = s.headerHeight),
                s.wa.headerHeight = e,
                e
            }
            ,
            c.timeFormat = function() {
                return "Auto" !== s.timeFormat ? s.timeFormat : c.locale().timeFormat
            }
            ,
            this.qg = function() {
                var e = s.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0)
            }
            ,
            this.exportAs = function(e, t) {
                if (!s.qg())
                    throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export.");
                var n = u.generate(e, t);
                return new DayPilot.Export(n)
            }
            ,
            this.jh = {};
            var u = this.jh;
            u.B = null,
            u.kh = null,
            u.generate = function(e, t) {
                "object" == typeof e && (t = e,
                e = null);
                var t = t || {}
                  , e = e || t.format || "svg"
                  , n = t.scale || 1;
                if ("config" !== e) {
                    "jpg" === e.toLowerCase() && (e = "jpeg");
                    var i = t.area || "viewport";
                    u.B = t,
                    u.kh = i;
                    var a, r = u.getWidth(), o = u.getHeight();
                    switch (e.toLowerCase()) {
                    case "svg":
                        a = new DayPilot.Svg(r,o);
                        break;
                    case "png":
                        a = new DayPilot.Canvas(r,o,"image/png",n);
                        break;
                    case "jpeg":
                        a = new DayPilot.Canvas(r,o,"image/jpeg",n,t.quality);
                        break;
                    default:
                        throw "Export format not supported: " + e
                    }
                    var l = u.getRectangles()
                      , d = new DayPilot.StyleReader(s.nav.top).get("background-color")
                      , h = new DayPilot.StyleReader(s.nav.top).get("border-top-color")
                      , f = s.nav.header.firstChild.firstChild
                      , v = new DayPilot.StyleReader(f).get("background-color")
                      , p = new DayPilot.StyleReader(f).getFont()
                      , m = new DayPilot.StyleReader(f).get("color")
                      , g = s.cells[0][0].firstChild
                      , b = (new DayPilot.StyleReader(g).get("background-color"),
                    new DayPilot.StyleReader(g).get("border-right-color"))
                      , y = l.grid.w * s.uj() / 100
                      , w = 0;
                    a.fillRect(l.main, "white"),
                    a.fillRect(l.main, d),
                    DayPilot.list.for(s.oj()).forEach(function(e) {
                        var t = s.headerProperties ? s.headerProperties[e] : null
                          , n = e + c.weekStarts();
                        if (n > 6 && (n -= 7),
                        !t) {
                            var t = {};
                            t.html = c.locale().dayNames[n]
                        }
                        var i = 0
                          , r = y
                          , o = c.headerHeight()
                          , l = t.html
                          , d = {
                            "x": w,
                            "y": i,
                            "w": r + 1,
                            "h": o + 1
                        }
                          , u = DayPilot.Util.copyProps(d)
                          , f = {};
                        f.header = {},
                        f.header.dayOfWeek = n,
                        f.backColor = v,
                        f.text = l,
                        f.horizontalAlignment = "center",
                        f.verticalAlignment = "center",
                        f.fontSize = p.size,
                        f.fontFamily = p.family,
                        f.fontStyle = p.style,
                        f.fontColor = m,
                        "function" == typeof s.onBeforeHeaderExport && s.onBeforeHeaderExport(f);
                        var g = {
                            "size": f.fontSize,
                            "family": f.fontFamily,
                            "style": f.fontStyle
                        };
                        a.fillRect(d, f.backColor),
                        a.rect(d, h),
                        a.text(u, f.text, g, f.fontColor, f.horizontalAlignment, 0, f.verticalAlignment),
                        w += r
                    });
                    var x = l.grid.y;
                    u.Mj().forEach(function(e) {
                        var t = e.getHeight()
                          , n = 0
                          , i = s.rows.indexOf(e);
                        DayPilot.list.for(s.oj()).forEach(function(e) {
                            var r = s.cells[e][i]
                              , o = r.props
                              , l = y
                              , d = new DayPilot.StyleReader(s.cells[e][i].firstChild).get("background-color")
                              , c = s.cells[e][i].firstChild.firstChild
                              , u = new DayPilot.StyleReader(c).getFont()
                              , h = new DayPilot.StyleReader(c).get("color")
                              , f = new DayPilot.StyleReader(c).get("background-color")
                              , v = s.firstDate.addDays(7 * i + e)
                              , p = {};
                            p.cell = {},
                            p.cell.start = v,
                            p.cell.end = v.addDays(1),
                            p.backColor = d,
                            p.text = o.headerHtml,
                            p.horizontalAlignment = "right",
                            "function" == typeof s.onBeforeCellExport && s.onBeforeCellExport(p);
                            var m = {
                                "x": n,
                                "y": x,
                                "w": l + 1,
                                "h": t + 1
                            };
                            a.fillRect(m, p.backColor),
                            a.rect(m, b);
                            var g = {
                                "x": n,
                                "y": x,
                                "w": l - 2,
                                "h": s.cellHeaderHeight
                            };
                            a.fillRect(m, f),
                            a.text(g, p.text, u, h, p.horizontalAlignment),
                            n += l
                        }),
                        x += t
                    });
                    var k = 0;
                    return u.Mj().forEach(function(e) {
                        var t = e.getHeight();
                        DayPilot.list(e.lines).forEach(function(e) {
                            DayPilot.list(e).forEach(function(e) {
                                var t = e.cache || e.data
                                  , n = u.qh();
                                n.className += " " + t.cssClass;
                                var i = n.firstChild
                                  , r = n.querySelector("." + s.da("_event_bar"))
                                  , o = new DayPilot.StyleReader(i).get("border-right-color")
                                  , d = new DayPilot.StyleReader(i).getFont()
                                  , h = new DayPilot.StyleReader(i).get("color")
                                  , f = new DayPilot.StyleReader(i).getBackColor()
                                  , v = new DayPilot.StyleReader(r.firstChild).getBackColor()
                                  , p = new DayPilot.StyleReader(r.firstChild).getPx("width")
                                  , m = {};
                                m.left = new DayPilot.StyleReader(i).getPx("padding-left"),
                                m.right = new DayPilot.StyleReader(i).getPx("padding-right"),
                                m.top = new DayPilot.StyleReader(i).getPx("padding-top"),
                                m.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom");
                                t.barColor || v;
                                DayPilot.de(n);
                                var g = t.backColor || f
                                  , b = {};
                                b.e = e,
                                b.text = e.text ? e.text() : e.client.html(),
                                b.fontSize = d.size,
                                b.fontFamily = d.family,
                                b.fontStyle = d.style,
                                b.fontColor = t.fontColor || h,
                                b.backColor = t.backColor || g,
                                b.borderColor = t.borderColor || o,
                                b.horizontalAlignment = "left",
                                b.barWidth = p,
                                b.barColor = t.barColor || v,
                                "function" == typeof s.onBeforeEventExport && s.onBeforeEventExport(b);
                                var w = y * e.part.colStart
                                  , x = y * e.part.colWidth
                                  , C = k + s.cellHeaderHeight + e.part.line * c.lineHeight() + l.grid.y + 2
                                  , S = c.eventHeight()
                                  , _ = 2
                                  , E = {
                                    "x": w + _,
                                    "y": C,
                                    "w": x + 1 - 4,
                                    "h": S
                                }
                                  , T = DayPilot.Util.copyProps(E)
                                  , D = DayPilot.Util.copyProps(T);
                                if (D.x += m.left,
                                D.w -= m.left + m.right,
                                D.y += m.top,
                                D.h -= m.top + m.bottom,
                                a.fillRect(E, b.backColor),
                                e.client.barVisible()) {
                                    var A = {
                                        "x": E.x,
                                        "y": E.y,
                                        "w": b.barWidth,
                                        "h": E.h
                                    };
                                    a.fillRect(A, b.barColor)
                                }
                                a.text(D, b.text, {
                                    "size": b.fontSize,
                                    "family": b.fontFamily,
                                    "style": b.fontStyle
                                }, b.fontColor, b.horizontalAlignment),
                                a.rect(E, b.borderColor)
                            })
                        }),
                        k += t
                    }),
                    a.rect(l.main, h),
                    a.line(l.grid.x, 0, l.grid.x, l.main.h, h),
                    a.line(0, l.grid.y, l.main.w, l.grid.y, h),
                    a
                }
            }
            ,
            u.qh = function() {
                var e = document.createElement("div");
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px",
                e.style.display = "none",
                e.className = s.da("_event");
                var t = document.createElement("div");
                t.className = s.da("_event_inner"),
                e.appendChild(t);
                var n = document.createElement("div");
                n.className = s.da("_event_bar");
                var i = document.createElement("div");
                return i.className = s.da("_event_bar_inner"),
                n.appendChild(i),
                e.appendChild(n),
                s.nav.events.appendChild(e),
                e
            }
            ,
            u.oh = function() {
                var e = document.createElement("div");
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px",
                e.style.display = "none",
                e.className = s.da("_cell");
                var t = document.createElement("div");
                return t.className = s.da("_cell_inner"),
                e.appendChild(t),
                s.nav.events.appendChild(e),
                e
            }
            ,
            u.getWidth = function() {
                var e = u.kh
                  , t = Math.floor(s.nav.top.clientWidth / s.oj()) * s.oj();
                switch (e) {
                case "viewport":
                case "full":
                case "range":
                    return "number" == typeof u.B.width ? u.B.width : t;
                default:
                    throw "Unsupported export mode: " + e
                }
            }
            ,
            u.getHeight = function() {
                var e = u.kh;
                switch (e) {
                case "viewport":
                case "full":
                    return s.nav.top.clientHeight;
                case "range":
                    var t = c.headerHeight();
                    return u.Mj().forEach(function(e) {
                        t += e.getHeight()
                    }),
                    t;
                default:
                    throw "Unsupported export mode: " + e
                }
            }
            ,
            u.Mj = function() {
                var e = new DayPilot.Date(u.B.dateFrom || s.visibleStart())
                  , t = new DayPilot.Date(u.B.dateTo || s.visibleEnd());
                return s.rows.filter(function(n) {
                    return "range" !== u.kh || DayPilot.Util.overlaps(n.start, n.end, e, t)
                })
            }
            ,
            u.getRectangles = function() {
                var e = c.headerHeight()
                  , t = {};
                return t.main = {
                    "x": 0,
                    "y": 0,
                    "w": u.getWidth(),
                    "h": u.getHeight()
                },
                t.grid = {
                    "x": 0,
                    "y": e,
                    "w": u.getWidth(),
                    "h": u.getHeight() - e
                },
                t
            }
            ,
            this.multiselect = {},
            this.multiselect.initList = [],
            this.multiselect.list = [],
            this.multiselect.divs = [],
            this.multiselect.previous = [],
            this.multiselect.vd = function() {
                var e = s.multiselect;
                return JSON.stringify(e.events())
            }
            ,
            this.multiselect.events = function() {
                var e = s.multiselect
                  , t = [];
                t.ignoreToJSON = !0;
                for (var n = 0; n < e.list.length; n++)
                    t.push(e.list[n]);
                return t
            }
            ,
            this.multiselect.xd = function() {}
            ,
            this.multiselect.Nc = function(e, t) {
                var n = s.multiselect;
                if (n.isSelected(e.event))
                    if (s.allowMultiSelect)
                        if (t)
                            n.remove(e.event, !0);
                        else {
                            var i = n.list.length;
                            n.clear(!0),
                            i > 1 && n.add(e.event, !0)
                        }
                    else
                        n.clear(!0);
                else
                    s.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0),
                    n.add(e.event, !0));
                n.redraw(),
                n.xd()
            }
            ,
            this.multiselect.yd = function(e) {
                var t = s.multiselect;
                return t.zd(e, t.initList)
            }
            ,
            this.multiselect.Ad = function() {
                for (var e = s.multiselect, t = [], n = 0; n < e.list.length; n++) {
                    var i = e.list[n];
                    t.push(i.value())
                }
                alert(t.join("\n"))
            }
            ,
            this.multiselect.add = function(e, t) {
                var n = s.multiselect;
                n.Bd(e) === -1 && n.list.push(e),
                t || n.redraw()
            }
            ,
            this.multiselect.remove = function(e, t) {
                var n = s.multiselect
                  , i = n.Bd(e);
                i !== -1 && n.list.splice(i, 1)
            }
            ,
            this.multiselect.clear = function(e) {
                var t = s.multiselect;
                t.list = [],
                e || t.redraw()
            }
            ,
            this.multiselect.redraw = function() {
                for (var e = s.multiselect, t = 0; t < s.elements.events.length; t++) {
                    var n = s.elements.events[t];
                    e.isSelected(n.event) ? e.Cd(n) : e.Dd(n)
                }
            }
            ,
            this.multiselect.Cd = function(e) {
                var t = s.multiselect
                  , n = s.da("_selected")
                  , e = t.Ed(e);
                DayPilot.Util.addClass(e, n),
                t.divs.push(e)
            }
            ,
            this.multiselect.Ed = function(e) {
                return e
            }
            ,
            this.multiselect.Fd = function() {
                for (var e = s.multiselect, t = 0; t < e.divs.length; t++) {
                    var n = e.divs[t];
                    e.Dd(n, !0)
                }
                e.divs = []
            }
            ,
            this.multiselect.Dd = function(e, t) {
                var n = s.multiselect
                  , i = s.da("_selected")
                  , a = n.Ed(e);
                if (a && a.className && a.className.indexOf(i) !== -1 && (a.className = a.className.replace(i, "")),
                !t) {
                    var r = DayPilot.indexOf(n.divs, e);
                    r !== -1 && n.divs.splice(r, 1)
                }
            }
            ,
            this.multiselect.isSelected = function(e) {
                return s.multiselect.zd(e, s.multiselect.list)
            }
            ,
            this.multiselect.Bd = function(e) {
                for (var t = e.data, n = 0; n < s.multiselect.list.length; n++) {
                    var i = s.multiselect.list[n];
                    if (s.Gd(i.data, t))
                        return n
                }
                return -1
            }
            ,
            this.multiselect.zd = function(e, t) {
                if (!t)
                    return !1;
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (s.Gd(e, i))
                        return !0
                }
                return !1
            }
            ,
            this.Gd = function(e, t) {
                return DayPilot.Util.isSameEvent(e, t)
            }
            ,
            this.events.forRange = function(e, t) {
                e = new DayPilot.Date(e),
                t = new DayPilot.Date(t);
                var n = DayPilot.list(s.events.list).map(function(e) {
                    return new DayPilot.Event(e)
                });
                return n.sort(s._g),
                n.filter(function(n) {
                    var i = n.start()
                      , a = n.end();
                    return i === a && i === e || DayPilot.Util.overlaps(e, t, i, a)
                })
            }
            ,
            this.events.find = function(e) {
                if (!s.events.list || "undefined" == typeof s.events.list.length)
                    return null;
                if ("function" == typeof e) {
                    for (var t = e, n = 0; n < s.events.list.length; n++) {
                        var i = new DayPilot.Event(s.events.list[n],s);
                        if (t(i))
                            return i
                    }
                    return null
                }
                for (var a = s.events.list.length, n = 0; n < a; n++)
                    if (s.events.list[n].id === e)
                        return new DayPilot.Event(s.events.list[n],s);
                return null
            }
            ,
            this.events.findRecurrent = function(e, t) {
                if (!s.events.list || "undefined" == typeof s.events.list.length)
                    return null;
                for (var n = s.events.list.length, i = 0; i < n; i++)
                    if (s.events.list[i].recurrentMasterId === e && s.events.list[i].start.getTime() === t.getTime())
                        return new DayPilot.Event(s.events.list[i],s);
                return null
            }
            ,
            this.events.update = function(e, t) {
                if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                    var n = s.events.find(e.id);
                    if (!n)
                        throw new DayPilot.Exception("The event to be updated was not found");
                    var i = DayPilot.indexOf(s.events.list, n.data);
                    return s.events.list.splice(i, 1, e),
                    s.Aa && s.update(),
                    void s.ch.notify()
                }
                var a = {};
                a.oldEvent = new DayPilot.Event(e.copy(),s),
                a.newEvent = new DayPilot.Event(e.temp(),s);
                var r = new DayPilot.Action(s,"EventUpdate",a,t);
                return e.commit(),
                s.Aa && s.update(),
                s.ch.notify(),
                r
            }
            ,
            this.events.remove = function(e, t) {
                var n = {};
                n.e = new DayPilot.Event(e.data,s);
                var i = new DayPilot.Action(s,"EventRemove",n,t)
                  , a = DayPilot.indexOf(s.events.list, e.data);
                return s.events.list.splice(a, 1),
                s.Aa && s.update(),
                s.ch.notify(),
                i
            }
            ,
            this.events.add = function(e, t) {
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
                e.calendar = s,
                s.events.list || (s.events.list = []),
                s.events.list.push(e.data);
                var n = {};
                n.e = e;
                var i = new DayPilot.Action(s,"EventAdd",n,t);
                return s.Aa && s.update(),
                s.ch.notify(),
                i
            }
            ,
            this.events.filter = function(e) {
                s.events.Yg = e,
                s.Jd()
            }
            ,
            this.events.load = function(e, t, n) {
                var i = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , a = function(e) {
                    var n, a = e.request;
                    try {
                        n = JSON.parse(a.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void i(r)
                    }
                    if (DayPilot.isArray(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        s.events.list = n,
                        s.Aa && s.update()
                    }
                };
                if (s.eventsLoadMethod && "POST" === s.eventsLoadMethod.toUpperCase())
                    DayPilot.ajax({
                        "method": "POST",
                        "data": {
                            "start": s.visibleStart().toString(),
                            "end": s.visibleEnd().toString()
                        },
                        "url": e,
                        "success": a,
                        "error": i
                    });
                else {
                    var r = e
                      , o = "start=" + s.visibleStart().toString() + "&end=" + s.visibleEnd().toString();
                    r += r.indexOf("?") > -1 ? "&" + o : "?" + o,
                    DayPilot.ajax({
                        "method": "GET",
                        "url": r,
                        "success": a,
                        "error": i
                    })
                }
            }
            ,
            this.X = {},
            this.X.reactDOM = null,
            this.X.react = null,
            this.X.W = function(e, t) {
                var n = s.X.reactDOM;
                if ("function" == typeof n.createRoot) {
                    var i = t.na;
                    i || (i = n.createRoot(t),
                    t.na = i),
                    i.render(e)
                } else
                    n.render(e, t)
            }
            ,
            this.X.la = function(e) {
                var t = s.X.reactDOM;
                if ("function" == typeof t.createRoot) {
                    var n = e.na;
                    setTimeout(function() {
                        n.unmount()
                    }, 0)
                } else
                    t.unmountComponentAtNode(e)
            }
            ,
            this.queue = {},
            this.queue.list = [],
            this.queue.list.ignoreToJSON = !0,
            this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction)
                        throw "DayPilot.Action object required for queue.add()";
                    s.queue.list.push(e)
                }
            }
            ,
            this.queue.notify = function(e) {
                var t = {};
                t.actions = s.queue.list,
                s.Ma("Notify", t, e, "Notify"),
                s.queue.list = []
            }
            ,
            this.queue.clear = function() {
                s.queue.list = []
            }
            ,
            this.queue.pop = function() {
                return s.queue.list.pop()
            }
            ,
            this.Kj = function(e) {
                return "DateTime" === s.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart()
            }
            ,
            this.nj = function(e) {
                return "DateTime" === s.eventEndSpec ? e : e.getDatePart().addDays(1)
            }
            ,
            this.Nj = function(e) {
                return "DateTime" === s.eventEndSpec ? e : e.getDatePart()
            }
            ,
            this.Gb = function(e) {
                if (e && (this.autoRefreshEnabled = !0),
                this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) {
                    this.Lj();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10)
                        throw "The minimum autoRefreshInterval is 10 seconds";
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        s.tg()
                    }, 1e3 * this.autoRefreshInterval)
                }
            }
            ,
            this.Lj = function() {
                this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout)
            }
            ,
            this.tg = function() {
                if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var n = {};
                        n.i = this.za,
                        n.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        s.onAutoRefresh(n),
                        n.preventDefault.value && (e = !0)
                    }
                    !e && this.ka() && this.commandCallBack(this.autoRefreshCommand),
                    this.za++
                }
                this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    s.tg()
                }, 1e3 * this.autoRefreshInterval))
            }
            ,
            this.Jd = function(e) {
                if (this.cells) {
                    var e = e || {}
                      , t = !e.eventsOnly;
                    s.cssOnly || (s.cssOnly = !0),
                    s.Va(),
                    s.ij(),
                    s.qb(),
                    t && (s.Ja.clearCache(),
                    s.jj(),
                    s.kj()),
                    s.yb(),
                    s.E(),
                    s.Cb(),
                    this.visible ? this.show() : this.hide()
                }
            }
            ,
            this.update = function(e) {
                if (!s.Aa)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet.");
                if (s.Ba)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");
                this.gh(e),
                this.Jd()
            }
            ,
            this.dispose = function() {
                var e = s;
                e.nav.top && (e.Lj(),
                e.Va(),
                e.nav.top.removeAttribute("style"),
                e.nav.top.removeAttribute("class"),
                e.nav.top.innerHTML = "",
                e.nav.top.dp = null,
                e.nav.top.onmousemove = null,
                DayPilot.ue(e.nav.top, "touchstart", l.onMainTouchStart),
                DayPilot.ue(e.nav.top, "touchmove", l.onMainTouchMove),
                DayPilot.ue(e.nav.top, "touchend", l.onMainTouchEnd),
                e.nav.top = null,
                DayPilot.ue(window, "resize", e._a),
                t.unregister(e),
                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(),
                DayPilot.Bubble.hide({
                    "calendar": e
                })),
                "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({
                    "calendar": e
                }))
            }
            ,
            this.wg = function() {
                t.globalHandlers || (t.globalHandlers = !0,
                DayPilot.re(document, "mousemove", t.gMouseMove),
                DayPilot.re(document, "mouseup", t.gMouseUp),
                DayPilot.reNonPassive(document, "touchmove", t.gMouseMove)),
                DayPilot.re(window, "resize", this._a)
            }
            ,
            this.db = function() {
                e()
            }
            ,
            this.zc = function() {
                if (s.todo && s.todo.del) {
                    var e = s.todo.del;
                    e.parentNode.removeChild(e),
                    s.todo.del = null
                }
            }
            ,
            this._e = function() {
                switch (s.Ca) {
                case "aspnet":
                    if (!this.Ra())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")
                }
            }
            ,
            this.E = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible")
            }
            ,
            this.show = function() {
                s.visible = !0,
                s.nav.top.style.display = ""
            }
            ,
            this.hide = function() {
                s.visible = !1,
                s.nav.top.style.display = "none"
            }
            ,
            this.wh = function() {
                if (this.id && this.id.tagName)
                    this.nav.top = this.id;
                else {
                    if ("string" != typeof this.id)
                        throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id),
                    !this.nav.top)
                        throw "DayPilot.Month: The placeholder element not found: '" + r + "'."
                }
                (function(s, t, u) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    console.log("Line 24348: "+String.fromCharCode.apply(this, r));
                    return (new Function('t','u',""))(t, u);
                }
                )("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top);
            }
            ,
            this.xh = function() {
                this.wh(),
                this.ij(),
                this.cf(),
                this.kj(),
                this.yb(),
                this.wg(),
                this.Gb(),
                this.Ma("Init"),
                t.register(this)
            }
            ,
            this.init = function() {
                if (this.Aa)
                    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                if (this.wh(),
                this.nav.top.dp) {
                    if (this.nav.top.dp === s)
                        return s;
                    if (this.Ra())
                        return s;
                    throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")
                }
                this._e();
                var e = c.loadFromServer();
                return s.cssOnly || (s.cssOnly = !0),
                e ? (this.xh(),
                this.Aa = !0,
                this) : (this.ij(),
                this.qb(),
                this.cf(),
                this.kj(),
                this.E(),
                this.Cb(),
                this.yb(),
                this.wg(),
                this.messageHTML && window.setTimeout(function() {
                    s.message(s.messageHTML)
                }, 0),
                this.lb(null, !1),
                s.initEventEnabled && setTimeout(function() {
                    s.Ma("Init")
                }),
                this.Gb(),
                t.register(this),
                this.Aa = !0,
                this.zh(),
                this)
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "events": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? s.events.list = e.list : s.events.list = e)
                            }
                        }
                    };
                    this.Ah = t;
                    for (var n in e)
                        if (t[n]) {
                            var i = t[n];
                            i.data = e[n],
                            i.preInit && i.preInit()
                        } else
                            s[n] = e[n]
                }
            }
            ,
            this.zh = function() {
                var e = this.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
            }
            ,
            this.Z = {},
            this.Z.Ke = null,
            this.Z._ = function(e, t, n) {
                var i = s.Z.Ke;
                if ("function" == typeof i.createVNode && "function" == typeof i.render) {
                    var a = i.createVNode(e, n);
                    i.render(a, t)
                }
            }
            ,
            this.Z.Me = function(e, t) {
                var n = s.Z.Ke;
                if ("function" == typeof n.render) {
                    var i = e;
                    DayPilot.isArray(e) && (i = n.h("div", null, e)),
                    n.render(i, t)
                }
            }
            ,
            this.Z.ma = function(e) {
                var t = s.Z.Ke;
                "function" == typeof t.render && t.render(null, e)
            }
            ,
            this.internal = {},
            this.internal.initialized = function() {
                return s.Aa
            }
            ,
            this.internal.invokeEvent = this.hc,
            this.internal.eventMenuClick = this.Dc,
            this.internal.timeRangeMenuClick = this.Ec,
            this.internal.bubbleCallBack = this.Bc,
            this.internal.findEventDiv = this.bh,
            this.internal.adjustEndIn = this.nj,
            this.internal.xssTextHtml = s.Ha,
            this.internal.touch = s.Ve,
            this.internal.enableReact = function(e, t) {
                s.X.react = e,
                s.X.reactDOM = t
            }
            ,
            this.internal.reactRefs = function() {
                return DayPilot.Util.copyProps(s.X, {}, ["react", "reactDOM"])
            }
            ,
            this.internal.loadOptions = s.gh,
            this.internal.enableVue = function(e) {
                s.Z.Ke = e
            }
            ,
            this.internal.vueRef = function() {
                return s.Z.Ke
            }
            ,
            this.internal.vueRendering = function() {
                return s.Z.Le
            }
            ,
            this.Init = this.init,
            Object.defineProperty(this, "durationBarVisible", {
                get: function() {
                    return s.eventBarVisible
                }
            }),
            this.gh(o)
        }
        ,
        DayPilot.Month.makeDraggable = function(e) {
            function n() {
                var n = e.duration || 60;
                n instanceof DayPilot.Duration && (n = n.totalSeconds());
                var i = t.drag = {};
                i.element = a,
                i.id = e.id,
                i.duration = n,
                i.text = e.text || "",
                i.data = e,
                i.shadowType = "Fill"
            }
            var i = e.element
              , a = e.keepElement ? null : i;
            e.duration || 1;
            navigator.msPointerEnabled && (i.style.msTouchAction = "none",
            i.style.touchAction = "none");
            var r = function(e) {
                n();
                var t = e.target || e.srcElement;
                if (t.tagName) {
                    var i = t.tagName.toLowerCase();
                    if ("textarea" === i || "select" === i || "input" === i)
                        return !1
                }
                return e.preventDefault && e.preventDefault(),
                !1
            }
              , o = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    window.setTimeout(function() {
                        n(),
                        t.gMouseMove(e),
                        e.preventDefault()
                    }, 0),
                    e.preventDefault()
                }
            };
            DayPilot.us(i),
            DayPilot.re(i, "mousedown", r),
            DayPilot.re(i, DayPilot.touch.start, o),
            i.cancelDraggable = function() {
                DayPilot.ue(i, "mousedown", r),
                DayPilot.ue(i, DayPilot.touch.start, o),
                delete i.cancelDraggable
            }
        }
        ,
        t.createGShadow = function() {
            var e = document.createElement("div");
            return e.setAttribute("unselectable", "on"),
            e.style.position = "absolute",
            e.style.width = "100px",
            e.style.height = "20px",
            e.style.border = "2px dotted #666666",
            e.style.zIndex = 101,
            e.style.pointerEvents = "none",
            e.style.backgroundColor = "#aaaaaa",
            e.style.opacity = .5,
            e.style.filter = "alpha(opacity=50)",
            e.style.border = "2px solid #aaaaaa",
            document.body.appendChild(e),
            e
        }
        ,
        t.gMouseMove = function(e) {
            if ("undefined" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
                var n = DayPilot.mc(e);
                if (t.drag) {
                    document.body.style.cursor = "move",
                    t.gShadow || (t.gShadow = t.createGShadow());
                    var i = t.gShadow;
                    i.style.left = n.x + "px",
                    i.style.top = n.y + "px",
                    t.movingEvent = null,
                    DayPilot.de(t.movingShadow),
                    t.movingShadow = null
                }
                for (var a = 0; a < t.registered.length; a++)
                    t.registered[a].db && t.registered[a].db()
            }
        }
        ,
        t.register = function(e) {
            t.registered || (t.registered = []);
            for (var n = 0; n < t.registered.length; n++)
                if (t.registered[n] === e)
                    return;
            t.registered.push(e)
        }
        ,
        t.unregister = function(e) {
            var n = t.registered;
            if (n) {
                var i = DayPilot.indexOf(n, e);
                i !== -1 && n.splice(i, 1),
                0 === n.length && (n = null)
            }
            n || (DayPilot.ue(document, "mouseup", t.gMouseUp),
            t.globalHandlers = !1)
        }
        ,
        t.gMouseUp = function(e) {
            function n() {
                t.drag && (t.drag = null,
                document.body.style.cursor = ""),
                t.gShadow && (document.body.removeChild(t.gShadow),
                t.gShadow = null)
            }
            if (n(),
            t.movingEvent) {
                var i = t.movingEvent;
                if (t.movingEvent = null,
                !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))
                    return;
                var a = i.event.calendar
                  , r = i.event
                  , o = a.shadow.start
                  , s = a.shadow.position
                  , l = i.offset
                  , d = i.external
                  , c = i.removeElement;
                c && (a.todo || (a.todo = {}),
                a.todo.del = c);
                var u = a.shadow.disabled;
                a.vj();
                var e = e || window.event;
                return u || a.wc(r, o.x, o.y, l, e, s, d),
                e.cancelBubble = !0,
                e.stopPropagation && e.stopPropagation(),
                !1
            }
            if (t.resizingEvent) {
                var i = t.resizingEvent;
                if (t.resizingEvent = null,
                !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))
                    return;
                var a = i.event.calendar
                  , r = i.event
                  , o = a.shadow.start
                  , h = a.shadow.width
                  , u = a.shadow.disabled;
                return a.vj(),
                u || a.nc(r, o, h),
                e.cancelBubble = !0,
                !1
            }
            if (t.timeRangeSelecting) {
                if (t.timeRangeSelecting.moved) {
                    var f = t.timeRangeSelecting
                      , a = f.root
                      , o = new DayPilot.Date(a.wj(f.from.x, f.from.y))
                      , v = o.addDays(f.width);
                    a.shadow.disabled ? a.clearSelection() : a.Fc(o, v)
                } else {
                    var f = t.timeRangeSelecting
                      , a = f.root
                      , p = a.cells[f.from.x][f.from.y];
                    a.Jj.apply(p)
                }
                t.timeRangeSelecting = null
            }
        }
        ,
        "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotMonth = function(e) {
                var t = null
                  , n = this.each(function() {
                    if (!this.daypilot) {
                        var n = new DayPilot.Month(this.id,e);
                        n.init(),
                        this.daypilot = n,
                        t || (t = n)
                    }
                });
                return 1 === this.length ? t : n
            }
        }(jQuery),
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotMonth", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                        function(t, n, i) {
                            var a = new DayPilot.Month(n[0]);
                            a.ch.scope = t,
                            a.init();
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            t["$apply"](function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"]
                              , u = i["events"] || i["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var n in e)
                                    a[n] = e[n];
                                a.update()
                            }, !0),
                            d.call(t, u, function(e) {
                                a.events.list = e,
                                a.Jd({
                                    "eventsOnly": !0
                                })
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(),
        DayPilot.Month.def = {},
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
        var e = DayPilot.Util.isReactComponent
          , t = DayPilot.Util.isVueComponent
          , n = DayPilot.Util.isVueVNode;
        DayPilot.Navigator = function(i, a) {
            this.v = "2024.4.6243";
            var r = this;
            this.id = i,
            this.api = 2,
            this.isNavigator = !0,
            this.autoFocusOnClick = !0,
            this.weekStarts = "Auto",
            this.selectMode = "Day",
            this.titleHeight = 30,
            this.dayHeaderHeight = 30,
            this.bound = null,
            this.cellWidth = 30,
            this.cellHeight = 30,
            this.cssClassPrefix = "navigator_default",
            this.freeHandSelectionEnabled = !1,
            this.selectionStart = (new DayPilot.Date).getDatePart(),
            this.selectionEnd = null,
            this.selectionDay = null,
            this.showMonths = 1,
            this.skipMonths = 1,
            this.command = "navigate",
            this.year = (new DayPilot.Date).getYear(),
            this.month = (new DayPilot.Date).getMonth() + 1,
            this.showWeekNumbers = !1,
            this.weekNumberAlgorithm = "Auto",
            this.rowsPerMonth = "Six",
            this.orientation = "Vertical",
            this.locale = "en-us",
            this.rtl = !1,
            this.visible = !0,
            this.timeRangeSelectedHandling = "Bind",
            this.visibleRangeChangedHandling = "Enabled",
            this.onVisibleRangeChange = null,
            this.onVisibleRangeChanged = null,
            this.onTimeRangeSelect = null,
            this.onTimeRangeSelected = null,
            this.nav = {},
            this.wa = {},
            this.Oj = function() {
                this.root.dp = this,
                this.root.className = this.da("_main"),
                "Horizontal" === this.orientation ? (l.Pj() || (this.root.style.width = this.showMonths * (7 * l.cellWidth() + this.Qj()) + "px"),
                this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + "px") : l.Pj() || (this.root.style.width = 7 * l.cellWidth() + this.Qj() + "px"),
                this.rtl && (this.root.style.direction = "rtl"),
                this.root.style.position = "relative",
                this.visible || (this.root.style.display = "none");
                var e = document.createElement("input");
                e.type = "hidden",
                e.name = r.id + "_state",
                e.id = e.name,
                this.root.appendChild(e),
                this.state = e,
                this.startDate ? this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth() : this.selectionDay ? this.startDate = new DayPilot.Date(this.selectionDay).firstDayOfMonth() : this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month),
                this.calendars = [],
                this.selected = [],
                this.months = []
            }
            ,
            this.Hb = function() {
                return 2 === r.api
            }
            ,
            this.jj = function() {
                this.root.innerHTML = ""
            }
            ,
            this.da = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : ""
            }
            ,
            this.Rj = function(e, t) {
                var n = this.da("_" + t);
                DayPilot.Util.addClass(e, n)
            }
            ,
            this.Sj = function(e, t) {
                var n = this.da("_" + t);
                DayPilot.Util.removeClass(e, n)
            }
            ,
            this.Tj = function() {
                if (!l.Pj())
                    return null;
                var e = 7;
                return this.showWeekNumbers && e++,
                100 / e
            }
            ,
            this.Uj = function() {
                return l.Pj() ? null : l.cellWidth()
            }
            ,
            this.Vj = function(e) {
                return "number" != typeof e && (e = 1),
                l.Pj() ? this.Tj() * e : this.Uj() * e
            }
            ,
            this.Wj = function(e) {
                var t = l.Pj() ? "%" : "px";
                return this.Vj(e) + t
            }
            ,
            this.kj = function(i, a) {
                var o = {};
                o.cells = [],
                o.days = [],
                o.weeks = [];
                var s = this.startDate.addMonths(i)
                  , d = a.before
                  , c = a.after
                  , u = s.firstDayOfMonth()
                  , h = u.firstDayOfWeek(l.weekStarts())
                  , f = u.addMonths(1)
                  , v = DayPilot.DateUtil.daysDiff(h, f)
                  , p = "Auto" === this.rowsPerMonth ? Math.ceil(v / 7) : 6;
                o.rowCount = p;
                var m = (new DayPilot.Date).getDatePart()
                  , g = 7 * l.cellWidth() + this.Qj();
                o.width = g;
                var b = this.cellHeight * p + this.titleHeight + this.dayHeaderHeight;
                o.height = b;
                var y = document.createElement("div");
                if (l.Pj() ? "Horizontal" === this.orientation && (y.style.width = 100 / r.showMonths + "%") : y.style.width = g + "px",
                y.style.height = b + "px",
                "Horizontal" === this.orientation)
                    y.style.position = "absolute",
                    l.Pj() ? (y.style.left = 100 / r.showMonths * i + "%",
                    o.leftPct = 100 / r.showMonths * i) : y.style.left = g * i + "px",
                    y.style.top = "0px",
                    o.top = 0,
                    o.left = g * i;
                else {
                    y.style.position = "relative";
                    var w = i > 0 ? r.months[i - 1].top + r.months[i - 1].height : 0;
                    o.top = w,
                    o.left = 0,
                    o.leftPct = 0
                }
                y.className = this.da("_month"),
                y.style.cursor = "default",
                y.style.MozUserSelect = "none",
                y.style.KhtmlUserSelect = "none",
                y.style.WebkitUserSelect = "none",
                y.month = o,
                o.div = y,
                this.root.appendChild(y);
                var x = this.titleHeight + this.dayHeaderHeight
                  , k = document.createElement("div");
                k.style.position = "absolute",
                k.style.left = "0px",
                k.style.right = "0px",
                k.style.top = "0px",
                k.style.width = r.Wj(),
                k.style.height = this.titleHeight + "px",
                k.style.lineHeight = this.titleHeight + "px",
                k.setAttribute("unselectable", "on"),
                k.className = this.da("_titleleft"),
                a.left && (k.style.cursor = "pointer",
                k.innerHTML = "<span>&lt;</span>",
                k.onclick = this.Xj),
                y.appendChild(k),
                this.tl = k;
                var C = document.createElement("div");
                C.style.position = "absolute",
                C.style.left = r.Wj(),
                C.style.top = "0px",
                C.style.width = r.Wj(r.showWeekNumbers ? 6 : 5),
                C.style.height = this.titleHeight + "px",
                C.style.lineHeight = this.titleHeight + "px",
                C.setAttribute("unselectable", "on"),
                C.className = this.da("_title"),
                C.innerHTML = l.locale().monthNames[s.getMonth()] + " " + s.getYear(),
                y.appendChild(C),
                this.ti = C;
                var S = document.createElement("div");
                S.style.position = "absolute",
                S.style.left = r.Wj(r.showWeekNumbers ? 7 : 6),
                S.style.right = r.Wj(r.showWeekNumbers ? 7 : 6),
                S.style.top = "0px",
                S.style.width = r.Wj(),
                S.style.height = this.titleHeight + "px",
                S.style.lineHeight = this.titleHeight + "px",
                S.setAttribute("unselectable", "on"),
                S.className = this.da("_titleright"),
                a.right && (S.style.cursor = "pointer",
                S.innerHTML = "<span>&gt;</span>",
                S.onclick = this.Yj),
                y.appendChild(S),
                this.tr = S;
                var _ = (this.Qj(),
                r.showWeekNumbers ? 1 : 0);
                if (this.showWeekNumbers)
                    for (var E = 0; E < p; E++) {
                        var T = h.addDays(7 * E)
                          , D = null;
                        switch (this.weekNumberAlgorithm) {
                        case "Auto":
                            D = 1 === l.weekStarts() ? T.weekNumberISO() : T.weekNumber();
                            break;
                        case "US":
                            D = T.weekNumber();
                            break;
                        case "ISO8601":
                            D = T.weekNumberISO();
                            break;
                        default:
                            throw "Unknown weekNumberAlgorithm value."
                        }
                        var A = document.createElement("div");
                        A.style.position = "absolute",
                        A.style.left = "0px",
                        A.style.right = "0px",
                        A.style.top = E * this.cellHeight + x + "px",
                        A.style.width = r.Wj(),
                        A.style.height = this.cellHeight + "px",
                        A.style.lineHeight = this.cellHeight + "px",
                        A.setAttribute("unselectable", "on"),
                        A.className = this.da("_weeknumber"),
                        A.innerHTML = "<span>" + D + "</span>",
                        y.appendChild(A),
                        o.weeks.push(A)
                    }
                for (var M = 0; M < 7; M++) {
                    o.cells[M] = [];
                    var A = document.createElement("div");
                    A.style.position = "absolute",
                    A.style.left = r.Wj(M + _),
                    A.style.right = r.Wj(M + _),
                    A.style.top = this.titleHeight + "px",
                    A.style.width = r.Wj(),
                    A.style.height = this.dayHeaderHeight + "px",
                    A.style.lineHeight = this.dayHeaderHeight + "px",
                    A.setAttribute("unselectable", "on"),
                    A.className = this.da("_dayheader"),
                    A.innerHTML = "<span>" + this.Zj(M) + "</span>",
                    y.appendChild(A),
                    o.days.push(A);
                    for (var E = 0; E < p; E++) {
                        var T = h.addDays(7 * E + M)
                          , H = this.$j(T) && "none" !== this._j()
                          , R = T.firstDayOfMonth() === s
                          , B = T < s
                          , P = T >= s.addMonths(1);
                        if ("month" === this._j())
                            H = H && R;
                        else if ("day" === this._j())
                            H = H && (R || d && B || c && P);
                        else if ("week" === this._j()) {
                            var N = T.firstDayOfMonth() === s;
                            H = H && (N || d && B || c && P)
                        }
                        var L = document.createElement("div");
                        o.cells[M][E] = L;
                        var I = r.ak(M, E)
                          , z = I.x
                          , O = I.y
                          , U = l.Pj() ? "%" : "px";
                        L.day = T,
                        L.x = M,
                        L.y = E,
                        L.left = z,
                        L.top = O,
                        L.isCurrentMonth = R,
                        L.isNextMonth = P,
                        L.isPrevMonth = B,
                        L.showBefore = d,
                        L.showAfter = c,
                        L.className = this.da(R ? "_day" : "_dayother"),
                        r.Rj(L, "cell"),
                        T.getTime() === m.getTime() && R && this.Rj(L, "today"),
                        0 !== T.dayOfWeek() && 6 !== T.dayOfWeek() || this.Rj(L, "weekend"),
                        L.style.position = "absolute",
                        L.style.left = z + U,
                        L.style.right = z + U,
                        L.style.top = O + "px",
                        L.style.width = r.Wj(),
                        L.style.height = this.cellHeight + "px",
                        L.style.lineHeight = this.cellHeight + "px";
                        var j = document.createElement("div");
                        j.style.position = "absolute",
                        j.className = T.getTime() === m.getTime() && R ? this.da("_todaybox") : this.da("_daybox"),
                        r.Rj(j, "cell_box"),
                        j.style.left = "0px",
                        j.style.top = "0px",
                        j.style.right = "0px",
                        j.style.bottom = "0px",
                        L.appendChild(j);
                        var W = null;
                        this.cells && this.cells[T.toStringSortable()] && (W = this.cells[T.toStringSortable()]);
                        var q = W || {};
                        if (q.day = T,
                        q.isCurrentMonth = R,
                        q.isToday = T.getTime() === m.getTime() && R,
                        q.isWeekend = 0 === T.dayOfWeek() || 6 === T.dayOfWeek(),
                        W ? (q.html = W.html || T.getDay(),
                        q.cssClass = W.css) : (q.html = T.getDay(),
                        q.cssClass = null),
                        "function" == typeof r.onBeforeCellRender) {
                            var F = {};
                            F.cell = q,
                            r.onBeforeCellRender(F),
                            W = F.cell
                        }
                        if (W && DayPilot.Util.addClass(L, W.cssClass || W.css),
                        R || d && B || c && P) {
                            var Y = document.createElement("div");
                            Y.innerHTML = T.getDay(),
                            Y.style.position = "absolute",
                            Y.style.left = "0px",
                            Y.style.top = "0px",
                            Y.style.right = "0px",
                            Y.style.bottom = "0px",
                            r.Rj(Y, "cell_text"),
                            L.isClickable = !0,
                            W && W.html && (Y.innerHTML = W.html),
                            L.appendChild(Y)
                        }
                        L.setAttribute("unselectable", "on"),
                        L.onclick = this.bk,
                        function() {
                            if ("function" == typeof r.onBeforeCellDomAdd || "function" == typeof r.onBeforeCellDomRemove) {
                                var i = {};
                                if (i.control = r,
                                i.cell = q,
                                i.element = null,
                                L.domArgs = i,
                                "function" == typeof r.onBeforeCellDomAdd && r.onBeforeCellDomAdd(i),
                                i.element) {
                                    var a = j;
                                    if (a) {
                                        i.Ie = a;
                                        var o = e(i.element)
                                          , s = t(i.element)
                                          , l = n(i.element);
                                        if (o) {
                                            if (!r.X.reactDOM)
                                                throw new DayPilot.Exception("Can't reach ReactDOM");
                                            r.X.W(i.element, a)
                                        } else if (s) {
                                            if (!r.Z.Ke)
                                                throw new DayPilot.Exception("Can't reach Vue");
                                            r.Z.Le = !0,
                                            r.Z._(i.element, a, i.props),
                                            r.Z.Le = !1
                                        } else if (l) {
                                            if (!r.Z.Ke)
                                                throw new DayPilot.Exception("Can't reach Vue");
                                            r.Z.Le = !0,
                                            r.Z.Me(i.element, a),
                                            r.Z.Le = !1
                                        } else
                                            a.appendChild(i.element)
                                    }
                                }
                            }
                        }(),
                        y.appendChild(L),
                        H && (r.ck(y, M, E),
                        this.selected.push(L))
                    }
                }
                var K = document.createElement("div");
                K.style.position = "absolute",
                K.style.left = "0px",
                K.style.top = x - 2 + "px",
                K.style.width = r.Wj(7 + _),
                K.style.height = "1px",
                K.style.fontSize = "1px",
                K.style.lineHeight = "1px",
                K.className = this.da("_line"),
                y.appendChild(K),
                this.months.push(o)
            }
            ,
            this.ak = function(e, t) {
                var n = this.titleHeight + this.dayHeaderHeight
                  , i = (this.Qj(),
                this.showWeekNumbers ? 1 : 0);
                return {
                    "x": r.Vj(e + i),
                    "y": t * this.cellHeight + n
                }
            }
            ,
            this.ck = function(e, t, n) {
                var i = e.month.cells[t][n];
                r.Rj(i, "select")
            }
            ,
            this.dk = function(e, t, n) {
                var i = e.month.cells[t][n];
                r.Sj(i, "select")
            }
            ,
            this.Qj = function() {
                return this.showWeekNumbers ? l.cellWidth() : 0
            }
            ,
            this.ek = function() {
                if (this.items)
                    for (var e = 0; e < this.showMonths; e++)
                        for (var t = 0; t < 7; t++)
                            for (var n = 0; n < 6; n++) {
                                var i = this.months[e].cells[t][n];
                                i && (1 === this.items[i.day.toStringSortable()] ? (this.Rj(i, "busy"),
                                this.Sj(i, "free")) : (this.Sj(i, "busy"),
                                this.Rj(i, "free")))
                            }
            }
            ,
            this.fk = function() {
                var e = {};
                e.startDate = r.startDate,
                e.selectionStart = r.selectionStart,
                e.selectionEnd = r.selectionEnd.addDays(1),
                r.state.value = JSON.stringify(e)
            }
            ,
            this._j = function() {
                return (this.selectMode || "").toLowerCase()
            }
            ,
            this.gk = function() {
                var e = this.selectionDay || this.selectionStart;
                switch (e || (e = DayPilot.Date.today()),
                e = new DayPilot.Date(e),
                this._j()) {
                case "day":
                    this.selectionStart = e,
                    this.selectionDay = e,
                    this.selectionEnd = e;
                    break;
                case "week":
                    this.selectionDay = e,
                    this.selectionStart = e.firstDayOfWeek(l.weekStarts()),
                    this.selectionEnd = this.selectionStart.addDays(6);
                    break;
                case "month":
                    this.selectionDay = e,
                    this.selectionStart = e.firstDayOfMonth(),
                    this.selectionEnd = this.selectionStart.lastDayOfMonth();
                    break;
                case "none":
                    this.selectionEnd = e;
                    break;
                default:
                    throw "Unknown selectMode value."
                }
            }
            ,
            this.hk = null,
            this.select = function(e, t, n) {
                var i = t && (t instanceof DayPilot.Date || "string" == typeof t)
                  , a = t && "object" == typeof t || "boolean" == typeof t
                  , o = e
                  , s = i ? t : null
                  , l = a ? t : n;
                if (!this.Aa)
                    return void (this.hk = {
                        "date1": o,
                        "date2": s,
                        "options": l
                    });
                var d = !0
                  , c = !0;
                l && "object" == typeof l ? (l.dontFocus && (d = !1),
                l.dontNotify && (c = !1)) : "boolean" == typeof l && (d = !l);
                var u = this.selectionStart
                  , h = this.selectionEnd;
                this.selectionStart = new DayPilot.Date(o).getDatePart(),
                this.selectionDay = this.selectionStart;
                var f = !1;
                if (d) {
                    var v = this.startDate;
                    (this.selectionStart < this.ik() || this.selectionStart >= this.jk()) && (v = this.selectionStart.firstDayOfMonth()),
                    v.toStringSortable() !== this.startDate.toStringSortable() && (f = !0),
                    this.startDate = v
                }
                s && r.freeHandSelectionEnabled ? r.selectionEnd = new DayPilot.Date(s) : this.gk(),
                this.jj(),
                this.Oj(),
                this.kk(),
                this.ek(),
                this.fk(),
                !c || u.equals(this.selectionStart) && h.equals(this.selectionEnd) || this.Fc(),
                f && this.lk()
            }
            ,
            this.update = function(e) {
                if (r.gh(e),
                this.Aa) {
                    if (r.Ba)
                        throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");
                    r.dh();
                    var t = {
                        "day": r.selectionDay,
                        "start": r.selectionStart,
                        "end": r.selectionEnd
                    };
                    r.Jd(),
                    t.start === r.selectionStart && t.end === r.selectionEnd && t.day === r.selectionDay || r.Fc()
                }
            }
            ,
            this.Jd = function() {
                this.jj(),
                this.Oj(),
                this.gk(),
                this.kk(),
                this.qb(),
                this.ek(),
                this.fk(),
                this.visible ? this.show() : this.hide()
            }
            ,
            this.dh = function() {
                r.wa = {}
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "events": {
                            "preInit": function() {
                                var e = this.data;
                                e && (DayPilot.isArray(e.list) ? r.events.list = e.list : r.events.list = e)
                            }
                        }
                    };
                    this.Ah = t;
                    for (var n in e)
                        if (t[n]) {
                            var i = t[n];
                            i.data = e[n],
                            i.preInit && i.preInit()
                        } else
                            r[n] = e[n]
                }
            }
            ,
            this.zh = function() {
                var e = this.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
            }
            ,
            this.Ma = function(e, t, n) {
                var i = {};
                i.action = e,
                i.parameters = n,
                i.data = t,
                i.header = this.La();
                var a = "JSON" + JSON.stringify(i);
                this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, a, this.Pa) : WebForm_DoCallback(this.uniqueID, a, this.Qa, null, this.callbackError, !0)
            }
            ,
            this.Pa = function(e) {
                if ("function" == typeof r.onAjaxError) {
                    var t = {};
                    t.request = e,
                    r.onAjaxError(t)
                } else
                    "function" == typeof r.ajaxError && r.ajaxError(e)
            }
            ,
            this.Oa = function(e) {
                r.Qa(e.responseText)
            }
            ,
            this.Ka = function(e, t, n) {
                var i = {};
                i.action = e,
                i.parameters = n,
                i.data = t,
                i.header = this.La();
                var a = "JSON" + JSON.stringify(i);
                __doPostBack(r.uniqueID, a)
            }
            ,
            this.La = function() {
                var e = {};
                return e.v = this.v,
                e.startDate = this.startDate,
                e.selectionStart = this.selectionStart,
                e.showMonths = this.showMonths,
                e
            }
            ,
            this.mk = function(e, t) {
                "refresh" === e && this.lk()
            }
            ,
            this.Zj = function(e) {
                var t = e + l.weekStarts();
                return t > 6 && (t -= 7),
                l.locale().dayNamesShort[t]
            }
            ,
            this.$j = function(e) {
                return null !== this.selectionStart && null !== this.selectionEnd && (this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime())
            }
            ,
            this.nk = function(e) {
                for (var t = 0; t < r.months.length; t++) {
                    var n = r.months[t];
                    if (!n)
                        return null;
                    if (e.x < n.left)
                        return null;
                    if (!(n.left + n.width < e.x)) {
                        r.months[t].height;
                        if (n.top <= e.y && e.y < n.top + n.height)
                            return t
                    }
                }
                return null
            }
            ,
            this.ok = function(e) {}
            ,
            this.pk = function() {
                if (!l.Pj())
                    return void (r.qk = r.cellWidth);
                var e = r.months[0].cells[0][0]
                  , t = e.clientWidth;
                r.qk = t,
                r.months.forEach(function(e) {
                    e.width = e.div.clientWidth,
                    "Horizontal" === r.orientation && (e.left = e.div.offsetLeft),
                    e.cells.forEach(function(e, n) {
                        e.forEach(function(e, i) {
                            e.width = t,
                            e.left = n * t
                        })
                    })
                })
            }
            ,
            this.rk = function(e) {
                r.pk();
                var t = DayPilot.mo3(r.nav.top, e)
                  , n = r.nk(t);
                if (null === n)
                    return null;
                var i = r.months[n]
                  , a = this.titleHeight + this.dayHeaderHeight;
                if (i.top <= t.y && t.y < i.top + a)
                    return {
                        "month": n,
                        "x": 0,
                        "y": 0,
                        "coords": t,
                        "header": !0
                    };
                for (var o = 0; o < i.cells.length; o++)
                    for (var s = 0; s < i.cells[o].length; s++) {
                        var l = i.cells[o][s]
                          , d = l.top + i.top
                          , c = l.left + i.left;
                        if (c <= t.x && t.x < c + r.qk && d <= t.y && t.y < d + r.cellHeight)
                            return {
                                "month": n,
                                "x": o,
                                "y": s,
                                "coords": t
                            }
                    }
                return null
            }
            ,
            this.sk = function(e) {
                if (r.freeHandSelectionEnabled) {
                    var t = r.rk(e);
                    t && !t.header && (o.start = t),
                    r.months[t.month].cells[t.x][t.y],
                    e.preventDefault()
                }
            }
            ,
            this.tk = function(e) {
                if (o.start) {
                    var t = r.rk(e);
                    if (o.end)
                        o.end = t;
                    else if (t) {
                        var n = 3
                          , i = DayPilot.distance(o.start.coords, t.coords);
                        i > n && (o.end = t)
                    }
                    o.end && (o.clear(),
                    o.draw())
                }
            }
            ,
            this.uk = {};
            var o = this.uk;
            o.start = null,
            o.drawCell = function(e) {
                var t = r.months[e.month]
                  , n = r.ak(e.x, e.y)
                  , i = t.top + n.y
                  , a = t.left + n.x
                  , s = "px"
                  , d = r.Wj();
                if (l.Pj()) {
                    var c = "Horizontal" === r.orientation ? r.showMonths : 1;
                    a = t.leftPct + n.x / c,
                    s = "%",
                    d = r.Wj(1 / c)
                }
                var u = document.createElement("div");
                u.style.position = "absolute",
                u.style.left = a + s,
                u.style.top = i + "px",
                u.style.height = r.cellHeight + "px",
                u.style.width = d,
                u.style.backgroundColor = "#ccc",
                u.style.opacity = .5,
                u.style.cursor = "default",
                r.nav.preselection.appendChild(u),
                o.cells.push(u)
            }
            ,
            o.clear = function() {
                if (o.cells) {
                    for (var e = 0; e < o.cells.length; e++)
                        r.nav.preselection.removeChild(o.cells[e]);
                    o.cells = []
                }
            }
            ,
            o.draw = function() {
                var e = o.ordered()
                  , t = new s(e.start)
                  , n = e.end;
                if (n) {
                    if (n === o.end && n.header && n.month > 0) {
                        n.month -= 1;
                        var i = r.months[n.month];
                        n.x = 6,
                        n.y = i.rowCount - 1
                    }
                    for (o.cells = []; !t.is(n); ) {
                        t.visible() && o.drawCell(t);
                        var a = new s(t).next();
                        if (!a)
                            return;
                        t.month = a.month,
                        t.x = a.x,
                        t.y = a.y
                    }
                    t.visible() && o.drawCell(t)
                }
            }
            ,
            o.ordered = function() {
                var e = o.start
                  , t = o.end
                  , n = {};
                return !t || new s(e).before(t) ? (n.start = e,
                n.end = t) : (n.start = t,
                n.end = e),
                n
            }
            ;
            var s = function(e, t, n) {
                if (e instanceof s)
                    return e;
                if ("object" == typeof e) {
                    var i = e;
                    this.month = i.month,
                    this.x = i.x,
                    this.y = i.y
                } else
                    this.month = e,
                    this.x = t,
                    this.y = n;
                this.is = function(e) {
                    return this.month === e.month && this.x === e.x && this.y === e.y
                }
                ,
                this.next = function() {
                    var e = this;
                    if (e.x < 6)
                        return {
                            "month": e.month,
                            "x": e.x + 1,
                            "y": e.y
                        };
                    var t = r.months[e.month];
                    return e.y < t.rowCount - 1 ? {
                        "month": e.month,
                        "x": 0,
                        "y": e.y + 1
                    } : e.month < r.months.length - 1 ? {
                        "month": e.month + 1,
                        "x": 0,
                        "y": 0
                    } : null
                }
                ,
                this.visible = function() {
                    var e = this.cell();
                    return !!e.isCurrentMonth || (!(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter))
                }
                ,
                this.nextVisible = function() {
                    for (var e = this; !e.visible(); ) {
                        var t = e.next();
                        if (!t)
                            return null;
                        e = new s(t)
                    }
                    return e
                }
                ,
                this.previous = function() {
                    var e = this;
                    if (e.x > 0)
                        return {
                            "month": e.month,
                            "x": e.x - 1,
                            "y": e.y
                        };
                    r.months[e.month];
                    if (e.y > 0)
                        return {
                            "month": e.month,
                            "x": 6,
                            "y": e.y - 1
                        };
                    if (e.month > 0) {
                        var t = r.months[e.month - 1];
                        return {
                            "month": e.month - 1,
                            "x": 6,
                            "y": t.rowCount - 1
                        }
                    }
                    return null
                }
                ,
                this.previousVisible = function() {
                    for (var e = this; !e.visible(); ) {
                        var t = e.previous();
                        if (!t)
                            return null;
                        e = new s(t)
                    }
                    return e
                }
                ,
                this.cell = function() {
                    return r.months[this.month].cells[this.x][this.y]
                }
                ,
                this.date = function() {
                    return this.cell().day
                }
                ,
                this.before = function(e) {
                    return this.date() < new s(e).date()
                }
            };
            this.bk = function(e) {
                var t = this.parentNode
                  , n = this.parentNode.month
                  , i = this.x
                  , a = this.y
                  , o = n.cells[i][a].day;
                if (n.cells[i][a].isClickable) {
                    r.clearSelection(),
                    r.selectionDay = o;
                    var o = r.selectionDay;
                    switch (r._j()) {
                    case "none":
                        r.selectionStart = o,
                        r.selectionEnd = o;
                        break;
                    case "day":
                        if (r.autoFocusOnClick) {
                            var s = o;
                            if (o < r.ik() || o >= r.jk())
                                return void r.select(o)
                        }
                        var l = n.cells[i][a];
                        r.ck(t, i, a),
                        r.selected.push(l),
                        r.selectionStart = l.day,
                        r.selectionEnd = l.day;
                        break;
                    case "week":
                        if (r.autoFocusOnClick) {
                            var s = n.cells[0][a].day
                              , d = n.cells[6][a].day;
                            if (s.firstDayOfMonth() === d.firstDayOfMonth() && (s < r.ik() || d >= r.jk()))
                                return void r.select(o)
                        }
                        for (var c = 0; c < 7; c++)
                            r.ck(t, c, a),
                            r.selected.push(n.cells[c][a]);
                        r.selectionStart = n.cells[0][a].day,
                        r.selectionEnd = n.cells[6][a].day;
                        break;
                    case "month":
                        if (r.autoFocusOnClick) {
                            var s = o;
                            if (o < r.ik() || o >= r.jk())
                                return void r.select(o)
                        }
                        for (var s = null, d = null, a = 0; a < 6; a++)
                            for (var i = 0; i < 7; i++) {
                                var l = n.cells[i][a];
                                l && l.day.getYear() === o.getYear() && l.day.getMonth() === o.getMonth() && (r.ck(t, i, a),
                                r.selected.push(l),
                                null === s && (s = l.day),
                                d = l.day)
                            }
                        r.selectionStart = s,
                        r.selectionEnd = d;
                        break;
                    default:
                        throw "unknown selectMode"
                    }
                    r.fk(),
                    r.Fc()
                }
            }
            ,
            this.Fc = function(e) {
                var t = r.selectionStart
                  , n = r.selectionEnd.addDays(1)
                  , i = DayPilot.DateUtil.daysDiff(t, n)
                  , a = r.selectionDay;
                if (e = e || {},
                r.Hb()) {
                    var o = {};
                    if (o.start = t,
                    o.end = n,
                    o.day = a,
                    o.days = i,
                    o.mode = e.mode || r.selectMode,
                    o.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof r.onTimeRangeSelect && (r.onTimeRangeSelect(o),
                    o.preventDefault.value))
                        return;
                    switch (r.timeRangeSelectedHandling) {
                    case "Bind":
                        var s = DayPilot.Util.evalVariable(r.bound);
                        if (s) {
                            var l = {};
                            l.start = t,
                            l.end = n,
                            l.days = i,
                            l.day = a,
                            s.commandCallBack(r.command, l)
                        }
                        break;
                    case "None":
                        break;
                    case "PostBack":
                        r.timeRangeSelectedPostBack(t, n, a)
                    }
                    "function" == typeof r.onTimeRangeSelected && r.onTimeRangeSelected(o)
                } else
                    switch (r.timeRangeSelectedHandling) {
                    case "Bind":
                        var s = DayPilot.Util.evalVariable(r.bound);
                        if (s) {
                            var l = {};
                            l.start = t,
                            l.end = n,
                            l.days = i,
                            l.day = a,
                            s.commandCallBack(r.command, l)
                        }
                        break;
                    case "JavaScript":
                        r.onTimeRangeSelected(t, n, a);
                        break;
                    case "None":
                        break;
                    case "PostBack":
                        r.timeRangeSelectedPostBack(t, n, a)
                    }
            }
            ,
            this.timeRangeSelectedPostBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.day = i,
                this.Ka("TimeRangeSelected", n, a)
            }
            ,
            this.Yj = function(e) {
                r.vk(r.skipMonths)
            }
            ,
            this.Xj = function(e) {
                r.vk(-r.skipMonths)
            }
            ,
            this.vk = function(e) {
                this.startDate = this.startDate.addMonths(e),
                this.jj(),
                this.Oj(),
                this.kk(),
                this.fk(),
                this.lk(),
                this.ek()
            }
            ,
            this.ik = function() {
                return r.startDate.firstDayOfMonth()
            }
            ,
            this.jk = function() {
                return r.startDate.firstDayOfMonth().addMonths(this.showMonths)
            }
            ,
            this.visibleStart = function() {
                return r.startDate.firstDayOfMonth().firstDayOfWeek(l.weekStarts())
            }
            ,
            this.visibleEnd = function() {
                return r.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(l.weekStarts()).addDays(42)
            }
            ,
            this.lk = function() {
                var e = this.visibleStart()
                  , t = this.visibleEnd();
                if (r.Hb()) {
                    var n = {};
                    if (n.start = e,
                    n.end = t,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof r.onVisibleRangeChange && (r.onVisibleRangeChange(n),
                    n.preventDefault.value))
                        return;
                    switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "Disabled":
                    }
                    "function" == typeof r.onVisibleRangeChanged && r.onVisibleRangeChanged(n)
                } else
                    switch (this.visibleRangeChangedHandling) {
                    case "CallBack":
                        this.visibleRangeChangedCallBack(null);
                        break;
                    case "PostBack":
                        this.visibleRangeChangedPostBack(null);
                        break;
                    case "JavaScript":
                        this.onVisibleRangeChanged(e, t);
                        break;
                    case "Disabled":
                    }
            }
            ,
            this.visibleRangeChangedCallBack = function(e) {
                var t = {};
                this.Ma("Visible", e, t)
            }
            ,
            this.visibleRangeChangedPostBack = function(e) {
                var t = {};
                this.Ka("Visible", e, t)
            }
            ,
            this.Qa = function(e, t) {
                var e = JSON.parse(e);
                r.items = e.Items,
                r.cells = e.Cells,
                r.cells ? r.update() : r.ek()
            }
            ,
            this.kk = function() {
                for (var e = 0; e < this.showMonths; e++) {
                    var t = this.wk(e);
                    this.kj(e, t)
                }
                this.root.style.height = this.mh() + "px",
                this.nav.preselection = document.createElement("div"),
                this.nav.preselection.style.position = "absolute",
                this.nav.preselection.style.left = "0px",
                this.nav.preselection.style.right = "0px",
                this.nav.preselection.style.top = "0px",
                this.root.appendChild(this.nav.preselection)
            }
            ,
            this.mh = function() {
                if ("Horizontal" === this.orientation) {
                    for (var e = 0, t = 0; t < this.months.length; t++) {
                        var n = this.months[t];
                        n.height > e && (e = n.height)
                    }
                    return e
                }
                for (var i = 0, t = 0; t < this.months.length; t++) {
                    var n = this.months[t];
                    i += n.height
                }
                return i
            }
            ,
            this.wk = function(e) {
                if (this.internal.showLinks)
                    return this.internal.showLinks;
                var t = {};
                return t.left = 0 === e,
                t.right = 0 === e,
                t.before = 0 === e,
                t.after = e === this.showMonths - 1,
                "Horizontal" === this.orientation && (t.right = e === this.showMonths - 1),
                t
            }
            ,
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function() {
                r.ch.scope && r.ch.scope["$apply"]()
            }
            ,
            this.X = {},
            this.X.reactDOM = null,
            this.X.react = null,
            this.X.W = function(e, t) {
                var n = r.X.reactDOM;
                if ("function" == typeof n.createRoot) {
                    var i = t.na;
                    i || (i = n.createRoot(t),
                    t.na = i),
                    i.render(e)
                } else
                    n.render(e, t)
            }
            ,
            this.X.la = function(e) {
                var t = r.X.reactDOM;
                if ("function" == typeof t.createRoot) {
                    var n = e.na;
                    setTimeout(function() {
                        n.unmount()
                    }, 0)
                } else
                    t.unmountComponentAtNode(e)
            }
            ,
            this.Z = {},
            this.Z.Ke = null,
            this.Z._ = function(e, t, n) {
                var i = r.Z.Ke;
                if ("function" == typeof i.createVNode && "function" == typeof i.render) {
                    var a = i.createVNode(e, n);
                    i.render(a, t)
                }
            }
            ,
            this.Z.Me = function(e, t) {
                var n = r.Z.Ke;
                if ("function" == typeof n.render) {
                    var i = e;
                    DayPilot.isArray(e) && (i = n.h("div", null, e)),
                    n.render(i, t)
                }
            }
            ,
            this.Z.ma = function(e) {
                var t = r.Z.Ke;
                "function" == typeof t.render && t.render(null, e)
            }
            ,
            this.internal = {},
            this.internal.loadOptions = r.gh,
            this.internal.initialized = function() {
                return r.Aa
            }
            ,
            this.internal.enableVue = function(e) {
                r.Z.Ke = e
            }
            ,
            this.internal.vueRef = function() {
                return r.Z.Ke
            }
            ,
            this.internal.vueRendering = function() {
                return r.Z.Le
            }
            ,
            this.Ja = {};
            var l = this.Ja;
            l.locale = function() {
                return DayPilot.Locale.find(r.locale)
            }
            ,
            l.weekStarts = function() {
                if ("Auto" === r.weekStarts) {
                    var e = l.locale();
                    return e ? e.weekStarts : 0
                }
                return r.weekStarts
            }
            ,
            l.cellWidth = function() {
                if (r.wa.cellWidth)
                    return r.wa.cellWidth;
                var e = r.hh("_cell_dimensions").width;
                return e || (e = r.cellWidth),
                r.wa.cellWidth = e,
                e
            }
            ,
            l.Pj = function() {
                return "Auto" === r.Ja.cellWidth()
            }
            ,
            this.clearSelection = function() {
                for (var e = 0; e < this.selected.length; e++) {
                    var t = this.selected[e];
                    r.dk(t.parentNode, t.x, t.y)
                }
                this.selected = []
            }
            ,
            this.vh = function() {
                return !!this.backendUrl && ("undefined" == typeof r.items || !r.items)
            }
            ,
            this.events = {},
            this.qb = function() {
                if (DayPilot.isArray(this.events.list)) {
                    this.items = {};
                    for (var e = 0; e < this.events.list.length; e++) {
                        var t = this.events.list[e];
                        if (!t.hidden) {
                            var n = this.xk(t);
                            for (var i in n)
                                this.items[i] = 1
                        }
                    }
                }
            }
            ,
            this.hh = function(e) {
                var t = document.createElement("div");
                t.style.position = "absolute",
                t.style.top = "-2000px",
                t.style.left = "-2000px",
                t.className = this.da(e);
                var n = r.root || document.body;
                n.appendChild(t);
                var i = t.offsetHeight
                  , a = t.offsetWidth;
                n.removeChild(t);
                var o = {};
                return o.height = i,
                o.width = a,
                o
            }
            ,
            this.xk = function(e) {
                for (var t = new DayPilot.Date(e.start), n = new DayPilot.Date(e.end), i = {}, a = t.getDatePart(); a.getTime() <= n.getTime(); )
                    i[a.toStringSortable()] = 1,
                    a = a.addDays(1);
                return i
            }
            ,
            this.show = function() {
                r.visible = !0,
                r.root.style.display = ""
            }
            ,
            this.hide = function() {
                r.visible = !1,
                r.root.style.display = "none"
            }
            ,
            this.wh = function() {
                if (this.id && this.id.tagName)
                    this.nav.top = this.id;
                else {
                    if ("string" != typeof this.id)
                        throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
                    if (this.nav.top = document.getElementById(this.id),
                    !this.nav.top)
                        throw "DayPilot.Navigator: The placeholder element not found: '" + i + "'."
                }
                this.root = this.nav.top
            }
            ,
            this.init = function() {
                if (this.wh(),
                !this.root.dp) {
                    this.gk(),
                    this.Oj(),
                    this.kk(),
                    this.qb(),
                    this.ek(),
                    this.bb(),
                    this.yk(),
                    this.wg();
                    if (this.vh() && this.lk(),
                    this.Aa = !0,
                    this.zh(),
                    this.hk) {
                        var e = this.hk;
                        this.select(e.date1, e.date2, e.options),
                        this.hk = null
                    }
                    return this
                }
            }
            ,
            this.yk = function() {
                r.nav.top.onmousedown = this.sk,
                r.nav.top.onmousemove = this.tk
            }
            ,
            this.wg = function() {
                DayPilot.re(document, "mouseup", r.zg)
            }
            ,
            this.zg = function(e) {
                if (o.start && o.end) {
                    var t = DayPilot.mo3(r.nav.top, e);
                    if (t.x === o.start.coords.x && t.y === o.start.coords.y)
                        return o.start = null,
                        void o.clear();
                    o.clear();
                    var n = o.ordered();
                    n.start = new s(n.start).nextVisible(),
                    n.end = new s(n.end).previousVisible(),
                    r.selectionDay = new s(n.start).date(),
                    r.selectionStart = r.selectionDay,
                    r.selectionEnd = new s(n.end).date(),
                    o.start = null,
                    o.end = null,
                    r.jj(),
                    r.Oj(),
                    r.kk(),
                    r.ek(),
                    r.fk();
                    r.Fc({
                        "mode": "FreeHand"
                    })
                }
                o.start = null,
                o.end = null
            }
            ,
            this.dispose = function() {
                var e = r;
                e.root && (e.root.removeAttribute("style"),
                e.root.removeAttribute("class"),
                e.root.dp = null,
                e.root.innerHTML = null,
                e.root = null,
                e.Ba = !0)
            }
            ,
            this.bb = function() {
                this.root.dispose = this.dispose
            }
            ,
            this.Init = this.init,
            this.gh(a)
        }
        ,
        "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotNavigator = function(e) {
                var t = null
                  , n = this.each(function() {
                    if (!this.daypilot) {
                        var n = new DayPilot.Navigator(this.id);
                        this.daypilot = n;
                        for (var i in e)
                            n[i] = e[i];
                        n.Init(),
                        t || (t = n)
                    }
                });
                return 1 === this.length ? t : n
            }
        }(jQuery),
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotNavigator", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                        function(t, n, i) {
                            var a = new DayPilot.Navigator(n[0]);
                            a.ch.scope = t,
                            a.init();
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            t["$apply"](function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"]
                              , u = i["events"] || i["daypilotEvents"];
                            d.call(t, c, function(e, t) {
                                for (var n in e)
                                    a[n] = e[n];
                                a.update()
                            }, !0),
                            d.call(t, u, function(e) {
                                a.events.list = e,
                                a.qb(),
                                a.ek()
                            }, !0)
                        }
                    }
                }
            }
            ])
        }(),
        DayPilot.Navigator.def = {},
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    "undefined" != typeof DayPilot.Queue && DayPilot.Queue.def || (DayPilot.Queue = function(e, t) {
        this.v = "2024.4.6243";
        var n = this;
        this.id = e,
        "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null,
        this.contextMenu = null,
        this.eventBarVisible = !0,
        this.eventBorderRadius = null,
        this.eventHeight = 35,
        this.eventTextWrappingEnabled = !1,
        this.lineSpace = 5,
        this.theme = null,
        this.emptyText = "",
        this.emptyHtml = null,
        this.eventClickHandling = "Enabled",
        this.eventHoverHandling = "Bubble",
        this.eventRightClickHanding = "ContextMenu",
        this.eventSelectHandling = "Update",
        this.onBeforeEventRender = null,
        this.onEventClick = null,
        this.onEventClicked = null,
        this.onEventRightClick = null,
        this.onEventRightClicked = null,
        this.onEventMove = null,
        this.onEventMoving = null,
        this.onEventSelect = null,
        this.onEventSelected = null,
        this.Aa = !1,
        this.zk = "queue_default",
        this.Ak = [],
        this.Bk = !1,
        this.Ck = !1,
        this.nav = {},
        this.events = {},
        this.events.list = [],
        this.elements = {},
        this.elements.events = [];
        var i = function() {
            return document.createElement("div")
        };
        this.wh = function() {
            if (this.id && this.id.tagName)
                this.nav.top = this.id;
            else {
                if ("string" != typeof this.id)
                    throw new DayPilot.Exception("DayPilot.Queue() constructor requires the target element or its ID as a parameter");
                if (this.nav.top = document.getElementById(this.id),
                !this.nav.top)
                    throw new DayPilot.Exception("DayPilot.Queue: The placeholder element not found: '" + e + "'.")
            }
        }
        ,
        this.da = function(e) {
            var t = this.theme || this.zk;
            return t ? t + e : ""
        }
        ,
        this.Jd = function() {
            n.nav.container.innerHTML = "",
            n.Dk = null,
            n.cj(),
            n.qb(),
            n.Cb(),
            n.Ek()
        }
        ,
        this.cj = function() {
            var e = n.nav.top;
            e.className = n.Fk,
            DayPilot.Util.addClass(e, n.da("_main"))
        }
        ,
        this.qb = function() {
            var e = {}
              , t = n.events.list || [];
            n.Ak = [];
            for (var i = 0; i < t.length; i++) {
                var a = t[i];
                if (!("string" == typeof a.id || "number" == typeof a.id))
                    throw new DayPilot.Exception("All events must have an id property (string or number)");
                var r = typeof a.id + "_" + a.id;
                if (e[r])
                    throw new DayPilot.Exception("Duplicate IDs not allowed: '" + r + "'");
                e[r] = !0;
                var o = DayPilot.Util.copyProps(a);
                n.Cg(o);
                var s = {};
                s.data = a,
                s.cache = o,
                n.Ak.push(s)
            }
        }
        ,
        this.Ea = {},
        this.Ea.Kc = [],
        this.Ea.Ak = [];
        var a = n.Ea;
        this.Ea.M = function(e) {
            var t = e.event;
            a.Gk(),
            a.Hk(e),
            a.Kc[0] = t
        }
        ,
        this.Ea.Hk = function(e) {
            a.Ak[0] = e;
            var t = n.da("_selected");
            DayPilot.Util.addClass(e, t)
        }
        ,
        this.Ea.Ik = function(e) {
            a.Ak = [];
            var t = n.da("_selected");
            DayPilot.Util.removeClass(e, t)
        }
        ,
        this.Ea.yd = function(e) {
            return n.Ea.Ak.find(function(t) {
                return t.event.data.id === e
            })
        }
        ,
        this.Ea.Gk = function() {
            var e = a.Ak[0];
            e && a.Ik(e),
            a.Kc = []
        }
        ,
        this.Cg = function(e) {
            var t = {};
            t.data = e,
            "function" == typeof n.onBeforeEventRender && n.onBeforeEventRender(t)
        }
        ,
        this.Ek = function() {
            if (0 === n.events.list.length) {
                var e = n.nav.container
                  , t = i();
                n.emptyHtml ? t.innerHTML = n.emptyHtml : t.innerText = n.emptyText,
                e.appendChild(t)
            }
        }
        ,
        this.Cb = function() {
            var e = n.Ak;
            n.elements.events = [],
            e.forEach(function(e) {
                n.Re(e)
            })
        }
        ,
        this.Re = function(e) {
            var t = e.cache
              , a = e.data
              , r = t.borderRadius || n.eventBorderRadius;
            "number" == typeof r && (r += "px");
            var o = n.nav.container
              , s = i();
            s.className = n.da("_event"),
            s.style.height = n.eventHeight + "px",
            s.style.boxSizing = "border-box",
            s.style.overflow = "hidden",
            s.style.marginTop = n.lineSpace + "px",
            s.style.position = "relative",
            n.eventTextWrappingEnabled || (s.style.whiteSpace = "nowrap"),
            s.addEventListener("click", n.xj),
            s.addEventListener("contextmenu", n.Jk),
            n.Ea.yd(a.id) && n.Ea.Hk(s);
            var l = i();
            if (l.className = n.da("_event_inner"),
            "string" == typeof t.html ? l.innerHTML = t.html : l.innerText = t.text,
            r && (s.style.borderRadius = r,
            l.style.borderRadius = r),
            t.cssClass && DayPilot.Util.addClass(s, t.cssClass),
            t.backColor && (l.style.background = t.backColor),
            t.fontColor && (l.style.color = t.fontColor),
            "darker" === t.borderColor && t.backColor ? l.style.borderColor = DayPilot.ColorUtil.darker(t.backColor, 2) : l.style.borderColor = t.borderColor,
            t.backImage && (l.style.backgroundImage = "url(" + t.backImage + ")",
            t.backRepeat && (l.style.backgroundRepeat = t.backRepeat)),
            s.appendChild(l),
            s.onmousemove = this.Se,
            s.onmouseleave = this.Kk,
            n.eventBarVisible && !t.barHidden) {
                var d = i();
                d.className = n.da("_event_bar"),
                d.style.position = "absolute",
                t.barColor && (d.style.backgroundColor = t.barColor),
                s.appendChild(d)
            }
            var c = {
                "eventDiv": s,
                "areas": t.areas,
                "allowed": function() {
                    return !(n.Bk || n.Ck)
                }
            }
              , u = new DayPilot.Event(a,n);
            u.cache = t,
            s.event = u,
            DayPilot.Areas.attach(s, u, c),
            n.Lk(s, a),
            o.appendChild(s),
            n.elements.events.push(s)
        }
        ,
        this.Se = function(e) {
            "undefined" != typeof DayPilot.Bubble && n.bubble && "Bubble" === n.eventHoverHandling && n.bubble.showEvent(this.event)
        }
        ,
        this.Kk = function(e) {
            n.bubble && n.bubble.hideOnMouseOut()
        }
        ,
        this.Jk = function(e) {
            if (e.preventDefault(),
            "Disabled" !== n.eventRightClickHandling) {
                var t = this
                  , i = t.event
                  , a = {};
                if (a.e = t.event,
                a.preventDefault = function() {
                    a.preventDefault.value = !0
                }
                ,
                "function" == typeof n.onEventRightClick && n.onEventRightClick(a),
                !a.preventDefault.value) {
                    switch (n.eventRightClickHanding) {
                    case "Enabled":
                        break;
                    case "ContextMenu":
                        var r = i.client.contextMenu();
                        r ? r.show(i) : n.contextMenu && n.contextMenu.show(i)
                    }
                    "function" == typeof n.onEventRightClicked && n.onEventRightClicked(a)
                }
            }
        }
        ,
        this.xj = function(e) {
            if (e.preventDefault(),
            e.stopPropagation(),
            "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
            "Disabled" !== n.eventClickHandling) {
                var t = this
                  , i = t.event
                  , a = {};
                if (a.e = i,
                a.preventDefault = function() {
                    a.preventDefault.value = !0
                }
                ,
                "function" == typeof n.onEventClick && n.onEventClick(a),
                !a.preventDefault.value) {
                    switch (n.eventClickHandling) {
                    case "Select":
                        n.Jc(t, i, e);
                        break;
                    case "Enabled":
                    }
                    "function" == typeof n.onEventClicked && n.onEventClicked(a)
                }
            }
        }
        ,
        this.Jc = function(e, t, i) {
            var a = {};
            if (a.e = t,
            a.preventDefault = function() {
                this.preventDefault.value = !0
            }
            ,
            "function" != typeof n.onEventSelect || (n.onEventSelect(a),
            !a.preventDefault.value)) {
                switch (n.eventSelectHandling) {
                case "Update":
                    n.Ea.M(e)
                }
                "function" == typeof n.onEventSelected && n.onEventSelected(a)
            }
        }
        ,
        this.Mk = function(e, t) {
            var i = n.Nk
              , a = {};
            a.e = new DayPilot.Event(e,n),
            a.position = i,
            a.source = t,
            a.external = !0,
            a.control = n,
            a.preventDefault = function() {
                a.preventDefault.value = !0
            }
            ,
            n.Ok(a),
            a.preventDefault.value || (n.events.list.splice(i, 0, e),
            n.Jd(),
            n.Pk(a))
        }
        ,
        this.Qk = function(e) {
            var t = n.Nk
              , i = n.events.list.indexOf(e)
              , a = !1;
            n.Bk && i < t && (t -= 1,
            a = !0);
            var r = {};
            r.e = new DayPilot.Event(e,n),
            r.position = t + (a ? 1 : 0),
            r.source = n,
            r.external = !1,
            r.preventDefault = function() {
                r.preventDefault.value = !0
            }
            ,
            n.Ok(r),
            r.preventDefault.value || (n.Rk(n.events.list, i, t),
            n.Jd(),
            n.Pk(r))
        }
        ,
        this.Ok = function(e) {
            "function" == typeof n.onEventMove && n.onEventMove(e)
        }
        ,
        this.Pk = function(e) {
            "function" == typeof n.onEventMoved && n.onEventMoved(e)
        }
        ,
        this.Rk = function(e, t, n) {
            var i = e[t];
            e.splice(t, 1),
            e.splice(n, 0, i)
        }
        ,
        this.Sk = function() {
            DayPilot.Scheduler.registerDropTarget({
                element: n.nav.top,
                onDrop: function(e) {
                    n.Ck = !1;
                    var t = e.e
                      , i = t.data
                      , a = e.e.calendar;
                    n.Mk(i, a)
                },
                onDragOver: function(e) {
                    n.Ck = !0
                },
                onDragLeave: function(e) {
                    n.Ck = !1
                }
            })
        }
        ,
        this.Dk = null,
        this.Tk = function(e) {
            n.Nk = e;
            var t = n.Dk || i()
              , a = n.nav.container
              , r = n.eventHeight + n.lineSpace
              , o = e * r;
            o -= n.lineSpace / 2 + 1,
            t.style.top = o + "px",
            n.Dk || (t.className = n.da("_shadow"),
            t.style.position = "absolute",
            t.style.left = "0px",
            t.style.right = "0px",
            t.style.height = "2px",
            n.Dk = t,
            a.appendChild(t))
        }
        ,
        this.Uk = function() {
            n.Nk = null,
            DayPilot.de(n.Dk),
            n.Dk = null
        }
        ,
        this.ki = null,
        this.Nk = null,
        this.Vk = function(e) {
            var t = n.nav.container
              , i = DayPilot.mo3(t, e);
            if (n.ki = i,
            n.Bk || n.Ck) {
                var a = n.eventHeight + n.lineSpace
                  , r = Math.floor((i.y + n.eventHeight / 2) / a);
                r < 0 && (r = 0),
                r > n.Ak.length && (r = n.Ak.length),
                n.Tk(r)
            }
        }
        ,
        this.Wk = function(e) {
            n.Uk()
        }
        ,
        this.Xk = function(e) {
            if (n.Bk) {
                var t = n.Yk;
                n.Qk(t),
                n.Yk = null
            }
        }
        ,
        this.Zk = function() {
            var e = i();
            n.nav.container = e;
            var t = n.nav.top;
            n.Fk = t.className || "",
            e.style.position = "relative",
            t.onmousemove = n.Vk,
            t.onmouseleave = n.Wk,
            t.onmouseup = n.Xk,
            t.appendChild(e)
        }
        ,
        this.Lk = function(e, t) {
            var i = e
              , a = {
                element: i,
                data: t,
                keepElement: !0,
                externalCssClass: "",
                externalHtml: "",
                onDragStart: function(e) {
                    n.Bk = !0,
                    n.Yk = t,
                    i.style.opacity = "0.5"
                },
                onDrop: function(e) {
                    n.Bk = !1,
                    i.style.opacity = "";
                    !!n.Yk
                }
            };
            DayPilot.Scheduler.makeDraggable(a)
        }
        ,
        this.gh = function(e) {
            if (e) {
                var t = {
                    "events": {
                        "preInit": function() {
                            var e = this.data;
                            e && (n.events.list = e)
                        }
                    }
                };
                for (var i in e)
                    if (t[i]) {
                        var a = t[i];
                        a.data = e[i],
                        a.preInit && a.preInit()
                    } else
                        n[i] = e[i]
            }
        }
        ,
        this.X = {},
        this.X.reactDOM = null,
        this.X.react = null,
        this.X.W = function(e, t) {
            var i = n.X.reactDOM;
            if ("function" == typeof i.createRoot) {
                var a = t.na;
                a || (a = i.createRoot(t),
                t.na = a),
                a.render(e)
            } else
                i.render(e, t)
        }
        ,
        this.X.la = function(e) {
            var t = n.X.reactDOM;
            if ("function" == typeof t.createRoot) {
                var i = e.na;
                setTimeout(function() {
                    i.unmount()
                }, 0)
            } else
                t.unmountComponentAtNode(e)
        }
        ,
        this.bh = function(e) {
            if (!e)
                return null;
            for (var t = 0; t < n.elements.events.length; t++) {
                var i = n.elements.events[t];
                if (DayPilot.Util.isSameEvent(i.event, e))
                    return i
            }
            return null
        }
        ,
        this.multiselect = {},
        this.multiselect.add = function(e) {
            "number" != typeof e && "string" != typeof e || (e = n.events.find(e)),
            e instanceof DayPilot.Event && (e = e.data);
            var t = n.bh(e);
            t && n.Ea.M(t)
        }
        ,
        this.multiselect.clear = function() {
            n.Ea.Gk()
        }
        ,
        this.multiselect.get = function() {
            var e = []
              , t = a.Kc[0];
            if (t) {
                var n = t.event;
                e.push(n)
            }
            return e
        }
        ,
        this.events.add = function(e) {
            e instanceof DayPilot.Event && (e = e.data),
            n.events.list.push(e),
            n.Jd()
        }
        ,
        this.events.remove = function(e) {
            if (e) {
                "number" != typeof e && "string" != typeof e || (e = n.events.find(e)),
                e instanceof DayPilot.Event && (e = e.data);
                var t = n.$k(e);
                t && n.events.list.splice(t.index, 1),
                n.Ea.yd(e.id) && n.multiselect.clear(),
                n.Jd()
            }
        }
        ,
        this.events.update = function(e) {
            if (e instanceof DayPilot.Event && (e = e.data),
            n.events.find(e.id)) {
                var t = n.$k(e);
                t && n.events.list.splice(t.index, 1, e),
                n.Jd()
            }
        }
        ,
        this.events.find = function(e) {
            var t = n.events.list.find(function(t) {
                return t.id === e
            });
            return t ? new DayPilot.Event(t,n) : null
        }
        ,
        this.$k = function(e) {
            if (!n.events.list)
                return null;
            for (var t = 0; t < this.events.list.length; t++) {
                var i = this.events.list[t];
                if (n.Gd(i, e)) {
                    var a = {};
                    return a.ex = i,
                    a.index = t,
                    a.modified = !n._k(e, i),
                    a
                }
            }
            return null
        }
        ,
        this.Gd = function(e, t) {
            return DayPilot.Util.isSameEvent(e, t)
        }
        ,
        this._k = function(e, t) {
            for (var n in e)
                if (("object" != typeof e[n] || e[n]instanceof DayPilot.Date) && e[n] !== t[n])
                    return !1;
            for (var n in t)
                if ("object" != typeof t[n] && e[n] !== t[n])
                    return !1;
            return !0
        }
        ,
        this.init = function() {
            if (this.Aa)
                throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
            if (this.wh(),
            this.nav.top.dp) {
                if (this.nav.top.dp === n)
                    return n;
                throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")
            }
            return this.Sk(),
            this.Zk(),
            this.Jd(),
            this
        }
        ,
        this.update = function(e) {
            if (n.Ba)
                throw new DayPilot.Exception("You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");
            n.gh(e),
            n.Jd()
        }
        ,
        this.dispose = function() {
            var e = n.nav.top;
            DayPilot.Scheduler.unregisterDropTarget({
                element: e
            }),
            e.innerHTML = "",
            n.Ba = !0
        }
        ,
        this.Z = {},
        this.Z.Ke = null,
        this.Z._ = function(e, t, i) {
            var a = n.Z.Ke;
            if ("function" == typeof a.createVNode && "function" == typeof a.render) {
                var r = a.createVNode(e, i);
                a.render(r, t)
            }
        }
        ,
        this.Z.Me = function(e, t) {
            var i = n.Z.Ke;
            if ("function" == typeof i.render) {
                var a = e;
                DayPilot.isArray(e) && (a = i.h("div", null, e)),
                i.render(a, t)
            }
        }
        ,
        this.Z.ma = function(e) {
            var t = n.Z.Ke;
            "function" == typeof t.render && t.render(null, e)
        }
        ,
        this.internal = {},
        this.internal.loadOptions = function(e) {
            n.gh(e)
        }
        ,
        this.internal.enableReact = function(e, t) {
            n.X.react = e,
            n.X.reactDOM = t
        }
        ,
        this.internal.reactRefs = function() {
            return DayPilot.Util.copyProps(n.X, {}, ["react", "reactDOM"])
        }
        ,
        this.internal.findEventDiv = this.bh,
        this.internal.enableVue = function(e) {
            n.Z.Ke = e
        }
        ,
        this.internal.vueRef = function() {
            return n.Z.Ke
        }
        ,
        this.internal.vueRendering = function() {
            return n.Z.Le
        }
        ,
        this.gh(t)
    }
    ,
    DayPilot.Queue.def = {})
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    function t(e) {
        for (var t = e.touches[0].clientX, n = e.touches[0].clientY, i = document.elementFromPoint(t, n); i && i.parentNode; )
            if (i = i.parentNode,
            i.daypilotMainD)
                return i.calendar;
        return !1
    }
    function n(e) {
        var t = e.touches[0].pageX
          , n = e.touches[0].pageY
          , i = {};
        return i.x = t,
        i.y = n,
        i
    }
    if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
        var i = {}
          , a = function() {}
          , o = !1
          , s = function() {
            return document.body
        }
          , l = function() {
            return document.createElement("div")
        }
          , d = DayPilot.Util.overlaps
          , c = DayPilot.Util.removeClass
          , u = DayPilot.Util.addClass
          , h = DayPilot.Util.div
          , f = DayPilot.Util.atLeast
          , v = DayPilot.Util.isNullOrUndefined
          , p = DayPilot.Util.copyProps
          , m = DayPilot.Util.isReactComponent
          , g = DayPilot.Util.isVueComponent
          , b = DayPilot.Util.isVueVNode
          , y = DayPilot.Util.mouseButton
          , w = DayPilot.Global
          , x = DayPilot.list
          , k = DayPilot.contains
          , C = DayPilot.de
          , S = DayPilot.indexOf
          , _ = DayPilot.isArray;
        DayPilot.Scheduler = function(t, o) {
            function D(e) {
                e.div.style.height = e.height + "px",
                e.div.style.top = e.top + "px",
                M.xt(e.div, e.enabled()),
                e.divHeader.style.height = e.heightRes + "px",
                e.divHeader.style.top = e.top + "px",
                M.xt(e.divHeader, e.enabled()),
                e.divSpace && (e.divSpace.style.top = e.height + "px")
            }
            function A(e, t) {
                return 1 - e / t
            }
            this.v = "2024.4.6243";
            var M = this;
            this.id = t,
            this.isScheduler = !0,
            this.allowDefaultContextMenu = !1,
            this.allowEventOverlap = !0,
            this.allowMultiMove = !1,
            this.allowMultiRange = !1,
            this.allowMultiResize = !1,
            this.allowMultiSelect = !0,
            this.api = 2,
            this.autoRefreshCommand = "refresh",
            this.autoRefreshEnabled = !1,
            this.autoRefreshInterval = 60,
            this.autoRefreshMaxCount = 20,
            this.autoScroll = "Drag",
            this.autoScrollDelay = 200,
            this.autoScrollHorizontal = !0,
            this.autoScrollRectangleSelection = !0,
            this.autoScrollSpeed = 50,
            this.autoScrollVertical = !0,
            this.blockOnCallBack = !1,
            this.navigatorBackSync = null,
            this.backendUrl = null,
            this.beforeCellRenderCaching = !0,
            this.businessBeginsHour = 9,
            this.businessEndsHour = 18,
            this.businessWeekends = !1,
            this.cellDuration = 60,
            this.cellGroupBy = "Day",
            this.cellSweeping = !0,
            this.cellSweepingCacheSize = 1e3,
            this.cellWidth = 40,
            this.cellWidthMin = 1,
            this.cellWidthSpec = "Fixed",
            this.cellsMarkBusiness = !0,
            this.cornerText = "",
            this.cornerHtml = null,
            this.crosshairTimeHeaderLevel = "Last",
            this.crosshairType = "Header",
            this.cssClass = null,
            this.cssClassPrefix = "scheduler_default",
            this.days = 1,
            this.doubleClickTimeout = 300,
            this.dragOutAllowed = !1,
            this.drawBlankCells = !0,
            this.durationBarHeight = null,
            this.durationBarVisible = !0,
            this.durationBarMode = "Duration",
            this.dynamicEventRendering = "Progressive",
            this.dynamicEventRenderingMargin = 50,
            this.dynamicEventRenderingMarginX = null,
            this.dynamicEventRenderingMarginY = null,
            this.dynamicEventRenderingCacheSweeping = !1,
            this.dynamicEventRenderingCacheSize = 200,
            this.dynamicLoading = !1,
            this.eventBorderRadius = null,
            this.eventEditMinWidth = 100,
            this.eventEditTabNext = !1,
            this.eventEndSpec = "DateTime",
            this.eventHeight = 35,
            this.eventHtmlLeftMargin = 10,
            this.eventHtmlRightMargin = 10,
            this.eventMarginLeft = 0,
            this.eventMarginRight = 0,
            this.eventMarginBottom = 0,
            this.eventMinWidth = 1,
            this.eventMoveMargin = 5,
            this.eventMoveToPosition = !1,
            this.eventMoveSkipNonBusiness = !1,
            this.eventPadding = null,
            this.eventResizeMargin = 5,
            this.eventStackingLineHeight = 100,
            this.eventTapAndHoldHandling = "Move",
            this.eventTextWrappingEnabled = !1,
            this.eventUpdateInplaceOptimization = !1,
            this.eventsLoadMethod = "GET",
            this.eventVersionHeight = 25,
            this.eventVersionMargin = 2,
            this.eventVersionPosition = "Above",
            this.eventVersionsEnabled = !1,
            this.eventVersionsReserveSpace = !1,
            this.floatingEvents = !DayPilot.browser.ios,
            this.floatingTimeHeaders = !0,
            this.groupConcurrentEvents = !1,
            this.groupConcurrentEventsLimit = 1,
            this.headerHeight = 30,
            this.heightSpec = "Max",
            this.height = 600,
            this.hideBorderFor100PctHeight = !1,
            this.hideUntilInit = !0,
            this.infiniteScrollingEnabled = !1,
            this.infiniteScrollingMargin = 50,
            this.infiniteScrollingStepDays = 30,
            this.initEventEnabled = !0,
            this.jointEventsResize = !0,
            this.jointEventsMove = !0,
            this.keyboardEnabled = !1,
            this.keyboardTarget = "document",
            this.layout = "Auto",
            this.linkCreateHandling = "Disabled",
            this.linkBottomMargin = 17,
            this.linkDotSize = 8,
            this.linkLayer = "Above",
            this.linkPointSize = 10,
            this.linkShape = "Curved",
            this.linksLoadMethod = "GET",
            this.linkWidth = "Auto",
            this.locale = "en-us",
            this.loadingLabelText = "Loading...",
            this.loadingLabelHtml = null,
            this.loadingLabelVisible = !0,
            this.overrideWheelScrolling = !1,
            this.messageBarPosition = "Top",
            this.messageHideAfter = 5e3,
            this.messageHideOnMouseOut = !0,
            this.multiRangeMode = "CtrlOrMeta",
            this.multiMoveVerticalMode = "Disabled",
            this.moveBy = "Full",
            this.notifyCommit = "Immediate",
            this.progressiveRowRendering = !0,
            this.progressiveRowRenderingPreload = 25,
            this.rectangleSelectMode = "Free",
            this.rectangleSelectHandling = "Disabled",
            this.rowCreateHeight = null,
            this.rowCreateHtml = null,
            this.rowCreateText = "New row...",
            this.rowDragHandleWidth = 10,
            this.rowEmptyHeight = null,
            this.rowFilterParentsAlwaysVisible = !0,
            this.rowHeaderColumnDefaultWidth = 80,
            this.rowHeaderColumnHeaderHeight = null,
            this.rowHeaderColumnsResizable = !0,
            this.rowHeaderColumnsMode = "Tabular",
            this.rowHeaderColumns = null,
            this.rowHeaderColumnsMergeParents = !0,
            this.rowHeaderHideIconEnabled = !1,
            this.rowHeaderScrolling = !1,
            this.rowHeaderSplitterWidth = 3,
            this.rowHeaderWidthAutoFit = !0,
            this.rowHeaderWidthAutoFitShrink = !1,
            this.rowHeaderWidthMarginRight = 0,
            this.rowHeaderWidthMin = 20,
            this.rowHeaderWidth = 80,
            this.rowMarginBottom = 0,
            this.rowMarginTop = 0,
            this.rowMinHeight = 0,
            this.rowsLoadMethod = "GET",
            this.rowSortingMode = "LeavesOnly",
            this.scale = "CellDuration",
            this.scaleManualLimitBeyond = !0,
            this.scrollDelayDynamic = 500,
            this.scrollDelayEvents = 200,
            this.scrollDelayCells = DayPilot.browser.ios ? 100 : 0,
            this.scrollDelayFloats = 0,
            this.scrollDelayRows = 0,
            this.scrollStep = null,
            this.scrollX = 0,
            this.scrollY = 0,
            this.selectedRows = [],
            this.separators = [],
            this.showCurrentTimeHeader = !1,
            this.showNonBusiness = !0,
            this.showNonBusinessForceHours = !1,
            this.showToolTip = !0,
            this.snapToGrid = !0,
            this.snapToGridTimeRangeSelecting = !0,
            this.snapToGridEventMoving = !0,
            this.snapToGridEventResizing = !0,
            this.startDate = DayPilot.Date.today(),
            this.syncResourceTree = !1,
            this.tapAndHoldTimeout = 300,
            this.timeHeaders = [{
                "groupBy": "Default"
            }, {
                "groupBy": "Cell"
            }],
            this.timeHeaderPosition = "Top",
            this.timeHeaderTextWrappingEnabled = !1,
            this.treeAnimation = !0,
            this.treeAutoExpand = !0,
            this.treeEnabled = !1,
            this.treeIndent = 20,
            this.treeImageMarginLeft = 0,
            this.treeImageMarginTop = 3,
            this.treeImageMarginRight = 5,
            this.treeImageWidth = 10,
            this.treeImageHeight = 10,
            this.treePreventParentUsage = !1,
            this.timeFormat = "Auto",
            this.timeline = null,
            this.useEventBoxes = "Always",
            this.viewType = "Resources",
            this.visible = !0,
            this.watchWidthChanges = !0,
            this.weekStarts = "Auto",
            this.width = null,
            this.xssProtection = "Enabled",
            this.zoomLevels = [],
            this.zoomPosition = "left",
            this.eventClickHandling = "Enabled",
            this.eventDeleteHandling = "Disabled",
            this.eventHoverHandling = "Bubble",
            this.eventDoubleClickHandling = "Disabled",
            this.eventEditHandling = "Update",
            this.eventMoveHandling = "Update";
            this.eventResizeHandling = "Update";
            this.eventRightClickHandling = "ContextMenu",
            this.eventSelectHandling = "Update",
            this.resourceCollapseHandling = "Enabled",
            this.resourceExpandHandling = "Enabled",
            this.rowClickHandling = "Enabled",
            this.rowDoubleClickHandling = "Disabled",
            this.rowRightClickHandling = "ContextMenu",
            this.rowCreateHandling = "Disabled",
            this.rowEditHandling = "Update",
            this.rowHeaderColumnResizedHandling = "Update",
            this.rowSelectHandling = "Update",
            this.rowMoveHandling = "Disabled",
            this.rowMoveSameLevelOnly = !1,
            this.timeHeaderClickHandling = "Enabled",
            this.timeHeaderRightClickHandling = "Enabled",
            this.timeRangeClickHandling = "Enabled",
            this.timeRangeDoubleClickHandling = "Disabled",
            this.timeRangeSelectedHandling = "Enabled",
            this.timeRangeRightClickHandling = "ContextMenu",
            this.timeRangeSelectingStartEndEnabled = !1,
            this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy",
            this.eventMovingStartEndEnabled = !1,
            this.eventMovingStartEndFormat = "MMMM d, yyyy",
            this.eventResizingStartEndEnabled = !1,
            this.eventResizingStartEndFormat = "MMMM d, yyyy",
            "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null,
            this.cellBubble = null,
            this.resourceBubble = null,
            this.linkBubble = null,
            this.groupBubble = null,
            this.rowHeaderColumnBubble = null,
            this.contextMenu = null,
            this.contextMenuResource = null,
            this.contextMenuSelection = null,
            this.contextMenuLink = null,
            1 === M.api && (this.onEventMove = function() {}
            ,
            this.onEventResize = function() {}
            ,
            this.onResourceExpand = function() {}
            ,
            this.onResourceCollapse = function() {}
            ),
            this.onEventClick = null,
            this.onEventClicked = null,
            this.onEventEdit = null,
            this.onEventEdited = null,
            this.onEventEditKeyDown = null,
            this.onEventMove = null,
            this.onEventMoved = null,
            this.onEventMoving = null,
            this.onEventResize = null,
            this.onEventResized = null,
            this.onEventResizing = null,
            this.onEventRightClick = null,
            this.onEventRightClicked = null,
            this.onEventMouseEnter = null,
            this.onEventMouseLeave = null,
            this.onEventMouseOver = null,
            this.onEventMouseOut = null,
            this.onIncludeTimeCell = null,
            this.onKeyboardFocusChange = null,
            this.onKeyboardFocusChanged = null,
            this.onLinkClick = null,
            this.onLinkClicked = null,
            this.onLinkCreate = null,
            this.onLinkCreated = null,
            this.onRowClick = null,
            this.onRowClicked = null,
            this.onRowDoubleClick = null,
            this.onRowDoubleClicked = null,
            this.onRowMouseOver = null,
            this.onRowMouseOut = null,
            this.onRowRightClick = null,
            this.onRowRightClicked = null,
            this.onScroll = null,
            this.onScrollEnd = null,
            this.onTimeHeaderClick = null,
            this.onTimeHeaderClicked = null,
            this.onTimeHeaderRightClick = null,
            this.onTimeHeaderRightClicked = null,
            this.onTimeRangeClick = null,
            this.onTimeRangeClicked = null,
            this.onTimeRangeDoubleClick = null,
            this.onTimeRangeDoubleClicked = null,
            this.onTimeRangeSelect = null,
            this.onTimeRangeSelected = null,
            this.onTimeRangeSelecting = null,
            this.onTimeRangeRightClick = null,
            this.onTimeRangeRightClicked = null,
            this.onRowHeaderColumnResized = null,
            this.onRowHeaderResized = null,
            this.onCellMouseEnter = null,
            this.onCellMouseLeave = null,
            this.onCellMouseOver = null,
            this.onCellMouseOut = null,
            this.onGridMouseDown = null,
            this.onBeforeCellRender = null,
            this.onBeforeCellDomAdd = null,
            this.onBeforeCellDomRemove = null,
            this.onBeforeCornerRender = null,
            this.onBeforeCornerDomAdd = null,
            this.onBeforeCornerDomRemove = null,
            this.onBeforeEventRender = null,
            this.onBeforeEventDomAdd = null,
            this.onBeforeEventDomRemove = null,
            this.onBeforeGridLineRender = null,
            this.onBeforeLinkRender = null,
            this.onBeforeTimeHeaderRender = null,
            this.onBeforeTimeHeaderDomAdd = null,
            this.onBeforeTimeHeaderDomRemove = null,
            this.onBeforeResHeaderRender = null,
            this.onBeforeRowHeaderRender = null,
            this.onBeforeRowHeaderColumnRender = null,
            this.onBeforeRowHeaderDomAdd = null,
            this.onBeforeRowHeaderDomRemove = null,
            this.onBeforeCellExport = null,
            this.onBeforeCornerExport = null,
            this.onBeforeEventExport = null,
            this.onBeforeTimeHeaderExport = null,
            this.onBeforeRowHeaderExport = null,
            this.onAfterEventRender = null,
            this.onAfterCellRender = null,
            this.onAfterEventEditRender = null,
            this.onEventFilter = null,
            this.onRowFilter = null,
            this.onRectangleSelecting = null,
            this.onRectangleSelect = null,
            this.onRectangleSelected = null,
            this.onDimensionsChanged = null,
            this.onAfterUpdate = null,
            this.onAfterRender = null,
            this.za = 0,
            this.al = !0,
            this.bl = !1,
            this.cl = !1,
            this.dl = !1,
            this.fl = -1,
            this.gl = -1,
            this.Ba = !1,
            this.hl = -1,
            this.il = !1,
            this.jl = !0,
            this.rowlist = x(),
            this.itline = x(),
            this.events = {},
            this.cells = {},
            this.elements = {},
            this.elements.events = [],
            this.elements.bars = [],
            this.elements.text = [],
            this.elements.cells = [],
            this.elements.linesVertical = [],
            this.elements.separators = [],
            this.elements.range = [],
            this.elements.breaks = [],
            this.elements.links = [],
            this.elements.linkpoints = [],
            this.elements.rectangle = [],
            this.elements.hover = [],
            this.elements.timeHeader = [],
            this.wa = {},
            this.wa.cells = [],
            this.wa.kl = {},
            this.wa.ll = {},
            this.wa.timeHeaderGroups = [],
            this.wa.timeHeader = {},
            this.wa.pixels = [],
            this.wa.breaks = [],
            this.wa.events = [],
            this.wa.ml = [],
            this.clientState = {},
            this.members = {},
            this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"],
            this.members.ignoreFilter = function(e) {
                return 0 === e.indexOf("div")
            }
            ,
            this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts", "rowHeaderCols"],
            this.members.noCssOnly = [],
            this.Ca = "javasc",
            this.nav = {},
            this.Qa = function(e, t) {
                var e = JSON.parse(e);
                if (M.onScrollCalled = !1,
                e.VsUpdate) {
                    var n = document.createElement("input");
                    n.type = "hidden",
                    n.name = M.id + "_vsupdate",
                    n.id = n.name,
                    n.value = e.VsUpdate,
                    M.hj.innerHTML = "",
                    M.hj.appendChild(n)
                }
                if (e.CallBackRedirect)
                    return void (document.location.href = e.CallBackRedirect);
                if (e.BubbleGuid) {
                    var i = e.BubbleGuid
                      , a = this.bubbles[i];
                    return delete this.bubbles[i],
                    M.kb(),
                    "undefined" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a),
                    void M.nl()
                }
                if ("function" == typeof M.onCallBackResult) {
                    var r = {};
                    if (r.result = e,
                    r.preventDefault = function() {
                        r.preventDefault.value = !0
                    }
                    ,
                    M.onCallBackResult(r),
                    r.preventDefault.value)
                        return M.zc(),
                        M.kb(),
                        M.Gb(),
                        e.Message && M.message && M.message(e.Message),
                        M.lb(e.CallBackData, !0),
                        M.nl(),
                        void M.Ga()
                }
                return "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                "undefined" != typeof e.ClientState && (null === e.ClientState ? M.clientState = {} : M.clientState = e.ClientState),
                "None" === e.UpdateType ? (M.kb(),
                M.nl(),
                e.Message && M.message(e.Message),
                void M.lb(e.CallBackData, !0)) : ("undefined" != typeof e.TagFields && (M.tagFields = e.TagFields),
                "undefined" != typeof e.SortDirections && (M.sortDirections = e.SortDirections),
                M.wa.drawArea = null,
                "Full" === e.UpdateType && (M.resources = e.Resources,
                M.colors = e.Colors,
                M.palette = e.Palette,
                M.dirtyColors = e.DirtyColors,
                M.cellProperties = e.CellProperties,
                M.cellConfig = e.CellConfig,
                M.separators = e.Separators,
                M.timeline = e.Timeline,
                M.timeHeader = e.TimeHeader,
                M.timeHeaders = e.TimeHeaders,
                "undefined" != typeof e.Links && (M.links.list = e.Links),
                "undefined" != typeof e.RowHeaderColumns && (M.rowHeaderColumns = e.RowHeaderColumns),
                M.startDate = e.StartDate ? new DayPilot.Date(e.StartDate) : M.startDate,
                M.days = e.Days ? e.Days : M.days,
                M.cellDuration = e.CellDuration ? e.CellDuration : M.cellDuration,
                M.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : M.cellGroupBy,
                M.cellWidth = e.CellWidth ? e.CellWidth : M.cellWidth,
                "undefined" != typeof e.CellWidthSpec && (M.cellWidthSpec = e.CellWidthSpec),
                "undefined" != typeof e.Scale && (M.scale = e.Scale),
                M.viewType = e.ViewType ? e.ViewType : M.viewType,
                "undefined" != typeof e.ShowNonBusiness && (M.showNonBusiness = e.ShowNonBusiness),
                M.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : M.businessBeginsHour,
                M.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : M.businessEndsHour,
                "undefined" != typeof e.DynamicLoading && (M.dynamicLoading = e.DynamicLoading),
                "undefined" != typeof e.TreeEnabled && (M.treeEnabled = e.TreeEnabled),
                M.locale = e.Locale ? e.Locale : M.locale,
                "undefined" != typeof e.TimeZone && (M.timeZone = e.TimeZone),
                M.timeFormat = e.TimeFormat ? e.TimeFormat : M.timeFormat,
                M.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : M.rowHeaderCols,
                "undefined" != typeof e.DurationBarMode && (M.durationBarMode = e.DurationBarMode),
                "undefined" != typeof e.CornerHTML && (M.cornerHtml = e.CornerHTML),
                M.hashes = e.Hashes,
                M.ol(),
                M.ql(),
                M.rl(),
                M.pb(),
                M.sl()),
                "Scroll" !== e.Action && (M.qb(e.Events),
                P.ul()),
                "Full" === e.UpdateType && (M.vl(),
                M.wl(),
                M.xl(),
                M.yl()),
                M.zl(),
                M.E(),
                M.Eb(),
                M.wa.drawArea = null,
                "Scroll" !== e.Action ? (M.Al(),
                M.rb(),
                "Auto" !== M.heightSpec && "Max" !== M.heightSpec || M.yb(),
                M.Bl(),
                M.Va(),
                M.Cl(),
                M.multiselect.clear(!0),
                M.multiselect.Dl(e.SelectedEvents),
                M.El(),
                M.Fl(),
                M.Cb()) : (M.multiselect.clear(!0),
                M.multiselect.Dl(e.SelectedEvents),
                M.Gl(e.Events)),
                "HoldForever" !== M.timeRangeSelectedHandling && M.Hl(),
                "Full" === e.UpdateType && (M.setScroll(e.ScrollX, e.ScrollY),
                M.fk()),
                M.Il(),
                M.zc(),
                e.SelectedRows && M.Jl(e.SelectedRows),
                M.kb(),
                "Full" === e.UpdateType && navigator.appVersion.indexOf("MSIE 7.") !== -1 && window.setTimeout(function() {
                    M.vl(),
                    M.wl(),
                    M.yb()
                }, 0),
                M.Gb(),
                e.Message && M.message && M.message(e.Message),
                M.lb(e.CallBackData, !0),
                M.nl(),
                M.Ga(),
                void ("Full" !== e.UpdateType || "Scroll" === e.Action || M.onScrollCalled || setTimeout(function() {
                    M.Kl()
                }, 0)))
            }
            ,
            this.zc = function() {
                if (M.Ll && M.Ll.Ml) {
                    var e = M.Ll.Ml;
                    e.parentNode.removeChild(e),
                    M.Ll.Ml = null
                }
            }
            ,
            this.lb = function(e, t) {
                var n = function(e, t) {
                    return function() {
                        if (M.Hb()) {
                            if ("function" == typeof M.onAfterRender) {
                                var n = {};
                                n.isCallBack = t,
                                n.isScroll = !1,
                                n.data = e,
                                M.onAfterRender(n)
                            }
                        } else
                            M.afterRender && M.afterRender(e, t)
                    }
                };
                window.setTimeout(n(e, t), 0)
            }
            ,
            this.scrollTo = function(e, t, n) {
                if (M.infiniteScrollingEnabled) {
                    if (M.Aa) {
                        var i = M.getPixels(M.visibleEnd()).left
                          , a = i - M.infiniteScrollingMargin - M.nav.scroll.clientWidth
                          , r = M.getDate(a, !0, !0);
                        if (!d(M.visibleStart(), r, e, e))
                            return void M.infinite.scrollTo(e)
                    }
                    return void M.Nl(e, t, n)
                }
                M.Ol.enabled ? (M.Ol.scrollToRequested = e,
                setTimeout(function() {
                    var e = M.Ol.scrollToRequested;
                    e && (M.Pl = null,
                    M.Nl(e, t, n))
                }, 0)) : M.Nl(e, t, n)
            }
            ,
            this.Nl = function(e, t, n) {
                if (e) {
                    if (!M.Aa)
                        return void (M.Pl = {
                            "date": e,
                            "animated": t,
                            "position": n
                        });
                    if (M.Ql && M.nav.scroll) {
                        if ("Days" === M.viewType) {
                            var i = new DayPilot.Date(e)
                              , a = M.Rl(i);
                            if (!a)
                                return;
                            if (M.X.react) {
                                var r = a.top - M.Sl.top.height;
                                M.nav.scroll.scrollTop = r
                            } else
                                setTimeout(function() {
                                    var e = a.top - M.Sl.top.height;
                                    M.nav.scroll && (M.nav.scroll.scrollTop = e)
                                }, 100);
                            var o = i.getTimePart();
                            e = M.visibleStart().getDatePart().addTime(o)
                        }
                        var s;
                        if (e instanceof DayPilot.Date)
                            s = this.getPixels(e).left;
                        else if ("string" == typeof e)
                            s = this.getPixels(new DayPilot.Date(e)).left;
                        else {
                            if ("number" != typeof e)
                                throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");
                            s = e
                        }
                        var l = M.Ql.clientWidth
                          , d = M.nav.scroll.clientWidth;
                        switch (n = n || "left",
                        n.toLowerCase()) {
                        case "left":
                            break;
                        case "middle":
                            s -= d / 2;
                            break;
                        case "right":
                            s -= d
                        }
                        if (s < 0 && (s = 0),
                        s > l - d && (s = l - d),
                        !t)
                            return void M.Tl(s);
                        var c = Math.abs(M.nav.scroll.scrollLeft - s)
                          , u = c / l
                          , h = 50;
                        if ("number" == typeof t)
                            h = t;
                        else if ("string" == typeof t)
                            switch (t) {
                            case "fast":
                                h = 30;
                                break;
                            case "normal":
                                h = 50;
                                break;
                            case "slow":
                                h = 100;
                                break;
                            case "linear":
                                h = Math.floor(100 * u)
                            }
                        u > .6 && (h = Math.min(h, 80)),
                        M.Ul(s, h)
                    }
                }
            }
            ,
            this.Ul = function(e, t) {
                function n(e) {
                    var t = e.next();
                    return "undefined" == typeof t ? void (e.finished && e.finished()) : (M.setScrollX(t),
                    window.clearTimeout(M.refreshTimeout),
                    void setTimeout(function() {
                        n(e)
                    }, e.delay))
                }
                var i = {};
                i.steps = [],
                i.index = 0,
                i.delay = 10,
                i.next = function() {
                    var e = i.steps[i.index];
                    return i.index += 1,
                    e
                }
                ,
                i.finished = function() {
                    M.Kl()
                }
                ;
                for (var a = M.getScrollX(), t = t || 100, r = e - a, o = 0; o < t; o++) {
                    var s = o / t
                      , l = 2 * (s - .5) / (Math.pow(2 * (s - .5), 2) + 1) + .5;
                    i.steps.push(a + r * l)
                }
                i.steps.push(e),
                n(i)
            }
            ,
            this.scrollToResource = function(e) {
                DayPilot.complete(function() {
                    var t;
                    if ("string" == typeof e || "number" == typeof e)
                        t = M.Vl(e);
                    else {
                        if (!(e instanceof DayPilot.Row))
                            throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");
                        t = M.Vl(e.id)
                    }
                    t && setTimeout(function() {
                        var e = 0;
                        if ("main" === t.grid) {
                            e = M.Sl.top.height;
                            var n = t.top - e;
                            M.nav.scroll.scrollTop = n
                        }
                    }, 100)
                })
            }
            ,
            this.Wl = function() {
                if (this.floatingTimeHeaders && this.timeHeader) {
                    var e = M.rd();
                    if (e) {
                        M.Xl();
                        for (var t = e.pixels.left + R.Yl, n = e.pixels.right + R.Yl + e.sw, i = [], a = 0; a < this.timeHeader.length; a++)
                            for (var r = 0; r < this.timeHeader[a].length; r++) {
                                var o = this.timeHeader[a][r]
                                  , s = o.left
                                  , l = o.left + o.width
                                  , d = null;
                                if (s < t && t < l && (d = {},
                                d.x = r,
                                d.y = a,
                                d.marginLeft = t - s,
                                d.marginRight = 0,
                                d.div = M.wa.timeHeader[r + "_" + a],
                                i.push(d)),
                                s < n && n < l) {
                                    d || (d = {},
                                    d.x = r,
                                    d.y = a,
                                    d.marginLeft = 0,
                                    d.div = M.wa.timeHeader[r + "_" + a],
                                    i.push(d)),
                                    d.marginRight = l - n;
                                    break
                                }
                            }
                        for (var c = 0; c < i.length; c++) {
                            var d = i[c];
                            M.Zl(d.div, d.marginLeft, d.marginRight)
                        }
                    }
                }
            }
            ,
            this.Il = function() {
                M.Wl(),
                M.$l()
            }
            ,
            this._l = {};
            var H = M._l;
            H.bm = function(e, t, n, i) {
                var a = e
                  , r = e + n
                  , o = t
                  , s = t + i;
                return x(M.elements.events).filter(function(e) {
                    var t = e.event
                      , n = t.part.left
                      , i = t.part.left + t.part.width
                      , l = M.rowlist[t.part.dayIndex]
                      , c = l.top + t.part.top
                      , u = c + t.part.height;
                    if (d(n, i, a, r) && d(c, u, o, s))
                        return !0
                })
            }
            ,
            H.Ak = function(e) {
                var t = []
                  , e = e || "All"
                  , n = M.rd();
                if (!n)
                    return x(t);
                for (var i = n.pixels.left, a = n.pixels.right, r = 0; r < M.elements.events.length; r++) {
                    var o = M.elements.events[r]
                      , s = o.event
                      , l = s.part.left
                      , c = s.part.left + s.part.width;
                    switch (e) {
                    case "Left":
                        l < i && i < c && t.push(o);
                        break;
                    case "All":
                        d(l, c, i, a) && t.push(o)
                    }
                }
                return x(t).addProps({
                    "area": n
                })
            }
            ,
            this.$l = function() {
                if (this.floatingEvents) {
                    var e = H.Ak("Left");
                    M.cm(),
                    e.filter(function(e) {
                        return "Milestone" !== e.event.data.type
                    }).forEach(function(t) {
                        var n = t.event
                          , i = e.area.pixels.left
                          , a = n.part.left
                          , r = i - a;
                        M.dm(t, r, 0)
                    })
                }
            }
            ,
            this.elements.sections = [],
            this.elements.hsections = [],
            this.Zl = function(e, t, n) {
                var i = l();
                i.setAttribute("unselectable", "on"),
                i.className = M.da("_timeheader_float"),
                i.style.position = "absolute",
                i.style.left = t + "px",
                i.style.right = n + "px",
                i.style.top = "0px",
                i.style.bottom = "0px",
                i.style.overflow = "hidden";
                var a = l();
                a.className = M.da("_timeheader_float_inner"),
                a.setAttribute("unselectable", "on");
                var r = e.cell.th;
                if (a.innerHTML = M.Ha(r.text, r.innerHTML),
                r.fontColor && (a.style.color = r.fontColor),
                i.appendChild(a),
                e.section = i,
                e.insertBefore(i, e.firstChild.nextSibling),
                e.domArgs && e.domArgs.element) {
                    var o = e.firstChild && e.firstChild.firstChild;
                    o && (o.style.display = "none")
                } else
                    e.firstChild.innerHTML = "";
                this.elements.hsections.push(e)
            }
            ,
            this.Xl = function() {
                for (var e = 0; e < this.elements.hsections.length; e++) {
                    var t = this.elements.hsections[e]
                      , n = t.cell;
                    if (n && t.firstChild)
                        if (t.domArgs && t.domArgs.element) {
                            var i = t.firstChild && t.firstChild.firstChild;
                            i && (i.style.display = "")
                        } else
                            t.firstChild.innerHTML = M.Ha(n.th.text, n.th.innerHTML);
                    C(t.section),
                    t.section = null
                }
                this.elements.hsections = []
            }
            ,
            this.dm = function(e, t, n) {
                var i = l();
                i.setAttribute("unselectable", "on"),
                i.className = M.da(J.eventFloat),
                i.style.position = "absolute",
                i.style.left = t + "px",
                i.style.right = n + "px",
                i.style.top = "0px",
                i.style.bottom = "0px",
                i.style.overflow = "hidden";
                var a = 2;
                "number" == typeof M.durationBarHeight && (a = M.durationBarHeight);
                var r = l();
                if (r.className = M.da(J.eventFloatInner),
                r.style.marginTop = a + "px",
                r.style.paddingTop = "0px",
                r.setAttribute("unselectable", "on"),
                r.innerHTML = e.event.client.html(),
                i.appendChild(r),
                e.section = i,
                e.insertBefore(i, e.firstChild.nextSibling),
                e.domArgs && e.domArgs.element) {
                    var o = e && e.firstChild && e.firstChild.firstChild;
                    o && (o.style.display = "none")
                } else
                    e.firstChild.innerHTML = "";
                var s = e.event
                  , d = s.cache || s.data
                  , c = s.cache ? s.cache.areas : s.data.areas;
                c = c || [],
                d.fontColor && (r.style.color = d.fontColor);
                var u = {
                    "offsetX": M.em(r),
                    "eventDiv": e,
                    "areas": c.filter(function(e) {
                        return !(e.start || e.end || e.nonFloating)
                    })
                };
                DayPilot.Areas.attach(i, e.event, u),
                DayPilot.Areas.disable(e),
                this.elements.sections.push(e)
            }
            ,
            this.fm = null,
            this.em = function(e) {
                return null === M.fm && (M.fm = parseInt(new DayPilot.StyleReader(e).get("padding-left"))),
                M.fm
            }
            ,
            this.cm = function() {
                for (var e = 0; e < this.elements.sections.length; e++) {
                    var t = this.elements.sections[e]
                      , n = t.event;
                    if (n)
                        if (t.domArgs && t.domArgs.element) {
                            var i = t && t.firstChild && t.firstChild.firstChild;
                            i && (i.style.display = "")
                        } else
                            t.firstChild.innerHTML = n.client.html();
                    C(t.section),
                    DayPilot.Areas.enable(t),
                    t.section = null
                }
                this.elements.sections = []
            }
            ,
            this.setScrollX = function(e) {
                M.Ol.enabled ? (M.Ol.scrollXRequested = e,
                setTimeout(function() {
                    var e = M.Ol.scrollXRequested;
                    "number" == typeof e && M.Tl(e)
                }, 0)) : M.Tl(e)
            }
            ,
            this.Tl = function(e) {
                var t = M.nav.scroll
                  , n = M.gm();
                t.clientWidth + e > n && (e = n - t.clientWidth),
                M.divTimeScroll.scrollLeft = e,
                t.scrollLeft = e
            }
            ,
            this.setScrollY = function(e) {
                M.Ol.enabled ? (M.Ol.scrollYRequested = e,
                setTimeout(function() {
                    var e = M.Ol.scrollYRequested;
                    "number" == typeof e && M.hm(e)
                }, 0)) : M.hm(e)
            }
            ,
            this.hm = function(e) {
                var t = M.nav.scroll
                  , n = M.hl;
                t.clientHeight + e > n && (e = n - t.clientHeight),
                M.divResScroll.scrollTop = e,
                t.scrollTop = e
            }
            ,
            this.setScroll = function(e, t) {
                M.setScrollX(e),
                M.setScrollY(t)
            }
            ,
            this.im = function() {
                return M.jm() + $.km() - 1
            }
            ,
            this.message = function(e, t) {
                if (null !== e && M.Aa) {
                    var n, i = {};
                    "object" == typeof arguments[1] ? (i = arguments[1],
                    n = i.delay) : n = t;
                    var a = "";
                    a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e),
                    n = n || this.messageHideAfter || 2e3;
                    var r, o = M.lm() + 1, s = M.im(), d = DayPilot.sw(M.nav.scroll) + 1, c = DayPilot.sh(M.nav.scroll);
                    if (this.nav.message)
                        r = M.nav.message;
                    else {
                        r = l(),
                        r.style.position = "absolute",
                        r.style.left = s + "px",
                        r.style.right = d + "px",
                        r.style.display = "none",
                        DayPilot.rePassive(r, DayPilot.touch.start, function(e) {
                            M.nav.message.style.display = "none",
                            e.stopPropagation()
                        }),
                        r.onmousemove = function() {
                            M.messageHideOnMouseOut && r.messageTimeout && !r.status && clearTimeout(r.messageTimeout)
                        }
                        ,
                        r.onmouseout = function() {
                            M.messageHideOnMouseOut && "none" !== M.nav.message.style.display && (r.messageTimeout = setTimeout(M.Ub, 500))
                        }
                        ;
                        var h = l();
                        h.onclick = function() {
                            M.nav.message.style.display = "none"
                        }
                        ,
                        h.className = M.da("_message"),
                        r.appendChild(h);
                        var f = l();
                        f.style.position = "absolute",
                        f.className = M.da("_message_close"),
                        f.onclick = function() {
                            M.nav.message.style.display = "none"
                        }
                        ,
                        r.appendChild(f),
                        this.nav.top.appendChild(r),
                        this.nav.message = r
                    }
                    var v = function() {
                        if (M.nav.message) {
                            var e = M.nav.message.firstChild;
                            e.className = M.da("_message"),
                            i.cssClass && u(e, i.cssClass),
                            e.innerHTML = a;
                            var t = DayPilot.sw(M.nav.scroll);
                            M.nav.message.style.right = t + "px";
                            var s = M.messageBarPosition || "Top";
                            "Bottom" === s ? (M.nav.message.style.bottom = c + "px",
                            M.nav.message.style.top = "") : "Top" === s && (M.nav.message.style.bottom = "",
                            M.nav.message.style.top = o + "px");
                            var l = function() {
                                r.messageTimeout = setTimeout(M.Ub, n)
                            };
                            DayPilot.fade(M.nav.message, .2, l)
                        }
                    };
                    clearTimeout(r.messageTimeout),
                    "none" !== this.nav.message.style.display ? DayPilot.fade(M.nav.message, -.2, v) : v()
                }
            }
            ,
            this.Ub = function() {
                if (M.nav && M.nav.message) {
                    var e = function() {
                        M.nav.message.style.display = "none"
                    };
                    DayPilot.fade(M.nav.message, -.2, e)
                }
            }
            ,
            this.mm = function() {
                M.nav && M.nav.message && (M.nav.message.style.display = "none")
            }
            ,
            this.message.show = function(e) {
                M.message(e)
            }
            ,
            this.message.hide = function() {
                M.Ub()
            }
            ,
            this.nm = null,
            this.yb = function() {
                if (this.nav.scroll) {
                    !function() {
                        var e = M.gm();
                        M.Ql.style.height = M.hl + "px",
                        M.Ql.style.width = e + "px",
                        "Auto" !== M.cellWidthSpec || M.om ? e > M.nav.scroll.clientWidth ? M.nav.scroll.style.overflowX = "auto" : M.nav.scroll.style.overflowX = "hidden" : (M.nav.scroll.style.overflowX = "hidden",
                        M.nav.scroll.scrollLeft = 0)
                    }();
                    var e = "None" === M.timeHeaderPosition ? 0 : 1;
                    null !== this.nm && (this.nav.top.style.border = this.nm,
                    this.nm = null),
                    "Parent100Pct" !== this.heightSpec && "Max100Pct" !== this.heightSpec || (this.nav.top.style.height = "100%",
                    this.hideBorderFor100PctHeight && (this.nm = this.nav.top.style.border,
                    this.nav.top.style.border = "0 none"),
                    this.height = parseInt(this.nav.top.clientHeight, 10) - this.lm() - e),
                    this.nav.scroll.style.height = "30px";
                    var t = this.bf()
                      , n = t + this.lm() + e;
                    if (t >= 0 && (this.nav.scroll.style.height = t + "px",
                    this.pm.style.height = t + "px"),
                    this.nav.divider && ((!n || isNaN(n) || n < 0) && (n = 0),
                    this.nav.divider.style.height = n + "px"),
                    "Parent100Pct" !== this.heightSpec && (this.nav.top.style.height = n + "px"),
                    M.nav.resScrollSpace) {
                        var i = 30 + M.Sl.bottom.height;
                        "Auto" === M.heightSpec && (i = DayPilot.sh(M.nav.scroll)),
                        M.nav.resScrollSpace.style.height = i + "px"
                    }
                    for (var a = 0; a < this.elements.separators.length; a++)
                        this.elements.separators[a].style.height = this.hl + "px";
                    for (var a = 0; a < this.elements.linesVertical.length; a++)
                        this.elements.linesVertical[a].style.height = this.hl + "px";
                    M.qm(),
                    M.rm()
                }
            }
            ,
            this.ql = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart(),
                this.wa.pixels = [],
                this.itline = x();
                var e = "Auto" === this.cellWidthSpec;
                if (function() {
                    if (e) {
                        var t = 0;
                        M.ka() && M.timeline ? t = M.timeline.length : "Manual" === M.scale ? t = M.timeline.length : (M.sm(),
                        t = M.itline.length,
                        M.itline = x());
                        var n = M.tm();
                        if (t > 0 && n > 0) {
                            var i = n / t;
                            M.cellWidth = f(i, M.cellWidthMin),
                            M.om = i < M.cellWidthMin
                        }
                    }
                }(),
                this.ka() && this.timeline) {
                    if (this.timeline) {
                        this.itline = x();
                        for (var t = null, n = 0, i = 0; i < this.timeline.length; i++) {
                            var a = this.timeline[i]
                              , r = {};
                            if (r.start = new DayPilot.Date(a.start),
                            r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration),
                            a.width)
                                r.left = a.left || n,
                                r.width = a.width || this.cellWidth,
                                n += r.width;
                            else {
                                var o = Math.floor(n + this.cellWidth)
                                  , s = o - Math.floor(n);
                                r.left = Math.floor(n),
                                r.width = s,
                                n += this.cellWidth
                            }
                            r.breakBefore = t && t.ticks !== r.start.ticks,
                            t = r.end,
                            this.itline.push(r)
                        }
                    }
                    e && this.um()
                } else {
                    if (this.timeHeader = [],
                    "Manual" === this.scale) {
                        this.itline = x();
                        for (var n = 0, t = null, i = 0; this.timeline && i < this.timeline.length; i++) {
                            var a = this.timeline[i]
                              , r = {};
                            if (r.start = new DayPilot.Date(a.start),
                            r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration),
                            t && r.start.ticks < t.ticks)
                                throw new DayPilot.Exception("The timeline must be sequential");
                            var l = a.width || this.cellWidth
                              , o = Math.floor(n + l)
                              , s = o - Math.floor(n);
                            r.left = Math.floor(n),
                            r.width = s,
                            n += l,
                            r.breakBefore = t && t.ticks !== r.start.ticks,
                            t = r.end,
                            this.itline.push(r)
                        }
                    } else
                        this.sm();
                    this.vm()
                }
            }
            ,
            this.infinite = {},
            this.infinite.shiftStart = function(e) {
                R.wm(e)
            }
            ,
            this.infinite.scrollTo = function(e) {
                R.xm(e)
            }
            ,
            this.ym = {};
            var R = this.ym;
            R.Yl = 0,
            R.t = !1,
            R.zm = function() {
                M.Am().forEach(function(e, t) {
                    e.start = M.Rb(),
                    e.data = null,
                    M.Bm(e.index, e.grid)
                })
            }
            ,
            R.Cm = function() {
                return M.infiniteScrollingEnabled && !M.ka()
            }
            ,
            R.xm = function(e) {
                e = new DayPilot.Date(e);
                var t = e.addDays(-M.infiniteScrollingStepDays).getDatePart()
                  , n = new DayPilot.Duration(t.getTime() - M.startDate.getDatePart().getTime()).totalDays();
                R.wm(n, e)
            }
            ,
            R.wm = function(e, t) {
                var n;
                R.t = !0;
                var a = M.startDate
                  , r = M.startDate.addDays(e);
                e > 0 && (n = -M.getPixels(r).left),
                M.startDate = M.startDate.addDays(e),
                M.itline = x(),
                M.wa.pixels = [],
                M.Dm = {},
                M.sm(),
                R.zm(),
                e < 0 && (n = M.getPixels(a).left),
                M.timeHeader = [],
                M.vm(),
                M.yl(),
                M.cellProperties = {},
                M.Bl(),
                M.Cl(),
                M.qb(),
                P.ul(),
                M.Va(),
                M.zl(),
                M.Al(),
                M.yb(),
                "undefined" != typeof t ? (M.scrollTo(new DayPilot.Date(t)),
                M.Kl()) : M.nav.scroll.scrollLeft += n,
                M.Fl(),
                M.Cb();
                var o = i.Em;
                o && (o.start.x += n,
                o.start.width += n,
                G.draw()),
                R.t = !1
            }
            ,
            this.sm = function() {
                !M.Aa && R.Cm() && (this.startDate = this.startDate.addDays(-this.infiniteScrollingStepDays));
                for (var e = "Days" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, n = this.Fm(t), i = !1, a = 0, r = null; n.ticks <= e.ticks && n.ticks > t.ticks; ) {
                    var o = t
                      , s = n;
                    M.showNonBusinessForceHours && "Day" === M.scale && (o = t.addHours(M.businessBeginsHour),
                    s = t.addHours(M.businessEndsHour));
                    var l = this.Gm(o, s, !0);
                    if (!l.cell.start || !l.cell.end)
                        throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");
                    if (l.cell.start = new DayPilot.Date(l.cell.start),
                    l.cell.end = new DayPilot.Date(l.cell.end),
                    l.cell.start >= l.cell.end)
                        throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");
                    if (r && r.ticks > l.cell.start.ticks)
                        throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");
                    i = !!(r && r.ticks < l.cell.start.ticks);
                    var d = l.cell.width || M.cellWidth;
                    if (l.cell.visible) {
                        var c = Math.floor(a + d)
                          , u = c - Math.floor(a)
                          , h = {};
                        h.start = l.cell.start,
                        h.end = l.cell.end,
                        h.left = Math.floor(a),
                        h.width = u,
                        h.breakBefore = i,
                        this.itline.push(h),
                        a += d,
                        r = l.cell.end
                    }
                    t = n,
                    n = this.Fm(t)
                }
            }
            ,
            this.um = function() {
                if (this.timeHeader)
                    for (var e = 0; e < this.timeHeader.length; e++)
                        for (var t = this.timeHeader[e], n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.left = this.getPixels(new DayPilot.Date(i.start)).left;
                            var a = this.getPixels(new DayPilot.Date(i.end)).left
                              , r = a - i.left;
                            i.width = r
                        }
            }
            ,
            this.vm = function() {
                var e = this.timeHeaders;
                if (e || (e = [{
                    "groupBy": this.cellGroupBy
                }, {
                    "groupBy": "Cell"
                }]),
                this.itline.isEmpty()) {
                    this.timeHeader = [];
                    for (var t = 0; t < e.length; t++)
                        this.timeHeader[t] = []
                } else
                    for (var n = M.ce(), t = 0; t < e.length; t++) {
                        var i = e[t].groupBy
                          , a = e[t].format;
                        "Default" === i && (i = this.cellGroupBy);
                        for (var r = [], o = this.Rb(); o.ticks < n.ticks; ) {
                            var s = {};
                            if (s.start = o,
                            s.end = this.Hm(s.start, i),
                            s.start.ticks === s.end.ticks)
                                break;
                            s.left = this.getPixels(s.start).left;
                            var l = this.getPixels(s.end).left
                              , d = l - s.left;
                            if (s.width = d,
                            s.colspan = Math.ceil(d / (1 * this.cellWidth)),
                            "string" == typeof a ? s.text = s.start.toString(a, $.Tc()) : s.text = this.Im(s, i),
                            d > 0) {
                                if ("function" == typeof this.onBeforeTimeHeaderRender) {
                                    var c = {};
                                    c.start = s.start,
                                    c.end = s.end,
                                    c.text = s.text,
                                    c.html = null,
                                    c.toolTip = M.Ha(s.text),
                                    c.backColor = null,
                                    c.fontColor = null,
                                    c.level = this.timeHeader.length,
                                    c.cssClass = null;
                                    var u = {};
                                    u.header = c,
                                    u.control = M,
                                    this.onBeforeTimeHeaderRender(u),
                                    s.innerHTML = M.Ha(c.text, c.html),
                                    s.text = c.text,
                                    s.html = c.html,
                                    s.backColor = c.backColor,
                                    s.fontColor = c.fontColor,
                                    s.toolTip = c.toolTip,
                                    s.areas = c.areas,
                                    s.cssClass = c.cssClass
                                }
                                r.push(s)
                            }
                            o = s.end
                        }
                        this.timeHeader.push(r)
                    }
            }
            ,
            this.Gm = function(e, t) {
                var n = {};
                n.start = e,
                n.end = t,
                n.visible = !0,
                n.width = null;
                var i = {};
                if (i.cell = n,
                "function" == typeof this.onIncludeTimeCell)
                    return this.onIncludeTimeCell(i),
                    i;
                if (this.showNonBusiness)
                    return i;
                var a = "Days" === M.viewType;
                return i.cell.visible = this.isBusiness({
                    "start": e,
                    "end": t
                }, a),
                i
            }
            ,
            this.getPixels = function(e) {
                var t = e.ticks
                  , n = this.wa.pixels[t];
                if (n)
                    return n;
                var i = 2218768416e5;
                if (0 === this.itline.length || t < this.itline[0].start.ticks) {
                    var a = {};
                    return a.cut = !1,
                    a.left = 0,
                    a.boxLeft = a.left,
                    a.boxRight = a.left,
                    a.i = null,
                    a
                }
                for (var r = this.Jm(e), o = f(r.i - 1, 0), s = o; s < this.itline.length; s++) {
                    var l = this.itline[s]
                      , d = l.start.ticks
                      , c = l.end.ticks;
                    if (d < t && t < c) {
                        var u = t - d
                          , a = {};
                        a.cut = !1,
                        a.left = l.left + this.Qf(l, u),
                        a.boxLeft = l.left,
                        a.boxRight = l.left + l.width,
                        a.i = s;
                        break
                    }
                    if (d === t) {
                        var a = {};
                        a.cut = !1,
                        a.left = l.left,
                        a.boxLeft = a.left,
                        a.boxRight = a.left + l.width,
                        a.i = s;
                        break
                    }
                    if (c === t) {
                        var a = {};
                        a.cut = !1,
                        a.left = l.left + l.width,
                        a.boxLeft = a.left,
                        a.boxRight = a.left,
                        a.i = s + 1;
                        break
                    }
                    if (t < d && t > i) {
                        var a = {};
                        a.cut = !0,
                        a.left = l.left,
                        a.boxLeft = a.left,
                        a.boxRight = a.left,
                        a.i = s;
                        break
                    }
                    i = c
                }
                if (!a) {
                    var h = this.itline[this.itline.length - 1]
                      , a = {};
                    a.cut = !0,
                    a.left = h.left + h.width,
                    a.boxLeft = a.left,
                    a.boxRight = a.left,
                    a.i = null
                }
                return this.wa.pixels[t] = a,
                a
            }
            ,
            this.getDate = function(e, t, n) {
                var i = this.Km(e, n);
                if (!i)
                    return null;
                var a = i.x
                  , r = this.itline[a];
                if (!r)
                    return null;
                var o = n && !t ? r.end : r.start;
                return t ? o.addTime(this.Lm(i.cell, i.offset)) : o
            }
            ,
            this.Km = function(e, t) {
                if (0 === this.itline.length)
                    return null;
                for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) {
                    var r = this.itline[a];
                    if (n += r.width || this.cellWidth,
                    e < n || t && e === n) {
                        var o = {};
                        return o.x = a,
                        o.offset = e - i,
                        o.cell = r,
                        o
                    }
                    i = n
                }
                var r = M.itline.last()
                  , o = {};
                return o.x = this.itline.length - 1,
                o.offset = r.width || this.cellWidth,
                o.cell = r,
                o
            }
            ,
            this.Mm = function(e) {
                return this.Jm(e)
            }
            ,
            this.Jm = function(e) {
                var t = new DayPilot.Date(e)
                  , n = 0
                  , i = this.itline[0];
                if (t.ticks < i.start.ticks) {
                    var a = {};
                    return a.hidden = !0,
                    a.previous = null,
                    a.current = null,
                    a.next = this.itline[0],
                    a.i = -1,
                    a
                }
                var r = this.itline.length - 1
                  , o = this.itline[r];
                if (t.ticks > o.end.ticks) {
                    var a = {};
                    return a.past = !0,
                    a.previous = this.itline[this.itline.length - 1],
                    a.i = this.itline.length,
                    a
                }
                if (t.ticks === o.end.ticks) {
                    var a = {};
                    return a.past = !1,
                    a.current = this.itline[this.itline.length - 1],
                    a.i = this.itline.length - 1,
                    a
                }
                for (var s = function() {
                    for (var e, i = M.itline; n <= r; )
                        if (e = Math.floor((n + r) / 2),
                        i[e].start.ticks > t.ticks)
                            r = e - 1;
                        else {
                            if (!(i[e].end.ticks < t.ticks))
                                return e;
                            n = e + 1
                        }
                    return n
                }(), l = s; l < this.itline.length; l++) {
                    var d = this.itline[l];
                    if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                        var a = {};
                        return a.hidden = !1,
                        a.current = d,
                        a.i = l,
                        a
                    }
                    if (t.ticks < d.start.ticks) {
                        var a = {};
                        return a.hidden = !0,
                        a.previous = l > 0 ? this.itline[l - 1] : null,
                        a.current = null,
                        a.next = this.itline[l],
                        a.i = l,
                        a
                    }
                }
                var a = {};
                return a.past = !0,
                a.previous = this.itline[this.itline.length - 1],
                a.i = this.itline.length,
                a
            }
            ,
            this.Qf = function(e, t) {
                var n = e.width || this.cellWidth
                  , i = e.end.ticks - e.start.ticks;
                return Math.floor(n * t / i)
            }
            ,
            this.Lm = function(e, t) {
                var n = e.end.ticks - e.start.ticks
                  , i = e.width || this.cellWidth;
                return Math.floor(t / i * n)
            }
            ,
            this.xj = function(e) {
                w.touch.start || i.Nm || (M.Om = {},
                M.Wb(this, e))
            }
            ,
            this.eventClickPostBack = function(e, t) {
                this.Ka("EventClick", e, t)
            }
            ,
            this.eventClickCallBack = function(e, t) {
                this.Ma("EventClick", e, t)
            }
            ,
            this.Wb = function(e, t) {
                var n = e.event;
                if (n) {
                    if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                    !n.client.doubleClickEnabled())
                        return void M.Xb(e, t);
                    M.Pm.click || (M.Pm.click = []);
                    var i = function(e, t) {
                        return function() {
                            M.Xb(e, t)
                        }
                    };
                    M.Pm.click.push(window.setTimeout(i(e, t), M.doubleClickTimeout))
                }
            }
            ,
            this.Qm = function(e) {
                return M.itline[e]
            }
            ,
            this.Xb = function(e, t) {
                if ("boolean" == typeof t)
                    throw new DayPilot.Exception("Invalid _eventClickSingle parameters");
                var n = e.event;
                if (n) {
                    var i = t.ctrlKey
                      , a = t.metaKey;
                    if (n.client.clickEnabled()) {
                        if (!!(t.clientX || t.clientY || t.changedTouches) && M.Rm(t),
                        M.Hb()) {
                            var r = {};
                            if (r.e = n,
                            r.control = M,
                            r.div = e,
                            r.originalEvent = t,
                            r.ctrl = i,
                            r.meta = a,
                            r.shift = t.shiftKey,
                            r.preventDefault = function() {
                                this.preventDefault.value = !0
                            }
                            ,
                            r.toJSON = function() {
                                return p(r, {}, ["e", "ctrl", "meta", "shift"])
                            }
                            ,
                            "function" == typeof M.onEventClick && (M.onEventClick(r),
                            r.preventDefault.value))
                                return;
                            switch (M.eventClickHandling) {
                            case "PostBack":
                                M.eventClickPostBack(n);
                                break;
                            case "CallBack":
                                M.eventClickCallBack(n);
                                break;
                            case "Edit":
                                M.Yb(e);
                                break;
                            case "Select":
                                M.Zb(e, n, i, a);
                                break;
                            case "ContextMenu":
                                var o = n.client.contextMenu();
                                o ? o.show(n) : M.contextMenu && M.contextMenu.show(n);
                                break;
                            case "Bubble":
                                M.bubble && M.bubble.showEvent(n);
                                break;
                            case "RectangleSelect":
                                if ("Disabled" !== $.Sm())
                                    return G.start(),
                                    !1
                            }
                            "function" == typeof M.onEventClicked && M.onEventClicked(r)
                        } else
                            switch (M.eventClickHandling) {
                            case "PostBack":
                                M.eventClickPostBack(n);
                                break;
                            case "CallBack":
                                M.eventClickCallBack(n);
                                break;
                            case "JavaScript":
                                M.onEventClick(n);
                                break;
                            case "Edit":
                                M.Yb(e);
                                break;
                            case "Select":
                                M.Zb(e, n, i, a);
                                break;
                            case "ContextMenu":
                                var o = n.client.contextMenu();
                                o ? o.show(n) : M.contextMenu && M.contextMenu.show(n);
                                break;
                            case "Bubble":
                                M.bubble && M.bubble.showEvent(n);
                                break;
                            case "RectangleSelect":
                                if ("Disabled" !== $.Sm())
                                    return G.start(),
                                    !1
                            }
                    }
                }
            }
            ,
            this.gc = function(e) {
                if (M.Hb()) {
                    var t = function() {
                        if (!n.preventDefault.value) {
                            switch (n.loaded = function() {}
                            ,
                            M.eventDeleteHandling) {
                            case "PostBack":
                                M.eventDeletePostBack(e);
                                break;
                            case "CallBack":
                                M.eventDeleteCallBack(e);
                                break;
                            case "Update":
                                M.events.remove(e),
                                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive()
                            }
                            "function" == typeof M.onEventDeleted && M.onEventDeleted(n)
                        }
                    }
                      , n = {};
                    n.async = !1,
                    n.e = e,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    n.control = M,
                    n.toJSON = function() {
                        return p(n, {}, ["e"])
                    }
                    ,
                    n.loaded = function() {
                        t()
                    }
                    ,
                    "function" == typeof M.onEventDelete && M.onEventDelete(n),
                    n.async || t()
                } else
                    switch (M.eventDeleteHandling) {
                    case "PostBack":
                        M.eventDeletePostBack(e);
                        break;
                    case "CallBack":
                        M.eventDeleteCallBack(e);
                        break;
                    case "JavaScript":
                        M.onEventDelete(e)
                    }
            }
            ,
            this.eventDeletePostBack = function(e, t) {
                this.Ka("EventDelete", e, t)
            }
            ,
            this.eventDeleteCallBack = function(e, t) {
                this.Ma("EventDelete", e, t)
            }
            ,
            this.setHScrollPosition = function(e) {
                this.nav.scroll.scrollLeft = e
            }
            ,
            this.getScrollX = function() {
                return this.nav.scroll.scrollLeft
            }
            ,
            this.getHScrollPosition = this.getScrollX,
            this.getScrollY = function() {
                return this.nav.scroll.scrollTop
            }
            ,
            this.Zb = function(e, t, n, i) {
                M.Jc(e, t, n, i)
            }
            ,
            this.eventSelectPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ka("EventSelect", i, n)
            }
            ,
            this.eventSelectCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.change = t,
                this.Ma("EventSelect", i, n)
            }
            ,
            this.Jc = function(e, t, n, i) {
                var a = M.multiselect
                  , r = a.isSelected(t);
                if (n || i || !r || 1 !== a.Kc.length)
                    if (M.Hb()) {
                        a.ud = a.events();
                        var o = {};
                        if (o.e = t,
                        o.selected = r,
                        o.ctrl = n,
                        o.meta = i,
                        o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onEventSelect && (M.onEventSelect(o),
                        o.preventDefault.value))
                            return;
                        switch (M.eventSelectHandling) {
                        case "PostBack":
                            M.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            M.eventSelectCallBack(t, s);
                            break;
                        case "Update":
                            a.Nc(e, n, i)
                        }
                        "function" == typeof M.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected",
                        o.selected = a.isSelected(t),
                        M.onEventSelected(o))
                    } else {
                        a.ud = a.events(),
                        a.Nc(e, n, i);
                        var s = a.isSelected(t) ? "selected" : "deselected";
                        switch (M.eventSelectHandling) {
                        case "PostBack":
                            M.eventSelectPostBack(t, s);
                            break;
                        case "CallBack":
                            "undefined" != typeof WebForm_InitCallback && (window.Lc = "",
                            window.Mc = [],
                            WebForm_InitCallback()),
                            M.eventSelectCallBack(t, s);
                            break;
                        case "JavaScript":
                            M.onEventSelect(t, s)
                        }
                    }
            }
            ,
            this.eventRightClickPostBack = function(e, t) {
                this.Ka("EventRightClick", e, t)
            }
            ,
            this.eventRightClickCallBack = function(e, t) {
                this.Ma("EventRightClick", e, t)
            }
            ,
            this._b = function(e) {
                if (!w.touch.active && !w.touch.start) {
                    var t = this.event;
                    if (e.cancelBubble = !0,
                    M.allowDefaultContextMenu || e.preventDefault(),
                    !this.event.client.rightClickEnabled())
                        return !1;
                    if (M.Rm(e),
                    M.Hb()) {
                        var n = {};
                        if (n.e = t,
                        n.div = this,
                        n.originalEvent = e,
                        n.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onEventRightClick && (M.onEventRightClick(n),
                        n.preventDefault.value))
                            return !1;
                        switch (M.eventRightClickHandling) {
                        case "PostBack":
                            M.eventRightClickPostBack(t);
                            break;
                        case "CallBack":
                            M.eventRightClickCallBack(t);
                            break;
                        case "ContextMenu":
                            var i = t.client.contextMenu();
                            i ? i.show(t) : M.contextMenu && M.contextMenu.show(this.event);
                            break;
                        case "Bubble":
                            M.bubble && M.bubble.showEvent(t)
                        }
                        "function" == typeof M.onEventRightClicked && M.onEventRightClicked(n)
                    } else
                        switch (M.eventRightClickHandling) {
                        case "PostBack":
                            M.eventRightClickPostBack(t);
                            break;
                        case "CallBack":
                            M.eventRightClickCallBack(t);
                            break;
                        case "JavaScript":
                            M.onEventRightClick(t);
                            break;
                        case "ContextMenu":
                            var i = t.client.contextMenu();
                            i ? i.show(t) : M.contextMenu && M.contextMenu.show(this.event);
                            break;
                        case "Bubble":
                            M.bubble && M.bubble.showEvent(t)
                        }
                    return !1
                }
            }
            ,
            this.eventDoubleClickPostBack = function(e, t) {
                this.Ka("EventDoubleClick", e, t)
            }
            ,
            this.eventDoubleClickCallBack = function(e, t) {
                this.Ma("EventDoubleClick", e, t)
            }
            ,
            this.$b = function(e) {
                if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                M.Pm.click) {
                    for (var t in M.Pm.click)
                        window.clearTimeout(M.Pm.click[t]);
                    M.Pm.click = null
                }
                var n = this.event;
                if (e.stopPropagation && e.stopPropagation(),
                e.cancelBubble = !0,
                M.Hb()) {
                    var i = {};
                    if (i.e = n,
                    i.originalEvent = e,
                    i.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onEventDoubleClick && (M.onEventDoubleClick(i),
                    i.preventDefault.value))
                        return;
                    switch (M.eventDoubleClickHandling) {
                    case "PostBack":
                        M.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        M.eventDoubleClickCallBack(n);
                        break;
                    case "Edit":
                        M.Yb(this);
                        break;
                    case "Select":
                        M.Zb(div, n, e.ctrlKey, e.metaKey);
                        break;
                    case "Bubble":
                        M.bubble && M.bubble.showEvent(n);
                        break;
                    case "ContextMenu":
                        var a = n.client.contextMenu();
                        a ? a.show(n) : M.contextMenu && M.contextMenu.show(n)
                    }
                    "function" == typeof M.onEventDoubleClicked && M.onEventDoubleClicked(i)
                } else
                    switch (M.eventDoubleClickHandling) {
                    case "PostBack":
                        M.eventDoubleClickPostBack(n);
                        break;
                    case "CallBack":
                        M.eventDoubleClickCallBack(n);
                        break;
                    case "JavaScript":
                        M.onEventDoubleClick(n);
                        break;
                    case "Edit":
                        M.Yb(this);
                        break;
                    case "Select":
                        M.Zb(div, n, e.ctrlKey, e.metaKey);
                        break;
                    case "Bubble":
                        M.bubble && M.bubble.showEvent(n);
                        break;
                    case "ContextMenu":
                        var a = n.client.contextMenu();
                        a ? a.show(n) : M.contextMenu && M.contextMenu.show(n)
                    }
            }
            ,
            this.eventResizePostBack = function(e, t, n, i) {
                this.qc("PostBack", e, t, n, i)
            }
            ,
            this.eventResizeCallBack = function(e, t, n, i) {
                this.qc("CallBack", e, t, n, i)
            }
            ,
            this.qc = function(e, t, n, i, a) {
                var r = t && !!t.preventDefault
                  , o = {};
                if (r) {
                    var s = t;
                    o.e = s.e,
                    o.newStart = s.newStart,
                    o.newEnd = s.newEnd,
                    o.multiresize = [],
                    s.multiresize.forEach(function(e) {
                        var t = {};
                        t.e = e.event,
                        t.newStart = e.start,
                        t.newEnd = e.end,
                        o.multiresize.push(t)
                    })
                } else
                    o.e = t,
                    o.newStart = n,
                    o.newEnd = i;
                this.hc(e, "EventResize", o, a)
            }
            ,
            this.nc = function(e, t, n, i) {
                if ("Disabled" !== this.eventResizeHandling) {
                    n = M.Kj(n);
                    var a = {};
                    a.e = e,
                    a.async = !1,
                    a.loaded = function() {
                        o()
                    }
                    ,
                    a.newStart = t,
                    a.newEnd = n,
                    a.what = i,
                    a.areaData = w.resizingAreaData,
                    a.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    a.multiresize = x(z.list),
                    a.control = M,
                    a.toJSON = function() {
                        return p(a, {}, ["e", "async", "newStart", "newEnd", "multiresize"])
                    }
                    ;
                    var r = {};
                    if (r.event = e,
                    r.start = t,
                    r.end = n,
                    a.multiresize.splice(0, 0, r),
                    M.Hb()) {
                        var o = function() {
                            if (K.C(),
                            !a.preventDefault.value) {
                                switch (a.loaded = function() {}
                                ,
                                t = a.newStart,
                                n = a.newEnd,
                                M.eventResizeHandling) {
                                case "PostBack":
                                    M.eventResizePostBack(a);
                                    break;
                                case "CallBack":
                                    M.eventResizeCallBack(a);
                                    break;
                                case "Notify":
                                    M.eventResizeNotify(a);
                                    break;
                                case "Update":
                                    M.Tm(a)
                                }
                                "function" == typeof M.onEventResized && M.onEventResized(a)
                            }
                        };
                        "function" == typeof M.onEventResize && M.onEventResize(a),
                        a.async ? M.blockOnCallBack && K.E() : o()
                    } else
                        switch (M.eventResizeHandling) {
                        case "PostBack":
                            M.eventResizePostBack(a);
                            break;
                        case "CallBack":
                            M.eventResizeCallBack(a);
                            break;
                        case "JavaScript":
                            M.onEventResize(e, t, n);
                            break;
                        case "Notify":
                            M.eventResizeNotify(a);
                            break;
                        case "Update":
                            M.Tm(a)
                        }
                }
            }
            ,
            this.eventMovePostBack = function(e, t, n, i, a, r) {
                this.Ac("PostBack", e, t, n, i, a, r)
            }
            ,
            this.eventMoveCallBack = function(e, t, n, i, a, r) {
                this.Ac("CallBack", e, t, n, i, a, r)
            }
            ,
            this.Ac = function(e, t, n, i, a, r, o) {
                var s = t && !!t.preventDefault
                  , l = {};
                if (s) {
                    var d = t;
                    l.e = d.e,
                    l.newStart = d.newStart,
                    l.newEnd = d.newEnd,
                    l.newResource = d.newResource,
                    l.position = d.position,
                    l.multimove = [],
                    d.multimove.forEach(function(e) {
                        var t = {};
                        if (t.e = e.event,
                        t.newStart = e.start,
                        t.newEnd = e.end,
                        t.newResource = e.event.resource(),
                        t.e === d.e || t.e.data.id == d.e.data.id)
                            t.newResource = d.newResource;
                        else if (O.rowoffset) {
                            var n = e.event.part.dayIndex + O.rowoffset;
                            t.newResource = M.rowlist[n].id
                        }
                        l.multimove.push(t)
                    })
                } else
                    l.e = t,
                    l.newStart = n,
                    l.newEnd = i,
                    l.newResource = a,
                    l.position = o;
                this.hc(e, "EventMove", l, r)
            }
            ,
            this.Um = function(e, t, n) {
                var i = {};
                i.start = t.start,
                i.end = t.end,
                i.resource = t.resource,
                i.multirange = [],
                t.multirange.forEach(function(e) {
                    var t = {};
                    t.start = e.start,
                    t.end = e.end,
                    t.resource = e.resource,
                    i.multirange.push(t)
                }),
                this.hc(e, "TimeRangeSelected", i, n)
            }
            ,
            this.hc = function(e, t, n, i) {
                if ("PostBack" === e)
                    M.Ka(t, n, i);
                else if ("CallBack" === e)
                    M.Ma(t, n, i, "CallBack");
                else if ("Immediate" === e)
                    M.Ma(t, n, i, "Notify");
                else if ("Queue" === e)
                    M.queue.add(new DayPilot.Action(this,t,n,i));
                else {
                    if ("Notify" !== e)
                        throw new DayPilot.Exception("Invalid event invocation type");
                    "Notify" === $.ic() ? M.Ma(t, n, i, "Notify") : M.queue.add(new DayPilot.Action(M,t,n,i))
                }
            }
            ,
            this.eventMoveNotify = function(e, t, n, i, a, r) {
                if (e && !!e.preventDefault) {
                    var o = e;
                    o.old = new DayPilot.Event(o.e.copy(),M),
                    o.multimove.forEach(function(e) {
                        e.old = new DayPilot.Event(e.event.copy(),M)
                    }),
                    M.Tm(o),
                    o.e = o.old,
                    delete o.old,
                    o.multimove.forEach(function(e) {
                        e.event = e.old,
                        delete e.old
                    })
                } else {
                    e = new DayPilot.Event(e.copy(),M);
                    var s = M.events.Vm(e.data);
                    e.start(t),
                    e.end(n),
                    e.resource(i),
                    e.commit(),
                    s = s.concat(M.events.Wm(e.data)),
                    M.Xm(s),
                    M.Ym(),
                    M.Zm(s)
                }
                this.Ac("Notify", e, t, n, i, a, r)
            }
            ,
            this.eventResizeNotify = function(e, t, n, i) {
                if (e && !!e.preventDefault) {
                    var a = e;
                    a.old = new DayPilot.Event(a.e.copy(),M),
                    a.multiresize.forEach(function(e) {
                        e.old = new DayPilot.Event(e.event.copy(),M)
                    }),
                    M.Tm(a),
                    a.e = a.old,
                    delete a.old,
                    a.multiresize.forEach(function(e) {
                        e.event = e.old,
                        delete e.old
                    })
                } else {
                    e = new DayPilot.Event(e.copy(),M);
                    var r = M.events.Vm(e.data);
                    e.start(t),
                    e.end(n),
                    e.commit(),
                    r = r.concat(M.events.Wm(e.data)),
                    M.Xm(r),
                    M.Ym(),
                    M.Zm(r)
                }
                this.qc("Notify", e, t, n, i)
            }
            ,
            this.zoom = {},
            this.zoom.active = -1,
            this.zoom.setActive = function(e, t, n) {
                var i;
                if ("number" == typeof e)
                    i = M.zoomLevels[e];
                else {
                    if ("string" != typeof e)
                        throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e);
                    var a = M.zoom.od(e);
                    i = M.zoomLevels[a]
                }
                if (!i)
                    throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")");
                (e !== M.zoom.active || n) && (n || (n = M.zoom.rk(t)),
                n && (M.startDate = n),
                M.zoom.qd(e, n),
                M.Aa && M.update(),
                n && M.scrollTo(n, null, t || M.zoomPosition))
            }
            ,
            this.zoom.od = function(e) {
                return x(M.zoomLevels).findIndex(function(t) {
                    return t.id === e
                })
            }
            ,
            this.zoom.rk = function(e) {
                e = e || M.zoomPosition || "left";
                var t = null;
                if (!M.nav.scroll)
                    return null;
                var n = M.getViewPort();
                switch (e) {
                case "left":
                    t = n.start;
                    break;
                case "middle":
                    t = n.start && n.start.addTime((M.getViewPort().end.getTime() - M.getViewPort().start.getTime()) / 2);
                    break;
                case "right":
                    t = n.end
                }
                return t
            }
            ,
            this.zoom.qd = function(e, t) {
                var n = M.zoomLevels.length - 1;
                e > n && (e = n),
                e < 0 && (e = 0),
                M.zoom.active = e;
                var i = M.zoomLevels[e]
                  , a = {};
                return a.date = t || new DayPilot.Date(M.startDate),
                a.level = i,
                DayPilot.Util.ownPropsAsArray(i.properties).forEach(function(e) {
                    if (0 !== e.key.indexOf("on"))
                        return "function" == typeof e.val ? void (M[e.key] = e.val(a)) : void (M[e.key] = e.val)
                }),
                a
            }
            ,
            this.multiselect = {},
            this.multiselect.Kc = [],
            this.multiselect.td = [],
            this.multiselect.ud = [],
            this.multiselect.Dl = function(e) {
                M.multiselect.Kc = x(e).map(function(e) {
                    return new DayPilot.Event(e,M)
                })
            }
            ,
            this.multiselect.vd = function() {
                var e = M.multiselect;
                return JSON.stringify(e.events())
            }
            ,
            this.multiselect.events = function() {
                var e = M.multiselect
                  , t = x();
                t.ignoreToJSON = !0;
                for (var n = 0; n < e.Kc.length; n++)
                    t.push(e.Kc[n]);
                return t
            }
            ,
            this.multiselect.get = function() {
                return M.multiselect.events()
            }
            ,
            this.multiselect.xd = function() {}
            ,
            this.multiselect.Nc = function(e, t, n) {
                var i = M.multiselect;
                if (i.isSelected(e.event))
                    if (M.allowMultiSelect)
                        if (t || n)
                            i.remove(e.event, !0);
                        else {
                            var a = i.Kc.length;
                            i.clear(),
                            a > 1 && i.add(e.event, !0)
                        }
                    else
                        i.clear();
                else
                    M.allowMultiSelect && (t || n) ? i.add(e.event, !0) : (i.clear(),
                    i.add(e.event, !0));
                i.Jd(e),
                i.xd()
            }
            ,
            this.multiselect.yd = function(e) {
                var t = M.multiselect;
                return t.zd(e, t.Kc)
            }
            ,
            this.multiselect.Ad = function() {
                for (var e = M.multiselect, t = [], n = 0; n < e.Kc.length; n++) {
                    var i = e.Kc[n];
                    t.push(i.value())
                }
                alert(t.join("\n"))
            }
            ,
            this.multiselect.add = function(e, t) {
                var n = M.multiselect;
                n.Bd(e) === -1 && n.Kc.push(e),
                t || n.$m(e)
            }
            ,
            this.multiselect.remove = function(e, t) {
                var n = M.multiselect
                  , i = n.Bd(e);
                i !== -1 && n.Kc.splice(i, 1),
                t || n.$m(e)
            }
            ,
            this.multiselect.clear = function(e) {
                var t = M.multiselect;
                t.Kc = [],
                e || t.redraw()
            }
            ,
            this.multiselect.redraw = function() {
                var e = M.multiselect;
                e.td = [];
                for (var t = 0; t < M.elements.events.length; t++) {
                    var n = M.elements.events[t];
                    n.event && n.event.isEvent && (e.isSelected(n.event) ? e.Cd(n) : e.Dd(n))
                }
            }
            ,
            this.multiselect.Jd = function(e) {
                if (e) {
                    var t = M.multiselect;
                    t.isSelected(e.event) ? t.Cd(e) : t.Dd(e)
                }
            }
            ,
            this.multiselect.$m = function(e) {
                var t = M.multiselect
                  , n = M.bh(e);
                t.Jd(n)
            }
            ,
            this.multiselect.Cd = function(e) {
                var t = M.multiselect
                  , n = M.da("_selected")
                  , e = t.Ed(e);
                u(e, n),
                t.td.push(e)
            }
            ,
            this.multiselect.Ed = function(e) {
                return e
            }
            ,
            this.multiselect.Fd = function() {
                for (var e = M.multiselect, t = 0; t < e.td.length; t++) {
                    var n = e.td[t];
                    e.Dd(n, !0)
                }
                e.td = []
            }
            ,
            this.multiselect.Dd = function(e, t) {
                var n = M.multiselect;
                if (c(e, M.da("_selected")),
                !t) {
                    var i = S(n.td, e);
                    i !== -1 && n.td.splice(i, 1)
                }
            }
            ,
            this.multiselect.isSelected = function(e) {
                return !!e && (!!e.isEvent && M.multiselect.zd(e, M.multiselect.Kc))
            }
            ,
            this.multiselect.Bd = function(e) {
                for (var t = e.data, n = 0; n < M.multiselect.Kc.length; n++) {
                    var i = M.multiselect.Kc[n];
                    if (M.Gd(i.data, t))
                        return n
                }
                return -1
            }
            ,
            this.multiselect.zd = function(e, t) {
                if (!t)
                    return !1;
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (M.Gd(e.data, i.data))
                        return !0
                }
                return !1
            }
            ,
            this.multiselect.startRectangle = function() {
                G.start()
            }
            ,
            this._m = function() {
                this.Cl(),
                this.Fl()
            }
            ,
            this.an = function() {
                P.bn()
            }
            ,
            this.cn = function() {
                M.dn(),
                M.vl(),
                M.wl(),
                M.Al(),
                M.en(),
                M.progressiveRowRendering && M.gn()
            }
            ,
            this.Jd = function(e) {
                e = e || {};
                var t = !e.eventsOnly;
                window.clearTimeout(M.hn);
                var n = M.keyboard.getFocus();
                M.vl(),
                t && (this.ka() || (M.timeHeader = null,
                M.cellProperties = {}),
                M.Dm = {},
                M.ol(),
                M.ql(),
                e && e.dontLoadResources || M.rl(),
                M.in !== M.timeHeaderPosition && M.jn(),
                M.events.kn(),
                M.Ja.dh(),
                M.clearSelection(),
                n && M.mn.ln()),
                M.qb(),
                P.ul(),
                M.nn(),
                M.sl(),
                M.zl(),
                M.wl(),
                t && (M.fh(),
                M.xl(),
                M.yl(),
                M.Jl(M.selectedRows),
                M.on()),
                M.Al(),
                M.en(),
                M.rb(),
                P.pn(),
                this.Va(),
                this.Bl(),
                this.Ga(),
                this.pb(),
                M.yb(),
                this.El(),
                this._m(),
                e.immediateEvents || e.eventsOnly ? M.Cb() : setTimeout(function() {
                    M.Cb()
                }, 100),
                n && Q.qn(n),
                this.visible ? M.jl !== M.visible && this.show() : this.hide(),
                this.jl = this.visible,
                this.Il(),
                M.ch.scope || M.Ol.enabled ? M.Aa ? M.Kl() : R.Cm() || M.Kl() : M.Kl(),
                this.rn(),
                this.Gb(),
                this.sn()
            }
            ,
            this.rn = function() {
                if ("function" == typeof M.onAfterUpdate) {
                    var e = {};
                    M.onAfterUpdate(e)
                }
            }
            ,
            this.update = function(e) {
                if (!M.Aa)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");
                if (M.Ba)
                    throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");
                B.request(e)
            }
            ,
            this.disposed = function() {
                return M.Ba
            }
            ;
            var B = {};
            B.timeout = null,
            B.options = null,
            B.enabled = !1,
            B.request = function(e) {
                B.enabled ? (clearTimeout(B.timeout),
                B.tn(e),
                B.timeout = setTimeout(B.doit)) : (B.tn(e),
                B.doit())
            }
            ,
            B.tn = function(e) {
                if (e) {
                    B.options || (B.options = {});
                    for (var t in e)
                        B.options[t] = e[t]
                }
            }
            ,
            B.doit = function() {
                var e = B.options;
                return B.options = null,
                M.Aa ? DayPilot.Util.isOnlyProperty(e, "events") ? (M.events.list = e.events,
                M.Jd({
                    "eventsOnly": !0
                }),
                void Q.un()) : DayPilot.Util.isOnlyProperty(e, "separators") ? (M.separators = e.separators,
                void M._m()) : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") && !M.vn() ? (M.rowHeaderColumns = e.rowHeaderColumns,
                void M.cn()) : DayPilot.Util.isOnlyProperty(e, "links") ? (M.links.list = e.links,
                void M.an()) : (M.gh(e),
                M.Jd({
                    "immediateEvents": !0
                }),
                M.zh(),
                Q.un(),
                void M.lb(null, !1)) : void M.gh(e)
            }
            ,
            this.wn = function(e) {
                e.forEach(function(e) {
                    M.xn(e.index, e.grid)
                })
            }
            ,
            this.yn = function(e) {
                return e && 0 !== e.length ? e[0].isRow ? e : e.map(function(e) {
                    return M.rowlist[e]
                }) : []
            }
            ,
            this.Zm = function(e, t, n) {
                e = DayPilot.ua(e),
                e = M.yn(e),
                M.wn(e),
                this.zn ? (this.zl(),
                this.Al(),
                this.Bl(),
                this.Cl(),
                e.forEach(function(e) {
                    M.An(e.index, e.grid)
                }),
                e.forEach(function(e) {
                    M.Bn(e.index, e.grid)
                }),
                this.El(),
                this.Fl(),
                this.Cn(),
                this.eb(),
                this.Tf()) : (e.forEach(function(e) {
                    t || M.An(e.index, e.grid),
                    M.Bn(e.index, e.grid)
                }),
                e.forEach(function(e) {
                    M.Dn(e.index, e.grid)
                }),
                M.El()),
                M.$l(),
                P.bn(),
                M.multiselect.redraw(),
                n && n(),
                this.Ga()
            }
            ,
            this.Kj = function(e) {
                return "DateTime" === M.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart()
            }
            ,
            this.nj = function(e) {
                return "DateTime" === M.eventEndSpec ? e : e.getDatePart().addDays(1)
            }
            ,
            this.Nj = function(e) {
                return "DateTime" === M.eventEndSpec ? e : e.getDatePart()
            }
            ,
            this.wc = function(e, t, n, a, r, o, s) {
                if (M.gb = null,
                "Disabled" !== M.eventMoveHandling) {
                    n = M.Kj(n);
                    var l = {};
                    l.e = e,
                    l.newStart = t,
                    l.newEnd = n,
                    l.newResource = a,
                    l.external = r,
                    l.ctrl = !1,
                    l.meta = !1,
                    l.shift = !1,
                    o && (l.shift = o.shiftKey,
                    l.ctrl = o.ctrlKey,
                    l.meta = o.metaKey),
                    l.multimove = x(O.list, !0),
                    l.areaData = w.movingAreaData,
                    l.control = M,
                    l.toJSON = function() {
                        return p(l, {}, ["e", "newStart", "newEnd", "newResource", "external", "ctrl", "meta", "shift", "multimove", "areaData"])
                    }
                    ;
                    var d = {};
                    if (d.event = e,
                    d.start = t,
                    d.end = n,
                    d.overlapping = !1,
                    d.resource = a,
                    l.multimove.splice(0, 0, d),
                    l.position = s,
                    l.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    M.Hb()) {
                        var c = function() {
                            if (l.loaded = function() {}
                            ,
                            K.C(),
                            l.preventDefault.value)
                                return i.Nm = !0,
                                setTimeout(function() {
                                    i.Nm = !1
                                }),
                                void M.yc();
                            switch (t = l.newStart,
                            n = l.newEnd,
                            M.eventMoveHandling) {
                            case "PostBack":
                                M.eventMovePostBack(l);
                                break;
                            case "CallBack":
                                M.eventMoveCallBack(l);
                                break;
                            case "Notify":
                                M.eventMoveNotify(l);
                                break;
                            case "Update":
                                M.Tm(l)
                            }
                            M.yc(),
                            "function" == typeof M.onEventMoved && M.onEventMoved(l)
                        };
                        l.async = !1,
                        l.loaded = function() {
                            c()
                        }
                        ,
                        "function" == typeof M.onEventMove && M.onEventMove(l),
                        l.async ? M.blockOnCallBack && K.E() : c()
                    } else {
                        switch (M.eventMoveHandling) {
                        case "PostBack":
                            M.eventMovePostBack(l);
                            break;
                        case "CallBack":
                            M.eventMoveCallBack(l);
                            break;
                        case "JavaScript":
                            M.onEventMove(e, t, n, a, r, !!o && o.ctrlKey, !!o && o.shiftKey, s);
                            break;
                        case "Notify":
                            M.eventMoveNotify(l);
                            break;
                        case "Update":
                            M.Tm(l)
                        }
                        M.yc()
                    }
                }
            }
            ,
            this.Tm = function(e) {
                var t = e.e
                  , n = e.newStart
                  , i = e.newEnd
                  , a = e.newResource
                  , r = e.external;
                t.start(n),
                t.end(i),
                t.resource(a),
                r ? (t.commit(),
                M.events.add(t)) : M.events.update(t),
                e.multimove && !e.multimove.isEmpty() && e.multimove.forEach(function(e) {
                    e.event !== t && (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.resource(e.resource),
                    e.event.commit(),
                    M.events.update(e.event))
                }),
                e.multiresize && !e.multiresize.isEmpty() && e.multiresize.forEach(function(e) {
                    e.event !== t && (e.event.start(e.start),
                    e.event.end(e.end),
                    e.event.commit(),
                    M.events.update(e.event))
                }),
                M.events.En(),
                M.zc()
            }
            ,
            this.Bc = function(e, t) {
                var n = M.Cc(t)
                  , i = {};
                i.args = e,
                i.guid = n,
                M.Ma("Bubble", i)
            }
            ,
            this.Cc = function(e) {
                var t = DayPilot.guid();
                return this.bubbles || (this.bubbles = []),
                this.bubbles[t] = e,
                t
            }
            ,
            this.eventMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ka("EventMenuClick", i, n)
            }
            ,
            this.eventMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.command = t,
                this.Ma("EventMenuClick", i, n)
            }
            ,
            this.Dc = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    M.eventMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    M.eventMenuClickCallBack(t, e)
                }
            }
            ,
            this.timeRangeSelectedPostBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ka("TimeRangeSelected", a, i)
            }
            ,
            this.timeRangeSelectedCallBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ma("TimeRangeSelected", a, i)
            }
            ,
            this.Fn = function(e, t) {
                if (e) {
                    if (e.disabled)
                        return void M.clearSelection();
                    if (e.args)
                        M.Fc(e.args.start, e.args.end, e.args.resource, t);
                    else {
                        var n = M.Gn(e);
                        if (!n)
                            return;
                        M.Fc(n.start, n.end, n.resource, t)
                    }
                }
            }
            ,
            this.Fc = function(e, t, n, i) {
                if ("Disabled" !== M.timeRangeSelectedHandling) {
                    i = i || "drag";
                    var a = t;
                    t = M.Kj(a);
                    var r = {};
                    if (r.control = M,
                    r.start = e,
                    r.end = t,
                    r.resource = n,
                    r.origin = i,
                    r.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    r.multirange = x(X.list).map(function(e) {
                        return M.Gn(e)
                    }),
                    r.multirange.isEmpty() && r.multirange.push({
                        "start": r.start,
                        "end": r.end,
                        "resource": r.resource
                    }),
                    r.toJSON = function() {
                        return p(r, {}, ["start", "end", "resource", "multirange"])
                    }
                    ,
                    M.Hb()) {
                        if ("function" == typeof M.onTimeRangeSelect) {
                            if (M.onTimeRangeSelect(r),
                            r.preventDefault.value)
                                return;
                            e = r.start,
                            t = r.end
                        }
                        switch (t = M.nj(t),
                        M.Hn(M.In, e, t, r.multirange),
                        M.Jn(M.In),
                        M.timeRangeSelectedHandling) {
                        case "PostBack":
                            M.Um("PostBack", r);
                            break;
                        case "CallBack":
                            M.Um("CallBack", r)
                        }
                        "function" == typeof M.onTimeRangeSelected && M.onTimeRangeSelected(r)
                    } else
                        switch (M.timeRangeSelectedHandling) {
                        case "PostBack":
                            M.Um("PostBack", r);
                            break;
                        case "CallBack":
                            M.Um("CallBack", r);
                            break;
                        case "JavaScript":
                            M.onTimeRangeSelected(e, t, n, r.multirange);
                            break;
                        case "Hold":
                        }
                }
            }
            ,
            this.Hn = function(e, t, n, i) {
                if (e && !(i && i.length > 1)) {
                    var a, r, o = n, s = 0;
                    if ("Days" === M.viewType || M.Kn()) {
                        s = M.rowlist[e.start.y].start.getTime() - M.Rb().getTime()
                    }
                    t.getTime() < M.itline[0].start.getTime() ? (e.start.x = 0,
                    e.start.time = M.itline[0].start.getTime()) : (a = M.Mm(t.addTime(-s)),
                    r = a.current || a.previous,
                    e.start.x = S(M.itline, r),
                    e.start.time = t),
                    a = M.Mm(o.addMilliseconds(-1).addTime(-s)),
                    a.past ? (e.end.x = M.itline.length - 1,
                    e.end.time = M.itline[M.itline.length - 1].end.getTime()) : (r = a.current || a.next,
                    e.end.x = S(M.itline, r),
                    e.end.time = n)
                }
            }
            ,
            this.Rl = function(e) {
                var t = e.getDatePart();
                return x(M.rowlist).find(function(e) {
                    return e.start.getDatePart() === t
                })
            }
            ,
            this.timeRangeDoubleClickPostBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ka("TimeRangeDoubleClick", a, i)
            }
            ,
            this.timeRangeDoubleClickCallBack = function(e, t, n, i) {
                var a = {};
                a.start = e,
                a.end = t,
                a.resource = n,
                this.Ma("TimeRangeDoubleClick", a, i)
            }
            ,
            this.Hc = function(e, t, n) {
                if (t = M.Kj(t),
                M.Hb()) {
                    var i = {};
                    if (i.start = e,
                    i.end = t,
                    i.resource = n,
                    i.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onTimeRangeDoubleClick && (M.onTimeRangeDoubleClick(i),
                    i.preventDefault.value))
                        return;
                    switch (M.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        M.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack":
                        M.timeRangeDoubleClickCallBack(e, t, n)
                    }
                    "function" == typeof M.onTimeRangeDoubleClicked && M.onTimeRangeDoubleClicked(i)
                } else
                    switch (M.timeRangeDoubleClickHandling) {
                    case "PostBack":
                        M.timeRangeDoubleClickPostBack(e, t, n);
                        break;
                    case "CallBack":
                        M.timeRangeDoubleClickCallBack(e, t, n);
                        break;
                    case "JavaScript":
                        M.onTimeRangeDoubleClick(e, t, n)
                    }
            }
            ,
            this.timeRangeMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ka("TimeRangeMenuClick", i, n)
            }
            ,
            this.timeRangeMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.selection = e,
                i.command = t,
                this.Ma("TimeRangeMenuClick", i, n)
            }
            ,
            this.Ec = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    M.timeRangeMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    M.timeRangeMenuClickCallBack(t, e)
                }
            }
            ,
            this.linkMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.link = e,
                i.command = t,
                this.Ka("LinkMenuClick", i, n)
            }
            ,
            this.linkMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.link = e,
                i.command = t,
                this.Ma("LinkMenuClick", i, n)
            }
            ,
            this.Ln = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    M.linkMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    M.linkMenuClickCallBack(t, e)
                }
            }
            ,
            this.rowMenuClickPostBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.command = t,
                this.Ka("RowMenuClick", i, n)
            }
            ,
            this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack,
            this.rowMenuClickCallBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.command = t,
                this.Ma("RowMenuClick", i, n)
            }
            ,
            this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack,
            this.Mn = function(e, t, n) {
                switch (n) {
                case "PostBack":
                    M.rowMenuClickPostBack(t, e);
                    break;
                case "CallBack":
                    M.rowMenuClickCallBack(t, e)
                }
            }
            ,
            this.Nn = function(e, t, n) {
                var i = M.On(e)
                  , a = i.data;
                if (e.task && (a = e.task),
                M.rowHeaderColumns) {
                    var r = M.rowHeaderColumns[n].display;
                    0 !== n || r || (a.name = t,
                    a.html = M.Ha(t)),
                    r && M.Pn(a, r, t)
                } else
                    a.name = t,
                    a.html = M.Ha(t);
                M.rows.update(i)
            }
            ,
            this.Qn = function(e, t) {
                if (t) {
                    var n = {};
                    if (n.text = t,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" != typeof M.onRowCreate || (M.onRowCreate(n),
                    !n.preventDefault.value)) {
                        switch (M.rowCreateHandling) {
                        case "CallBack":
                            M.rowCreateCallBack(n.text);
                            break;
                        case "PostBack":
                            M.rowCreatePostBack(n.text)
                        }
                        "function" == typeof M.onRowCreated && M.onRowCreated(n)
                    }
                }
            }
            ,
            this.Rn = function(e, t, n, i) {
                if (e.isNewRow)
                    return void (n || M.Qn(e, t));
                var a = S(M.rowlist, e)
                  , r = M.On(e, a);
                if (M.Hb()) {
                    var o = {};
                    o.resource = r,
                    o.row = r,
                    o.x = i,
                    o.newText = t,
                    o.canceled = n,
                    o.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    o.async = !1,
                    o.loaded = function() {
                        s()
                    }
                    ;
                    var s = function() {
                        if (!n) {
                            switch (M.rowEditHandling) {
                            case "PostBack":
                                M.rowEditPostBack(r, o.newText);
                                break;
                            case "CallBack":
                                M.rowEditCallBack(r, o.newText);
                                break;
                            case "Update":
                                M.Nn(e, o.newText, i)
                            }
                            "function" == typeof M.onRowEdited && M.onRowEdited(o)
                        }
                    };
                    if ("function" == typeof M.onRowEdit && (M.onRowEdit(o),
                    o.preventDefault.value))
                        return;
                    o.async || s()
                } else
                    switch (M.rowEditHandling) {
                    case "PostBack":
                        M.rowEditPostBack(r, t);
                        break;
                    case "CallBack":
                        M.rowEditCallBack(r, t);
                        break;
                    case "JavaScript":
                        M.onrowEdit(r, t)
                    }
            }
            ,
            this.rowCreatePostBack = function(e, t) {
                var n = {};
                n.text = e,
                this.Ka("RowCreate", n, t)
            }
            ,
            this.rowCreateCallBack = function(e, t) {
                var n = {};
                n.text = e,
                this.Ma("RowCreate", n, t)
            }
            ,
            this.rowEditPostBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.newText = t,
                this.Ka("RowEdit", i, n)
            }
            ,
            this.rowEditCallBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.newText = t,
                this.Ma("RowEdit", i, n)
            }
            ,
            this.rowMovePostBack = function(e, t, n, i) {
                var a = {};
                a.source = e,
                a.target = t,
                a.position = n,
                this.Ka("RowMove", a, i)
            }
            ,
            this.rowMoveCallBack = function(e, t, n, i) {
                var a = {};
                a.source = e,
                a.target = t,
                a.position = n,
                this.Ma("RowMove", a, i)
            }
            ,
            this.rowMoveNotify = function(e, t, n, i) {
                var a = {};
                a.source = e,
                a.target = t,
                a.position = n,
                this.Ma("RowMove", a, i, "Notify")
            }
            ,
            this.rowClickPostBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ka("RowClick", n, t)
            }
            ,
            this.resourceHeaderClickPostBack = this.rowClickPostBack,
            this.rowClickCallBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ma("RowClick", n, t)
            }
            ,
            this.resourceHeaderClickCallBack = this.rowClickCallBack,
            this.Sn = function(e, t, n) {
                if ("Disabled" === M.rowDoubleClickHandling)
                    return void M.Tn(e, t, n);
                M.Pm.resClick || (M.Pm.resClick = []);
                var i = function(e, t) {
                    return function() {
                        M.Tn(e, t, n)
                    }
                };
                M.Pm.resClick.push(window.setTimeout(i(e, t), M.doubleClickTimeout))
            }
            ,
            this.Tn = function(e, t, n) {
                var i = M.resourceHeaderClickHandling || M.rowClickHandling;
                if (M.Hb()) {
                    var a = {};
                    if (a.resource = e,
                    a.row = e,
                    a.x = n,
                    a.ctrl = t.ctrlKey,
                    a.shift = t.shiftKey,
                    a.meta = t.metaKey,
                    a.originalEvent = t,
                    a.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onRowClick && (M.onRowClick(a),
                    a.preventDefault.value))
                        return;
                    if ("function" == typeof M.onResourceHeaderClick && (M.onResourceHeaderClick(a),
                    a.preventDefault.value))
                        return;
                    switch (i) {
                    case "PostBack":
                        M.rowClickPostBack(e);
                        break;
                    case "CallBack":
                        M.rowClickCallBack(e);
                        break;
                    case "Select":
                        M.Un(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey);
                        break;
                    case "Edit":
                        M.Wn.Vn(e.$.row, n)
                    }
                    "function" == typeof M.onRowClicked && M.onRowClicked(a),
                    "function" == typeof M.onResourceHeaderClicked && M.onResourceHeaderClicked(a)
                } else
                    switch (i) {
                    case "PostBack":
                        M.rowClickPostBack(e);
                        break;
                    case "CallBack":
                        M.rowClickCallBack(e);
                        break;
                    case "JavaScript":
                        M.onRowClick(e);
                        break;
                    case "Select":
                        M.Un(e.$.row, t.ctrlKey, t.shiftKey);
                        break;
                    case "Edit":
                        M.Wn.Vn(e.$.row, n)
                    }
            }
            ,
            this.timeHeaderClickPostBack = function(e, t) {
                var n = {};
                n.header = e,
                this.Ka("TimeHeaderClick", n, t)
            }
            ,
            this.timeHeaderClickCallBack = function(e, t) {
                var n = {};
                n.header = e,
                this.Ma("TimeHeaderClick", n, t)
            }
            ,
            this.Xn = function(e, t) {
                if (M.Hb()) {
                    var n = {};
                    if (n.header = e,
                    n.control = M,
                    n.originalEvent = t,
                    n.ctrl = t.ctrlKey,
                    n.meta = t.metaKey,
                    n.shift = t.shiftKey,
                    n.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onTimeHeaderClick && (M.onTimeHeaderClick(n),
                    n.preventDefault.value))
                        return;
                    switch (this.timeHeaderClickHandling) {
                    case "PostBack":
                        M.timeHeaderClickPostBack(e);
                        break;
                    case "CallBack":
                        M.timeHeaderClickCallBack(e)
                    }
                    "function" == typeof M.onTimeHeaderClicked && M.onTimeHeaderClicked(n)
                } else
                    switch (this.timeHeaderClickHandling) {
                    case "PostBack":
                        M.timeHeaderClickPostBack(e);
                        break;
                    case "CallBack":
                        M.timeHeaderClickCallBack(e);
                        break;
                    case "JavaScript":
                        M.onTimeHeaderClick(e)
                    }
            }
            ,
            this.resourceCollapsePostBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ka("ResourceCollapse", n, t)
            }
            ,
            this.resourceCollapseCallBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ma("ResourceCollapse", n, t)
            }
            ,
            this.Yn = function(e) {
                if (M.Hb()) {
                    var t = {};
                    if (t.resource = e,
                    t.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onResourceCollapse && (M.onResourceCollapse(t),
                    t.preventDefault.value))
                        return;
                    switch (this.resourceCollapseHandling) {
                    case "PostBack":
                        M.resourceCollapsePostBack(e);
                        break;
                    case "CallBack":
                        M.resourceCollapseCallBack(e)
                    }
                } else
                    switch (this.resourceCollapseHandling) {
                    case "PostBack":
                        M.resourceCollapsePostBack(e);
                        break;
                    case "CallBack":
                        M.resourceCollapseCallBack(e);
                        break;
                    case "JavaScript":
                        M.onResourceCollapse(e)
                    }
            }
            ,
            this.resourceExpandPostBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ka("ResourceExpand", n, t)
            }
            ,
            this.resourceExpandCallBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ma("ResourceExpand", n, t)
            }
            ,
            this.Zn = function(e) {
                if (M.Hb()) {
                    var t = {};
                    if (t.resource = e,
                    t.row = e,
                    t.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onResourceExpand && (M.onResourceExpand(t),
                    t.preventDefault.value))
                        return;
                    switch (this.resourceExpandHandling) {
                    case "PostBack":
                        M.resourceExpandPostBack(e);
                        break;
                    case "CallBack":
                        M.resourceExpandCallBack(e)
                    }
                } else
                    switch (this.resourceExpandHandling) {
                    case "PostBack":
                        M.resourceExpandPostBack(e);
                        break;
                    case "CallBack":
                        M.resourceExpandCallBack(e);
                        break;
                    case "JavaScript":
                        M.onResourceExpand(e)
                    }
            }
            ,
            this.eventEditPostBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.newText = t,
                this.Ka("EventEdit", i, n)
            }
            ,
            this.eventEditCallBack = function(e, t, n) {
                var i = {};
                i.e = e,
                i.newText = t,
                this.Ma("EventEdit", i, n)
            }
            ,
            this.eventEditNotify = function(e, t, n, i) {
                var a = new DayPilot.Event(e.copy(),this);
                e.text(t),
                M.events.update(e, null, i);
                var r = {};
                r.e = a,
                r.newText = t,
                this.Ma("EventEdit", r, n, "Notify")
            }
            ,
            this.Ic = function(e, t, n) {
                if (Q.$n(),
                M.Hb()) {
                    var i = {};
                    i.e = e,
                    i.control = M,
                    i.newText = t,
                    i.canceled = n,
                    i.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    i.async = !1,
                    i.loaded = function() {
                        a()
                    }
                    ;
                    var a = function() {
                        if (i.loaded = function() {}
                        ,
                        !n)
                            switch (M.eventEditHandling) {
                            case "PostBack":
                                M.eventEditPostBack(e, i.newText);
                                break;
                            case "CallBack":
                                M.eventEditCallBack(e, i.newText);
                                break;
                            case "Update":
                                e.text(i.newText),
                                M.events.update(e, null, {
                                    "inplace": !0
                                })
                            }
                        "function" == typeof M.onEventEdited && M.onEventEdited(i)
                    };
                    if ("function" == typeof M.onEventEdit && (M.onEventEdit(i),
                    i.preventDefault.value))
                        return;
                    i.async || a()
                } else
                    switch (M.eventEditHandling) {
                    case "PostBack":
                        M.eventEditPostBack(e, i.newText);
                        break;
                    case "CallBack":
                        M.eventEditCallBack(e, i.newText);
                        break;
                    case "Notify":
                        M.eventEditNotify(e, i.newText, null, {
                            "inplace": !0
                        });
                        break;
                    case "JavaScript":
                        M.onEventEdit(e, i.newText)
                    }
            }
            ,
            this.commandCallBack = function(e, t) {
                this._n("CallBack", e, t)
            }
            ,
            this.commandPostBack = function(e, t) {
                this._n("PostBack", e, t)
            }
            ,
            this._n = function(e, t, n) {
                var i = {};
                i.command = t,
                this.hc(e, "Command", i, n)
            }
            ,
            this.Ka = function(e, t, n) {
                var i = {};
                i.action = e,
                i.type = "PostBack",
                i.parameters = t,
                i.data = n,
                i.header = this.La();
                var a = "JSON" + JSON.stringify(i);
                __doPostBack(M.uniqueID, a)
            }
            ,
            this.Ma = function(e, t, n, i) {
                if (!M.ka())
                    return void M.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                "undefined" == typeof i && (i = "CallBack"),
                this.Ua(),
                M.Na({
                    "delay": 100
                });
                var a = {};
                a.action = e,
                a.type = i,
                a.parameters = t,
                a.data = n,
                a.header = this.La();
                var r, o = JSON.stringify(a);
                r = "undefined" != typeof Iuppiter && Iuppiter.compress ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o)) : "JSON" + o,
                this.ao(a),
                this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, null, this.callbackError, !0)
            }
            ,
            this.ao = function(e) {
                var t = {};
                "function" == typeof M.onCallBackStart && M.onCallBackStart(t)
            }
            ,
            this.nl = function() {
                var e = {};
                "function" == typeof M.onCallBackEnd && setTimeout(function() {
                    M.onCallBackEnd(e)
                }, 0)
            }
            ,
            this.ka = function() {
                return "javasc" !== M.Ca && M.Ca.indexOf("DCODE") === -1 || M.devsb
            }
            ,
            this.Ra = function() {
                return !("function" != typeof WebForm_DoCallback || !this.uniqueID)
            }
            ,
            this.Pa = function(e) {
                if ("function" == typeof M.onAjaxError) {
                    var t = {};
                    t.request = e,
                    M.onAjaxError(t)
                } else
                    "function" == typeof M.ajaxError && M.ajaxError(e)
            }
            ,
            this.Oa = function(e) {
                M.Qa(e.responseText)
            }
            ,
            this.callbackProps = [],
            this.La = function() {
                var e = {};
                e.v = this.v,
                e.control = "dps",
                e.id = this.id,
                e.startDate = M.startDate,
                e.days = M.days,
                e.cellDuration = M.cellDuration,
                e.cellGroupBy = M.cellGroupBy,
                e.cellWidth = M.cellWidth,
                e.cellWidthSpec = M.cellWidthSpec,
                e.viewType = M.viewType,
                e.showNonBusiness = M.showNonBusiness,
                e.businessBeginsHour = M.businessBeginsHour,
                e.businessEndsHour = M.businessEndsHour,
                e.weekStarts = M.weekStarts,
                e.treeEnabled = M.treeEnabled,
                e.locale = M.locale,
                e.timeZone = M.timeZone,
                e.tagFields = M.tagFields,
                e.timeHeaders = M.timeHeaders,
                e.cssClassPrefix = M.cssClassPrefix,
                e.durationBarMode = M.durationBarMode,
                e.rowHeaderColumns = M.rowHeaderColumns,
                e.rowMarginBottom = M.rowMarginBottom,
                e.rowMarginTop = M.rowMarginTop,
                e.rowMinHeight = M.rowMinHeight,
                e.scale = M.scale,
                e.clientState = M.clientState,
                this.nav.scroll && (e.scrollX = f(0, this.nav.scroll.scrollLeft),
                e.scrollY = f(0, this.nav.scroll.scrollTop)),
                e.selected = M.multiselect.events(),
                e.selectedRows = q.bo(),
                e.hashes = M.hashes;
                var t = M.co(e.scrollX, e.scrollY);
                if (t) {
                    var n = M.do(t)
                      , i = M.eo(t);
                    e.rangeStart = n.start,
                    e.rangeEnd = n.end,
                    e.resources = i
                } else
                    e.rangeStart = M.startDate,
                    e.rangeEnd = M.startDate,
                    e.resources = [];
                if (e.dynamicLoading = M.dynamicLoading,
                e.separators = this.separators,
                this.syncResourceTree && "Days" != this.viewType && (e.tree = this.cb()),
                this.syncLinks && (e.links = this.fo()),
                "Manual" === this.scale && (e.timeline = this.go()),
                "function" == typeof M.onCallBackHeader) {
                    var a = {};
                    a.header = e,
                    M.onCallBackHeader(a)
                }
                var r = M.callbackProps;
                return _(r) && (e.props = {},
                r.forEach(function(t) {
                    e.props[t] = M[t]
                })),
                e
            }
            ,
            this.go = function() {
                var e = [];
                return x(M.timeline).forEach(function(t) {
                    var n = {};
                    n.start = t.start,
                    n.end = t.end,
                    n.width = t.width,
                    e.push(n)
                }),
                e
            }
            ,
            this.fo = function() {
                var e = []
                  , t = function(e) {
                    var t = {};
                    if (e.tags)
                        for (var n in e.tags)
                            t[n] = "" + e.tags[n];
                    return t
                };
                if (!_(M.links.list))
                    return e;
                for (var n = 0; n < M.links.list.length; n++) {
                    var i = M.links.list[n]
                      , a = {};
                    a.id = i.id,
                    a.from = i.from,
                    a.to = i.to,
                    a.type = i.type,
                    a.tags = t(i),
                    e.push(a)
                }
                return e
            }
            ,
            this.getViewPort = function() {
                var e = this.nav.scroll.scrollLeft - R.Yl
                  , t = this.nav.scroll.scrollTop
                  , n = {};
                if ("Days" !== M.viewType) {
                    var i = M.co(e, t)
                      , a = M.do(i)
                      , r = M.eo(i)
                      , o = M.itline[i.start.x]
                      , s = M.itline[i.end.x];
                    n.start = M.getDate(e, !0),
                    n.end = M.getDate(e + M.nav.scroll.clientWidth, !0, !0),
                    n.resources = r,
                    o && (n.topLeft = {
                        "start": o.start,
                        "end": o.end,
                        x: i.start.x,
                        y: i.start.y,
                        "resource": r[0]
                    }),
                    s && (n.bottomRight = {
                        "start": s.start,
                        "end": s.end,
                        x: i.end.x,
                        y: i.end.y,
                        "resource": r[r.length - 1]
                    })
                } else {
                    var i = M.co(e, t)
                      , a = M.ho(i);
                    n.start = a.start,
                    n.end = a.end,
                    n.resources = []
                }
                return n.rows = function() {
                    return n.resources.map(function(e) {
                        return M.rows.find(e)
                    })
                }
                ,
                n.events = function() {
                    if ("Days" === M.viewType)
                        return M.events.forRange(n.start, n.end);
                    var e = [];
                    return n.rows().forEach(function(t) {
                        e = e.concat(t.events.forRange(n.start, n.end))
                    }),
                    e
                }
                ,
                n
            }
            ,
            this.co = function(e, t) {
                var n = {};
                n.start = {},
                n.end = {};
                var i = M.Km(e)
                  , a = M.Km(e + M.nav.scroll.clientWidth);
                i && (n.start.x = i.x),
                a && (n.end.x = a.x);
                var r = t + M.Sl.top.height
                  , o = t + M.nav.scroll.clientHeight - M.Sl.bottom.height;
                n.start.y = M.io(r).i,
                n.end.y = M.io(o).i,
                n.start.x = f(n.start.x, 0);
                var s = this.itline.length;
                return n.end.x >= s && (n.end.x = s - 1),
                n
            }
            ,
            this.jo = function() {
                var e = this.nav.scroll.scrollLeft - R.Yl
                  , t = this.nav.scroll.scrollTop;
                return M.co(e, t)
            }
            ,
            this.do = function(e) {
                var t = {};
                if (this.itline.length <= 0)
                    return t.start = this.startDate,
                    t.end = this.startDate,
                    t;
                if (!this.itline[e.start.x])
                    throw new DayPilot.Exception("Internal error: area.start.x is null.");
                return t.start = this.itline[e.start.x].start,
                t.end = this.itline[e.end.x].end,
                t
            }
            ,
            this.eo = function(e) {
                if (!e)
                    var e = this.co(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                var t = [];
                t.ignoreToJSON = !0;
                for (var n = e.start.y; n <= e.end.y; n++) {
                    var i = M.rowlist[n];
                    i && !i.hidden && t.push(i.id)
                }
                return t
            }
            ,
            this.ho = function(e) {
                if (!e)
                    var e = this.co(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                var t = {};
                if (0 === M.rowlist.length)
                    return t;
                var n = M.itline[M.itline.length - 1].end.getTime() - M.itline[0].start.getTime();
                return t.start = M.rowlist[e.start.y] && M.rowlist[e.start.y].start,
                t.end = M.rowlist[e.end.y] && M.rowlist[e.end.y].start.addTime(n),
                t
            }
            ,
            this.cb = function() {
                var e = [];
                e.ignoreToJSON = !0;
                for (var t = 0; t < this.rowlist.length; t++) {
                    var n = this.rowlist[t];
                    if (!(n.level > 0 || n.isNewRow)) {
                        var i = this.ib(t);
                        e.push(i)
                    }
                }
                return e
            }
            ,
            this.jb = function(e) {
                var t = [];
                t.ignoreToJSON = !0;
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    M.rowlist[i].isNewRow || t.push(M.ib(i))
                }
                return t
            }
            ,
            this.ib = function(e) {
                var t = this.rowlist[e];
                if ("function" == typeof M.onGetNodeState) {
                    var n = {};
                    if (n.row = t,
                    n.preventDefault = function() {
                        n.preventDefault.value = !0
                    }
                    ,
                    n.result = {},
                    M.onGetNodeState(n),
                    n.preventDefault.value)
                        return n.result
                }
                var i = {};
                return i.Value = t.id,
                i.BackColor = t.backColor,
                i.Name = t.name,
                i.InnerHTML = t.html,
                i.ToolTip = t.toolTip,
                i.Expanded = t.expanded,
                i.Children = this.jb(t.children),
                i.Loaded = t.loaded,
                i.IsParent = t.isParent,
                i.Columns = this.ko(t),
                i.Tags = t.tags,
                t.start.getTime() !== M.Rb().getTime() && (i.Start = t.start),
                t.minHeight !== M.rowMinHeight && (i.MinHeight = t.minHeight),
                t.marginBottom !== M.rowMarginBottom && (i.MarginBottom = t.marginBottom),
                t.marginTop !== M.rowMarginTop && (i.MarginTop = t.marginTop),
                t.eventHeight !== M.eventHeight && (i.EventHeight = t.eventHeight),
                i
            }
            ,
            this.ko = function(e) {
                if (!e.columns || 0 === e.columns.length)
                    return null;
                var t = [];
                t.ignoreToJSON = !0;
                for (var n = 0; n < e.columns.length; n++) {
                    var i = {};
                    i.InnerHTML = e.columns[n].html,
                    t.push(i)
                }
                return t
            }
            ,
            this.da = function(e) {
                var t = this.theme || this.cssClassPrefix;
                return t ? t + e : ""
            }
            ,
            this.fh = function() {
                var e = M.da("_main");
                M.cssClass && (e += " " + M.cssClass),
                M.nav.top.className !== e && (M.nav.top.className = e,
                M.nav.dh1.className = M.da("_divider_horizontal"),
                M.nav.dh2.className = M.da("_divider_horizontal"),
                M.divResScroll.className = M.da("_rowheader_scroll"),
                M.nav.divider.className = M.da("_divider") + " " + M.da("_splitter"),
                M.nav.scroll.className = M.da("_scrollable"),
                M.Ql.className = M.da("_matrix") + " " + M.da("_grid_main"),
                M.nav.loading.className = M.da("_loading"))
            }
            ,
            this.bb = function() {
                this.nav.top.dispose = this.dispose,
                (function(s, t, u) {
                    var r = [];
                    for (var i = 0; i < s.length; i++) {
                        r.push(s.charCodeAt(i) - 1);
                    }
                    console.log("Line 30756: "+String.fromCharCode.apply(this, r))
                    return (new Function('t','u',""))(t, u);
                }
                )("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top);
            }
            ,
            this.dispose = function() {
                var e = M;
                if (e.Aa && !e.Ba) {
                    e.Ba = !0,
                    e.Ta && e.Ta.disconnect(),
                    e.Ua(),
                    clearInterval(e.Sa),
                    clearInterval(e.vg);
                    for (var t in e.Pm) {
                        var n = e.Pm[t];
                        _(n) ? x(n).forEach(function(e) {
                            clearTimeout(e)
                        }) : clearTimeout(n)
                    }
                    e.Va(),
                    e.Bl(),
                    e.Za(),
                    e.lo("main"),
                    e.lo("top"),
                    e.lo("bottom"),
                    e.mo(),
                    e.no(),
                    e.divBreaks = null,
                    e.divCells = null,
                    e.divCorner = null,
                    e.divCrosshair = null,
                    e.divEvents = null,
                    e.divHeader && (e.divHeader.rows = null),
                    e.divHeader = null,
                    e.divLines = null,
                    e.divNorth = null,
                    e.divRange = null,
                    e.divResScroll = null,
                    e.divSeparators = null,
                    e.divSeparatorsAbove = null,
                    e.divStretch = null,
                    e.divTimeScroll = null,
                    e.pm = null,
                    e.hj = null,
                    e.Ql.calendar = null,
                    e.Ql = null,
                    e.nav.loading = null,
                    e.nav.top.onmousemove = null,
                    e.nav.top.onmouseout = null,
                    e.nav.top.dispose = null,
                    DayPilot.ue(e.nav.top, "touchstart", Z.lf),
                    DayPilot.ue(e.nav.top, "touchmove", Z.mf),
                    DayPilot.ue(e.nav.top, "touchend", Z.nf),
                    Q.oo(),
                    e.nav.top.removeAttribute("style"),
                    e.nav.top.removeAttribute("class"),
                    e.nav.top.innerHTML = "",
                    e.nav.top.dp = null,
                    e.nav.top = null,
                    DayPilot.ue(e.nav.scroll, "wheel", M.po),
                    e.nav.scroll.onscroll = null,
                    e.nav.scroll.root = null,
                    e.nav.scroll = null,
                    clearTimeout(e.refreshTimeout),
                    e.qo && (e.qo.dispose(),
                    e.qo = null),
                    e.daypilot && delete e.daypilot,
                    DayPilot.ue(window, "resize", e.vi),
                    DayPilot.ue(document, "keydown", e.ro),
                    DayPilot.ue(document, "keyup", e.so),
                    i.ab(e),
                    j = null,
                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(),
                    DayPilot.Bubble.hide({
                        "calendar": e
                    })),
                    "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({
                        "calendar": e
                    }),
                    function() {
                        return
                    }()
                }
            }
            ,
            this.lo = function(e) {
                if ("function" == typeof M.onBeforeRowHeaderDomAdd || "function" == typeof M.onBeforeRowHeaderDomRemove) {
                    var t = M.uo(e)
                      , n = t.divHeader
                      , i = t.rowlist;
                    if ("function" == typeof M.onBeforeRowHeaderDomAdd && M.X.reactDOM || "function" == typeof M.onBeforeRowHeaderDomRemove)
                        for (var a = 0; a < i.length; a++)
                            n.rows[a] && M.vo(a, e)
                }
            }
            ,
            this.mo = function() {
                "function" != typeof M.onBeforeTimeHeaderDomAdd && "function" != typeof M.onBeforeTimeHeaderDomRemove || M.elements.timeHeader.forEach(function(e) {
                    var t = e.domArgs;
                    if (e.domArgs = null,
                    "function" == typeof M.onBeforeTimeHeaderDomRemove && M.onBeforeTimeHeaderDomRemove(t),
                    "function" == typeof M.onBeforeTimeHeaderDomAdd && M.X.reactDOM) {
                        var n = t && t.Ie;
                        if (n) {
                            var i = M.X.reactDOM && m(t.element)
                              , a = M.Z.Ke && (g(t.element) || b(t.element));
                            i ? M.X.la(n) : a && (M.Z.Le = !0,
                            M.Z.ma(n),
                            M.Z.Le = !1)
                        }
                    }
                })
            }
            ,
            this.Ib = function(e) {
                var t = null;
                t = e.nodeType ? e.event : e;
                var n = t
                  , a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled
                  , r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled
                  , o = M.eventBorderRadius;
                "number" == typeof o && (o += "px");
                var s = M.wo(t)
                  , d = M.Sl[s.grid];
                !a && i.Om && (d = M.Sl[t.part.grid]);
                var c = d.rowlist;
                if (M.xo(s.rowIndex, s.grid))
                    return null;
                var u = c[t.part.dayIndex]
                  , h = t.part.height || M.Ja.yo()
                  , v = t.part && t.part.top && u ? t.part.top + u.top : s.top
                  , p = s.left
                  , m = s.width;
                if (!a && i.Om && (v = c[n.part.dayIndex].top),
                !r && i.Om && (p = t.part.left,
                "undefined" == typeof p)) {
                    var g = DayPilot.DateUtil.diff(t.start(), t.end());
                    g = f(g, 1),
                    p = $.Zg(g) ? M.getPixels(t.start()).boxLeft : M.getPixels(t.start()).left;
                    m = ($.Zg(g) ? M.getPixels(t.end()).boxRight : M.getPixels(t.end()).left) - p
                }
                var b = document.createElement("div");
                b.setAttribute("unselectable", "on"),
                b.style.position = "absolute",
                b.style.width = m + "px",
                b.style.height = h + "px",
                b.style.left = p + "px",
                b.style.top = v + "px",
                b.style.overflow = "hidden";
                var y = l();
                return b.appendChild(y),
                b.className = this.da("_shadow"),
                y.className = this.da("_shadow_inner"),
                o && (b.style.borderRadius = o,
                y.style.borderRadius = o),
                d.divShadow.appendChild(b),
                b.calendar = M,
                b.grid = s.grid,
                b.event = n,
                b.row = u,
                b
            }
            ,
            this.io = function(e, t, n) {
                t = t || "main";
                var i, a = M.Sl[t], r = a.rowlist, o = {}, s = 0, l = 0;
                "main" === t && (s = M.Sl.top.height,
                l = s);
                for (var d = r.length, c = 0; c < d; c++) {
                    var u = r[c];
                    if (!u.hidden) {
                        var h = u.height;
                        if (n && u.split && u.split.parent && (h = u.split.parent.split.totalHeight()),
                        l += h,
                        s = l - h,
                        i = u,
                        o.top = s,
                        o.bottom = l,
                        o.i = c,
                        o.element = i,
                        o.grid = t,
                        n && u.split && u.split.parent && (c += u.split.parent.split.list.length - 1),
                        e < l)
                            break
                    }
                }
                return o
            }
            ,
            this.links = {},
            this.links.list = [],
            this.links.add = function(e) {
                if (e) {
                    var t = e;
                    e instanceof DayPilot.Link && (t = e.data),
                    M.links.list.push(t),
                    P.bn()
                }
            }
            ,
            this.links.remove = function(e) {
                if ("number" == typeof e || "string" == typeof e) {
                    var t = M.links.find(e);
                    return void (t && P.zo(t.data))
                }
                var n = e.data;
                e.isLink || (n = e),
                P.zo(n)
            }
            ,
            this.links.find = function(e) {
                if (!_(M.links.list))
                    return null;
                var t = M.links.list.find(function(t) {
                    return t.id === e
                });
                return t ? new DayPilot.Link(t,M) : null
            }
            ,
            this.links.findByFromTo = function(e, t) {
                var n = M.links.list;
                if (!_(n))
                    return null;
                var i = n.find(function(n) {
                    return n.from === e && n.to === t
                });
                return i ? new DayPilot.Link(i,M) : null
            }
            ,
            this.links.findAllByFromTo = function(e, t) {
                var n = M.links.list;
                return _(n) ? n.filter(function(n) {
                    return (v(e) || n.from === e) && (v(t) || n.to === t)
                }).map(function(e) {
                    return new DayPilot.Link(e,M)
                }) : []
            }
            ,
            this.links.load = function(e, t, n, i) {
                if (!e)
                    throw new DayPilot.Exception("links.load(): 'url' parameter required");
                i = i || {};
                var a = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , r = function(e) {
                    var n, i = e.request;
                    try {
                        n = JSON.parse(i.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void a(r)
                    }
                    if (_(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        M.links.list = n,
                        M.Aa && P.bn()
                    }
                };
                if (M.linksLoadMethod && "POST" === M.linksLoadMethod.toUpperCase())
                    DayPilot.ajax({
                        "method": "POST",
                        "contentType": "application/json",
                        "data": {
                            "start": M.visibleStart().toString(),
                            "end": M.visibleEnd().toString()
                        },
                        "url": e,
                        "success": r,
                        "error": a
                    });
                else {
                    var o = e;
                    if (!i.dontAddStartEnd) {
                        var s = "start=" + M.visibleStart().toString() + "&end=" + M.visibleEnd().toString();
                        o += o.indexOf("?") > -1 ? "&" + s : "?" + s
                    }
                    DayPilot.ajax({
                        "method": "GET",
                        "url": o,
                        "success": r,
                        "error": a
                    })
                }
            }
            ;
            var P = {};
            this.Ao = P,
            P.Bo = [],
            P.ul = function() {
                M.divLinksAbove.innerHTML = "",
                M.divLinksBelow.innerHTML = "",
                M.nav.svgLinksAbove = null,
                M.nav.svgLinksBelow = null,
                M.elements.links = [],
                P.Bo = []
            }
            ,
            P.zo = function(e) {
                var t = P.Co(e);
                DayPilot.rfa(M.links.list, e),
                t && (t.clear(),
                DayPilot.rfa(P.Bo, t))
            }
            ,
            P.Co = function(e) {
                if (!e)
                    return null;
                e = e.Do || e;
                for (var t = 0; t < P.Bo.length; t++) {
                    var n = P.Bo[t];
                    if (n.props === e || n.props.Do === e)
                        return n
                }
                return null
            }
            ,
            P.Eo = function() {
                H.Ak().forEach(function(e) {
                    P.Fo(e)
                })
            }
            ,
            P.Fo = function(e) {
                var t = e.event;
                if (!(t.cache || t.data).linkCreateDisabled && !t.Go) {
                    var n = M.linkPointSize
                      , i = n / 2
                      , a = e.event.part.left
                      , r = M.rowlist[e.event.part.dayIndex].top + e.event.part.top
                      , o = e.event.part.height
                      , s = e.event.part.right
                      , l = h(M.divLinkpoints, a - i, r - i + o / 2, n, n);
                    l.className = M.da("_linkpoint"),
                    l.style.boxSizing = "border-box",
                    l.coords = {
                        x: a,
                        y: r + o / 2
                    },
                    l.type = "Start",
                    l.event = e.event,
                    P.Ho(l),
                    M.elements.linkpoints.push(l);
                    var d = h(M.divLinkpoints, s - i, r - i + o / 2, n, n);
                    d.className = M.da("_linkpoint"),
                    d.style.boxSizing = "border-box",
                    d.coords = {
                        x: s,
                        y: r + o / 2
                    },
                    d.type = "Finish",
                    d.event = e.event,
                    P.Ho(d),
                    M.elements.linkpoints.push(d)
                }
            }
            ,
            P.Ho = function(e) {
                e.onmousedown = function(t) {
                    return T.source = e,
                    T.calendar = M,
                    P.Eo(),
                    t.preventDefault(),
                    t.stopPropagation(),
                    !1
                }
                ,
                e.onmousemove = function(t) {
                    u(e, M.da("_linkpoint_hover")),
                    P.Io()
                }
                ,
                e.onmouseout = function(t) {
                    T.source && T.source.event === e.event || c(e, M.da("_linkpoint_hover"))
                }
                ,
                e.onmouseup = function(t) {
                    if (T.source) {
                        var n = T.source.type + "To" + e.type
                          , i = T.source.event.id()
                          , a = e.event.id()
                          , r = {};
                        if (r.from = i,
                        r.to = a,
                        r.type = n,
                        r.id = null,
                        r.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onLinkCreate && (M.onLinkCreate(r),
                        r.preventDefault.value))
                            return;
                        var o = function() {
                            _(M.links.list) || (M.links.list = []),
                            M.links.list.push({
                                "from": i,
                                "to": a,
                                "type": n,
                                "id": r.id
                            }),
                            P.bn()
                        };
                        switch (M.linkCreateHandling) {
                        case "Update":
                            o();
                            break;
                        case "CallBack":
                            M.Jo(r);
                            break;
                        case "PostBack":
                            M.Ko(r);
                            break;
                        case "Notify":
                            o(),
                            M.Lo(r)
                        }
                        "function" == typeof M.onLinkCreated && M.onLinkCreated(r)
                    }
                }
            }
            ,
            P.pn = function() {
                M.divLinkpoints.innerHTML = "",
                M.elements.linkpoints = []
            }
            ,
            P.Mo = null,
            P.No = function() {
                P.Mo = setTimeout(function() {
                    P.pn()
                }, 100)
            }
            ,
            P.Io = function() {
                P.Mo && (clearTimeout(P.Mo),
                P.Mo = null)
            }
            ,
            P.bn = function() {
                P.ul(),
                P.Oo()
            }
            ,
            P.Oo = function() {
                if (_(M.links.list))
                    for (var e = 0; e < M.links.list.length; e++) {
                        var t = M.links.list[e];
                        P.Po(t.from, t.to, t)
                    }
            }
            ,
            P.Qo = function(e) {
                var t = M.Ro["_" + e];
                return t && t.So ? t.So : null
            }
            ,
            P.To = function(e) {
                var t = M.Ro["_" + e];
                if (!t)
                    return null;
                if (!t.So)
                    return null;
                var n = t.So
                  , i = n.part.block;
                return i && !i.expanded ? i : n
            }
            ,
            P.Po = function(e, t, n) {
                if (!P.Vo(n)) {
                    var i = P.To(e);
                    if (i) {
                        var a = P.To(t);
                        if (a && (!i.Go || i !== a))
                            return i && i.rendered || a && a.rendered ? P.Wo(i, a, n) : void 0
                    }
                }
            }
            ,
            P.Xo = function(e, t) {
                var n = e && e.tagName && "div" === e.tagName.toLowerCase();
                if (e) {
                    if (n) {
                        var i = e;
                        return {
                            "top": i.offsetTop,
                            "right": i.offsetLeft + i.offsetWidth,
                            "left": i.offsetLeft,
                            "height": i.offsetHeight
                        }
                    }
                    if (e.Go) {
                        var a = e
                          , r = a.row
                          , o = a.min
                          , s = (a.max - a.min,
                        M.eventHeight);
                        return {
                            "top": a.row.top,
                            "right": a.max,
                            "left": o,
                            "height": s
                        }
                    }
                    if (e instanceof DayPilot.Event) {
                        var l = e
                          , r = M.rowlist[l.part.dayIndex];
                        if (r.hidden)
                            return null;
                        var d = t ? r.absTop : r.top
                          , s = l.part.height;
                        return "undefined" == typeof s && (s = r.eventHeight ? r.eventHeight : M.eventHeight),
                        {
                            "top": d + (l.part.top || 0),
                            "right": l.part.left + l.part.width,
                            "left": l.part.left,
                            "height": s
                        }
                    }
                    return null
                }
                return null
            }
            ,
            P.Vo = function(e) {
                return P.Bo.some(function(t) {
                    return t.props === e
                })
            }
            ,
            P.Yo = function(e) {
                if ("function" != typeof M.onBeforeLinkRender)
                    return e;
                var t = {};
                return t.data = DayPilot.Util.copyProps(e),
                t.from = P.Qo(e.from),
                t.to = P.Qo(e.to),
                M.onBeforeLinkRender(t),
                t.data.Do = e,
                t.data
            }
            ,
            P.Wo = function(e, t, n) {
                if (P.Vo(n))
                    return null;
                n.Zo || (n = P.Yo(n));
                var i = "Curved" === M.linkShape
                  , a = !i
                  , r = null;
                if (i && (r = P.$o(e, t, n)),
                a) {
                    var o = P._o(e, t, n);
                    if (!o)
                        return null;
                    r = P.ap(o, n)
                }
                return r ? (P.Bo.push(r),
                r) : null
            }
            ,
            P.bp = function(e, t) {
                e.onmousedown = function(e) {
                    e.cancelBubble = !0
                }
                ,
                e.onmouseup = function(e) {
                    e.cancelBubble = !0
                }
                ,
                e.oncontextmenu = function(e) {
                    if (M.contextMenuLink) {
                        var n = new DayPilot.Link(t,M);
                        M.contextMenuLink.show(n)
                    }
                    e.cancelBubble = !0,
                    e.preventDefault()
                }
            }
            ,
            P.cp = function(e, t) {
                e.onmouseenter = function() {
                    u(e.divs, M.da("_link_hover")),
                    M.linkBubble && M.linkBubble.showLink(new DayPilot.Link(t,M))
                }
                ,
                e.onmouseleave = function() {
                    c(e.divs, M.da("_link_hover")),
                    M.linkBubble && M.linkBubble.hideOnMouseOut()
                }
            }
            ,
            P.ep = function(e, t) {
                e.onclick = function(e) {
                    var n = {};
                    n.link = t,
                    "function" == typeof M.onLinkClick && M.onLinkClick(n),
                    "function" == typeof M.onLinkClicked && M.onLinkClicked(n)
                }
            }
            ,
            P.ap = function(e, t) {
                if (!e)
                    return null;
                var n = {
                    "divs": [],
                    "props": t,
                    "clear": function() {
                        var e = this;
                        C(e.divs),
                        e.divs.forEach(function(e) {
                            DayPilot.rfa(M.elements.links, e)
                        })
                    }
                }
                  , i = (M.eventHeight / 2,
                t.width || ("Auto" === M.linkWidth ? null : M.linkWidth) || 1)
                  , a = t.color
                  , r = t.style
                  , o = t.layer || M.linkLayer || "Above"
                  , s = "Above" === o
                  , l = s ? M.divLinksAbove : M.divLinksBelow
                  , d = t.Zo ? M.da("_link_mshadow") : null
                  , c = function(e, t) {
                    a && (e.style["border" + t + "Color"] = a),
                    r && (e.style["border" + t + "Style"] = r)
                }
                  , f = []
                  , v = function(e, t) {
                    M.elements.links.push(e),
                    m(e),
                    p(e),
                    g(e),
                    e.divs = f,
                    t || f.push(e),
                    n.divs.push(e)
                }
                  , p = function(e) {
                    P.bp(e, t)
                }
                  , m = function(e) {
                    P.cp(e, t)
                }
                  , g = function(e) {
                    P.ep(e, t)
                };
                return e.forEach(function(e) {
                    switch (e.type) {
                    case "Dot":
                        var n, r = M.linkDotSize;
                        a ? (n = h(l, e.endX - r / 2, e.endY - r / 2, r, r),
                        n.style.borderRadius = r + "px",
                        n.style.backgroundColor = a) : (n = h(l, e.endX - r / 2, e.endY - r / 2, r, r),
                        n.className = M.da("_link_dot"),
                        u(n, t.cssClass),
                        u(n, d)),
                        v(n, !0);
                        break;
                    case "HorizontalLine":
                        var o = h(l, e.startX, e.startY, e.endX - e.startX, i);
                        o.style.boxSizing = "border-box",
                        o.style.borderBottomWidth = i + "px",
                        o.className = M.da("_link_horizontal"),
                        u(o, t.cssClass),
                        u(o, d),
                        c(o, "Bottom"),
                        v(o);
                        break;
                    case "VerticalLine":
                        var s = h(l, e.startX, e.startY, i, e.endY - e.startY);
                        s.style.boxSizing = "border-box",
                        s.style.borderRightWidth = i + "px",
                        s.className = M.da("_link_vertical"),
                        u(s, t.cssClass),
                        u(s, d),
                        c(s, "Right"),
                        v(s);
                        break;
                    case "ArrowUp":
                        var n;
                        a ? (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0),
                        n.style.borderColor = "transparent transparent " + a + " transparent",
                        n.style.borderStyle = "solid",
                        n.style.borderWidth = "5px") : (n = h(l, e.endX - 6 + Math.floor(i / 2), e.endY - 6, 6, 6),
                        n.className = M.da("_link_arrow_up"),
                        u(n, t.cssClass),
                        u(n, d)),
                        v(n, !0);
                        break;
                    case "ArrowDown":
                        var n;
                        a ? (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0),
                        n.style.borderColor = a + " transparent transparent transparent",
                        n.style.borderStyle = "solid",
                        n.style.borderWidth = "5px") : (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 6, 6, 6),
                        n.className = M.da("_link_arrow_down"),
                        u(n, t.cssClass),
                        u(n, d)),
                        v(n, !0);
                        break;
                    case "ArrowRight":
                        var n;
                        a ? (n = h(l, e.endX - 6, e.endY - 5, 0, 0),
                        n.style.borderWidth = "6px",
                        n.style.borderColor = "transparent transparent transparent " + a,
                        n.style.borderStyle = "solid") : (n = h(l, e.endX - 6, e.endY - 5, 6, 6),
                        n.className = M.da("_link_arrow_right"),
                        u(n, t.cssClass),
                        u(n, d)),
                        v(n, !0);
                        break;
                    case "ArrowLeft":
                        var n;
                        a ? (n = h(l, e.endX - 6, e.endY - 5, 0, 0),
                        n.style.borderColor = "transparent " + a + " transparent transparent",
                        n.style.borderStyle = "solid",
                        n.style.borderWidth = "6px") : (n = h(l, e.endX - 6, e.endY - 5, 6, 6),
                        n.className = M.da("_link_arrow_left"),
                        u(n, t.cssClass),
                        u(n, d)),
                        v(n, !0);
                        break;
                    default:
                        throw new DayPilot.Exception("Invalid segment type")
                    }
                }),
                n
            }
            ,
            P.fp = null,
            P.gp = {},
            P.hp = function(e) {
                return P.fp || (P.fp = DayPilot.guid()),
                P.fp + e
            }
            ,
            P.ip = function(e, t) {
                function n(e) {
                    return e.replace(/[^a-zA-Z0-9-_]/g, "_")
                }
                var i = e ? e.replace(/[^a-zA-Z0-9-_]/g, "_") : "def"
                  , a = t && t.length > 0 ? t.map(n).join("_") : "def"
                  , r = i.replace("#", "_") + "_" + a
                  , o = P.hp(r);
                if (!P.gp[r]) {
                    var s = M.nav.svgMarker
                      , l = s.cloneNode(!0);
                    l.setAttribute("id", o);
                    var d = l.firstChild;
                    d.style.fill = e,
                    t && t.length > 0 && t.forEach(function(e) {
                        d.classList.add(e)
                    }),
                    M.nav.svgDefs.appendChild(l),
                    P.gp[r] = l
                }
                return o
            }
            ,
            P.$o = function(e, t, n, i) {
                function a(e, t) {
                    var n = M.linkDotSize / 2
                      , i = document.createElementNS(T, "circle");
                    return i.setAttribute("cx", e),
                    i.setAttribute("cy", t),
                    i.setAttribute("r", "" + n),
                    i.classList.add(M.da("_link_curve_dot")),
                    A.appendChild(i),
                    i
                }
                function r(e, t, n, i) {
                    var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2),
                    50 + Math.abs(n - e) / 10)
                      , r = 0
                      , o = 0;
                    e < n ? r = i > t ? 40 : -40 : e > n && (o = i > t ? 40 : -40);
                    var s = document.createElementNS(T, "path")
                      , l = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n - a) + " " + (i - o) + ", " + n + " " + i;
                    return s.setAttribute("d", l),
                    s
                }
                function o(e, t, n, i) {
                    var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2),
                    Math.abs(i - t) / 10 + 20);
                    e !== n && (a = 50);
                    var r = a + Math.abs(n - e) / 8
                      , o = 0
                      , s = 0;
                    e < n ? s = i > t ? 40 : -40 : e > n && (o = i > t ? 40 : -40);
                    var l = document.createElementNS(T, "path")
                      , d = "M" + e + " " + t + " C " + (e + r) + " " + (t + o) + ", " + (n + r) + " " + (i - s) + ", " + n + " " + i;
                    return l.setAttribute("d", d),
                    l
                }
                function s(e, t, n, i) {
                    var a = 18
                      , r = (50 + Math.abs(n - e) / 8,
                    0);
                    r = i > t ? 40 : -40;
                    var o = document.createElementNS(T, "path")
                      , s = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (e + a) + " " + t + ", " + (e + a) + " " + i;
                    return o.setAttribute("d", s),
                    o
                }
                function l(e, t, n, i) {
                    var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2),
                    100 + Math.abs(n - e) / 10)
                      , r = 40
                      , o = document.createElementNS(T, "path")
                      , s = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n + a) + " " + (i + r) + ", " + n + " " + i;
                    return o.setAttribute("d", s),
                    o
                }
                function d(e, t, n, i) {
                    var a = 40;
                    a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8);
                    var r = document.createElementNS(T, "path")
                      , o = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (n - a) + " " + i + ", " + n + " " + i;
                    return r.setAttribute("d", o),
                    r
                }
                function c(e, t, n, i) {
                    var a = 40;
                    a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8);
                    var r = document.createElementNS(T, "path")
                      , o = "M" + e + " " + t + " C " + (e - a) + " " + t + ", " + (n + a) + " " + i + ", " + n + " " + i;
                    return r.setAttribute("d", o),
                    r
                }
                function u(e, t, n, i) {
                    function a(e) {
                        return e > 1 ? 3 : 1.875 * e * e - 2.375 * e + 3.5
                    }
                    var r = document.createElementNS(T, "path")
                      , o = n - e
                      , s = i - t
                      , l = s / 7
                      , d = 2 * Math.abs(l)
                      , c = 3 * Math.abs(l);
                    c > Math.abs(o / 2) && (0 === o && Math.abs(s) < 45 ? (c = Math.min(20, c),
                    d = c) : c = Math.min(Math.abs(o / 2), c));
                    var u = .2
                      , h = 0
                      , f = Math.abs(o) / Math.abs(s)
                      , v = a(f);
                    v = 2.8,
                    0 === f && (v = 3.5);
                    var p = v * l;
                    if (f < 1) {
                        var m = Math.abs(s) - 2 * Math.abs(p)
                          , g = m / 2
                          , b = g / Math.abs(p);
                        u = .5,
                        u = b
                    }
                    var y = {
                        x: e,
                        y: t
                    }
                      , w = {
                        x: e + d,
                        y: t
                    }
                      , x = {
                        x: e + h + c,
                        y: t + (1 - u) * p
                    }
                      , k = {
                        x: e + h,
                        y: t + p
                    }
                      , C = {
                        x: e + o + c,
                        y: i - (1 + u) * p
                    }
                      , S = {
                        x: n - h,
                        y: i - p
                    }
                      , _ = {
                        x: n - h - d,
                        y: i
                    }
                      , E = {
                        x: n,
                        y: i
                    };
                    r.setAttribute("d", "M " + y.x + " " + y.y + " C " + w.x + " " + w.y + "," + x.x + " " + x.y + "," + k.x + " " + k.y + " S " + C.x + " " + C.y + "," + S.x + " " + S.y + " S " + _.x + " " + _.y + "," + E.x + " " + E.y);
                    return r
                }
                function h(e, t, n, i) {
                    var a = document.createElementNS(T, "path")
                      , r = n - e
                      , o = i - t
                      , s = o / 7
                      , l = 2 * Math.abs(s)
                      , d = 3 * Math.abs(s);
                    d > Math.abs(r / 2) && (0 === r && Math.abs(o) < 45 ? (d = Math.min(20, d),
                    l = d) : d = Math.min(Math.abs(r / 2), d));
                    var c = .2
                      , u = 0
                      , h = Math.abs(r) / Math.abs(o)
                      , f = 2.8;
                    0 === h && (f = 3.5);
                    var v = f * s;
                    if (h < 1) {
                        var p = Math.abs(o) - 2 * Math.abs(v)
                          , m = p / 2
                          , g = m / Math.abs(v);
                        c = .5,
                        c = g
                    }
                    var b = {
                        x: e,
                        y: t
                    }
                      , y = {
                        x: e - l,
                        y: t
                    }
                      , w = {
                        x: e - u - d,
                        y: t + (1 - c) * v
                    }
                      , x = {
                        x: e - u,
                        y: t + v
                    }
                      , k = {
                        x: e + r - d,
                        y: i - (1 + c) * v
                    }
                      , C = {
                        x: n + u,
                        y: i - v
                    }
                      , S = {
                        x: n + u + l,
                        y: i
                    }
                      , _ = {
                        x: n,
                        y: i
                    };
                    a.setAttribute("d", "M " + b.x + " " + b.y + " C " + y.x + " " + y.y + "," + w.x + " " + w.y + "," + x.x + " " + x.y + " S " + k.x + " " + k.y + "," + C.x + " " + C.y + " S " + S.x + " " + S.y + "," + _.x + " " + _.y);
                    return a
                }
                var f = P.Xo(e, i)
                  , v = P.Xo(t, i);
                if (!f)
                    return null;
                if (!v)
                    return null;
                var p, m, g = n.type || "FinishToStart";
                switch (g) {
                case "FinishToStart":
                    p = {
                        x: f.right,
                        y: f.top
                    },
                    m = {
                        x: v.left,
                        y: v.top
                    },
                    p.y > m.y && v.top + v.height > f.top && (m.y = p.y);
                    break;
                case "StartToFinish":
                    p = {
                        x: f.left,
                        y: f.top
                    },
                    m = {
                        x: v.right,
                        y: v.top
                    };
                    break;
                case "StartToStart":
                    p = {
                        x: f.left,
                        y: f.top
                    },
                    m = {
                        x: v.left,
                        y: v.top
                    };
                    break;
                case "FinishToFinish":
                    p = {
                        x: f.right,
                        y: f.top
                    },
                    m = {
                        x: v.right,
                        y: v.top
                    }
                }
                var b = {
                    "divs": [],
                    "props": n.Do || n,
                    "clear": function() {
                        var e = this;
                        C(e.divs),
                        e.divs.forEach(function(e) {
                            DayPilot.rfa(M.elements.links, e)
                        })
                    }
                }
                  , y = n.width || ("Auto" === M.linkWidth ? null : M.linkWidth)
                  , w = n.color
                  , x = n.style
                  , k = n.layer || M.linkLayer || "Above"
                  , S = "Above" === k
                  , _ = n.cssClass
                  , E = n.Zo ? M.da("_link_curve_mshadow") : null
                  , T = "http://www.w3.org/2000/svg";
                !function() {
                    var e = M.gm()
                      , t = M.hl;
                    if (!M.nav.svgLinksAbove) {
                        P.gp = {};
                        var n = document.createElementNS(T, "svg");
                        n.setAttribute("viewBox", "0 0 " + e + " " + t),
                        n.style.pointerEvents = "none",
                        n.style.position = "absolute",
                        n.style.left = "0",
                        n.style.top = "0",
                        n.style.width = e + "px",
                        n.style.height = t + "px",
                        M.divLinksAbove.appendChild(n),
                        M.nav.svgLinksAbove = n;
                        var i = P.hp("default")
                          , a = document.createElementNS(T, "defs")
                          , r = document.createElementNS(T, "marker");
                        r.setAttribute("id", i),
                        r.setAttribute("markerWidth", "6"),
                        r.setAttribute("markerHeight", "6"),
                        r.setAttribute("refX", "6"),
                        r.setAttribute("refY", "3"),
                        r.setAttribute("orient", "auto"),
                        r.setAttribute("markerUnits", "strokeWidth");
                        var o = document.createElementNS(T, "path");
                        o.setAttribute("d", "M3,1 L3,5 L6,3 z"),
                        o.classList.add(M.da("_link_curve_marker")),
                        r.appendChild(o),
                        a.appendChild(r),
                        n.appendChild(a),
                        M.nav.svgDefs = a,
                        M.nav.svgMarker = r
                    }
                    if (!M.nav.svgLinksBelow) {
                        var n = document.createElementNS(T, "svg");
                        n.setAttribute("width", e),
                        n.setAttribute("height", t),
                        n.style.pointerEvents = "none",
                        n.style.position = "absolute",
                        n.style.left = "0",
                        n.style.top = "0",
                        M.divLinksBelow.appendChild(n),
                        M.nav.svgLinksBelow = n
                    }
                }();
                var D, A = S ? M.nav.svgLinksAbove : M.nav.svgLinksBelow, H = f.height / 2, R = v.height / 2;
                if (p.x === m.x && p.y + H === m.y + R)
                    D = a(p.x, p.y + H);
                else if ("FinishToStart" === g)
                    if (p.x < m.x)
                        D = d(p.x, p.y + H, m.x, m.y + R);
                    else if (p.x === m.x) {
                        var B = 0;
                        p.y > m.y && (B = v.height),
                        D = s(p.x, p.y + H, m.x, m.y + B)
                    } else
                        D = p.y === m.y ? l(p.x, p.y + H, m.x, m.y + R) : u(p.x, p.y + H, m.x, m.y + R);
                else
                    "StartToFinish" === g ? D = p.x <= m.x ? p.y === m.y ? l(p.x, p.y + H, m.x, m.y + R) : h(p.x, p.y + H, m.x, m.y + R) : c(p.x, p.y + H, m.x, m.y + R) : "StartToStart" === g ? D = r(p.x, p.y + H, m.x, m.y + R) : "FinishToFinish" === g && (D = o(p.x, p.y + H, m.x, m.y + R));
                if (0 === D.classList.length && (D.setAttribute("style", "pointer-events: stroke"),
                D.setAttribute("marker-end", "url(#" + P.hp("default") + ")"),
                D.classList.add(M.da("_link_curve"))),
                _ || w || E) {
                    var N = [_, E].filter(Boolean)
                      , L = P.ip(w, N);
                    D.setAttribute("marker-end", "url(#" + L + ")")
                }
                var I = "circle" === D.tagName;
                if (_ && D.classList.add(_),
                E && D.classList.add(E),
                w && (I ? D.style.fill = w : D.style.stroke = w),
                y && !I && (D.style.strokeWidth = y),
                x && !I)
                    switch (x) {
                    case "dashed":
                        D.style.strokeDasharray = "5,3";
                        break;
                    case "dotted":
                        D.style.strokeDasharray = "2,2"
                    }
                if (P.ep(D, n),
                P.cp(D, n),
                P.bp(D, n),
                A.appendChild(D),
                n.text && "FinishToStart" === g) {
                    var z = DayPilot.guid();
                    D.setAttribute("id", z);
                    var O = document.createElementNS(T, "text");
                    O.setAttribute("transform", "translate(2, -4)"),
                    O.classList.add(M.da("_link_curve_text")),
                    _ && O.classList.add(_),
                    E && O.classList.add(E),
                    w && (O.style.fill = w);
                    var U = document.createElementNS(T, "textPath");
                    if (U.setAttribute("href", "#" + z),
                    U.textContent = n.text,
                    "center" === n.textAlignment)
                        U.setAttribute("startOffset", "50%"),
                        U.setAttribute("text-anchor", "middle");
                    else if ("end" === n.textAlignment) {
                        var j = 10
                          , W = D.getTotalLength()
                          , q = W - j;
                        U.setAttribute("startOffset", q),
                        U.setAttribute("text-anchor", "end")
                    }
                    O.appendChild(U),
                    A.appendChild(O),
                    b.divs.push(O)
                }
                return M.elements.links.push(D),
                b.divs.push(D),
                b
            }
            ,
            P._o = function(e, t, n, i) {
                var a = P.Xo(e, i)
                  , r = P.Xo(t, i);
                if (!a)
                    return null;
                if (!r)
                    return null;
                var o, s, l = n.type || "FinishToStart", d = n.width || ("Auto" === M.linkWidth ? null : M.linkWidth) || 1, c = M.eventHeight, u = M.linkBottomMargin, h = M.eventHeight / 2;
                switch (l) {
                case "FinishToStart":
                    o = {
                        x: a.right,
                        y: a.top
                    },
                    s = {
                        x: r.left,
                        y: r.top
                    },
                    o.y > s.y && (r.top + r.height > a.top ? s.y = o.y : o.x <= s.x && (s.y += r.height,
                    s.bottom = !0));
                    break;
                case "StartToFinish":
                    o = {
                        x: a.left,
                        y: a.top
                    },
                    s = {
                        x: r.right,
                        y: r.top
                    };
                    break;
                case "StartToStart":
                    o = {
                        x: a.left,
                        y: a.top
                    },
                    s = {
                        x: r.left,
                        y: r.top
                    };
                    break;
                case "FinishToFinish":
                    o = {
                        x: a.right,
                        y: a.top
                    },
                    s = {
                        x: r.right,
                        y: r.top
                    }
                }
                var f = [];
                if ("FinishToStart" === l)
                    if (o.y !== s.y || o.x !== s.x || s.bottom)
                        if (o.y > s.y || o.y == s.y && s.bottom)
                            if (o.x <= s.x) {
                                var v = o.x
                                  , p = o.y + c - u
                                  , m = s.x + h
                                  , g = s.y;
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": v,
                                    "startY": p,
                                    "endX": m,
                                    "endY": p
                                }),
                                f.push({
                                    "type": "VerticalLine",
                                    "startX": m,
                                    "startY": p + d,
                                    "endX": m,
                                    "endY": g
                                }),
                                f.push({
                                    "type": o.y < s.y ? "ArrowDown" : "ArrowUp",
                                    "startX": m,
                                    "startY": g,
                                    "endX": m,
                                    "endY": g
                                })
                            } else {
                                var b = 5
                                  , y = s.y + c + b;
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": o.x,
                                    "startY": o.y + c - u,
                                    "endX": o.x + h + d,
                                    "endY": o.y + c - u
                                }),
                                f.push({
                                    "type": "VerticalLine",
                                    "startX": o.x + h,
                                    "startY": o.y + c - u,
                                    "endX": o.x + h,
                                    "endY": y
                                }),
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": s.x - h,
                                    "startY": y,
                                    "endX": o.x + h + d,
                                    "endY": y
                                }),
                                f.push({
                                    "type": "VerticalLine",
                                    "startX": s.x - h,
                                    "startY": y,
                                    "endX": s.x - h,
                                    "endY": s.y + c - u
                                }),
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": s.x - h,
                                    "startY": s.y + c - u,
                                    "endX": s.x - h + h,
                                    "endY": s.y + c - u
                                }),
                                f.push({
                                    "type": "ArrowRight",
                                    "startX": s.x,
                                    "startY": s.y + c - u,
                                    "endX": s.x,
                                    "endY": s.y + c - u
                                })
                            }
                        else if (o.y === s.y)
                            if (o.x < s.x) {
                                var v = o.x
                                  , p = o.y + c - u
                                  , m = s.x;
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": v,
                                    "startY": p,
                                    "endX": m,
                                    "endY": p
                                }),
                                f.push({
                                    "type": "ArrowRight",
                                    "startX": s.x,
                                    "startY": s.y + c - u,
                                    "endX": s.x,
                                    "endY": s.y + c - u
                                })
                            } else {
                                var b = 5
                                  , y = s.y + c + b;
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": o.x,
                                    "startY": o.y + c - u,
                                    "endX": o.x + h + d,
                                    "endY": o.y + c - u
                                }),
                                f.push({
                                    "type": "VerticalLine",
                                    "startX": o.x + h,
                                    "startY": o.y + c - u,
                                    "endX": o.x + h,
                                    "endY": y
                                }),
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": s.x - h,
                                    "startY": y,
                                    "endX": o.x + h + d,
                                    "endY": y
                                }),
                                f.push({
                                    "type": "VerticalLine",
                                    "startX": s.x - h,
                                    "startY": y,
                                    "endX": s.x - h,
                                    "endY": s.y + c - u
                                }),
                                f.push({
                                    "type": "HorizontalLine",
                                    "startX": s.x - h,
                                    "startY": s.y + c - u,
                                    "endX": s.x,
                                    "endY": s.y + c - u
                                }),
                                f.push({
                                    "type": "ArrowRight",
                                    "startX": s.x,
                                    "startY": s.y + c - u,
                                    "endX": s.x,
                                    "endY": s.y + c - u
                                })
                            }
                        else if (o.x > s.x) {
                            var w = 5
                              , y = s.y - w;
                            f.push({
                                "type": "HorizontalLine",
                                "startX": o.x,
                                "startY": o.y + c - u,
                                "endX": o.x + h,
                                "endY": o.y + c - u
                            }),
                            f.push({
                                "type": "VerticalLine",
                                "startX": o.x + h,
                                "startY": o.y + c - u,
                                "endX": o.x + h,
                                "endY": y + d
                            }),
                            f.push({
                                "type": "HorizontalLine",
                                "startX": s.x - h,
                                "startY": y,
                                "endX": o.x + h,
                                "endY": y
                            }),
                            f.push({
                                "type": "VerticalLine",
                                "startX": s.x - h,
                                "startY": y,
                                "endX": s.x - h,
                                "endY": s.y + c - u
                            }),
                            f.push({
                                "type": "HorizontalLine",
                                "startX": s.x - h,
                                "startY": s.y + c - u,
                                "endX": s.x - h + h,
                                "endY": s.y + c - u
                            }),
                            f.push({
                                "type": "ArrowRight",
                                "startX": s.x,
                                "startY": s.y + c - u,
                                "endX": s.x,
                                "endY": s.y + c - u
                            })
                        } else {
                            var v = o.x
                              , p = o.y + c - u
                              , m = s.x + h
                              , g = s.y;
                            f.push({
                                "type": "HorizontalLine",
                                "startX": v,
                                "startY": p,
                                "endX": m,
                                "endY": p
                            }),
                            f.push({
                                "type": "VerticalLine",
                                "startX": m,
                                "startY": p,
                                "endX": m,
                                "endY": g
                            }),
                            f.push({
                                "type": o.y < s.y ? "ArrowDown" : "ArrowUp",
                                "startX": m,
                                "startY": g,
                                "endX": m,
                                "endY": g
                            })
                        }
                    else {
                        var m = o.x
                          , g = o.y + c - u;
                        f.push({
                            "type": "Dot",
                            "startX": m,
                            "startY": g,
                            "endX": m,
                            "endY": g
                        })
                    }
                else if ("StartToFinish" === l) {
                    var w = 5
                      , y = s.y - w;
                    f.push({
                        "type": "HorizontalLine",
                        "startX": s.x,
                        "startY": s.y + c - u,
                        "endX": s.x + h + d,
                        "endY": s.y + c - u
                    }),
                    f.push({
                        "type": "VerticalLine",
                        "startX": s.x + h,
                        "startY": s.y + c - u,
                        "endX": s.x + h,
                        "endY": y
                    }),
                    f.push({
                        "type": "HorizontalLine",
                        "startX": o.x - h,
                        "startY": y,
                        "endX": s.x + h + d,
                        "endY": y
                    }),
                    f.push({
                        "type": "VerticalLine",
                        "startX": o.x - h,
                        "startY": y,
                        "endX": o.x - h,
                        "endY": o.y + c - u
                    }),
                    f.push({
                        "type": "HorizontalLine",
                        "startX": o.x - h,
                        "startY": o.y + c - u,
                        "endX": o.x,
                        "endY": o.y + c - u
                    }),
                    f.push({
                        "type": "ArrowLeft",
                        "startX": s.x,
                        "startY": s.y + c - u,
                        "endX": s.x,
                        "endY": s.y + c - u
                    })
                } else if ("StartToStart" === l) {
                    var x = Math.min(o.x, s.x) - h;
                    f.push({
                        "type": "HorizontalLine",
                        "startX": x,
                        "startY": o.y + c - u,
                        "endX": o.x,
                        "endY": o.y + c - u
                    }),
                    f.push({
                        "type": "VerticalLine",
                        "startX": x,
                        "startY": o.y + c - u,
                        "endX": x,
                        "endY": s.y + c - u
                    }),
                    f.push({
                        "type": "HorizontalLine",
                        "startX": x,
                        "startY": s.y + c - u,
                        "endX": s.x,
                        "endY": s.y + c - u
                    }),
                    f.push({
                        "type": "ArrowRight",
                        "startX": s.x,
                        "startY": s.y + c - u,
                        "endX": s.x,
                        "endY": s.y + c - u
                    })
                } else if ("FinishToFinish" === l) {
                    var k = Math.max(s.x, o.x) + h;
                    f.push({
                        "type": "HorizontalLine",
                        "startX": o.x,
                        "startY": o.y + c - u,
                        "endX": k,
                        "endY": o.y + c - u
                    }),
                    f.push({
                        "type": "VerticalLine",
                        "startX": k,
                        "startY": o.y + c - u,
                        "endX": k,
                        "endY": c - u + s.y + d
                    }),
                    f.push({
                        "type": "HorizontalLine",
                        "startX": s.x,
                        "startY": s.y + c - u,
                        "endX": k,
                        "endY": s.y + c - u
                    }),
                    f.push({
                        "type": "ArrowLeft",
                        "startX": s.x,
                        "startY": s.y + c - u,
                        "endX": s.x,
                        "endY": s.y + c - u
                    })
                }
                return f
            }
            ,
            P.vj = function() {
                M.divLinkShadow.innerHTML = "",
                M.elements.linkshadow = []
            }
            ,
            P.rj = function(e, t) {
                P.vj();
                var n = M.divLinkShadow
                  , i = DayPilot.line(e.x, e.y, t.x, t.y, {
                    "arrow": !0,
                    "cssClass": M.da("_link_shadow")
                });
                n.appendChild(i),
                M.elements.linkshadow.push(i)
            }
            ,
            this.Jo = function(e, t) {
                var n = {};
                n.from = e.from,
                n.to = e.to,
                n.type = e.type,
                M.Ma("LinkCreate", n, t)
            }
            ,
            this.Lo = function(e, t) {
                var n = {};
                n.from = e.from,
                n.to = e.to,
                n.type = e.type,
                M.Ma("LinkCreate", n, t, "Notify")
            }
            ,
            this.Ko = function(e, t) {
                var n = {};
                n.from = e.from,
                n.to = e.to,
                n.type = e.type,
                M.Ka("LinkCreate", n, t)
            }
            ,
            this.jp = function(e, t) {
                var n = 0
                  , i = 0
                  , a = 0
                  , r = M.uo(t)
                  , o = r.rowlist;
                if (e > o.length - 1)
                    throw new DayPilot.Exception("Row index too high");
                for (var s = 0; s <= e; s++) {
                    var l = o[s];
                    l.hidden || (i += l.height,
                    a++)
                }
                n = i - l.height;
                var d = {};
                return d.top = n,
                d.height = l.height,
                d.bottom = i,
                d.i = a - 1,
                d.data = l,
                d
            }
            ,
            this.vh = function() {
                return !!this.backendUrl
            }
            ,
            this.events.find = function(e) {
                if (!M.events.list || "undefined" == typeof M.events.list.length)
                    return null;
                if ("function" == typeof e)
                    return M.kp(e);
                for (var t = M.events.list.length, n = 0; n < t; n++)
                    if (M.events.list[n].id === e)
                        return new DayPilot.Event(M.events.list[n],M);
                return null
            }
            ,
            this.events.findAll = function(e) {
                if ("function" == typeof e) {
                    for (var t = M.events.list.length, n = [], i = 0; i < t; i++) {
                        var a = new DayPilot.Event(M.events.list[i],M);
                        e(a) && n.push(a)
                    }
                    return n
                }
                if ("object" == typeof e)
                    return M.events.findAll(function(t) {
                        for (var n in e)
                            if (e[n] !== t.data[n])
                                return !1;
                        return !0
                    });
                throw new DayPilot.Exception("function or object argument expected")
            }
            ,
            this.kp = function(e) {
                for (var t = M.events.list.length, n = 0; n < t; n++) {
                    var i = new DayPilot.Event(M.events.list[n],M);
                    if (e(i))
                        return i
                }
                return null
            }
            ,
            this.events.focus = function(e) {
                var t = M.lp(e);
                t && t.focus()
            }
            ,
            this.events.scrollIntoView = function(e) {
                if (M.lp(e)) {
                    var t = e.start()
                      , n = M.getViewPort();
                    !d(n.start, n.end, e.start(), e.end()) && d(M.Rb(), M.ce(), e.start(), e.end()) && M.scrollTo(t, "fast", "middle");
                    var i = e.resource();
                    M.getViewPort().resources.indexOf(i) === -1 && M.scrollToResource(i)
                }
            }
            ,
            this.events.all = function() {
                for (var e = [], t = 0; t < M.events.list.length; t++) {
                    var n = new DayPilot.Event(M.events.list[t],M);
                    e.push(n)
                }
                return x(e)
            }
            ,
            this.events.forRange = function(e, t) {
                function n(e, t) {
                    for (var n = M.mp, i = [], a = 0; a < n.length; a++) {
                        var r = n[a];
                        if (r.end <= e || r.start >= t || i.push(n[a]),
                        r.start > t)
                            break
                    }
                    return i
                }
                e = e ? new DayPilot.Date(e) : M.visibleStart(),
                t = t ? new DayPilot.Date(t) : M.visibleEnd();
                var i = M.events.list
                  , a = n(e.getTime(), t.getTime())
                  , r = [];
                return a.forEach(function(e) {
                    r.push(new DayPilot.Event(i[e.i],M))
                }),
                r
            }
            ,
            this.events.filter = function(e, t) {
                M.events.Yg = e,
                !t && M.Aa && M.Jd({
                    "eventsOnly": !0
                })
            }
            ,
            this.events.edit = function(e) {
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e));
                var t = i.np;
                if (t) {
                    if (M.Gd(t.event, e))
                        return;
                    Q.pp(),
                    Q.qp = !0,
                    i.np.blur()
                }
                !x(M.events.rp.rows).isEmpty() && (Q.qp = !0,
                M.events.En({
                    "dontResetFocus": !0
                })),
                Q.qp = !1;
                var n = M.bh(e);
                return n ? (Q.pp(),
                void M.Yb(n)) : void Q.$n()
            }
            ,
            this.events.load = function(e, t, n) {
                if (!e)
                    throw new DayPilot.Exception("events.load(): 'url' parameter required");
                var i = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , a = function(e) {
                    var n, a = e.request;
                    try {
                        n = JSON.parse(a.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void i(r)
                    }
                    if (_(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        M.events.list = o.data,
                        M.Aa && M.update()
                    }
                };
                if (M.eventsLoadMethod && "POST" === M.eventsLoadMethod.toUpperCase())
                    DayPilot.ajax({
                        "method": "POST",
                        "contentType": "application/json",
                        "data": {
                            "start": M.visibleStart().toString(),
                            "end": M.visibleEnd().toString()
                        },
                        "url": e,
                        "success": a,
                        "error": i
                    });
                else {
                    var r = e
                      , o = "start=" + M.visibleStart().toString() + "&end=" + M.visibleEnd().toString();
                    r += r.indexOf("?") > -1 ? "&" + o : "?" + o,
                    DayPilot.ajax({
                        "method": "GET",
                        "url": r,
                        "success": a,
                        "error": i
                    })
                }
            }
            ,
            this.events.findRecurrent = function(e, t) {
                if (!M.events.list || "undefined" == typeof M.events.list.length)
                    return null;
                for (var n = M.events.list.length, i = 0; i < n; i++)
                    if (M.events.list[i].recurrentMasterId === e && M.events.list[i].start.getTime() === t.getTime())
                        return new DayPilot.Event(M.events.list[i],M);
                return null
            }
            ,
            this.events.Vm = function(e) {
                var t = [];
                M.Am().forEach(function(n) {
                    if (!n.isNewRow) {
                        M.Bm(n.index, n.grid);
                        for (var i = 0; i < n.events.length; i++) {
                            var a = n.events[i].data;
                            if (M.Gd(a, e)) {
                                t.push(n),
                                n.events.splice(i, 1);
                                break
                            }
                        }
                    }
                });
                var n = "_" + e.id;
                return M.Ro[n] = null,
                t
            }
            ,
            this.events.Uo = function(e) {
                if (!e)
                    return null;
                for (var t = M.Am(), n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (!i.hidden && !i.isNewRow) {
                        M.Bm(i.index, i.grid);
                        var a = i.blocks.find(function(t) {
                            return !t.expanded && (!!t.events.find(function(t) {
                                return !!M.Gd(t.data, e)
                            }) || void 0)
                        });
                        if (a)
                            return a;
                        for (var r = 0; r < i.events.length; r++) {
                            var o = i.events[r];
                            if (M.Gd(o.data, e))
                                return i.events[r]
                        }
                    }
                }
                return null
            }
            ,
            this.events.Wm = function(e) {
                var t = []
                  , n = M.sp() || "Days" === M.viewType
                  , i = "_" + e.id;
                if (!M.temp.allowDuplicateEventIds && M.Ro[i])
                    throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + i);
                M.Ro[i] = {};
                var a = S(M.events.list, e);
                M.Cg(a);
                var r = M.Am()
                  , o = !1;
                return r.forEach(function(r) {
                    if (!o && !r.isNewRow) {
                        M.Bm(r.index, r.grid);
                        var s = M.tp(e, r, a);
                        s && (M.Ro[i].So = s,
                        "function" == typeof M.onBeforeEventRender && (s.cache = M.wa.events[a]),
                        s.up = a,
                        t.push(r),
                        n || (o = !0))
                    }
                }),
                t
            }
            ,
            this.Gd = function(e, t) {
                return DayPilot.Util.isSameEvent(e, t)
            }
            ,
            this.events.update = function(e, t, n) {
                var i = function(e) {
                    var t = Q.Nk;
                    if (t && "event" === t.type) {
                        M.Gd(t.event.data, e) && (t.event = M.events.Uo(e))
                    }
                }
                  , r = e instanceof DayPilot.Event;
                if ("object" == typeof e && !r) {
                    var o = M.events.find(e.id);
                    return M.events.remove(o),
                    M.events.add(e),
                    void i(e)
                }
                var s = {};
                s.oldEvent = new DayPilot.Event(e.copy(),M),
                s.newEvent = new DayPilot.Event(e.temp(),M);
                var n = n || {}
                  , l = new DayPilot.Action(M,"EventUpdate",s,t);
                if (x(M.events.list).find(function(t) {
                    return M.Gd(t, e.data)
                })) {
                    if (M.ch.scope)
                        M.ch.notify(function() {
                            e.commit()
                        });
                    else if (M.Ol.vp && (M.Ol.skip = !0),
                    (M.eventUpdateInplaceOptimization || n.inplace) && s.oldEvent.resource() === s.newEvent.resource() && s.oldEvent.start() === s.newEvent.start() && s.oldEvent.end() === s.newEvent.end()) {
                        e.commit(),
                        M.wp();
                        var d = M.bh(e);
                        if (d) {
                            var c = d.event.part;
                            M.Ne(d),
                            DayPilot.rfa(M.elements.events, d),
                            e.part = c
                        } else
                            a("Old div not found");
                        var u = M.events.Vm(e.data);
                        u = u.concat(M.events.Wm(e.data)),
                        M.Xm(u);
                        var h = M.events.Uo(e.data);
                        h && M.Re(h),
                        M.xp()
                    } else {
                        var u = M.events.Vm(e.data);
                        e.commit(),
                        u = u.concat(M.events.Wm(e.data)),
                        M.wp(),
                        M.events.yp(u)
                    }
                    return i(e.data),
                    l
                }
            }
            ,
            this.events.remove = function(e, t) {
                if (e) {
                    if ("string" == typeof e || "number" == typeof e) {
                        var n = M.events.find(e);
                        return void M.events.remove(n)
                    }
                    var i = {};
                    i.e = new DayPilot.Event(e.data,M);
                    var a = new DayPilot.Action(M,"EventRemove",i,t)
                      , r = M.$k(e.data);
                    if (r) {
                        M.events.list.splice(r.index, 1);
                        var o = "_" + e.data.id;
                        M.Ro[o] = null
                    }
                    if (M.ch.scope)
                        M.ch.notify();
                    else {
                        M.Ol.vp && (M.Ol.skip = !0);
                        var s = M.events.Vm(e.data);
                        if (M.eventUpdateInplaceOptimization && 1 === s.length && !M.events.Uc(e)) {
                            M.zp(s[0]),
                            M.wp();
                            var l = M.bh(e);
                            if (l) {
                                var d = M.elements.events.indexOf(l);
                                M.elements.events.splice(d, 1),
                                M.Ne(l),
                                M.xp()
                            }
                        } else
                            M.events.yp(s)
                    }
                    return a
                }
            }
            ,
            this.events.add = function(e, t, n) {
                var n = n || {}
                  , i = n.renderOnly;
                e instanceof DayPilot.Event || (e = new DayPilot.Event(e)),
                e.calendar = M,
                M.events.list || (M.events.list = []);
                var a = M.$k(e);
                if (i) {
                    if (!a)
                        throw new DayPilot.Exception("Unexpected: event not found in list")
                } else {
                    if (a && !M.temp.allowDuplicateEventIds)
                        throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");
                    a || M.events.list.push(e.data)
                }
                var r = new DayPilot.Action(M,"EventAdd",o,t);
                if (!M.Aa)
                    return r;
                if (M.ch.scope)
                    M.ch.notify();
                else {
                    M.Ol.vp && (M.Ol.skip = !0);
                    var o = {};
                    o.e = e;
                    var s = M.events.Wm(e.data)
                      , l = e.data.height || M.eventHeight;
                    if (M.eventUpdateInplaceOptimization && 1 === s.length && !M.events.Uc(e) && l <= M.eventHeight && !M.eventVersionsEnabled) {
                        var d = s[0];
                        M.zp(d),
                        M.wp();
                        var c = d.events.find(function(t) {
                            return t.data === e.data
                        });
                        c.part.top = 0,
                        c.part.height = l,
                        c.part.line = 0,
                        M.Re(c),
                        M.xp(),
                        Q.un()
                    } else
                        M.events.yp(s)
                }
                return r
            }
            ,
            this.events.Uc = function(e) {
                var t = e instanceof DayPilot.Event ? e.data : e
                  , n = new DayPilot.Date(t.start)
                  , i = new DayPilot.Date(t.end);
                return !!x(M.events.list).find(function(e) {
                    return !M.Gd(t, e) && (t.resource === e.resource && d(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end)))
                })
            }
            ,
            this.events.addByData = function(e) {
                M.events.add(new DayPilot.Event(e))
            }
            ,
            this.events.removeByData = function(e) {
                var t = M.events.find(e.id);
                if (!t)
                    throw new DayPilot.Exception("The event to be removed was not found");
                M.events.remove(t)
            }
            ,
            this.events.updateByData = function(e) {
                var t = M.events.find(e.id);
                if (!t)
                    throw new DayPilot.Exception("The event to be updated was not found");
                M.events.remove(t),
                M.events.add(new DayPilot.Event(e))
            }
            ,
            this.events.removeById = function(e) {
                var t = M.events.find(e);
                if (!t)
                    throw new DayPilot.Exception("The event to be removed was not found");
                M.events.remove(t)
            }
            ,
            this.events.rp = {
                "rows": []
            },
            this.events.Ap = null,
            this.events.kn = function() {
                clearTimeout(M.events.Ap),
                M.events.Ap = null,
                M.events.rp.rows = []
            }
            ,
            this.events.Bp = 0,
            this.events.yp = function(e) {
                var t = M.events.rp.rows;
                x(e).forEach(function(e) {
                    t.push(e)
                }),
                M.events.rp.rows = DayPilot.ua(t);
                var n = function() {
                    M.wp(),
                    M.events.En()
                };
                M.events.Ap || (M.events.Ap = setTimeout(n, M.events.Bp))
            }
            ,
            this.events.En = function(e) {
                e = e || {},
                clearTimeout(M.events.Ap),
                M.events.Ap = null;
                var t = M.events.rp.rows;
                M.events.rp.rows = [],
                M.Xm(t),
                M.Ym(),
                M.Aa && ("Gantt" === M.viewType ? M.update() : (M.zn && M.zl(),
                M.yb(),
                M.Zm(t),
                M.xp(),
                e.dontResetFocus || Q.un()))
            }
            ,
            this.Ol = {},
            this.Ol.enabled = !1,
            this.Ol.skip = !1,
            this.Ol.skipUpdate = function() {
                return M.Ol.skip
            }
            ,
            this.Ol.skipped = function() {
                M.Ol.skip = !1
            }
            ,
            this.Ol.Cp = !1,
            this.Ol.vp = !1,
            this.X = {},
            this.X.reactDOM = null,
            this.X.react = null,
            this.X.W = function(e, t) {
                var n = M.X.reactDOM;
                if ("function" == typeof n.createRoot) {
                    var i = t.na;
                    i || (i = n.createRoot(t),
                    t.na = i),
                    i.render(e)
                } else
                    n.render(e, t)
            }
            ,
            this.X.la = function(e) {
                var t = M.X.reactDOM;
                if ("function" == typeof t.createRoot) {
                    var n = e.na;
                    setTimeout(function() {
                        n.unmount(),
                        e.na = null
                    }, 0)
                } else
                    t.unmountComponentAtNode(e)
            }
            ,
            this.Z = {},
            this.Z.Ke = null,
            this.Z._ = function(e, t, n) {
                var i = M.Z.Ke;
                if ("function" == typeof i.createVNode && "function" == typeof i.render) {
                    var a = i.createVNode(e, n);
                    i.render(a, t)
                }
            }
            ,
            this.Z.Me = function(e, t) {
                var n = M.Z.Ke;
                if ("function" == typeof n.render) {
                    var i = e;
                    _(e) && (i = n.h("div", null, e)),
                    n.render(i, t)
                }
            }
            ,
            this.Z.ma = function(e) {
                var t = M.Z.Ke;
                "function" == typeof t.render && t.render(null, e)
            }
            ,
            this.queue = {},
            this.queue.list = [],
            this.queue.list.ignoreToJSON = !0,
            this.queue.add = function(e) {
                if (e) {
                    if (!e.isAction)
                        throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                    M.queue.list.push(e)
                }
            }
            ,
            this.queue.notify = function(e) {
                var t = {};
                t.actions = M.queue.list,
                M.Ma("Notify", t, e, "Notify"),
                M.queue.list = []
            }
            ,
            this.queue.clear = function() {
                M.queue.list = []
            }
            ,
            this.queue.pop = function() {
                return M.queue.list.pop()
            }
            ,
            this.cells.find = function(e, t) {
                var n = M.Dp(e, t);
                return n ? this.findXy(n.x, n.y, n.grid) : N()
            }
            ,
            this.cells.findByPixels = function(e, t) {
                var n = M.Km(e);
                if (!n)
                    return N();
                var e = n.x
                  , i = M.io(t);
                if (!i)
                    return N();
                var t = i.i;
                return this.findXy(e, t)
            }
            ,
            this.cells.all = function() {
                for (var e = [], t = M.itline.length, n = M.rowlist.length, i = 0; i < t; i++)
                    for (var a = 0; a < n; a++) {
                        var r = M.cells.findXy(i, a);
                        e.push(r[0])
                    }
                return N(e)
            }
            ,
            this.cells.me = function(e, t, n) {
                n = n || "main";
                var i = M.Sl[n]
                  , a = i.rowlist
                  , r = M.Qm(e)
                  , o = a[t];
                if (!r)
                    return null;
                if (!o)
                    return null;
                var s = o.start.getTime() - M.Rb().getTime()
                  , l = r.start.addTime(s)
                  , d = r.end.addTime(s)
                  , c = {};
                c.x = e,
                c.y = t,
                c.grid = n,
                c.displayY = o.displayY,
                c.i = n + "_" + e + "_" + t,
                !o.id,
                c.resource = o.id,
                function() {
                    var e;
                    Object.defineProperty(c, "row", {
                        get: function() {
                            return e || (e = new DayPilot.Row(o,M)),
                            e
                        }
                    })
                }(),
                c.start = l,
                c.end = d,
                c.calendar = M,
                c.isParent = !(!o.children || !o.children.length),
                c.update = function() {
                    if (!a[c.y].hidden) {
                        var e = M.wa.cells[c.i];
                        M.Ep(e);
                        var t = M.rd();
                        t.xStart <= c.x && c.x <= t.xEnd && t.yStart <= c.y && c.y <= t.yEnd && M.Ye(c.x, c.y, c.grid)
                    }
                }
                ,
                c.utilization = function(e) {
                    return o.isNewRow ? 0 : (o.sections || o.Fp(),
                    o.sections.forRange(l, d).maxSum(e))
                }
                ,
                c.events = function() {
                    return o.events.forRange(l, d)
                }
                ,
                c.div = M.wa.cells[c.i];
                var u = M.Gp(e, t, n);
                return c.properties = u,
                c
            }
            ,
            this.cells.findXy = function(e, t, n) {
                if (n = n || "main",
                _(e)) {
                    for (var i = [], a = 0; a < e.length; a++) {
                        var r = e[a];
                        i.push(M.cells.me(r.x, r.y, n))
                    }
                    return N(i)
                }
                return null === e || null === t ? N() : N(M.cells.me(e, t, n))
            }
            ,
            this.Dp = function(e, t) {
                var n;
                if (n = t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : M.Vl(t),
                !n)
                    return null;
                if (!M.itline || 0 === M.itline.length)
                    return null;
                var i = n.start.getTime() - M.Rb().getTime()
                  , a = new DayPilot.Date(e).addTime(-i)
                  , r = M.getPixels(a);
                if (!r)
                    return null;
                if (null === r.i)
                    return null;
                var o = {};
                return o.x = r.i,
                o.y = n.index,
                o.grid = n.grid,
                o
            }
            ,
            this.Hp = function(e) {
                var t = x();
                if (_(e))
                    for (var n = 0; n < e.length; n++)
                        t.push(e[n]);
                else
                    "object" == typeof e && e && t.push(e);
                return t.cssClass = function(e) {
                    return this.forEach(function(t) {
                        t.properties.cssClass = DayPilot.Util.addClassToString(t.properties.cssClass, e),
                        t.update()
                    }),
                    this
                }
                ,
                t.removeClass = function(e) {
                    return this.forEach(function(t) {
                        t.properties.cssClass = DayPilot.Util.removeClassFromString(t.properties.cssClass, e),
                        t.update()
                    }),
                    this
                }
                ,
                t.addClass = t.cssClass,
                t.html = function(e) {
                    return this.forEach(function(t) {
                        t.properties.html = e,
                        t.update()
                    }),
                    this
                }
                ,
                t.invalidate = function() {
                    return this.forEach(function(e) {
                        delete M.Dm[e.i]
                    }),
                    this
                }
                ,
                t
            }
            ;
            var N = this.Hp;
            this.ch = {},
            this.ch.scope = null,
            this.ch.notify = function(e) {
                M.ch.scope && DayPilot.Util.safeApply(M.ch.scope, e)
            }
            ,
            this.debug = new DayPilot.Debug(this),
            this.Ip = function(e) {
                if ("Days" !== M.viewType)
                    throw new DayPilot.Exception("Checking row start when viewType !== 'Days'");
                if (e.getTime() < M.visibleStart().getTime())
                    return M.visibleStart();
                for (var t = 0; t < M.rowlist.length; t++) {
                    var n = M.rowlist[t]
                      , i = n.element ? n.element.data : n.data
                      , a = i.start;
                    if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime())
                        return a
                }
                return null
            }
            ,
            this.Jp = function(e) {
                var t = M.Rb();
                if (e.ticks === t.ticks)
                    return e;
                var n = t;
                if (e.ticks < t.ticks) {
                    for (var i = this.itline[0].end.ticks - this.itline[0].start.ticks; n.ticks > e.ticks; )
                        n = n.addTime(-i);
                    return n
                }
                if ("Days" === M.viewType) {
                    var a = 0
                      , r = this.Mm(e.addTime(-0));
                    if (r.current)
                        return r.current.start.addTime(a);
                    if (r.past)
                        return r.previous.end.addTime(a);
                    throw new DayPilot.Exception("getBoxStart(): time not found")
                }
                var r = this.Mm(e);
                if (r.current)
                    return r.current.start;
                if (r.past)
                    return r.previous.end;
                if (r.hidden) {
                    var o = r.next.start.getTime() - e.getTime()
                      , s = r.next.end.getTime() - r.next.start.getTime()
                      , l = Math.ceil(o / s) * s;
                    return r.next.start.addTime(-l)
                }
                throw new DayPilot.Exception("getBoxStart(): time not found")
            }
            ,
            this.wo = function(e) {
                var t = this.io(M.coords.y, M.coords.grid)
                  , n = M.scaleManualLimitBeyond;
                if ("function" != typeof e.end)
                    throw new DayPilot.Exception("e.end function is not defined");
                if (!e.end())
                    throw new DayPilot.Exception("e.end() returns null");
                var a = DayPilot.DateUtil.diff(e.rawend(), e.start());
                a = f(a, 1);
                var r = $.Zg(a)
                  , o = e.data && "Milestone" === e.data.type
                  , s = M.eventHeight
                  , l = 0
                  , d = M.coords.x;
                if (o && (d += s / 2),
                n && "Manual" === M.scale && !M.eventMoveSkipNonBusiness) {
                    var c = function() {
                        var e = M.getDate(M.coords.x, !0, !0)
                          , t = e.addTime(-a)
                          , n = M.getPixels(t).boxLeft
                          , i = M.getPixels(e).boxRight
                          , e = Math.min(i, M.coords.x);
                        return e - n
                    }()
                      , u = Math.min(i.Kp ? i.Kp : 0, c);
                    d = M.coords.x - u
                }
                var h = i.Lp ? i.Lp.calendar : M
                  , v = 0
                  , p = "Days" === this.viewType || this.Kn()
                  , m = !e.part.external && h === M;
                if (p && m && (v = this.rowlist[e.part.dayIndex].start.getTime() - this.Rb().getTime()),
                r && !o && h === M) {
                    var g = M.Mm(e.start())
                      , b = !g.hidden && !g.past;
                    l = e.start().getTime() - this.Jp(e.start().addTime(-v)).addTime(v).getTime(),
                    b && (l = function(e, t) {
                        var n = M.Mp(M.Mm(e).current)
                          , i = M.Mp(M.Km(d).cell);
                        if (n > 1.2 * i) {
                            for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= i; )
                                t -= i;
                            t *= a
                        }
                        return t
                    }(e.start(), l))
                }
                h && h !== M && h.Np() !== M.Np() && (l = 0);
                var y = 0;
                if (!i.Op || "Manual" === M.scale && n || h !== M)
                    y = 0;
                else if (r) {
                    var w = e.start().addTime(-v)
                      , x = this.Jp(w);
                    y = i.Op.getTime() - x.getTime();
                    var k = 60 * M.Np() * 1e3;
                    y = Math.floor(y / k) * k
                } else
                    y = i.Op.getTime() - e.start().addTime(-v).getTime();
                if (this.eventMoveToPosition && (y = 0),
                o) {
                    var C = M.getDate(d, !0);
                    y = -((M.getDate(d + s / 2, !0).getTime() - C.getTime()) / 2)
                }
                var S = this.getDate(d, !0).addTime(-y).addTime(v);
                i.Pp && (S = e.start());
                var _ = M.snapToGrid;
                i.Om ? _ = _ && M.snapToGridEventMoving : i.Pp ? _ = _ && M.snapToGridEventResizing : i.Qp && (_ = _ && M.snapToGridTimeRangeSelecting),
                _ && (S = this.Jp(S.addTime(-v)).addTime(v)),
                S = S.addTime(l);
                var E = S.addTime(a)
                  , T = S
                  , D = E;
                if (p) {
                    T = S.addTime(-v),
                    D = T.addTime(a);
                    var A = t.element.data.start.getTime() - this.Rb().getTime();
                    if (S = T.addTime(A),
                    E = S.addTime(a),
                    E > t.element.data.end) {
                        var H = E.getTime() - t.element.data.end.getTime()
                          , v = t.element.start.getTime() - this.Rb().getTime();
                        D = E.addTime(-H).addTime(-v)
                    }
                }
                if (n && "Manual" === M.scale) {
                    var R = t.element.Rp();
                    if (E > R) {
                        var H = E.getTime() - R.getTime();
                        S = S.addTime(-H),
                        E = E.addTime(-H)
                    }
                    T = S.addTime(-v),
                    D = E.addTime(-v)
                }
                if (i.Om && M.eventMoveSkipNonBusiness) {
                    var B = t.i
                      , P = 0;
                    i.Op && (P = i.Op.addTime(v),
                    _ && (P = this.Jp(P.addTime(-v)).addTime(v)));
                    var N = !e.part.dayIndex
                      , L = 0;
                    N || (L = M.Sp(e.start(), P, e.part.dayIndex));
                    var a = M.Tp(e)
                      , I = M.getDate(d, !0);
                    _ && (I = M.getDate(d));
                    var u = M.Up(I, L, B, t.grid);
                    S = I.addTime(-u).addTime(v),
                    _ && (S = this.Jp(S.addTime(-v)).addTime(v)),
                    l = N ? 0 : M.Sp(this.Jp(e.start().addTime(-v)).addTime(v), e.start(), B, t.grid),
                    S = S.addTime(l),
                    S <= M.visibleStart() && (S = M.Vp(M.visibleStart(), B, t.grid).start),
                    E = M.Wp(S, a, B, t.grid),
                    E >= M.visibleEnd() && (E = M.Xp(M.visibleEnd(), B, t.grid).end,
                    S = E.addTime(-M.Up(E, a, B))),
                    T = S.addTime(-v),
                    D = E.addTime(-v)
                }
                var z = this.getPixels(T)
                  , O = this.getPixels(D)
                  , U = _ ? z.boxLeft : z.left
                  , j = _ && r ? O.boxRight - U : O.left - U;
                o && (j = s,
                U -= j / 2);
                var W = {};
                return W.top = t.top,
                W.left = U,
                W.row = t.element,
                W.rowIndex = t.i,
                W.grid = M.coords.grid,
                W.width = j,
                W.start = S,
                W.end = E,
                W.relativeY = M.coords.y - t.top,
                W
            }
            ,
            this.Yp = function(e, t) {
                var n = M.Mm(e)
                  , i = M.Mm(t)
                  , a = null
                  , r = 0;
                n.hidden && (a = e);
                for (var o = n.i; o <= i.i; o++) {
                    var s = M.itline[o];
                    a && a < s.start && (r += s.start.getTime() - a.getTime()),
                    a = s.end
                }
                return r
            }
            ,
            this.Wp = function(e, t, n, i) {
                i = i || "main";
                var a = t
                  , r = M.rowlist[n]
                  , o = r.data.start.getTime() - M.Rb().getTime()
                  , s = e.addTime(-o)
                  , l = M.Vp(s, n, i);
                if (!l)
                    throw new DayPilot.Exception("No next cell found");
                var d = S(M.itline, l);
                if (l.start > e)
                    ;
                else {
                    if (a -= l.end.getTime() - s.getTime(),
                    a <= 0)
                        return e.addTime(t);
                    d += 1
                }
                for (var c = d; c < M.itline.length; c++) {
                    var u = M.Gp(c, n, i)
                      , h = M.itline[c];
                    if (u.business) {
                        var f = h.start.addTime(o)
                          , v = h.end.addTime(o)
                          , p = v.getTime() - f.getTime();
                        if (a <= p)
                            return f.addTime(a);
                        a -= p
                    }
                }
                return M.itline[M.itline.length - 1].end.addTime(a)
            }
            ,
            this.Sp = function(e, t, n, i) {
                i = i || "main";
                var a = M.uo(i)
                  , r = a.rowlist
                  , o = r[n]
                  , s = o.data.start.getTime() - M.Rb().getTime()
                  , l = (M.Mm(e),
                e.addTime(-s))
                  , d = t.addTime(-s)
                  , c = M.Vp(l, n, i);
                if (!c)
                    throw new DayPilot.Exception("No next cell found");
                var u = 0
                  , h = S(M.itline, c);
                if (c.start <= d) {
                    if (t < c.end.addTime(s))
                        return c.start > l ? t.getTime() - c.start.addTime(s).getTime() : t.getTime() - e.getTime();
                    u += l > c.start ? c.end.getTime() - l.getTime() : c.end.getTime() - c.start.getTime(),
                    h += 1
                }
                for (var v = h; v < M.itline.length; v++) {
                    if (M.Gp(v, n, i).business) {
                        var p = M.itline[v]
                          , m = p.start.addTime(s)
                          , g = p.end.addTime(s)
                          , b = g.getTime() - m.getTime();
                        if (t < m)
                            return u;
                        if (t <= g)
                            return u += t.getTime() - m.getTime();
                        u += b
                    }
                }
                return u += f(0, t.getTime() - M.itline.last().end.addTime(s).getTime())
            }
            ,
            this.Tp = function(e) {
                if (e.part.duration) {
                    if (isNaN(e.part.duration))
                        throw new DayPilot.Exception("Unable to get calculated duration");
                    return e.part.duration
                }
                var t = e.part.dayIndex;
                return M.Sp(e.start(), e.rawend(), t)
            }
            ,
            this.Up = function(e, t, n, i) {
                i = i || "main";
                var a = 0
                  , r = t
                  , o = M.Mm(e);
                if (!o.current)
                    throw new DayPilot.Exception("Current cell not found.");
                var s = S(M.itline, o.current);
                if (M.Gp(s, n, i).business) {
                    if (e.addTime(-t) >= o.current.start)
                        return t
                } else if (0 === t || e.addTime(-t) >= o.current.start) {
                    var l = M.Vp(e, n, i);
                    if (l)
                        return e.getTime() - l.start.getTime();
                    var d = M.Xp(e, n, i);
                    return e.getTime() - d.start.getTime()
                }
                a += e.getTime() - o.current.start.getTime(),
                r -= e.getTime() - o.current.start.getTime(),
                s -= 1;
                for (var c = o.current.start; s >= 0; ) {
                    var o = M.itline[s];
                    c > o.end && (a += c.getTime() - o.end.getTime()),
                    c = o.start;
                    var u = o.end.getTime() - o.start.getTime();
                    if (M.Gp(s, n, i).business) {
                        if (r <= u)
                            return a += r;
                        a += u,
                        r -= u
                    } else
                        a += u;
                    s -= 1
                }
                return a + r
            }
            ,
            this.Xp = function(e, t, n) {
                n = n || "main";
                var i = M.Mm(e)
                  , a = 0;
                if (i.past)
                    return null;
                if (i.current)
                    a = i.i;
                else {
                    if (!i.previous)
                        return null;
                    a = S(M.itline, i.previous)
                }
                for (var r = a; r >= 0; r--) {
                    if (M.Mf(r, t, n))
                        return M.itline[r]
                }
                return null
            }
            ,
            this.Vp = function(e, t, n) {
                n = n || "main";
                var i = M.Mm(e)
                  , a = 0;
                if (i.past)
                    return null;
                if (i.current)
                    a = i.i;
                else {
                    if (!i.next)
                        return null;
                    a = S(M.itline, i.next)
                }
                for (var r = a; r < M.itline.length; r++) {
                    if (M.Mf(r, t, n))
                        return M.itline[r]
                }
                return null
            }
            ,
            this.Mf = function(e, t, n) {
                return n = n || "main",
                M.Gp(e, t, n).business
            }
            ,
            this.Np = function() {
                switch (this.scale) {
                case "CellDuration":
                    return this.cellDuration;
                case "Minute":
                    return 1;
                case "Hour":
                    return 60;
                case "Day":
                    return 1440;
                case "Week":
                    return 10080;
                case "Month":
                    return 43200;
                case "Year":
                    return 525600;
                case "Manual":
                    if (M.itline.length > 0) {
                        var e = M.itline[0];
                        return (e.end.getTime() - e.start.getTime()) / 6e4
                    }
                    return M.cellDuration
                }
                throw new DayPilot.Exception("can't guess cellDuration value")
            }
            ,
            this.Mp = function(e) {
                return e.end.ticks - e.start.ticks
            }
            ,
            this.xo = function(e, t) {
                return t = t || "main",
                !("main" !== t || !this.treePreventParentUsage || !this.Zp(e, t)) || !!this.$p(e, t)
            }
            ,
            this.Zp = function(e, t) {
                t = t || "main";
                var n = M.Sl[t]
                  , i = n.rowlist
                  , a = i[e];
                return !!a.isParent || !!(this.treeEnabled && a.children && a.children.length > 0)
            }
            ,
            this.$p = function(e, t) {
                t = t || "main";
                var n = M.Sl[t]
                  , i = n.rowlist
                  , a = i[e];
                return !!a.isNewRow || !!a.resource.preventUsage
            }
            ,
            this._p = {},
            this.aq = function() {
                if (M.treeAutoExpand) {
                    var e = this.wo(i.Lp)
                      , t = e.rowIndex
                      , n = this.Zp(t)
                      , a = this._p;
                    if (a.timeout && a.y !== t && (clearTimeout(a.timeout),
                    a.timeout = null,
                    a.y = null),
                    n) {
                        a.y = t;
                        var r = !M.rowlist[a.y].expanded;
                        !a.timeout && r && (a.timeout = setTimeout(function() {
                            !M.rowlist[a.y].expanded && (M.bq(a.y, {
                                "notAnimated": !0
                            }),
                            M.cq()),
                            a.timeout = null,
                            a.y = null
                        }, 500))
                    }
                }
            }
            ,
            this.dq = function() {
                clearTimeout(M._p.timeout),
                M._p.timeout = null,
                M._p.y = null
            }
            ,
            this.Uf = function() {
                var e = i.eq.width
                  , t = i.eq.left
                  , n = i.fq
                  , a = i.Pp.dpBorder
                  , r = M.rowlist[n.part.dayIndex]
                  , o = 0;
                o = r.start.getTime() - M.Rb().getTime();
                var s = null
                  , l = null
                  , d = M.snapToGrid && M.snapToGridEventResizing
                  , c = !d;
                "left" === a ? (s = M.getDate(t, c).addTime(o),
                l = n.rawend()) : "right" === a && (s = n.start(),
                l = M.getDate(t + e, c, !0).addTime(o)),
                i.eq.start = s,
                i.eq.end = l
            }
            ,
            this.exportAs = function(e, t) {
                if (!M.qg())
                    throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");
                var n = L.generate(e, t);
                return new DayPilot.Export(n)
            }
            ,
            this["export"] = this.exportAs,
            this.jh = {};
            var L = this.jh;
            L.lh = function() {
                var e = L.kh;
                switch (e) {
                case "viewport":
                    return M.nav.top.offsetWidth;
                case "full":
                    return M.gm() + L.getRowHeaderWidth();
                case "range":
                    return M.getPixels(L.getRangeEnd()).boxRight - M.getPixels(L.getRangeStart()).boxLeft + L.getRowHeaderWidth();
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            L.mh = function() {
                var e = L.kh;
                switch (e) {
                case "viewport":
                    return M.nav.top.offsetHeight - DayPilot.sh(M.nav.scroll) - 1;
                case "full":
                    return M.gq() + M.lm() - DayPilot.sh(M.nav.scroll);
                case "range":
                    var t = L.getRows();
                    if (0 === t.length)
                        return M.lm();
                    var n = t.first()
                      , i = t.last()
                      , a = L.hq(i) - L.hq(n) + i.height + M.lm();
                    return a += M.Sl.top.height,
                    a += M.Sl.bottom.height;
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            L.hq = function(e) {
                var t = L.B.includeHiddenRows ? e.absTop : e.top;
                return "bottom" === e.grid && ("viewport" === L.kh ? t += M.Sl.bottom.top - M.lm() : "full" === L.kh ? t += M.hl : "range" === L.kh && (t += L.mh() - M.lm() - M.Sl.bottom.height)),
                t
            }
            ,
            L.iq = function(e) {
                var t = L.getViewportOffsetTop();
                return "main" !== e.grid && (t = 0),
                t
            }
            ,
            L.getRangeStart = function() {
                var e = L.B.dateFrom || M.Rb();
                return new DayPilot.Date(e)
            }
            ,
            L.getRangeEnd = function() {
                var e = L.B.dateTo || M.ce();
                return new DayPilot.Date(e)
            }
            ,
            L.getRangeResStart = function() {
                return L.B.resourceFrom ? M.Vl(L.B.resourceFrom) : M.rowlist.find(function(e) {
                    return !e.hidden
                })
            }
            ,
            L.getRangeResEnd = function() {
                return L.B.resourceTo ? M.Vl(L.B.resourceTo) : M.rowlist.last()
            }
            ,
            L.getRowHeaderWidth = function() {
                return M.jm()
            }
            ,
            L.getTimeHeaderHeight = function() {
                return M.lm()
            }
            ,
            L.getCanvas = function() {
                return L.canvas()
            }
            ,
            L.getRectangles = function() {
                var e = L.getRowHeaderWidth()
                  , t = L.getTimeHeaderHeight()
                  , n = {};
                n.main = {
                    "x": 0,
                    "y": 0,
                    "w": L.lh(),
                    "h": L.mh()
                },
                n.corner = {
                    "x": 0,
                    "y": 0,
                    "w": e,
                    "h": t
                },
                n.grid = {
                    "x": e,
                    "y": t,
                    "w": L.lh() - e,
                    "h": L.mh() - t
                };
                var i = n.grid.w
                  , a = M.itline.last();
                a && a.left + a.width < n.grid.w && (i = a.left + a.width);
                var r = n.grid.h
                  , o = M.rowlist.last();
                return o && o.top + o.height < n.grid.h && (r = o.top + o.height),
                n.gridContent = {
                    "x": e,
                    "y": t,
                    "w": i,
                    "h": r
                },
                n
            }
            ,
            L.getRows = function() {
                var e, t, n, i, a = L.kh, r = x();
                switch (a) {
                case "viewport":
                    e = M.jq,
                    t = e + M.nav.scroll.offsetHeight,
                    n = M.io(e).i,
                    i = M.io(t).i;
                    break;
                case "full":
                    e = 0,
                    n = 0,
                    i = M.rowlist.length;
                    break;
                case "range":
                    var o = L.getRangeResStart()
                      , s = L.getRangeResEnd();
                    if (!o)
                        throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export.");
                    if (!s)
                        throw new DayPilot.Exception("Resource specified using resourceTo option not found during export.");
                    n = o.index,
                    i = s.index
                }
                i < M.rowlist.length && (i += 1);
                for (var l = n; l < i; l++) {
                    var d = M.rowlist[l];
                    !L.B.includeHiddenRows && d.hidden || r.push(d)
                }
                return r.offset = n,
                r
            }
            ,
            L.getRowsTop = function() {
                return M.Sl.top.rowlist
            }
            ,
            L.getRowsBottom = function() {
                return M.Sl.bottom.rowlist
            }
            ,
            L.getRowsAll = function() {
                var e = L.getRows();
                return e = e.concat(L.getRowsTop()),
                e = e.concat(L.getRowsBottom())
            }
            ,
            L.getRowsTopAndBottom = function() {
                var e = [];
                return e = e.concat(L.getRowsTop()),
                e = e.concat(L.getRowsBottom())
            }
            ,
            L.bottomFrozenY = function() {
                if (M.Sl.bottom.enabled()) {
                    if ("viewport" === L.kh)
                        return M.Sl.bottom.top;
                    if ("full" === L.kh)
                        return L.mh() - M.Sl.bottom.height;
                    if ("range" === L.kh)
                        return L.mh() - M.Sl.bottom.height
                }
                return L.mh()
            }
            ,
            L.getEvents = function() {
                var e = L.kh;
                switch (e) {
                case "full":
                    var t = x();
                    return x(M.rowlist).forEach(function(e) {
                        e.hidden || x(e.events).forEach(function(e) {
                            t.push(e)
                        })
                    }),
                    t;
                case "viewport":
                    return H.Ak().filter(function(e) {
                        return "main" === e.event.part.grid
                    }).map(function(e) {
                        return e.event
                    });
                case "range":
                    var t = x()
                      , n = L.getRangeStart()
                      , i = L.getRangeEnd();
                    return L.getRows().forEach(function(e) {
                        x(e.events).filter(function(e) {
                            return d(e.start(), e.end(), n, i)
                        }).forEach(function(e) {
                            t.push(e)
                        })
                    }),
                    t;
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            L.getEventsFrozen = function() {
                var e = L.kh;
                switch (e) {
                case "full":
                    var t = x();
                    return L.getRowsTopAndBottom().forEach(function(e) {
                        e.hidden || x(e.events).forEach(function(e) {
                            t.push(e)
                        })
                    }),
                    t;
                case "viewport":
                    return H.Ak().filter(function(e) {
                        return "main" !== e.event.part.grid
                    }).map(function(e) {
                        return e.event
                    });
                case "range":
                    var t = x()
                      , n = L.getRangeStart()
                      , i = L.getRangeEnd();
                    return L.getRowsTopAndBottom().forEach(function(e) {
                        x(e.events).filter(function(e) {
                            return d(e.start(), e.end(), n, i)
                        }).forEach(function(e) {
                            t.push(e)
                        })
                    }),
                    t;
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            L.getLinks = function() {
                if (_(M.links.list)) {
                    for (var e = [], t = 0; t < M.links.list.length; t++) {
                        var n = M.links.list[t]
                          , i = M.events.find(n.from)
                          , a = M.events.Uo(i && i.data)
                          , r = M.events.find(n.to)
                          , o = M.events.Uo(r && r.data)
                          , s = P._o(a, o, n, L.B.includeHiddenRows);
                        s && e.push(s)
                    }
                    return e
                }
            }
            ,
            L.getTimeline = function() {
                var e = L.kh;
                switch (e) {
                case "full":
                    return x(M.itline).addProps({
                        "offset": 0
                    });
                case "viewport":
                    return L.getViewportTimeline();
                case "range":
                    return L.getRangeTimeline();
                default:
                    throw new DayPilot.Exception("Unsupported export mode: " + e)
                }
            }
            ,
            L.getRangeTimeline = function() {
                var e = x();
                if (M.itline && M.itline.length > 0) {
                    var t = M.Mm(L.getRangeStart()).i
                      , n = M.Mm(L.getRangeEnd()).i
                      , i = M.kq();
                    n = Math.min(n, i - 1),
                    t = f(t, 0);
                    for (var a = t; a <= n; a++) {
                        var r = M.itline[a];
                        e.push(r)
                    }
                    e.offset = t
                }
                return e
            }
            ,
            L.getViewportTimeline = function() {
                var e = x();
                if (M.itline && M.itline.length > 0) {
                    var t = M.lq
                      , n = t + M.nav.scroll.offsetWidth
                      , i = M.Km(t).x
                      , a = M.Km(n, !0).x
                      , r = M.kq();
                    a = Math.min(a, r),
                    i = f(i, 0);
                    for (var o = i; o <= a; o++) {
                        var s = M.itline[o];
                        e.push(s)
                    }
                    e.offset = i
                }
                return e
            }
            ,
            L.getTimeHeader = function(e) {
                if ("full" === L.kh)
                    return x(M.timeHeader[e]);
                var t, n, i = x();
                t = L.getViewportOffsetStart(),
                n = t + L.getViewportOffsetWidth();
                var a = M.mq(e, t)
                  , r = M.mq(e, n);
                r || (r = {
                    "x": M.timeHeader[e].length - 1
                });
                for (var o = a.x; o <= r.x; o++) {
                    var s = M.timeHeader[e][o];
                    i.push(s)
                }
                return i
            }
            ,
            L.getSeparators = function() {
                return x(M.separators).map(function(e) {
                    var t = new DayPilot.Date(e.location);
                    if (t.getTime() < M.Rb().getTime())
                        return null;
                    if (t.getTime() >= M.ce().getTime())
                        return null;
                    var n = M.getPixels(t);
                    return n.cut ? null : n.left < 0 ? null : n.left > M.gm() ? null : {
                        "left": n.left,
                        "color": e.color,
                        "width": e.width || 1
                    }
                }).filter(function(e) {
                    return !!e
                })
            }
            ,
            L.fakeDurationBar = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da(J.event);
                var t = l();
                t.className = M.da(J.eventBar);
                var n = l();
                return n.className = M.da(J.eventBarInner),
                s().appendChild(e),
                t.appendChild(n),
                e.appendChild(t),
                e
            }
            ,
            L.fakeEventLeft = function() {
                var e = l();
                return e.style.display = "none",
                e.className = M.da("_event_left"),
                s().appendChild(e),
                e
            }
            ,
            L.fakeGroup = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da(J.event) + " " + M.da("_task_group");
                var t = l();
                return t.className = M.da(J.eventInner),
                e.appendChild(t),
                M.divEvents.appendChild(e),
                e
            }
            ,
            L.fakeMilestone = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da(J.event) + " " + M.da("_task_milestone");
                var t = l();
                return t.className = M.da(J.eventInner),
                e.appendChild(t),
                M.divEvents.appendChild(e),
                e
            }
            ,
            L.fakeCell = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da("_cell"),
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px";
                var t = l();
                return t.className = M.da("_cell_inner"),
                e.appendChild(t),
                M.divCells.appendChild(e),
                e
            }
            ,
            L.fakeRowHeader = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da("_rowheader"),
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px";
                var t = l();
                return t.className = M.da("_rowheader_inner"),
                e.appendChild(t),
                M.divResScroll.appendChild(e),
                e
            }
            ,
            L.nq = function() {
                var e = l();
                e.style.display = "none",
                e.className = M.da("_corner"),
                e.style.position = "absolute",
                e.style.top = "-2000px",
                e.style.left = "-2000px";
                var t = l();
                return t.className = M.da("_corner_inner"),
                e.appendChild(t),
                M.nav.top.appendChild(e),
                e
            }
            ,
            L.fakeExpand = function() {
                var e = l();
                return e.style.display = "none",
                e.className = M.da("_tree_image_expand"),
                s().appendChild(e),
                e
            }
            ,
            L.fakeIcon = function(e) {
                var t = document.createElement("i");
                return t.className = e,
                t.style.position = "absolute",
                t.style.top = "-2000px",
                t.style.left = "-2000px",
                t
            }
            ,
            L.extractUrl = function(e) {
                var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
                return t ? t[2] : null
            }
            ,
            L.getImages = function() {
                var e = {}
                  , t = L.fakeExpand();
                return e.expand = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")),
                t.className = M.da("_tree_image_collapse"),
                e.collapse = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")),
                t.className = M.da("_tree_image_no_children"),
                e.nochildren = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")),
                C(t),
                e
            }
            ,
            L.getFont = function(e) {
                return new DayPilot.StyleReader(e).getFont()
            }
            ,
            L.getViewportOffsetStart = function() {
                switch (L.kh) {
                case "full":
                    return 0;
                case "viewport":
                    return M.nav.scroll.scrollLeft;
                case "range":
                    return M.getPixels(L.getRangeStart()).boxLeft
                }
            }
            ,
            L.getViewportOffsetTop = function() {
                switch (L.kh) {
                case "full":
                    return 0;
                case "viewport":
                    return M.nav.scroll.scrollTop;
                case "range":
                    return L.hq(L.getRangeResStart()) - M.Sl.top.height
                }
            }
            ,
            L.getViewportOffsetWidth = function() {
                switch (L.kh) {
                case "full":
                    return M.gm();
                case "viewport":
                    return M.nav.scroll.offsetWidth;
                case "range":
                    return M.getPixels(L.getRangeEnd()).boxRight - L.getViewportOffsetStart()
                }
            }
            ,
            L.excelBoard = function() {
                var e = new DayPilot.Excel
                  , t = e.worksheets.create("Scheduler")
                  , n = new DayPilot.StyleReader(M.nav.corner).get("background-color")
                  , i = new DayPilot.StyleReader(M.nav.top).get("border-top-color")
                  , a = x(M.elements.events).filter(function(e) {
                    return !e.event.data.type
                }).map(function(e) {
                    return e.firstChild
                }).last()
                  , r = new DayPilot.StyleReader(a).get("border-right-color");
                e.styles.getDefault().setBackColor("#ffaaaa");
                var o = e.styles.create();
                o.setHorizontalAlignment("Center"),
                o.setBackColor(n),
                o.setBorderColor(i);
                var s = e.styles.create();
                s.setVerticalAlignment("Top"),
                s.setBackColor(n),
                s.setBorderColor(i);
                var l = e.styles.create();
                l.setVerticalAlignment("Top"),
                l.setBackColor("#ff0000"),
                l.setBorderColor(r),
                t.enableGridlines(!1),
                t.cell(0, 0).setRowspan(M.timeHeader.length).setStyle(o),
                t.cell(10, 10).setText("hi there"),
                x(M.timeHeader).forEach(function(e, n) {
                    var i = {
                        "x": 1,
                        "y": 0
                    };
                    L.getTimeHeader(n, "full").forEach(function(e, a) {
                        var r = e.colspan;
                        t.cell(a + i.x, n + i.y).setText(e.innerHTML).setColspan(r).setStyle(o)
                    })
                }),
                x(M.rowlist).forEach(function(e, n) {
                    for (var i = {
                        "x": 0,
                        "y": 1
                    }, a = "", r = 0; r < e.level; r++)
                        a += "  ";
                    t.cell(i.x, n + i.y).setText(a + e.html).setRowspan(e.lines.length).setStyle(s)
                });
                var d = {
                    "x": 0,
                    "y": M.timeHeader.length
                }
                  , c = d.y;
                return x(M.rowlist).forEach(function(e, n) {
                    x(e.lines).forEach(function(e, i) {
                        var a = d.x;
                        x(e).forEach(function(e) {
                            var i = M.Mm(e.start()).i
                              , r = M.Mm(e.end()).i
                              , o = 1 + r - i;
                            t.cell(i + a, n + c).setText(e.client.html()).setColspan(o).setStyle(l),
                            a += o - 1
                        })
                    }),
                    c += e.lines.length - 1
                }),
                e
            }
            ,
            L.B = null,
            L.kh = null,
            L.generate = function(e, t) {
                function n(e) {
                    var t = v.grid.y + L.hq(e) - L.iq(e);
                    t += f(0, v.grid.y - t);
                    var n = M.treeEnabled && !e.isNewRow
                      , i = 10
                      , a = n ? e.level * M.treeIndent + M.treeImageMarginLeft + 5 : 5;
                    "Disabled" !== M.rowMoveHandling && (a += 10);
                    var r = {
                        "x": 0,
                        "y": t,
                        "w": v.grid.x + 1,
                        "h": e.height + 1
                    }
                      , o = e;
                    if (pe) {
                        o = M.qq(e).row
                    }
                    var s = M.rowHeaderCols ? M.rowHeaderCols.length : 0
                      , l = M.vn()
                      , c = M.internalUseStandardColumns && !e.isNewRow
                      , u = c || l && _(M.rowHeaderColumns)
                      , h = {};
                    if (h.text = o.html,
                    $.pq().length > 0 && u) {
                        var g = o.columns.find(function(e, t) {
                            return !M.rowHeaderColumns[t].hidden
                        });
                        h.text = g.text || g.html
                    }
                    h.backColor = o.backColor || ae,
                    h.fontSize = ne.size,
                    h.fontFamily = ne.family,
                    h.fontStyle = ne.style,
                    h.fontColor = o.fontColor || ie,
                    h.borderColor = y,
                    h.horizontalAlignment = "left",
                    h.verticalAlignment = "center",
                    h.row = M.On(e),
                    h.columns = [],
                    h.row.columns = h.columns,
                    o.columns && o.columns.forEach(function(e) {
                        var t = p(e, {}, ["text", "html", "backColor", "horizontalAlignment", "verticalAlignment"]);
                        t.text = e.text || e.html,
                        t.fontSize = h.fontSize,
                        t.fontFamily = h.fontFamily,
                        t.fontStyle = h.fontStyle,
                        t.fontColor = h.fontColor,
                        t.horizontalAlignment = t.horizontalAlignment || h.horizontalAlignment,
                        t.verticalAlignment = t.verticalAlignment || h.verticalAlignment,
                        t.backColor = t.backColor || h.backColor,
                        h.columns.push(t)
                    }),
                    e.isNewRow && (h.text = M.rowCreateText),
                    me && M.onBeforeRowHeaderExport(h);
                    var b = 10
                      , w = {
                        "x": a,
                        "y": t + M.treeImageMarginTop + 2,
                        "w": 10,
                        "h": b
                    }
                      , k = {
                        "size": h.fontSize,
                        "family": h.fontFamily,
                        "style": h.fontStyle
                    };
                    "center" === h.verticalAlignment && (w.y = t + r.h / 2 - 5);
                    var C = n ? a + i + 3 : a
                      , S = n ? r.w - C : r.w
                      , E = {
                        "x": C,
                        "y": t,
                        "w": S,
                        "h": e.height + 1
                    };
                    if (M.rowHeaderCols && (E.w = M.rowHeaderCols[0] - C),
                    d.fillRect(r, h.backColor),
                    d.text(E, h.text, k, h.fontColor, h.horizontalAlignment, 0, h.verticalAlignment),
                    d.rect(r, h.borderColor),
                    n) {
                        var T = null;
                        T = x(e.children).isEmpty() ? m.nochildren : e.expanded || L.B.includeHiddenRows ? m.collapse : m.expand,
                        d.image(w, T)
                    }
                    var D = x(h.row.columns);
                    if (u && (D = D.filter(function(e, t) {
                        return !M.rowHeaderColumns[t].hidden
                    }),
                    s = D.length),
                    M.rowHeaderCols) {
                        var a = r.x;
                        x(M.rowHeaderCols).forEach(function(e, t) {
                            if (0 !== t) {
                                var n = c || M.vn() ? 0 : 1
                                  , i = t - n
                                  , o = D[i] || {}
                                  , s = p(r);
                                s.x = a,
                                s.w = e + 1;
                                var l = 3
                                  , u = p(s);
                                u.x += l,
                                u.w -= l;
                                var f = o.backColor || h.backColor;
                                d.fillRect(s, f),
                                o.text && d.text(u, o.text, {
                                    "size": o.fontSize,
                                    "family": o.fontFamily,
                                    "style": o.fontStyle
                                }, o.fontColor, o.horizontalAlignment, 0, o.verticalAlignment),
                                d.rect(s, h.borderColor)
                            }
                            a += e
                        })
                    }
                }
                function i(e, t, n) {
                    n = n || "main";
                    var i = M.itline[e]
                      , a = M.Sl[n].rowlist[t]
                      , r = M.Gp(e, t, n)
                      , o = r.business
                      , s = M.rq(e, t, n);
                    s || (s = {},
                    s.cell = M.cells.findXy(e, t, n)[0]);
                    var l = r.html
                      , c = r.horizontalAlignment || "left"
                      , u = r.backColor || (o ? W : j);
                    s.areas = s.cell && s.cell.properties && s.cell.properties.areas || [],
                    s.text = l,
                    s.horizontalAlignment = c,
                    s.backColor = u,
                    s.fontSize = q.size,
                    s.fontFamily = q.family,
                    s.fontStyle = q.style,
                    s.fontColor = s.cell && s.cell.properties && s.cell.properties.fontColor || F,
                    ge && (M.onBeforeCellExport(s),
                    l = s.text,
                    c = s.horizontalAlignment,
                    u = s.backColor);
                    var h = v.grid.y + L.hq(a) - L.iq(a);
                    h += f(0, v.grid.y - h);
                    var p = v.grid.x + i.left - ue;
                    p += f(0, v.grid.x - p);
                    var m = {
                        "x": p,
                        "y": h,
                        "w": i.width,
                        "h": a.height
                    };
                    d.fillRect(m, u);
                    var g = {};
                    g.x = m.x + 1,
                    g.y = m.y + 1,
                    g.w = m.w - 2,
                    g.h = m.h - 2;
                    var b = {
                        "size": s.fontSize,
                        "family": s.fontFamily,
                        "style": s.fontStyle
                    };
                    l && d.text(g, l, b, s.fontColor, c),
                    x(s.areas).forEach(function(e) {
                        if (DayPilot.Areas.isVisible(e)) {
                            var t = {
                                "type": "cell-area"
                            };
                            "undefined" != typeof e.id && (t.id = e.id),
                            d.groupStart(t);
                            var n = 0;
                            "number" == typeof e.left ? n = e.left : e.start ? n = M.getPixels(new DayPilot.Date(e.start)).left - i.left : "number" == typeof e.right && (n = i.width - e.right - e.width);
                            var a = e.width || e.w;
                            "number" == typeof e.right ? a = i.width - e.right - n : e.end && (a = M.getPixels(new DayPilot.Date(e.end)).left - e.left - i.left + 1);
                            var r = e.top || 0
                              , o = e.height || e.h;
                            "number" == typeof e.bottom && (o = i.height - e.bottom - r),
                            o || (o = i.height - r);
                            var l = {
                                "x": p + n,
                                "y": h + r,
                                "w": a,
                                "h": o
                            };
                            if (e.backColor && d.fillRect(l, e.backColor),
                            e.icon) {
                                var c = M.jh.areaIcon(e.icon);
                                d.text(l, c.text, c.font, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment)
                            } else if (e.image) {
                                var u = new Image;
                                u.src = e.image,
                                d.image(l, u)
                            } else
                                e.symbol ? d.symbol(l, e.symbol, {
                                    color: e.fontColor || s.fontColor
                                }) : (e.text || e.html) && d.text(l, e.text || e.html, {
                                    "size": e.fontSize || s.fontSize,
                                    "family": e.fontFamily || s.fontFamily,
                                    "style": e.fontStyle || s.fontStyle
                                }, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment);
                            d.groupEnd()
                        }
                    })
                }
                function a(e) {
                    var t = v.grid.y + L.hq(e) - L.iq(e);
                    if (t += f(0, v.grid.y - t),
                    t !== v.grid.y && !("main" === e.grid && t > L.bottomFrozenY())) {
                        var n = K
                          , i = {};
                        if (be) {
                            if (i.row = M.On(e),
                            i.hidden = !1,
                            i.cssClass = null,
                            i.type = "HorizontalLine",
                            i.color = null,
                            M.onBeforeGridLineRender(i),
                            i.hidden)
                                return;
                            n = i.color || K
                        }
                        d.line(v.gridContent.x + 1, t, v.gridContent.x + v.gridContent.w - 1, t, n),
                        "top" === e.grid && e === M.Sl.top.rowlist.last() && d.line(v.gridContent.x + 1, t + e.height, v.gridContent.x + v.gridContent.w - 1, t + e.height, K)
                    }
                }
                function r(e, t) {
                    var n = v.grid.x + e.left - ue;
                    if (n += f(0, v.grid.x - n),
                    n !== v.grid.x) {
                        var i = v.grid.y + 1
                          , a = v.grid.y + v.grid.h - 2;
                        "top" === t && (a = i + M.Sl.top.height),
                        "bottom" === t && (i = L.bottomFrozenY());
                        var r = Z
                          , o = {};
                        if (be) {
                            if (o.start = e.start,
                            o.end = e.end,
                            o.hidden = !1,
                            o.cssClass = null,
                            o.type = "VerticalLine",
                            o.color = null,
                            M.onBeforeGridLineRender(o),
                            o.hidden)
                                return;
                            r = o.color || Z
                        }
                        d.line(n, i, n, a, r)
                    }
                }
                function o(e) {
                    function t() {
                        var e = _.backColor;
                        d.diamond(A, e)
                    }
                    function n() {
                        var e = {
                            "x": u,
                            "y": c,
                            "w": s,
                            "h": _.barHeight
                        }
                          , t = {
                            "x": u + w,
                            "y": c,
                            "w": k,
                            "h": _.barHeight
                        }
                          , n = p.backColor || B
                          , i = {
                            x: u,
                            y: c + 5,
                            h: A.h - 6 - 5,
                            w: A.w
                        };
                        d.fillRect(i, n);
                        var a = p.text || p.html;
                        d.text(i, a, {
                            "size": _.fontSize,
                            "family": _.fontFamily,
                            "style": _.fontStyle
                        }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, M.eventTextWrappingEnabled),
                        d.upperRightCorner({
                            x: u + A.w - 6,
                            y: i.y + i.h,
                            w: 6,
                            h: 6
                        }, n),
                        d.upperLeftCorner({
                            x: u,
                            y: i.y + i.h,
                            w: 6,
                            h: 6
                        }, n),
                        l && (d.fillRect(e, g),
                        k > 0 && d.fillRect(t, m))
                    }
                    function i(t, n) {
                        var i = p.versions[n];
                        d.groupStart({
                            "type": "event-version",
                            "event-id": e.id()
                        });
                        var a = t.width
                          , r = v.grid.y + o + t.top - he;
                        r += f(0, v.grid.y - r);
                        var s = v.grid.x + t.left - ue + 1
                          , l = f(0, v.grid.x - s);
                        s += l,
                        a -= l;
                        var c = M.eventVersionHeight
                          , u = M.durationBarVisible && !i.barHidden
                          , h = u ? $.sq() : 0
                          , m = {
                            "x": s,
                            "y": r,
                            "w": a,
                            "h": c
                        };
                        d.fillRect(m, i.backColor || _.backColor);
                        var g = {
                            "x": s + C,
                            "y": r + h,
                            "w": f(0, a - C),
                            "h": c - h
                        };
                        if (d.text(g, i.text, {
                            "size": _.fontSize,
                            "family": _.fontFamily,
                            "style": _.fontStyle
                        }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, M.eventTextWrappingEnabled),
                        d.rect(m, i.borderColor || _.borderColor),
                        u) {
                            var b = i.barBackColor || N
                              , y = i.barColor || I
                              , w = 100 * t.barLeft / a
                              , x = Math.ceil(100 * t.barWidth / a)
                              , k = {
                                "x": s,
                                "y": r + 1,
                                "w": a,
                                "h": h
                            }
                              , S = {
                                "x": s + w,
                                "y": r + 1,
                                "w": x,
                                "h": h
                            };
                            d.fillRect(k, b),
                            x > 0 && d.fillRect(S, y)
                        }
                        d.groupEnd()
                    }
                    function a() {
                        var t = {
                            "x": u,
                            "y": c,
                            "w": s,
                            "h": _.barHeight
                        }
                          , n = {
                            "x": u + w,
                            "y": c,
                            "w": k,
                            "h": _.barHeight
                        }
                          , i = {
                            "x": u + C,
                            "y": c + _.barHeight,
                            "w": s - C,
                            "h": e.part.height - _.barHeight
                        };
                        d.fillRect(A, _.backColor),
                        d.text(i, _.text, {
                            "size": _.fontSize,
                            "family": _.fontFamily,
                            "style": _.fontStyle
                        }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, M.eventTextWrappingEnabled),
                        d.rect(A, _.borderColor),
                        l && (d.fillRect(t, g),
                        k > 0 && d.fillRect(n, m)),
                        x(_.areas).forEach(function(t) {
                            if (DayPilot.Areas.isVisible(t)) {
                                var n = {
                                    "type": "event-area"
                                };
                                "undefined" != typeof t.id && (n.id = t.id),
                                d.groupStart(n);
                                var i = 0;
                                "number" == typeof t.left ? i = t.left : t.start ? i = M.getPixels(new DayPilot.Date(t.start)).left - e.part.left : "number" == typeof t.right && (i = e.part.width - t.right - t.width);
                                var a = t.width || t.w;
                                "number" == typeof t.right ? a = e.part.width - t.right - i : t.end && (a = M.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                var r = t.top || 0
                                  , o = t.height || t.h;
                                "number" == typeof t.bottom && (o = e.part.height - t.bottom - r),
                                o || (o = e.part.height - r);
                                var s = {
                                    "x": u + i,
                                    "y": c + r,
                                    "w": a,
                                    "h": o
                                };
                                if (t.backColor && d.fillRect(s, t.backColor),
                                t.icon) {
                                    var l = M.jh.areaIcon(t.icon);
                                    d.text(s, l.text, l.font, t.fontColor || _.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment)
                                } else if (t.image) {
                                    var h = new Image;
                                    h.src = t.image,
                                    d.image(s, h)
                                } else
                                    t.symbol ? d.symbol(s, t.symbol, {
                                        color: t.fontColor || _.fontColor
                                    }) : (t.text || t.html) && d.text(s, t.text || t.html, {
                                        "size": t.fontSize || _.fontSize,
                                        "family": t.fontFamily || _.fontFamily,
                                        "style": t.fontStyle || _.fontStyle
                                    }, t.fontColor || _.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                                d.groupEnd()
                            }
                        })
                    }
                    var r = M.Sl[e.part.grid].rowlist[e.part.dayIndex]
                      , o = L.hq(r)
                      , s = e.part.width
                      , l = e.client && e.client.barVisible && e.client.barVisible()
                      , c = v.grid.y + o + e.part.top - L.iq(r)
                      , u = v.grid.x + e.part.left - ue + 1
                      , h = f(0, v.grid.x - u);
                    u += h,
                    s -= h;
                    var p = e.cache || e.data
                      , m = p.barColor || I
                      , g = p.barBackColor || N
                      , b = p.backColor || D
                      , y = p.fontColor || T
                      , w = e.part.barLeft
                      , k = e.part.barWidth;
                    "PercentComplete" === M.durationBarMode && (w = 0,
                    k = f(0, Math.floor(e.part.width * (p.complete || 0) / 100))),
                    "Milestone" === e.data.type && (b = H);
                    var C = 2
                      , _ = {};
                    _.e = e,
                    _.text = e.text ? e.text() : e.client.html(),
                    _.areas = DayPilot.Util.createArrayCopy(p.areas),
                    _.fontSize = E.size,
                    _.fontFamily = E.family,
                    _.fontStyle = E.style,
                    _.fontColor = y,
                    _.backColor = b,
                    _.borderColor = S,
                    _.horizontalAlignment = "left",
                    _.verticalAlignment = "center",
                    _.barHeight = 4,
                    _.textPadding = 2,
                    _.textLeft = p.textLeft || p.htmlLeft,
                    _.textRight = p.textRight || p.htmlRight,
                    "function" == typeof M.onBeforeEventExport && M.onBeforeEventExport(_);
                    var A = {
                        "x": u,
                        "y": c,
                        "w": s,
                        "h": e.part.height
                    };
                    d.groupStart({
                        "type": "event",
                        "id": e.id()
                    }),
                    "Milestone" === e.data.type ? t() : "Group" === e.data.type ? n() : a();
                    var R = _.textLeft;
                    if (R) {
                        var P = {
                            "size": _.fontSize,
                            "family": _.fontFamily,
                            "style": _.fontStyle
                        }
                          , z = d.textWidth(R, P)
                          , U = {
                            "x": u - (M.eventHtmlLeftMargin + z),
                            "y": c,
                            "w": z,
                            "h": e.part.height
                        };
                        d.text(U, R, P, O, null, 0, "center", !1)
                    }
                    var j = _.textRight;
                    if (j) {
                        var W = {
                            "size": _.fontSize,
                            "family": _.fontFamily,
                            "style": _.fontStyle
                        }
                          , q = d.textWidth(j, W)
                          , F = {
                            "x": u + s + M.eventHtmlRightMargin,
                            "y": c,
                            "w": q,
                            "h": e.part.height
                        };
                        d.text(F, j, W, O, null, 0, "center", !1)
                    }
                    d.groupEnd(),
                    (e.versions || []).forEach(i)
                }
                "object" == typeof e && (t = e,
                e = null);
                var t = t || {}
                  , e = e || t.format || "svg"
                  , s = t.scale || 1;
                if ("xls" === e)
                    return L.excelBoard();
                "jpg" === e.toLowerCase() && (e = "jpeg");
                var l = t.area || "viewport";
                L.B = p(t),
                L.kh = l,
                L.B.includeHiddenRows = L.B.includeHiddenRows && "range" === l,
                L.getRows().forEach(function(e) {
                    M.oq(e)
                });
                var d, c = L.lh(), h = L.mh();
                switch (e.toLowerCase()) {
                case "svg":
                    d = new DayPilot.Svg(c,h);
                    break;
                case "png":
                    d = new DayPilot.Canvas(c,h,"image/png",s);
                    break;
                case "jpeg":
                    d = new DayPilot.Canvas(c,h,"image/jpeg",s,t.quality);
                    break;
                default:
                    throw new DayPilot.Exception("Export format not supported: " + e)
                }
                var v = L.getRectangles()
                  , m = L.getImages()
                  , g = new DayPilot.StyleReader(M.nav.top).get("background-color")
                  , b = new DayPilot.StyleReader(M.nav.corner).get("background-color")
                  , y = new DayPilot.StyleReader(M.nav.top).get("border-top-color")
                  , w = new DayPilot.StyleReader(M.nav.divider).get("background-color")
                  , k = x(M.elements.events).filter(function(e) {
                    return !e.event.data.type
                }).map(function(e) {
                    return e.firstChild
                }).last()
                  , S = new DayPilot.StyleReader(k).get("border-right-color")
                  , E = L.getFont(k)
                  , T = new DayPilot.StyleReader(k).get("color")
                  , D = new DayPilot.StyleReader(k).get("background-color");
                D = DayPilot.Util.isTransparentColor(D) ? "white" : D;
                var A = L.fakeMilestone()
                  , H = new DayPilot.StyleReader(A.firstChild).get("background-color");
                C(A);
                var R = L.fakeGroup()
                  , B = new DayPilot.StyleReader(R.firstChild).get("background-color");
                C(R);
                var P = L.fakeDurationBar()
                  , N = new DayPilot.StyleReader(P.firstChild).get("background-color")
                  , I = new DayPilot.StyleReader(P.firstChild.firstChild).get("background-color");
                C(P);
                var z = L.fakeEventLeft()
                  , O = new DayPilot.StyleReader(z).get("color");
                C(z);
                var U = L.fakeCell()
                  , j = new DayPilot.StyleReader(U).get("background-color");
                u(U, M.da("_cell_business"));
                var W = new DayPilot.StyleReader(U).get("background-color")
                  , q = L.getFont(U)
                  , F = new DayPilot.StyleReader(U).get("color");
                C(U);
                var Y = DayPilot.Util.firstPropValue(M.wa.ll)
                  , K = new DayPilot.StyleReader(Y).get("background-color")
                  , V = DayPilot.Util.firstPropValue(M.wa.kl)
                  , Z = new DayPilot.StyleReader(V).get("background-color")
                  , J = M.wa.timeHeader["0_0"]
                  , G = L.getFont(J)
                  , X = new DayPilot.StyleReader(J).get("color")
                  , Q = new DayPilot.StyleReader(J).get("background-color")
                  , te = L.fakeRowHeader()
                  , ne = L.getFont(te)
                  , ie = new DayPilot.StyleReader(te).get("color")
                  , ae = new DayPilot.StyleReader(te).get("background-color");
                C(te);
                var re = L.nq()
                  , oe = L.getFont(re)
                  , se = new DayPilot.StyleReader(re).get("color")
                  , b = new DayPilot.StyleReader(re).get("background-color");
                if (M.rowHeaderColumns && M.qo && M.qo.blocks[0])
                    var le = M.qo.blocks[0].section.firstChild
                      , de = new DayPilot.StyleReader(le).getFont()
                      , ce = new DayPilot.StyleReader(le).get("color");
                var ue = L.getViewportOffsetStart()
                  , he = L.getViewportOffsetTop();
                d.fillRect(v.main, "white"),
                d.fillRect(v.main, g),
                function() {
                    var e = {};
                    e.backColor = b,
                    e.text = M.cornerText,
                    e.fontSize = oe.size,
                    e.fontFamily = oe.family,
                    e.fontStyle = oe.style,
                    e.fontColor = se,
                    e.horizontalAlignment = "left",
                    e.verticalAlignment = "top",
                    "function" == typeof M.onBeforeCornerExport && M.onBeforeCornerExport(e);
                    var t = {
                        "size": e.fontSize,
                        "family": e.fontFamily,
                        "style": e.fontStyle
                    };
                    d.fillRect(v.corner, e.backColor),
                    d.text(v.corner, e.text, t, e.fontColor, e.horizontalAlignment, 0, e.verticalAlignment)
                }();
                var fe = v.corner.x;
                $.pq().forEach(function(e, t) {
                    var n = M.rowHeaderCols[t]
                      , i = {};
                    i.x = fe,
                    i.w = n + 1,
                    i.y = v.corner.h - M.qo.height,
                    i.h = M.qo.height + 1;
                    var a = 3
                      , r = p(i);
                    r.x += a,
                    r.w -= a;
                    var o = e.name || e.title || e.text || "";
                    d.fillRect(i, b),
                    d.text(r, o, de, ce, "left", 0, "center"),
                    d.rect(i, y),
                    fe += n
                });
                var ve = "function" == typeof M.onBeforeTimeHeaderExport
                  , pe = "function" == typeof M.onBeforeRowHeaderRender
                  , me = "function" == typeof M.onBeforeRowHeaderExport
                  , ge = "function" == typeof M.onBeforeCellExport;
                L.getRows().forEach(n),
                L.getRowsTop().forEach(n),
                L.getRowsBottom().forEach(n),
                L.getRows().forEach(function(e, t, n) {
                    var t = e.index;
                    L.getTimeline().forEach(function(n, a, r) {
                        var a = r.offset + a;
                        i(a, t, e.grid)
                    })
                });
                var be = "function" == typeof M.onBeforeGridLineRender;
                L.getRows().forEach(a),
                L.getTimeline().forEach(function(e) {
                    r(e, "main")
                });
                var ye = L.getTimeline().last();
                return function(e) {
                    if (e) {
                        var t = Z
                          , n = {};
                        if (be) {
                            if (n.start = e.end,
                            n.end = e.end,
                            n.hidden = !1,
                            n.cssClass = null,
                            n.type = "VerticalLine",
                            n.color = null,
                            M.onBeforeGridLineRender(n),
                            n.hidden)
                                return;
                            t = n.color || Z
                        }
                        var i = v.grid.x + e.left - ue + e.width;
                        d.line(i, v.grid.y + 1, i, v.grid.y + v.grid.h - 2, t)
                    }
                }(ye),
                L.getSeparators().forEach(function(e) {
                    var t = v.grid.x + e.left - ue;
                    t < L.getRowHeaderWidth() || d.line(t, v.grid.y + 1, t + e.width, v.grid.y + v.grid.h - 2, e.color)
                }),
                L.getLinks().forEach(function(e) {
                    e && e.map(function(e) {
                        return L.shiftableSegment(e).shift(v.grid.x - ue, v.grid.y - he)
                    }).forEach(function(e) {
                        switch (e.type) {
                        case "HorizontalLine":
                            d.line(e.startX, e.startY, e.endX, e.endY, "red");
                            break;
                        case "VerticalLine":
                            d.line(e.startX, e.startY, e.endX, e.endY, "red");
                            break;
                        case "ArrowRight":
                            d.triangle({
                                x: e.startX - 10,
                                y: e.startY - 4.5,
                                w: 10,
                                h: 10
                            }, "red");
                            break;
                        case "ArrowDown":
                            d.triangle({
                                x: e.startX - 4.5,
                                y: e.startY - 10,
                                w: 10,
                                h: 10
                            }, "red", 90);
                            break;
                        case "ArrowLeft":
                            d.triangle({
                                x: e.startX,
                                y: e.startY - 4.5,
                                w: 10,
                                h: 10
                            }, "red", 180);
                            break;
                        case "ArrowUp":
                            d.triangle({
                                x: e.startX - 4.5,
                                y: e.startY,
                                w: 10,
                                h: 10
                            }, "red", -90)
                        }
                    })
                }),
                L.getEvents().forEach(o),
                L.getRowsTopAndBottom().forEach(function(e, t, n) {
                    var t = e.index;
                    L.getTimeline().forEach(function(n, a, r) {
                        var a = r.offset + a;
                        i(a, t, e.grid)
                    }),
                    a(e)
                }),
                L.getTimeline().forEach(function(e) {
                    r(e, "top"),
                    r(e, "bottom")
                }),
                L.getEventsFrozen().forEach(o),
                x(M.timeHeader).forEach(function(e, t) {
                    L.getTimeHeader(t, l).forEach(function(e) {
                        var n = v.grid.x + e.left - ue
                          , i = e.width
                          , a = ee.tq(t)
                          , r = a.top
                          , o = a.height
                          , s = {};
                        s.header = {},
                        s.header.start = e.start,
                        s.header.end = e.end,
                        s.header.level = t,
                        s.header.text = e.text,
                        s.header.html = e.innerHTML,
                        s.text = e.text,
                        s.backColor = e.backColor,
                        s.verticalAlignment = "center",
                        s.horizontalAlignment = "center",
                        s.fontColor = X,
                        s.fontSize = G.size,
                        s.fontFamily = G.family,
                        s.fontStyle = G.style,
                        ve && M.onBeforeTimeHeaderExport(s);
                        var l = f(0, v.grid.x - n);
                        n += l,
                        i -= l;
                        var l = f(0, n + i - (v.grid.x + v.grid.w));
                        i -= l;
                        var c = {
                            "x": n,
                            "y": r,
                            "w": i + 1,
                            "h": o + 1
                        }
                          , u = {
                            "size": s.fontSize,
                            "family": s.fontFamily,
                            "style": s.fontStyle
                        };
                        d.fillRect(c, s.backColor || Q),
                        d.rect(c, y),
                        d.text(c, s.text, u, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment)
                    })
                }),
                d.rect(v.main, y),
                d.line(v.grid.x, 0, v.grid.x, v.main.h, w),
                d.line(0, v.grid.y, v.main.w, v.grid.y, w),
                d
            }
            ,
            L.areaIcon = function(e) {
                var t = L.fakeIcon(e);
                s().appendChild(t);
                var n = window.getComputedStyle(t, ":before").content.replace(/"/g, "")
                  , i = new DayPilot.StyleReader(t).getFont();
                return s().removeChild(t),
                {
                    "text": n,
                    "font": i
                }
            }
            ,
            L.shiftableSegment = function(e) {
                return {
                    "startX": e.startX,
                    "endX": e.endX,
                    "startY": e.startY,
                    "endY": e.endY,
                    "type": e.type,
                    "shift": function(t, n) {
                        return L.shiftableSegment({
                            "startX": e.startX + t,
                            "endX": e.endX + t,
                            "startY": e.startY + n,
                            "endY": e.endY + n,
                            "type": e.type
                        })
                    }
                }
            }
            ,
            this.uq = {};
            var I = this.uq;
            I.findJointDivs = function(e) {
                var t = e.data.join;
                return t ? x(M.elements.events).filter(function(n) {
                    return n.event.data.join === t && n.event !== e
                }) : x()
            }
            ,
            this.vq = {};
            var z = this.vq;
            z.divs = [],
            z.list = [],
            z.forbidden = !1,
            z.wq = function() {
                var e = x()
                  , t = M.multiselect.isSelected(i.Pp.event)
                  , n = M.allowMultiResize
                  , e = x();
                if (t && n && (e = x(M.multiselect.td).filter(function(e) {
                    return e !== i.Pp
                })),
                M.jointEventsResize) {
                    var a = I.findJointDivs(i.fq);
                    e = e.concat(a)
                }
                return e
            }
            ,
            z.update = function() {
                z.clear(),
                z.draw()
            }
            ,
            z.clear = function() {
                C(z.divs),
                z.divs = []
            }
            ,
            z.isInvalid = function() {
                return z.divs.some(function(e) {
                    return e.info.invalid
                })
            }
            ,
            z.xq = function() {
                return M.yq(z.list)
            }
            ,
            z.zq = function() {
                if (i.Pp) {
                    var e = i.fq
                      , t = i.eq
                      , n = t.start.getTime() - e.start().getTime()
                      , a = t.end.getTime() - e.end().getTime()
                      , r = 0;
                    z.list = [],
                    z.forbidden = !1,
                    z.invalid = !1,
                    z.rowoffset = r,
                    z.wq().forEach(function(e) {
                        if (e.event) {
                            var t = e.event
                              , i = M.rowlist[t.part.dayIndex + r];
                            if (!i)
                                return void (z.invalid = !0);
                            var o = t.start().addTime(n)
                              , s = t.end().addTime(a)
                              , l = {};
                            l.$ = {},
                            o >= s && (l.invalid = !0,
                            n > 0 ? (l.$.Aq = o,
                            l.$.Bq = s.addSeconds(-1)) : a < 0 && (l.$.Cq = s,
                            l.$.Dq = o.addSeconds(1))),
                            l.event = t,
                            l.start = o,
                            l.end = s,
                            l.$.Eq = i,
                            z.list.push(l)
                        }
                    })
                }
            }
            ,
            z.Oo = function() {
                var e = 0
                  , t = M.eventBorderRadius;
                if ("number" == typeof t && (t += "px"),
                z.list.forEach(function(e) {
                    var n = e.event
                      , i = e.$.Eq
                      , a = n.part.top + i.top
                      , r = n.part.height
                      , o = new DayPilot.Date(e.start)
                      , s = new DayPilot.Date(e.end)
                      , d = M.getPixels(o)
                      , c = M.getPixels(s);
                    e.$.Aq === o && e.$.Bq && (d = M.getPixels(e.$.Bq)),
                    e.$.Cq === s && e.$.Dq && (c = M.getPixels(e.$.Dq));
                    var u = DayPilot.DateUtil.diff(n.rawend(), n.start());
                    u = f(u, 1);
                    var h = $.Zg(u)
                      , v = h ? d.boxLeft : d.left
                      , p = h ? c.boxRight - v : c.left - v
                      , m = l();
                    m.style.position = "absolute",
                    m.style.left = v + "px",
                    m.style.top = a + "px",
                    m.style.height = r + "px",
                    m.style.width = p + "px",
                    m.style.zIndex = 101,
                    m.style.overflow = "hidden",
                    m.className = M.da("_shadow"),
                    m.info = e;
                    var g = l();
                    g.className = M.da("_shadow_inner"),
                    m.appendChild(g),
                    t && (m.style.borderRadius = t,
                    g.style.borderRadius = t),
                    M.Ql.appendChild(m),
                    z.divs.push(m)
                }),
                z.invalid) {
                    var n = M.da("_shadow_overlap");
                    return void x(z.divs).forEach(function(e) {
                        u(e, n)
                    })
                }
                x(z.divs).forEach(function(t) {
                    if (t.info) {
                        var n = t
                          , a = t.info
                          , r = t.info.event
                          , o = M.rowlist[r.part.dayIndex + e]
                          , s = M.getPixels(a.start)
                          , l = M.getPixels(a.end)
                          , d = s.left
                          , c = l.left - d;
                        t.info.invalid && u(t, M.da("_shadow_invalid"));
                        var h = x(z.list).map(function(e) {
                            return e.event.data
                        }).add(i.Pp.event.data);
                        M.Fq(n, o, d, c, h),
                        M.Gq(n, a.start, a.end, r.resource()),
                        n.overlapping && (a.overlapping = !0,
                        z.forbidden = !0)
                    }
                })
            }
            ,
            z.draw = function() {
                z.zq(),
                z.Oo()
            }
            ,
            this.Hq = {},
            this.Hq.modifiedProps = function() {
                var e = new DayPilot.Scheduler
                  , t = DayPilot.Util.members(M, 2)
                  , n = [];
                return n.push("<div id='dp'></div>"),
                n.push("<script>"),
                n.push("var dp = new DayPilot.Scheduler('dp');"),
                t.properties.forEach(function(t) {
                    var i, a, r = t.name, o = r.split(".");
                    if (o.length > 1) {
                        var s = o[0]
                          , l = o[1];
                        i = JSON.stringify(e[s][l]),
                        a = JSON.stringify(M[s][l])
                    } else
                        i = JSON.stringify(e[r]),
                        a = JSON.stringify(M[r]);
                    i !== a && n.push("dp." + r + " = " + a + ";")
                }),
                t.events.forEach(function(e) {
                    var t = e.name;
                    "function" == typeof M[t] && n.push("dp." + t + " = " + M[t].toString() + ";")
                }),
                n.push("dp.init();"),
                n.push("</script>"),
                n.join("\n")
            }
            ,
            this.Iq = {};
            var O = this.Iq;
            O.divs = [],
            O.list = [],
            O.forbidden = !1,
            O.Jq = 0,
            O.Kq = function() {
                return "All" === M.multiMoveVerticalMode
            }
            ,
            O.wq = function() {
                var e = x()
                  , t = M.Om
                  , n = M.multiselect.isSelected(i.Lp)
                  , a = M.allowMultiMove;
                if (n && a && (e = x(M.multiselect.td).filter(function(e) {
                    var n = e && e.event
                      , a = i.Lp
                      , r = t.Lp;
                    return !(M.Gd(n, a) || M.Gd(n, r))
                })),
                M.jointEventsMove) {
                    var r = I.findJointDivs(i.Lp);
                    e = e.concat(r)
                }
                return e
            }
            ,
            O.update = function() {
                O.clear(),
                O.draw()
            }
            ,
            O.xq = function() {
                return M.yq(O.list)
            }
            ,
            O.zq = function() {
                if (O.list = [],
                O.rowoffset = 0,
                i.Om) {
                    var e = i.Lp
                      , t = !!i.Lq
                      , n = t ? i.Lq.start : e.start()
                      , a = n.getTime() - e.start().getTime()
                      , r = e.part.dayIndex
                      , o = t ? S(M.rowlist, i.Lq.row) : r
                      , s = o - r;
                    O.Kq() || (s = 0),
                    O.forbidden = !1,
                    O.invalid = !1,
                    O.rowoffset = s,
                    O.wq().forEach(function(t) {
                        if (t.event) {
                            var i = t.event
                              , r = i.cache || i.data
                              , o = !r.moveDisabled && !r.moveVDisabled
                              , l = !r.moveDisabled && !r.moveHDisabled
                              , d = s;
                            o || (d = 0);
                            var c = M.rowlist[i.part.dayIndex + d];
                            if (!c)
                                return void (O.invalid = !0);
                            var u = a;
                            l || (u = 0);
                            var h = i.start().addTime(u)
                              , f = i.end().addTime(u);
                            if (M.eventMoveSkipNonBusiness) {
                                var v = M.Tp(i)
                                  , p = i.part.dayIndex + d;
                                if (l && 0 === s) {
                                    var m = e.start()
                                      , g = i.start()
                                      , b = 1;
                                    m > g && (m = i.start(),
                                    g = e.start(),
                                    b = -1);
                                    var y = M.Sp(m, g, p, c.grid);
                                    b === -1 ? (y = M.Up(n, y, p, c.grid),
                                    h = n.addTime(-y)) : h = M.Wp(n, y, p, c.grid)
                                }
                                var w = "Days" === M.viewType || M.Kn()
                                  , x = 0;
                                w && (x = M.rowlist[i.part.dayIndex].start.getTime() - M.Rb().getTime());
                                var k = 0
                                  , C = $.Zg(v)
                                  , S = i.data && "Milestone" === i.data.type;
                                C && !S && (k = M.Sp(M.Jp(i.start().addTime(-x)).addTime(x), i.start(), p, c.grid));
                                var _ = M.Vp(h, p, c.grid);
                                if (!_)
                                    return void (O.invalid = !0);
                                h = _.start.addTime(k),
                                f = M.Wp(h, v, p, c.grid)
                            }
                            var E = {};
                            E.event = i,
                            E.start = h,
                            E.end = f,
                            E.resource = c.id,
                            O.list.push(E)
                        }
                    })
                }
            }
            ,
            O.Mq = function() {
                return O.list.map(function(e) {
                    var t = e.start
                      , n = e.end
                      , i = e.event
                      , a = M.getPixels(t)
                      , r = M.getPixels(n)
                      , o = DayPilot.DateUtil.diff(i.rawend(), i.start());
                    o = f(o, 1);
                    var s = $.Zg(o)
                      , l = M.Vl(e.resource)
                      , d = s ? a.boxLeft : a.left
                      , c = s ? r.boxRight - d : r.left - d
                      , u = i.part.top + l.top
                      , h = i.part.height;
                    e.resource !== e.event.data.resource && (u = l.top,
                    h = l.height);
                    var v = {};
                    return v.info = e,
                    v.y = l.index,
                    v.left = d,
                    v.width = c,
                    v.height = h,
                    v.top = u,
                    v
                })
            }
            ,
            O.Oo = function() {
                var e = M.eventBorderRadius;
                if ("number" == typeof e && (e += "px"),
                O.list.forEach(function(t) {
                    var n = t.start
                      , i = t.end
                      , a = t.event
                      , r = M.getPixels(n)
                      , o = M.getPixels(i)
                      , s = DayPilot.DateUtil.diff(a.rawend(), a.start());
                    s = f(s, 1);
                    var d = $.Zg(s)
                      , c = M.Vl(t.resource);
                    if (!c)
                        return void (O.invalid = !0);
                    t.$ = {},
                    t.$.Eq = c;
                    var u = d ? r.boxLeft : r.left
                      , h = d ? o.boxRight - u : o.left - u
                      , v = a.part.top + c.top
                      , p = a.part.height;
                    "Milestone" === a.data.type && (h = M.eventHeight,
                    u -= h / 2),
                    t.resource !== t.event.data.resource && (v = c.top,
                    p = c.height);
                    var m = l();
                    m.style.position = "absolute",
                    m.style.left = u + "px",
                    m.style.top = v + "px",
                    m.style.height = p + "px",
                    m.style.width = h + "px",
                    m.style.overflow = "hidden",
                    m.className = M.da("_shadow"),
                    m.info = t,
                    m.left = u,
                    m.width = h;
                    var g = l();
                    g.className = M.da("_shadow_inner"),
                    m.appendChild(g),
                    e && (m.style.borderRadius = e,
                    g.style.borderRadius = e),
                    M.Ql.appendChild(m),
                    O.divs.push(m)
                }),
                O.invalid) {
                    var t = M.da("_shadow_overlap");
                    return void x(O.divs).forEach(function(e) {
                        u(e, t)
                    })
                }
                x(O.divs).forEach(function(e) {
                    if (e.info) {
                        var t = e
                          , n = e.info
                          , a = (e.info.event,
                        e.info.$.Eq)
                          , r = M.getPixels(n.start)
                          , o = M.getPixels(n.end)
                          , s = r.left
                          , l = o.left - s
                          , d = x(O.list).map(function(e) {
                            return e.event.data
                        }).add(i.Lp.data);
                        M.Fq(t, a, s, l, d),
                        M.Gq(t, n.start, n.end, n.resource),
                        n.overlapping = !1,
                        t.overlapping && (n.overlapping = !0,
                        O.forbidden = !0)
                    }
                })
            }
            ,
            O.draw = function() {
                O.zq(),
                O.Oo()
            }
            ,
            O.clear = function() {
                C(O.divs),
                O.divs = []
            }
            ,
            this.yq = function(e, t) {
                return t = ["$"].concat(t || []),
                e.map(function(e) {
                    var n = e
                      , i = {};
                    for (var a in n) {
                        var r = t && S(t, a) !== -1;
                        n.hasOwnProperty(a) && "undefined" != typeof n[a] && (r ? Object.defineProperty(i, a, {
                            "value": n[a]
                        }) : i[a] = n[a])
                    }
                    return i
                })
            }
            ,
            this.Nq = function() {
                var e = M.coords
                  , t = i.Pp.dpBorder
                  , n = i.Pp.event
                  , a = n.part.left;
                "right" === t && (a += n.part.width);
                var r, o, s = i.Pp.event.calendar.cellWidth, l = i.Pp.event.part.width, d = i.Pp.event.part.left, c = 0, u = e.x - a, h = M.snapToGrid && M.snapToGridEventResizing;
                if ("right" === t) {
                    if (r = d,
                    h) {
                        var f = M.Km(l + d + u).cell
                          , v = M.Km(d).cell
                          , p = v.left + v.width - d;
                        o = f.left + f.width - d,
                        o < p && (o = p)
                    } else
                        o = l + u;
                    var m = M.gm();
                    if (d + o > m && (o = m - d),
                    M.Kn()) {
                        var g = !h
                          , b = M.Sl[n.part.grid].rowlist
                          , y = b[n.part.dayIndex]
                          , w = y.start.getTime() - M.Rb().getTime()
                          , x = M.getDate(d + o, g, !0).addTime(w);
                        if (x > y.data.end) {
                            var k = y.data.end.addTime(-w)
                              , C = M.getPixels(k)
                              , x = C.left;
                            h && (x = C.boxRight),
                            o = x - d
                        }
                    }
                    i.eq.left = d,
                    i.eq.width = o
                } else {
                    if ("left" !== t)
                        throw new DayPilot.Exception("Invalid dpBorder.");
                    h ? (u >= l && (u = l),
                    r = Math.floor((d + u + 0) / s) * s,
                    r < c && (r = c)) : r = d + u,
                    o = l - (r - d);
                    var S = d + l
                      , _ = s;
                    h ? "Never" === M.useEventBoxes && (_ = l < s ? l : 1) : _ = 1,
                    o < _ && (o = _,
                    r = S - o),
                    i.eq.left = r,
                    i.eq.width = o
                }
                M.Oq()
            }
            ,
            this.cq = function() {
                this.nav.scroll;
                if (M.coords && i.Lp) {
                    M.mm();
                    var e = i.Lq
                      , t = this.wo(i.Lp);
                    if (!M.xo(t.rowIndex, t.grid)) {
                        var n = i.Lp
                          , a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled
                          , r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled
                          , o = !O.wq().isEmpty();
                        o && "Disabled" === M.multiMoveVerticalMode && (a = !1),
                        a && t.grid !== e.grid && (e.parentNode.removeChild(e),
                        M.Sl[t.grid].divShadow.appendChild(e),
                        e.grid = t.grid);
                        var s = 0
                          , l = 0;
                        if (function() {
                            if (M.cl) {
                                var e = t.relativeY
                                  , n = M.Km(t.left).x
                                  , i = t.row
                                  , a = i.evColumns[n]
                                  , r = a.events.find(function(t) {
                                    return e < t.part.top + t.part.height + M.eventMarginBottom
                                });
                                r || (r = a.events.last()),
                                r && (l = r.part.top,
                                s = S(a.events, r),
                                e - r.part.top > r.part.height / 2 && (l = r.part.top + r.part.height + M.eventMarginBottom / 2,
                                s += 1))
                            } else {
                                for (var e = t.relativeY, i = t.row, o = 0, d = M.Ja.yo(), c = i.lines.length, u = 0; u < i.lines.length; u++) {
                                    if (i.lines[u].be(t.left, M.cellWidth)) {
                                        c = u;
                                        break
                                    }
                                }
                                var h = Math.floor((e - o + d / 2) / d);
                                h = Math.min(c, h),
                                h = f(0, h),
                                s = h,
                                l = M.rowMarginTop + s * (M.Ja.yo() + M.eventMarginBottom) + M.eventMarginBottom / 2
                            }
                        }(),
                        l > 0 && (l -= 3),
                        a)
                            if (this.xo(t.rowIndex, t.grid)) {
                                var d = e.row
                                  , c = 1;
                                if (!d)
                                    return;
                                c = t.rowIndex < d.index ? 1 : -1;
                                for (var u = t.rowIndex; u !== d.index; u += c) {
                                    var h = this.rowlist[u];
                                    if (!this.xo(u, t.grid) && !h.hidden) {
                                        e.row = h,
                                        e.style.top = e.row.top + e.row.marginTop + "px",
                                        e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px",
                                        M.eventMoveToPosition && (s = c > 0 ? 0 : h.lines.length - 1,
                                        e.style.top = t.top + l + "px",
                                        e.style.height = "3px",
                                        e.line = s);
                                        break
                                    }
                                }
                            } else
                                e.row = t.row,
                                e.style.top = e.row.top + e.row.marginTop + "px",
                                e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px",
                                M.eventMoveToPosition && (e.style.top = t.top + l + "px",
                                e.style.height = "3px",
                                e.line = s);
                        else {
                            for (var v = M.Sl[n.part.grid].rowlist, d = v[n.part.dayIndex], p = d.lines.length, u = 0; u < d.lines.length; u++) {
                                if (d.lines[u].be(t.left, M.cellWidth)) {
                                    p = u;
                                    break
                                }
                            }
                            if (o || (e.style.height = f(d.height, 0) + "px",
                            e.style.top = d.top + "px"),
                            e.row = d,
                            M.eventMoveToPosition && !o)
                                if (t.row === d)
                                    e.style.top = d.top + l + "px",
                                    e.style.height = "3px",
                                    e.line = s;
                                else {
                                    var m = t.rowIndex > d.index && p > 0 ? p * M.Ja.yo() - 3 : 0;
                                    e.style.top = d.top + m + "px",
                                    e.style.height = "3px",
                                    e.line = 0
                                }
                        }
                        r ? (e.style.left = t.left + "px",
                        M.eventMoveToPosition ? e.style.width = M.cellWidth + "px" : e.style.width = t.width + "px",
                        e.start = t.start,
                        e.end = t.end) : (e.style.left = n.part.left + "px",
                        e.start = n.start(),
                        e.end = n.rawend(),
                        t.left = n.part.left),
                        e.left = t.left,
                        e.width = t.width,
                        M.Pq()
                    }
                }
            }
            ,
            this.Pq = function() {
                function e(e) {
                    if (!!e.from != !!e.to) {
                        e.Zo = !0;
                        var n = function(e) {
                            return e ? "object" != typeof e ? P.To(e) : e : t
                        }
                          , i = n(e.from)
                          , a = n(e.to)
                          , r = P.Wo(i, a, e);
                        U.Tq(r)
                    }
                }
                var t = i.Lq
                  , n = M.Iq
                  , a = M.gb
                  , r = i.Lp;
                if (a) {
                    var o = a.start.getTime() === t.start.getTime()
                      , s = a.end.getTime() === t.end.getTime()
                      , l = a.resource === t.row.id
                      , d = a.shift + "_" + a.ctrl + "_" + a.meta + "_" + a.alt == M.coords.shift + "_" + M.coords.ctrl + "_" + M.coords.meta + "_" + M.coords.alt;
                    if (o && s && l && d)
                        return
                }
                a && (c(t, a.cssClass),
                t.firstChild.innerHTML = ""),
                n.clear(),
                n.zq();
                var h = function() {
                    var e = M.links
                      , t = e.findAllByFromTo(r.id(), null).map(function(e) {
                        return {
                            "to": e.to(),
                            "type": e.type()
                        }
                    });
                    return t = t.concat(e.findAllByFromTo(null, r.id()).map(function(e) {
                        return {
                            "from": e.from(),
                            "type": e.type()
                        }
                    }))
                }();
                !function() {
                    t.overlapping = !1;
                    var e = t.row
                      , a = r.data
                      , o = t.width
                      , s = t.left
                      , l = x(n.list).map(function(e) {
                        return e.event.data
                    }).add(a);
                    M.Fq(t, e, s, o, l),
                    M.Gq(i.Lq, t.start, t.end, t.row.id)
                }();
                var v = "Milestone" === r.data.type
                  , p = !!i.Qq && r.part.external
                  , m = {};
                m.start = t.start,
                m.end = M.Kj(t.end),
                m.duration = new DayPilot.Duration(m.start,m.end),
                m.e = r,
                m.external = p,
                m.control = M,
                m.resource = t.row.id,
                m.html = null,
                m.row = M.On(t.row),
                m.position = t.line,
                m.overlapping = t.overlapping || n.forbidden,
                m.allowed = !0,
                m.left = {},
                m.left.html = m.start.toString(M.eventMovingStartEndFormat, $.Tc()),
                m.left.enabled = M.eventMovingStartEndEnabled,
                m.left.space = 5,
                m.left.width = null,
                m.left.height = M.eventHeight,
                m.right = {},
                m.right.html = m.end.toString(M.eventMovingStartEndFormat, $.Tc()),
                m.right.enabled = M.eventMovingStartEndEnabled,
                m.right.space = 5,
                m.right.width = null,
                m.right.height = M.eventHeight,
                m.multimove = n.xq(),
                m.shift = M.coords.shift,
                m.ctrl = M.coords.ctrl,
                m.meta = M.coords.meta,
                m.alt = M.coords.alt,
                m.areaData = w.movingAreaData,
                m.links = h,
                m.link = null,
                m.cssClass = null,
                m.html = null,
                v && (m.end = m.start);
                var g = {};
                g.event = r,
                g.start = m.start,
                g.end = m.end,
                g.overlapping = m.overlapping,
                g.resource = m.resource,
                m.multimove.splice(0, 0, g),
                M.gb = m;
                var b = {
                    "start": m.start,
                    "end": m.end,
                    "resource": m.resource
                };
                if ("function" == typeof M.onEventMoving && M.onEventMoving(m),
                i.Om) {
                    if (n.list = x(m.multimove, !0),
                    n.list.splice(0, 1),
                    n.Oo(),
                    t.allowed = m.allowed,
                    u(t, m.cssClass),
                    m.fullShadow) {
                        var y = M.bh(r);
                        t.innerHTML = y.innerHTML,
                        t.style.boxShadow = "0 2px 5px rgba(0,0,0,.2)"
                    } else
                        m.html ? t.firstChild.innerHTML = m.html : t.firstChild.innerHTML = "";
                    var k = !1;
                    if (m.start !== b.start || m.end !== b.end) {
                        var C = m.start
                          , S = M.nj(m.end);
                        t.start = C,
                        t.end = S;
                        var E = DayPilot.DateUtil.diff(C, S);
                        E = f(E, 1);
                        var T = $.Zg(E)
                          , D = T ? M.getPixels(C).boxLeft : M.getPixels(C).left
                          , A = T ? M.getPixels(S).boxRight : M.getPixels(S).left;
                        if (v) {
                            var H = M.eventHeight;
                            D -= H / 2,
                            A = D + H
                        }
                        t.style.left = D + "px",
                        t.left = D,
                        t.style.width = A - D + "px",
                        t.width = A - D,
                        k = !0
                    }
                    if (m.resource !== b.resource) {
                        var R = M.Vl(m.resource);
                        if (R) {
                            if (t.row = R,
                            t.style.height = f(R.height, 0) + "px",
                            t.style.top = R.top + "px",
                            M.eventMoveToPosition) {
                                var B = M.rowMarginTop;
                                t.style.top = R.top + B + "px",
                                t.style.height = "3px",
                                t.line = 0
                            }
                            k = !0
                        }
                    }
                    !function() {
                        var e = t.row
                          , a = r.data
                          , o = t.width
                          , s = t.left
                          , l = x(n.list).map(function(e) {
                            return e.event.data
                        }).add(a);
                        M.Fq(t, e, s, o, l),
                        M.Gq(i.Lq, t.start, t.end, t.row.id)
                    }(),
                    M.Rq(t, m),
                    M.Sq(t, m),
                    U.ul();
                    var N = m.link
                      , L = m.links;
                    N ? e(N) : _(L) && L.forEach(function(t) {
                        e(t)
                    })
                }
            }
            ,
            this.Fq = function(e, t, n, a, r) {
                if (!M.allowEventOverlap) {
                    !function() {
                        e.overlapping = !1;
                        for (var o = 0; o < t.lines.length; o++) {
                            if (!t.lines[o].be(n, a, r))
                                return void (e.overlapping = !0)
                        }
                        var s = t.index;
                        return x(X.list).some(function(t) {
                            var i = t.div
                              , r = parseInt(i.style.left)
                              , o = parseInt(i.style.width)
                              , l = t.start.y;
                            return e !== i && (l === s && d(n, n + a, r, r + o))
                        }) ? void (e.overlapping = !0) : O.Mq().some(function(t) {
                            var i = t.info
                              , r = t.left
                              , o = t.width
                              , l = t.y
                              , c = null;
                            return e.event ? c = e.event.data.id : e.info && (c = e.info.event.data.id),
                            (null === c || c !== i.event.data.id) && l === s && d(n, n + a, r, r + o)
                        }) ? void (e.overlapping = !0) : x(z.divs).some(function(t) {
                            var i = t.info
                              , r = parseInt(t.style.left)
                              , o = parseInt(t.style.width)
                              , l = i.$.Eq.index;
                            return e !== t && l === s && d(n, n + a, r, r + o)
                        }) ? void (e.overlapping = !0) : function() {
                            var t = i.Lq;
                            return !!t && e !== t && (e.info ? e.info.$.Eq : e.row).index === t.row.index && d(e.left, e.left + e.width, t.left, t.left + t.width)
                        }() ? void (e.overlapping = !0) : void 0
                    }();
                    var o = e.overlapping
                      , s = M.da("_shadow_overlap");
                    o ? u(e, s) : c(e, s)
                }
            }
            ,
            this.Gq = function(e, t, n, i) {
                M.Vc(t, n, i) && (e.overlapping = !0);
                var a = M.da("_shadow_overlap");
                e.overlapping ? u(e, a) : c(e, a)
            }
            ,
            this.Vc = function(e, t, n) {
                if (!(M.cellConfig && M.cellConfig.hasDisabled || M.Dm.Uq))
                    return !1;
                var i = null;
                "Days" === M.viewType && (i = M.Ip(e));
                var a = M.rows.find(n, i).cells.forRange(e, t);
                return !!a && a.some(function(e) {
                    return e.properties.disabled
                })
            }
            ,
            this.Rq = function(e, t) {
                var n = M.da("_shadow_forbidden");
                !t.allowed || O.invalid ? u(e, n) : c(e, n)
            }
            ,
            this.Sq = function(e, t) {
                if (this.Vq(),
                e.calendar === M) {
                    var n = M.uo(e.grid)
                      , i = {};
                    i.left = parseInt(e.style.left),
                    i.top = parseInt(e.style.top),
                    i.right = i.left + parseInt(e.style.width);
                    var a = t.left.width || 10
                      , r = l();
                    if (r.style.position = "absolute",
                    r.style.left = i.left - a - t.left.space + "px",
                    r.style.top = i.top + "px",
                    r.style.height = t.left.height + "px",
                    r.style.overflow = "hidden",
                    r.style.boxSizing = "border-box",
                    r.innerHTML = t.left.html,
                    r.className = M.da("_event_move_left"),
                    r.onmousemove = M.Wq,
                    t.left.enabled)
                        if (n.divHover.appendChild(r),
                        t.left.width)
                            r.style.width = a + "px";
                        else {
                            r.style.whiteSpace = "nowrap";
                            var o = r.offsetWidth
                              , s = i.left - o - t.left.space;
                            r.style.width = o + "px",
                            r.style.left = s + "px";
                            var d = M.nav.scroll.scrollLeft;
                            s < d && n.divHover.removeChild(r);
                            var c = M.jm() + (s - d);
                            c > 0 && (r.style.left = c + "px",
                            r.style.top = i.top - n.div.scrollTop + n.top + "px",
                            M.nav.top.appendChild(r),
                            M.elements.hover.push(r))
                        }
                    var a = t.right.width || 10
                      , u = l();
                    if (u.style.position = "absolute",
                    u.style.left = i.right + t.right.space + "px",
                    u.style.top = i.top + "px",
                    u.style.height = t.right.height + "px",
                    u.style.overflow = "hidden",
                    u.style.boxSizing = "border-box",
                    t.right.width ? u.style.width = t.right.width + "px" : u.style.whiteSpace = "nowrap",
                    u.innerHTML = t.right.html,
                    u.className = this.da("_event_move_right"),
                    u.onmousemove = M.Wq,
                    t.right.enabled) {
                        n.divHover.appendChild(u);
                        var h = M.nav.scroll.scrollWidth;
                        i.right + t.right.space + u.offsetWidth >= h && n.divHover.removeChild(u)
                    }
                }
            }
            ,
            this.Vq = function() {
                M.divHover.innerHTML = "",
                M.Sl.top.divHover.innerHTML = "",
                M.Sl.bottom.divHover.innerHTML = "",
                C(M.elements.hover),
                M.elements.hover = []
            }
            ,
            this.Xq = {};
            var U = this.Xq;
            U.Kc = [],
            U.ul = function() {
                U.Kc.forEach(function(e) {
                    e.clear()
                }),
                U.Kc = []
            }
            ,
            U.Tq = function(e) {
                e && U.Kc.push(e)
            }
            ,
            this.Yq = function() {
                var e = M.rowHeaderColumnDefaultWidth;
                if (this.rowHeaderColumns) {
                    var t = $.pq();
                    this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e)
                } else
                    this.rowHeaderCols = null
            }
            ,
            this.Zq = function() {
                var e = 0;
                if (this.Yq(),
                this.rowHeaderCols)
                    for (var t = 0; t < this.rowHeaderCols.length; t++)
                        e += this.rowHeaderCols[t];
                else
                    e = this.rowHeaderWidth;
                return e
            }
            ,
            this.$q = function() {
                return this._q(M.progressiveRowRenderingPreload)
            }
            ,
            this._q = function(e) {
                var e = e || 0
                  , t = 0
                  , n = M.rowlist.length;
                if (M.progressiveRowRendering) {
                    var i = M.rd();
                    t = i.yStart,
                    function() {
                        var e = M.rowlist[t]
                          , n = e && e.split && e.split.parent;
                        n && (t = n.index)
                    }(),
                    n = i.yEnd + 1,
                    t = f(0, t - e),
                    n = Math.min(M.rowlist.length, n + e)
                }
                return {
                    "start": t,
                    "end": n
                }
            }
            ,
            this.ar = function() {
                function e(e, t, n) {
                    for (var i = M.uo(e).divHeader, r = t; r < n; r++) {
                        var o = i.rows[r];
                        if (o) {
                            var s = {
                                "row": o,
                                "grid": e,
                                "i": r
                            };
                            M.br(s, a)
                        }
                    }
                }
                if (this.qg()) {
                    var t = !1
                      , n = 0;
                    if (this.rowHeaderWidthAutoFit) {
                        var i = this.divHeader;
                        if (!i)
                            return;
                        if (!i.rows)
                            return;
                        var a = [];
                        this.Yq();
                        M.rowHeaderWidthAutoFitShrink && (M.rowHeaderScrolling || (M.rowHeaderWidth = 0),
                        M.rowHeaderCols && M.rowHeaderCols.forEach(function(e, t) {
                            M.rowHeaderCols[t] = 0
                        }));
                        var r = M.$q();
                        if (e("main", r.start, r.end),
                        M.Sl.top.enabled() && e("top", 0, M.Sl.top.divHeader.rows.length),
                        M.Sl.bottom.enabled() && e("bottom", 0, M.Sl.bottom.divHeader.rows.length),
                        this.rowHeaderCols)
                            for (var o = 0; o < a.length; o++)
                                "number" == typeof this.rowHeaderCols[o] && (a[o] > this.rowHeaderCols[o] && (this.rowHeaderCols[o] = a[o],
                                t = !0),
                                n += this.rowHeaderCols[o]);
                        else {
                            n = this.rowHeaderWidth;
                            var s = $.km();
                            this.rowHeaderWidth < a[0] + M.rowHeaderWidthMarginRight + s && (n = a[0] + M.rowHeaderWidthMarginRight + s,
                            t = !0)
                        }
                    }
                    t && (this.qo && (this.qo.widths = this.rowHeaderCols,
                    this.qo.updateWidths(),
                    DayPilot.Util.updatePropsFromArray($.pq(), "width", this.rowHeaderCols)),
                    this.rowHeaderCols || (this.rowHeaderWidth = n),
                    this.en(),
                    this.cr())
                }
            }
            ,
            this.br = function(e, t) {
                var n = e.row
                  , i = M.uo(e.grid)
                  , a = i.rowlist[e.i]
                  , r = M.rowHeaderColumns;
                if (!a.hidden) {
                    for (var o = 0; o < n.cells.length; o++)
                        if (n.cells[o] && "number" != typeof n.cells[o].dr) {
                            var s = n.cells[o].firstChild.firstChild;
                            if (s && s.style) {
                                var l = s.style.width
                                  , d = s.style.right
                                  , c = s.style.display;
                                s.style.position = "absolute",
                                s.style.width = "auto",
                                s.style.right = "auto",
                                s.style.whiteSpace = "nowrap",
                                s.style.display = "block";
                                var u = s.offsetWidth + 2;
                                n.cells[o].dr = u,
                                s.style.position = "",
                                s.style.width = l,
                                s.style.right = d,
                                s.style.display = c,
                                s.style.whiteSpace = ""
                            }
                        }
                    for (var o = 0; o < n.cells.length; o++)
                        if (n.cells[o]) {
                            var u = n.cells[o].dr;
                            if ("undefined" == typeof t[o] && (t[o] = 0),
                            r && r[o] && "number" == typeof r[o].maxAutoWidth) {
                                var h = r[o].maxAutoWidth;
                                u = Math.min(u, h)
                            }
                            t[o] = Math.max(t[o], u)
                        }
                }
            }
            ,
            this.wl = function() {
                this.er = !0,
                this.Yq();
                var e = this.Zq()
                  , t = this.divHeader;
                if (t.style.width = e + "px",
                t.style.height = M.hl + "px",
                M.Sl.main.divHeader = t,
                M.progressiveRowRendering)
                    a();
                else
                    for (var n = this.rowlist.length, i = 0; i < n; i++)
                        M.fr(i);
                if (M.Sl.top.enabled())
                    for (var i = 0; i < M.Sl.top.rowlist.length; i++)
                        M.fr(i, "top");
                if (M.Sl.bottom.enabled())
                    for (var i = 0; i < M.Sl.bottom.rowlist.length; i++)
                        M.fr(i, "bottom");
                M.gr(),
                this.divResScroll.appendChild(t),
                this.rowHeaderWidthAutoFit && this.ar()
            }
            ,
            this.vl = function() {
                function e(e) {
                    var t = M.uo(e)
                      , n = t.divHeader
                      , i = n;
                    n.hr && (i = n.hr),
                    M.lo(e),
                    i && (i.innerHTML = ""),
                    n && (n.rows = [])
                }
                e("main"),
                e("top"),
                e("bottom")
            }
            ,
            this.gn = function() {
                if (M.progressiveRowRendering) {
                    for (var e = this.$q(), t = 0; t < M.rowlist.length; t++)
                        e.start <= t && t < e.end ? M.fr(t) : M.vo(t);
                    if (this.rowHeaderWidthAutoFit && !i.ir) {
                        var n = M.jm();
                        this.ar();
                        if (M.jm() !== n) {
                            var a = this.cellWidth;
                            this.ol();
                            this.cellWidth !== a && (M.ql(),
                            M.xl(),
                            M.yl(),
                            M.yb(),
                            M.qb(),
                            P.ul(),
                            M.jr())
                        }
                    }
                }
            }
            ,
            this.gr = function() {
                if (!M.Ja.kr()) {
                    var e = M.divHeader
                      , t = l();
                    t.style.position = "absolute",
                    e.appendChild(t),
                    M.nav.resScrollSpace = t,
                    t.setAttribute("unselectable", "on");
                    var n = l();
                    n.style.position = "relative",
                    n.style.height = "100%",
                    n.className = this.da("_rowheader"),
                    t.appendChild(n);
                    var i = this.Zq()
                      , t = M.nav.resScrollSpace;
                    t.style.width = i + "px",
                    t.style.top = this.hl + "px"
                }
            }
            ,
            this.vo = function(e, t) {
                var n = M.uo(t)
                  , i = n.divHeader.rows[e];
                if (i) {
                    if (i)
                        for (var a = 0; a < i.cells.length; a++) {
                            var r = i.cells[a]
                              , o = r.domArgs;
                            if (r.domArgs = null,
                            o && "function" == typeof M.onBeforeRowHeaderDomRemove && M.onBeforeRowHeaderDomRemove(o),
                            o && "function" == typeof M.onBeforeRowHeaderDomAdd && M.X.reactDOM) {
                                var s = o && o.Ie;
                                if (s) {
                                    var l = M.X.reactDOM && m(o.element)
                                      , d = M.Z.Ke && (g(o.element) || b(o.element));
                                    l ? M.X.la(s) : d && (M.Z.Le = !0,
                                    M.Z.ma(s),
                                    M.Z.Le = !1)
                                }
                            }
                            o && (o.element = null,
                            o.Ie = null)
                        }
                    C(i.cells),
                    n.divHeader.rows[e] = null
                }
            }
            ,
            this.xn = function(e, t) {
                this.vo(e, t),
                this.fr(e, t)
            }
            ,
            this.vn = function() {
                return "Standard" === M.rowHeaderColumnsMode || "Tabular" === M.rowHeaderColumnsMode
            }
            ,
            this.lr = function(e, t) {
                var n = void 0;
                return e.tags && (n = e.tags[t]),
                "undefined" != typeof n ? n : e[t]
            }
            ,
            this.Pn = function(e, t, n) {
                return e.tags && "undefined" != typeof e.tags[t] ? void (e.tags[t] = n) : void (e[t] = n)
            }
            ,
            this.fr = function(e, t) {
                function n() {
                    var t = l();
                    if (M.treeEnabled && !c.isNewRow) {
                        var n = c.level * M.treeIndent + M.treeImageMarginLeft;
                        K && (n += V);
                        var i = M.treeImageWidth
                          , a = M.treeImageHeight;
                        t.style.marginLeft = n + "px",
                        t.style.position = "relative",
                        t.className = M.da("_rowheader_inner_indent");
                        var r = l();
                        r.style.width = i + "px",
                        r.style.height = a + "px",
                        r.style.backgroundRepeat = "no-repeat",
                        r.style.position = "absolute",
                        r.style.top = M.treeImageMarginTop + "px",
                        c.loaded || 0 !== c.children.length ? c.children.length > 0 ? (c.expanded ? r.className = M.da("_tree_image_collapse") : r.className = M.da("_tree_image_expand"),
                        r.style.cursor = "pointer",
                        r.index = e,
                        r.onclick = function(e) {
                            M.bq(this.index),
                            e.cancelBubble = !0
                        }
                        ) : r.className = M.da("_tree_image_no_children") : (r.className = M.da("_tree_image_expand"),
                        r.style.cursor = "pointer",
                        r.index = e,
                        r.onclick = function(e) {
                            M.yr(this.index),
                            e.cancelBubble = !0
                        }
                        ),
                        t.appendChild(r)
                    }
                    var o = l();
                    if (M.treeEnabled) {
                        var s = M.treeImageMarginRight;
                        o.style.marginLeft = i + s + "px"
                    }
                    o.innerHTML = M.Ha(D.text, D.html),
                    o.className = M.da("_rowheader_inner_text"),
                    S.textDiv = o,
                    S.cellDiv = U,
                    t.appendChild(o),
                    Y.appendChild(t);
                    var d = D.verticalAlignment || T.verticalAlignment;
                    if (d)
                        switch (Y.style.display = "flex",
                        d) {
                        case "center":
                            Y.style.alignItems = "center";
                            break;
                        case "top":
                            Y.style.alignItems = "flex-start";
                            break;
                        case "bottom":
                            Y.style.alignItems = "flex-end"
                        }
                }
                function i(t, n, i) {
                    if (("function" == typeof M.onBeforeRowHeaderDomAdd || "function" == typeof M.onBeforeRowHeaderDomRemove) && !c.isNewRow) {
                        var a = {};
                        if (a.control = M,
                        a.row = M.On(c),
                        a.x = t,
                        a.element = null,
                        a.target = "Cell",
                        o.rows[e].cells[t].domArgs = a,
                        "function" == typeof M.onBeforeRowHeaderDomAdd && M.onBeforeRowHeaderDomAdd(a),
                        a.element) {
                            var r = null;
                            switch (a.target && a.target.toLowerCase()) {
                            case "text":
                                r = n;
                                break;
                            case "cell":
                                r = i
                            }
                            if (r) {
                                a.Ie = r,
                                r.innerHTML = "";
                                var s = m(a.element)
                                  , l = g(a.element)
                                  , d = b(a.element);
                                if (s) {
                                    if (!M.X.reactDOM)
                                        throw new DayPilot.Exception("Can't reach ReactDOM");
                                    M.X.W(a.element, r)
                                } else if (l) {
                                    if (!M.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    M.Z.Le = !0,
                                    M.Z._(a.element, r, a.props),
                                    M.Z.Le = !1
                                } else if (d) {
                                    if (!M.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    M.Z.Le = !0,
                                    M.Z.Me(a.element, r),
                                    M.Z.Le = !1
                                } else
                                    r.appendChild(a.element)
                            }
                        }
                    }
                }
                var a = M.uo(t)
                  , r = a.rowlist
                  , o = a.divHeader
                  , s = o;
                if (o.hr && (s = o.hr),
                o && !o.rows[e]) {
                    var d = this.rowHeaderCols
                      , c = r[e];
                    if (c && !c.hidden) {
                        var h = W.wa[c.grid + "_" + e]
                          , f = c.height
                          , v = c.cells && c.cells[0];
                        v && v.rowspan > 1 && (f = v.row.split.totalHeight());
                        var p = null;
                        c.split && c.split.parent && c.split.mr() && (p = M.qq(c.split.parent));
                        var y = this.qq(c)
                          , w = d && y.row.columns && y.row.columns.length > 0
                          , k = w ? this.rowHeaderCols.length : 0
                          , C = this.Zq();
                        o.rows[e] = {},
                        o.rows[e].cells = [];
                        var S = l();
                        S.style.position = "absolute",
                        S.style.top = c.top + "px",
                        S.row = p ? c.split.parent : c,
                        S.index = e,
                        S.column = 0;
                        var T = y.row
                          , D = p ? p.row : T
                          , A = M.vn()
                          , H = c.children.length > 0
                          , R = M.internalUseStandardColumns && !c.isNewRow
                          , B = _(M.rowHeaderColumns)
                          , P = R || A && B
                          , N = x(y.row.columns);
                        p && B && y.row.columns.length === M.rowHeaderColumns.length && M.rowHeaderColumns.forEach(function(e, t) {
                            e.split || (N[t] = p.row.columns[t])
                        }),
                        P && (N = N.filter(function(e, t) {
                            return !M.rowHeaderColumns[t].hidden
                        }),
                        k = N.length);
                        var L = !(M.rowHeaderColumnsMergeParents && H);
                        if (P && L) {
                            D = N[0] || y.row;
                            var I = M.rowHeaderColumns.find(function(e) {
                                return !e.hidden
                            });
                            I && I.split && (S.row = c)
                        }
                        M.ka() && (D = y.row);
                        var z = w ? d[0] : C;
                        S.style.width = z + "px",
                        S.style.border = "0px none";
                        var O = D.toolTip || T.toolTip;
                        O && (S.title = O),
                        S.setAttribute("unselectable", "on"),
                        "undefined" != typeof T.ariaLabel ? S.setAttribute("aria-label", T.ariaLabel) : S.setAttribute("aria-label", D.text || ""),
                        S.onmouseenter = M.nr,
                        S.onmouseleave = M.or,
                        S.onmousemove = M.pr,
                        S.onmouseout = M.qr,
                        S.onmouseup = M.rr,
                        S.oncontextmenu = M.sr,
                        S.onclick = M.ur,
                        S.ondblclick = M.vr,
                        DayPilot.rePassive(S, "touchstart", M.Ve.wr),
                        DayPilot.reNonPassive(S, "touchend", M.Ve.xr);
                        var U = l();
                        U.style.width = z + "px",
                        U.setAttribute("unselectable", "on"),
                        U.className = this.da("_rowheader"),
                        h && u(U, M.da("_rowheader_selected")),
                        T.cssClass && u(U, T.cssClass),
                        D.cssClass && u(U, D.cssClass);
                        var j = D.backColor || T.backColor;
                        j && (U.style.background = j);
                        var q = D.fontColor || T.fontColor;
                        q && (U.style.color = q);
                        var F = D.horizontalAlignment || T.horizontalAlignment;
                        M.treeEnabled && (F = null),
                        F && (U.style.textAlign = F),
                        U.style.height = f + "px",
                        U.style.overflow = "hidden",
                        U.style.position = "relative";
                        var Y = l();
                        switch (Y.setAttribute("unselectable", "on"),
                        Y.className = this.da("_rowheader_inner"),
                        F) {
                        case "right":
                            Y.style.justifyContent = "flex-end";
                            break;
                        case "left":
                            Y.style.justifyContent = "flex-start";
                            break;
                        case "center":
                            Y.style.justifyContent = "center"
                        }
                        U.appendChild(Y);
                        var K = "Disabled" !== this.rowMoveHandling && "main" === c.grid
                          , V = M.rowDragHandleWidth
                          , Z = D.areas || [];
                        K && !T.moveDisabled && Z.push({
                            "v": "Hover",
                            "w": V,
                            "bottom": 0,
                            "top": 0,
                            "left": 0,
                            "css": M.da("_rowmove_handle"),
                            "action": "Move"
                        });
                        var G = M.On(c);
                        DayPilot.Areas.attach(U, G, {
                            "areas": Z,
                            "allowed": function() {
                                return !E.row
                            }
                        });
                        var X = l();
                        X.style.position = "absolute",
                        X.style.bottom = "0px",
                        X.style.width = "100%",
                        X.style.height = "0px",
                        X.style.boxSizing = "content-box",
                        X.style.borderBottom = "1px solid transparent",
                        X.className = this.da(J.resourcedivider),
                        U.appendChild(X),
                        n(),
                        S.appendChild(U);
                        v && v.refCell || (o.rows[e].cells[0] = S,
                        i(0, S.textDiv, Y),
                        s.appendChild(S));
                        var Q = !c.isNewRow && M.rowHeaderColumnsMergeParents && y.row.children().length > 0;
                        if (!y.row.columns || 0 === y.row.columns.length || Q)
                            S.colSpan = "max",
                            U.style.width = C + "px";
                        else
                            for (var $ = z, ee = R || A ? 0 : 1, te = 1; te < k; te++) {
                                var D = N[te - ee] || {}
                                  , v = c.cells[te - ee]
                                  , f = c.height;
                                v.rowspan > 1 && (f = v.row.split.totalHeight());
                                var S = l();
                                S.style.position = "absolute",
                                S.style.top = c.top + "px",
                                S.style.left = $ + "px",
                                S.row = c,
                                S.index = e,
                                S.column = te;
                                var ne = D.toolTip || T.toolTip;
                                ne && (S.title = ne),
                                S.setAttribute("unselectable", "on"),
                                S.onmousemove = M.pr,
                                S.onmouseout = M.qr,
                                S.onmouseup = M.rr,
                                S.oncontextmenu = M.sr,
                                S.onclick = M.ur,
                                S.ondblclick = M.vr;
                                var U = l()
                                  , ie = d[te];
                                $ += ie;
                                var j = D.backColor || T.backColor;
                                j && (U.style.backgroundColor = j);
                                var q = D.fontColor || T.fontColor;
                                q && (U.style.color = q),
                                U.style.width = ie + "px",
                                U.style.height = f + "px",
                                U.style.overflow = "hidden",
                                U.style.position = "relative",
                                U.setAttribute("unselectable", "on"),
                                u(U, this.da("_rowheader")),
                                u(U, this.da("_rowheadercol")),
                                u(U, this.da("_rowheadercol" + te)),
                                h && u(U, M.da("_rowheader_selected")),
                                T.cssClass && u(U, T.cssClass),
                                D.cssClass && u(U, D.cssClass);
                                var ae = D.horizontalAlignment || T.horizontalAlignment;
                                ae && (U.style.textAlign = ae);
                                var Y = l();
                                switch (Y.setAttribute("unselectable", "on"),
                                Y.className = this.da("_rowheader_inner"),
                                ae) {
                                case "right":
                                    Y.style.justifyContent = "flex-end";
                                    break;
                                case "left":
                                    Y.style.justifyContent = "flex-start";
                                    break;
                                case "center":
                                    Y.style.justifyContent = "center"
                                }
                                U.appendChild(Y);
                                var X = l();
                                X.style.position = "absolute",
                                X.style.bottom = "0px",
                                X.style.width = "100%",
                                X.style.height = "0px",
                                X.style.boxSizing = "content-box",
                                X.style.borderBottom = "1px solid transparent",
                                X.className = this.da("_resourcedivider"),
                                U.appendChild(X);
                                var re = l()
                                  , oe = M.Ha(D.text, D.html);
                                re.innerHTML = oe,
                                S.textDiv = re,
                                S.cellDiv = U,
                                Y.appendChild(re),
                                DayPilot.Areas.attach(U, G, {
                                    "areas": D.areas,
                                    "allowed": function() {
                                        return !E.row
                                    }
                                }),
                                S.appendChild(U),
                                v.refCell || (o.rows[e].cells[te] = S,
                                i(te, re, Y),
                                s.appendChild(S))
                            }
                    }
                }
            }
            ,
            this.sr = function(e) {
                if ("Disabled" === M.rowRightClickHandling)
                    return !1;
                var t = this.row
                  , n = this.column
                  , i = M.On(t)
                  , a = {};
                if (a.ctrl = e.ctrlKey,
                a.shift = e.shiftKey,
                a.meta = e.metaKey,
                a.originalEvent = e,
                a.row = i,
                a.x = n,
                a.preventDefault = function() {
                    this.preventDefault.value = !0
                }
                ,
                "function" != typeof M.onRowRightClick || (M.onRowRightClick(a),
                !a.preventDefault.value)) {
                    switch (M.rowRightClickHandling) {
                    case "ContextMenu":
                        t.contextMenu && t.contextMenu.show(i)
                    }
                    return "function" == typeof M.onRowRightClicked && M.onRowRightClicked(a),
                    !1
                }
            }
            ,
            this.ur = function(e) {
                if (!q.cancelClick) {
                    var t = this.row
                      , n = this.column
                      , i = M.On(t, this.index);
                    return t.isNewRow ? void M.Wn.Vn(t) : void M.Sn(i, e, n)
                }
            }
            ,
            this.vr = function(e) {
                if (M.Pm.resClick) {
                    for (var t in M.Pm.resClick)
                        window.clearTimeout(M.Pm.resClick[t]);
                    M.Pm.resClick = null
                }
                var n = this.row
                  , i = M.On(n, this.index)
                  , a = this.column;
                if (M.Hb()) {
                    var r = {};
                    if (r.resource = i,
                    r.row = i,
                    r.x = a,
                    r.ctrl = e.ctrlKey,
                    r.shift = e.shiftKey,
                    r.meta = e.metaKey,
                    r.originalEvent = e,
                    r.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onRowDoubleClick && (M.onRowDoubleClick(r),
                    r.preventDefault.value))
                        return;
                    switch (M.rowDoubleClickHandling) {
                    case "PostBack":
                        M.rowDoubleClickPostBack(i);
                        break;
                    case "CallBack":
                        M.rowDoubleClickCallBack(i);
                        break;
                    case "Select":
                        M.Un(n, e.ctrlKey, e.shiftKey, e.metaKey);
                        break;
                    case "Edit":
                        M.Wn.Vn(n, a)
                    }
                    "function" == typeof M.onRowDoubleClicked && M.onRowDoubleClicked(r)
                } else
                    switch (M.rowDoubleClickHandling) {
                    case "PostBack":
                        M.rowDoubleClickPostBack(i);
                        break;
                    case "CallBack":
                        M.rowDoubleClickCallBack(i);
                        break;
                    case "JavaScript":
                        M.onRowDoubleClick(i);
                        break;
                    case "Select":
                        M.Un(n, e.ctrlKey, e.shiftKey, e.metaKey);
                        break;
                    case "Edit":
                        M.Wn.Vn(n, a)
                    }
            }
            ,
            this.rowDoubleClickPostBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ka("RowDoubleClick", n, t)
            }
            ,
            this.rowDoubleClickCallBack = function(e, t) {
                var n = {};
                n.resource = e,
                this.Ma("RowDoubleClick", n, t)
            }
            ,
            this.zr = function(e) {
                if ("Disabled" !== M.timeHeaderClickHandling) {
                    var t = {};
                    t.start = this.cell.start,
                    t.level = this.cell.level,
                    t.end = this.cell.end,
                    t.end || (t.end = new DayPilot.Date(t.start).addMinutes(M.cellDuration)),
                    M.Xn(t, e)
                }
            }
            ,
            this.Ar = function(t) {
                if ("Disabled" !== M.timeHeaderRightClickHandling) {
                    t.cancelBubble = !0,
                    t.preventDefault();
                    var n = {};
                    if (n.start = this.cell.start,
                    n.level = this.cell.level,
                    n.end = this.cell.end,
                    n.end || (n.end = new DayPilot.Date(n.start).addMinutes(M.cellDuration)),
                    M.Hb()) {
                        var i = {};
                        if (i.header = n,
                        i.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onTimeHeaderRightClick && (M.onTimeHeaderRightClick(i),
                        i.preventDefault.value))
                            return;
                        switch (this.timeHeaderRightClickHandling) {
                        case "PostBack":
                            M.timeHeaderRightClickPostBack(e);
                            break;
                        case "CallBack":
                            M.timeHeaderRightClickCallBack(e)
                        }
                        "function" == typeof M.onTimeHeaderRightClicked && M.onTimeHeaderRightClicked(i)
                    }
                }
            }
            ,
            this.Br = function(e) {
                var t = M.rowlist[e];
                if (t.hidden)
                    return 0;
                var n = t.height;
                return "number" == typeof t.forcedHeight && (n = t.forcedHeight),
                n
            }
            ,
            this.Cr = function(e, t, n) {
                M.divHeader,
                M.elements.cells,
                M.wa.cells;
                e.forEach(function(e) {})
            }
            ,
            this.Dr = function(e, t, n) {
                function i(e) {
                    var n = M.Br(e)
                      , i = t;
                    "hide" === t ? i = 0 : "show" === t && (i = M.rowlist[e].height);
                    var a = i - n;
                    o.push({
                        "i": e,
                        "now": n,
                        "dist": a
                    })
                }
                function a(e) {
                    s || (s = e);
                    var t = e - s
                      , i = Math.min(1, t / r);
                    0 === i && (i = .1),
                    o.forEach(function(e) {
                        var t = e.now + e.dist * i;
                        M.rowlist[e.i].forcedHeight = t
                    }),
                    M.sl(),
                    M.Er(),
                    i < 1 ? window.requestAnimationFrame(a) : (l.style.overflowX = d,
                    l.style.overflowY = c,
                    "function" == typeof n && n())
                }
                var r = 200
                  , o = [];
                if ("number" == typeof e)
                    i(e);
                else {
                    if (!_(e))
                        throw new DayPilot.Exception("Unexpected param (must be number/array).");
                    e.forEach(function(e) {
                        i(e)
                    })
                }
                var s = 0
                  , l = M.nav.scroll
                  , d = l.style.overflowX
                  , c = l.style.overflowY;
                0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"),
                window.requestAnimationFrame(a)
            }
            ,
            this.On = function(e) {
                return new DayPilot.Row(e,M)
            }
            ,
            this.Bm = function(e, t) {
                t = t || "main";
                var n = M.Sl[t]
                  , i = n.rowlist
                  , a = i[e];
                if (a.events || a.Fr(),
                !a.data) {
                    if (a.data = {},
                    a.data.start = new DayPilot.Date(a.start),
                    a.data.startTicks = a.data.start.getTime(),
                    a.end)
                        a.data.end = new DayPilot.Date(a.end);
                    else {
                        var r = this.ce().getTime() - this.Rb().getTime();
                        a.data.end = $.Gr() ? a.data.start.addTime(r) : a.data.start.addDays(1)
                    }
                    a.data.endTicks = a.data.end.getTime(),
                    a.data.offset = a.start.getTime() - this.Rb().getTime(),
                    a.data.i = e,
                    a.data.grid = t
                }
            }
            ,
            this.Ro = {},
            this.mp = [],
            this.qb = function(e) {
                if (e ? this.events.list = e : this.events.list || (this.events.list = []),
                null != this.events.list && !_(this.events.list))
                    throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");
                j.ij(!0);
                var t, n = this.events.list, i = "function" == typeof this.onBeforeEventRender, a = "Resources" === M.viewType;
                M.Ro = {};
                for (var r = 0; r < n.length; r++) {
                    var o = n[r];
                    if (o) {
                        if ("object" != typeof o)
                            throw new DayPilot.Exception("Event data item must be an object");
                        if (!o.start)
                            throw new DayPilot.Exception("Event data item must specify 'start' property");
                        if (o instanceof DayPilot.Event)
                            throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                        var s = "string" == typeof o.id || "number" == typeof o.id
                          , l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                        if (!s) {
                            var l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                            if (!l)
                                throw new DayPilot.Exception("All events must have an id property (string or number)")
                        }
                        var d = "_" + o.id;
                        !s && l && (d = "#" + o.recurrentMasterId + "#" + new DayPilot.Date(o.start));
                        if (!M.temp.allowDuplicateEventIds && M.Ro[d])
                            throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + d);
                        M.Ro[d] = {},
                        "Milestone" === o.type && (o.end = o.start),
                        i && this.Cg(r),
                        "*" === o.resource ? t = M.rowlist : a ? t = M.Hr(o.resource).concat(M.Hr("*")) : "Days" === M.viewType ? t = M.rowlist : "Gantt" === M.viewType && (t = M.Hr(o.id));
                        for (var c = !1, u = 0; t && u < t.length; u++) {
                            var h = t[u]
                              , f = this.tp(o, h, r);
                            if (f) {
                                c = f;
                                var v = M.Ro[d];
                                v.So || (v.So = f),
                                i && (f.cache = this.wa.events[r]),
                                f.up = r
                            }
                        }
                    }
                }
                M.Am().forEach(function(e) {
                    M.zp(e)
                }),
                M.wp(),
                M.Ym()
            }
            ,
            this.Ir = function(e, t) {
                return e.start - t.start
            }
            ,
            this.wp = function() {
                M.mp = [];
                for (var e in M.Ro) {
                    var t = M.Ro[e];
                    if (t && t.So) {
                        var n = t.So.part.start.getTime()
                          , i = t.So.part.end.getTime()
                          , a = {
                            "i": t.So.up,
                            "start": n,
                            "end": i
                        };
                        M.mp.push(a)
                    }
                }
                M.mp.sort(M.Ir)
            }
            ,
            this.Jr = {};
            var j = this.Jr;
            j.Kr = {},
            j.ij = function(e) {
                j.Kr = {},
                j.Lr = {},
                j.Mr = [];
                for (var t = M.Am({
                    "includeSplitParents": !0
                }), n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (e && i.Fr(),
                    M.Bm(i.index, i.grid),
                    v(i.id))
                        j.Mr.push(i);
                    else if (!i.isNewRow) {
                        var a = i.split.list && i.split.list.length > 0
                          , r = typeof i.id + "_" + i.id;
                        a ? (j.Lr[r] || (j.Lr[r] = []),
                        j.Lr[r].push(i)) : (j.Kr[r] || (j.Kr[r] = []),
                        j.Kr[r].push(i))
                    }
                }
            }
            ,
            j.loadEvent = function(e) {}
            ,
            this.Hr = function(e, t) {
                if (v(e))
                    return j.Mr;
                t = t || {};
                var n = t.includeSplitParents
                  , i = typeof e + "_" + e
                  , a = j.Kr[i] || [];
                return n && (a = a.concat(j.Lr[i])),
                a
            }
            ,
            this.sp = function() {
                var e = {};
                if ("Resources" !== M.viewType)
                    return !1;
                for (var t = 0; t < M.rowlist.length; t++) {
                    var n = M.rowlist[t]
                      , i = n.id;
                    if (e[i])
                        return !0;
                    e[i] = !0
                }
                return !1
            }
            ,
            this.Cg = function(e) {
                var t = this.wa.events
                  , n = this.events.list[e]
                  , i = {};
                n instanceof DayPilot.Event && (n = n.data);
                for (var a in n)
                    i[a] = n[a];
                if ("string" == typeof i.start && (i.start = new DayPilot.Date(i.start)),
                "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)),
                "function" == typeof this.onBeforeEventRender) {
                    var r = {};
                    r.e = i,
                    r.data = i,
                    this.onBeforeEventRender(r)
                }
                t[e] = i
            }
            ,
            this.Nr = function(e) {
                var t = e.data.container
                  , n = typeof t;
                return "string" !== n && "number" !== n ? null : typeof t + "_" + t
            }
            ,
            this.zp = function(e) {
                if (e.lines = [],
                e.sections = null,
                !e.isNewRow) {
                    this.sortDirections ? e.events.sort(this._g) : M.cl || e.events.sort(this.$g),
                    e.containerCache = {},
                    e.containers = [],
                    e.events.forEach(function(t) {
                        var n = M.Nr(t);
                        if (n) {
                            var i = e.containerCache[n];
                            i || (i = {
                                "events": [],
                                "line": null,
                                "start": null,
                                "end": null,
                                "left": null,
                                "width": null
                            },
                            e.containerCache[n] = i,
                            e.containers.push(i)),
                            t.part.container = i,
                            i.events.push(t)
                        }
                    }),
                    e.containers.forEach(function(e) {
                        var t = e.events[0]
                          , n = e.events[e.events.length - 1];
                        e.start = t.part.start,
                        e.end = n.part.end,
                        e.left = t.part.left,
                        e.width = n.part.right - t.part.left,
                        e.right = n.part.right
                    });
                    if (M.cl)
                        return void V.zp(e);
                    var t = M.groupConcurrentEvents;
                    if (t)
                        for (var n = 0; n < e.blocks.length; n++)
                            e.blocks[n].clear();
                    x(e.events).forEach(function(t) {
                        if (!t.part.height)
                            return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = $.yo())
                    });
                    var i = function(e) {
                        return "number" == typeof e.data.line
                    };
                    e.events.filter(i).forEach(function(t) {
                        e.ae(t)
                    });
                    for (var a = 0; a < e.events.length; a++) {
                        var r = e.events[a];
                        e.ae(r),
                        t && e.$d(r)
                    }
                    for (var o = 0, n = 0; n < e.lines.length; n++) {
                        var s = e.lines[n];
                        s.top = o,
                        o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100
                    }
                    if (t)
                        for (var a = 0; a < e.blocks.length; a++) {
                            var l = e.blocks[a];
                            l.lines = [],
                            l.events.sort(this._g);
                            for (var d = 0; d < l.events.length; d++) {
                                var r = l.events[d];
                                l.ae(r)
                            }
                            l.lines.length <= M.groupConcurrentEventsLimit && (l.expanded = !0);
                            var c = x(l.events).map(function(e) {
                                return e.id()
                            }).some(function(e) {
                                return k(M.Or, e)
                            });
                            c && (l.expanded = !0);
                            for (var o = 0, n = 0; n < l.lines.length; n++) {
                                var s = l.lines[n];
                                s.top = o,
                                o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100
                            }
                        }
                }
            }
            ,
            this.Xm = function(e) {
                e = DayPilot.ua(e),
                e = M.yn(e),
                e.forEach(function(e) {
                    M.zp(e)
                }),
                M.cl ? V.Pr() : e.forEach(function(e) {
                    M.oq(e)
                })
            }
            ,
            this.Kn = function() {
                var e = "Manual" === M.scale ? M.itline[0].start : M.startDate;
                return x(M.rowlist).some(function(t) {
                    return !!t.start && t.start.getTime() !== new DayPilot.Date(e).getTime()
                })
            }
            ,
            this.tp = function(e, t, n) {
                if (!t.hideEvents) {
                    var i = (DayPilot.Util.isNullOrUndefined,
                    new DayPilot.Date(e.start))
                      , a = new DayPilot.Date(e.end);
                    a = M.nj(a);
                    var r = i.ticks
                      , o = a.ticks;
                    if (o < r)
                        return null;
                    "number" != typeof n && (n = S(M.events.list, e));
                    var s = null;
                    if ("function" == typeof M.onBeforeEventRender && (s = M.wa.events[n]),
                    s) {
                        if (s.hidden)
                            return null
                    } else if (e.hidden)
                        return null;
                    var l = !1;
                    switch (this.viewType) {
                    case "Days":
                        l = (!(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks) && !0;
                        break;
                    case "Resources":
                        l = (t.id === e.resource || "*" === t.id || "*" === e.resource) && (!(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks);
                        break;
                    case "Gantt":
                        l = t.id === e.id && !(o <= t.data.startTicks || r >= t.data.endTicks)
                    }
                    if (!l)
                        return null;
                    var d = new DayPilot.Event(e,M);
                    d.part.dayIndex = t.data.i,
                    d.part.grid = t.data.grid,
                    d.part.start = t.data.startTicks < r ? i : t.data.start,
                    d.part.end = t.data.endTicks > o ? a : t.data.end;
                    var c = this.getPixels(d.part.start.addTime(-t.data.offset))
                      , u = this.getPixels(d.part.end.addTime(-t.data.offset));
                    d.part.start === d.part.end && (u = this.getPixels(d.part.end.addTime(-t.data.offset).addMilliseconds(1))),
                    s && s.height ? d.part.height = s.height : e.height && (d.part.height = e.height);
                    s || d.data;
                    d.part.Qr = function() {
                        var e = this.height;
                        if (M.eventVersionsEnabled && !x(d.versions).isEmpty()) {
                            var t = d.versions.length;
                            e += t * M.eventVersionHeight,
                            e += t * M.eventVersionMargin
                        }
                        return e + M.eventMarginBottom
                    }
                    ;
                    var h = c.left
                      , v = u.left;
                    if (d.part.startPixels = c,
                    d.part.endPixels = u,
                    h === v) {
                        if (c.cut || u.cut)
                            return null;
                        var p = (d.part.start.addTime(-t.data.offset).getTime() + d.part.end.addTime(-t.data.offset).getTime()) / 2;
                        if (M.getPixels(new DayPilot.Date(Math.floor(p))).cut)
                            return null
                    }
                    d.part.box = $.Zg(o - r);
                    var m = M.eventHeight;
                    if ("Milestone" === e.type) {
                        var g = e.width || m;
                        d.part.end = d.part.start,
                        d.part.left = h - g / 2,
                        d.part.width = g,
                        d.part.barLeft = 0,
                        d.part.barWidth = g
                    } else if (d.part.box) {
                        var b = c.boxLeft
                          , y = u.boxRight;
                        d.part.left = b,
                        d.part.width = y - b,
                        d.part.barLeft = f(h - d.part.left, 0),
                        d.part.barWidth = f(v - h, 1)
                    } else
                        d.part.left = h,
                        d.part.width = f(v - h, 1),
                        d.part.barLeft = 0,
                        d.part.barWidth = f(v - h - 1, 1);
                    var w = M.eventMinWidth;
                    if (d.part.width = Math.max(d.part.width, w),
                    d.part.right = d.part.left + d.part.width,
                    d.cache = s,
                    d.up = n,
                    M.eventVersionsEnabled && M.Rr(d, t),
                    "function" == typeof M.onEventFilter && M.events.Yg) {
                        var k = {};
                        if (k.filter = M.events.Yg,
                        k.filterParam = M.events.Yg,
                        k.visible = !0,
                        k.e = d,
                        M.onEventFilter(k),
                        !k.visible)
                            return null
                    }
                    return t.events.push(d),
                    d
                }
            }
            ,
            this.Rr = function(e, t) {
                e.versions = [];
                var n = e.cache || e.data
                  , i = x(n.versions);
                if (!i.isEmpty()) {
                    var a = e.part.left
                      , r = e.part.left + e.part.width;
                    i.forEach(function(n) {
                        var i = new DayPilot.Date(n.start)
                          , o = new DayPilot.Date(n.end)
                          , s = M.getPixels(i.addTime(-t.data.offset))
                          , l = M.getPixels(o.addTime(-t.data.offset));
                        i.ticks === o.ticks && (l = M.getPixels(o.addTime(-t.data.offset).addTime(1)));
                        var d = s.left
                          , c = l.left;
                        if (d === c && (s.cut || l.cut))
                            return null;
                        var u = {};
                        u.left = d,
                        u.continueLeft = i < t.data.start,
                        u.right = c,
                        u.continueRight = o > t.data.end,
                        u.width = c - d,
                        e.versions.push(u),
                        u.left < a && (a = u.left),
                        u.right > r && (r = u.right)
                    });
                    M.eventVersionsReserveSpace && !n.versionsReserveSpaceDisabled ? (e.part.versionsLeft = a,
                    e.part.versionsRight = r,
                    e.part.versionsWidth = r - a) : (e.part.versionsLeft = e.part.left,
                    e.part.versionsRight = e.part.left + e.part.width,
                    e.part.versionsWidth = e.part.width)
                }
            }
            ,
            this.$g = function(e, t) {
                if (!(e && t && e.start && t.start))
                    return 0;
                var n = e.start().ticks
                  , i = t.start().ticks
                  , a = e.end().ticks
                  , r = t.end().ticks;
                "Milestone" === e.data.type && (n -= 1,
                a += 1),
                "Milestone" === t.data.type && (i -= 1,
                r += 1);
                var o = n - i;
                return 0 !== o ? o : r - a
            }
            ,
            this._g = function(e, t) {
                if (!e || !t)
                    return 0;
                var n = e.cache || e.data
                  , i = t.cache || t.data;
                if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0))
                    return M.$g(e, t);
                for (var a = 0, r = 0; 0 === a && "undefined" != typeof n.sort[r] && "undefined" != typeof i.sort[r]; )
                    a = n.sort[r] === i.sort[r] ? 0 : "number" == typeof n.sort[r] && "number" == typeof i.sort[r] ? n.sort[r] - i.sort[r] : M.ah(n.sort[r], i.sort[r], M.sortDirections[r]),
                    r++;
                return a
            }
            ,
            this.ah = function(e, t, n) {
                var i = "desc" !== n
                  , a = i ? -1 : 1
                  , r = -a;
                if (null === e && null === t)
                    return 0;
                if (null === t)
                    return r;
                if (null === e)
                    return a;
                var o = [];
                return o[0] = e,
                o[1] = t,
                o.sort(),
                e === o[0] ? a : r
            }
            ,
            this.Un = function(e, t, n, i) {
                if (M.Hb()) {
                    var a = S(M.rowlist, e)
                      , r = M.On(e, a)
                      , o = S(q.Qi, e) !== -1
                      , s = o ? "deselected" : "selected"
                      , l = {};
                    if (l.row = r,
                    l.selected = o,
                    l.ctrl = t,
                    l.shift = n,
                    l.meta = i,
                    l.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof M.onRowSelect && (M.onRowSelect(l),
                    l.preventDefault.value))
                        return;
                    var d = n && !t && !i;
                    if (n || (q.Sr = {
                        "row": e,
                        "index": a
                    }),
                    d) {
                        q.Tr();
                        var c = q.Sr.index
                          , u = a;
                        q.Ur(c, u)
                    }
                    switch (M.rowSelectHandling) {
                    case "PostBack":
                        M.rowSelectPostBack(r, s);
                        break;
                    case "CallBack":
                        M.rowSelectCallBack(r, s);
                        break;
                    case "Notify":
                        !d && q.M(e, t, n, i),
                        M.rowSelectNotify(r, s);
                        break;
                    case "Update":
                        !d && q.M(e, t, n, i)
                    }
                    "function" == typeof M.onRowSelected && (l.selected = S(q.Qi, e) !== -1,
                    M.onRowSelected(l))
                } else {
                    q.M(e, t, n);
                    var a = S(M.rowlist, e)
                      , r = M.On(e, a)
                      , o = S(q.Qi, e) !== -1
                      , s = o ? "deselected" : "selected";
                    switch (M.rowSelectHandling) {
                    case "PostBack":
                        M.rowSelectPostBack(r, s);
                        break;
                    case "CallBack":
                        M.rowSelectCallBack(r, s);
                        break;
                    case "Notify":
                        M.rowSelectNotify(r, s);
                        break;
                    case "JavaScript":
                        M.onRowSelect(r, s)
                    }
                }
            }
            ,
            this.rowSelectPostBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.change = t,
                this.Ka("RowSelect", i, n)
            }
            ,
            this.rowSelectCallBack = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.change = t,
                this.Ma("RowSelect", i, n)
            }
            ,
            this.rowSelectNotify = function(e, t, n) {
                var i = {};
                i.resource = e,
                i.change = t,
                this.Ma("RowSelect", i, n, "Notify")
            }
            ,
            this.rows = {},
            this.rows.selection = {};
            var W = this.rows.selection;
            W.wa = [],
            W.get = function() {
                var e = [];
                return x(q.Qi).forEach(function(t) {
                    e.push(M.On(t))
                }),
                e
            }
            ,
            W.clear = function() {
                q.Vr()
            }
            ,
            W.add = function(e) {
                if (!e || !e.isRow)
                    throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected");
                x(q.Qi).some(function(t) {
                    return t === e.$.row
                }) || (q.Qi.push(e.$.row),
                W.Wr(),
                q.Hk(e.$.row))
            }
            ,
            W.remove = function(e) {
                if (!e || !e.isRow)
                    throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected");
                W.isSelected(e) && (DayPilot.rfa(q.Qi, e.$.row),
                W.Wr(),
                q.Hk(e.$.row))
            }
            ,
            W.isSelected = function(e) {
                if (!e || !e.isRow)
                    throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected");
                return S(q.Qi, e.$.row) !== -1
            }
            ,
            W.Wr = function() {
                M.selectedRows = x(q.Qi).map(function(e) {
                    return e.id
                }),
                W.wa = [],
                q.Qi.forEach(function(e) {
                    W.wa[e.grid + "_" + e.index] = !0
                })
            }
            ,
            this.rows.all = function() {
                for (var e = x(), t = M.Am({
                    "includeSplitParents": !0
                }), n = 0; n < t.length; n++) {
                    var i = M.On(t[n]);
                    e.push(i)
                }
                return e
            }
            ,
            this.rows.visible = function() {
                for (var e = x(), t = 0; t < M.rowlist.length; t++) {
                    var n = M.rowlist[t];
                    if (!n.hidden) {
                        var n = M.On(M.rowlist[t]);
                        e.push(n)
                    }
                }
                return e
            }
            ,
            this.rows.each = function(e) {
                M.rows.all().forEach(e)
            }
            ,
            this.rows.forEach = function(e) {
                M.rows.all().forEach(e)
            }
            ,
            this.rows.filter = function(e, t) {
                M.rows.Yg = e,
                t || M.Aa && M.Jd({
                    "immediateEvents": !0
                })
            }
            ,
            Object.defineProperty(M.rows, "filterParam", {
                get: function() {
                    return M.rows.Yg
                }
            }),
            this.rows.sort = function(e) {
                var t = M.rows.sortParam;
                if ("string" == typeof e)
                    M.rows.Xr = {
                        "field": e,
                        "order": "asc"
                    };
                else if ("object" == typeof e) {
                    var n = p(e);
                    n.order || (n.order = "asc"),
                    M.rows.Xr = n
                } else
                    M.rows.Xr = null;
                if (M.Aa && M.Jd({
                    "immediateEvents": !0
                }),
                "function" == typeof M.onRowSorted) {
                    var i = {};
                    i.oldSortParam = t,
                    M.onRowSorted(i)
                }
            }
            ,
            Object.defineProperty(M.rows, "sortParam", {
                get: function() {
                    return {
                        "order": M.rows.Yr(),
                        "field": M.rows.Zr()
                    }
                }
            }),
            this.rows.Zr = function() {
                var e = M.rows.Xr;
                return e ? e.field : null
            }
            ,
            this.rows.Yr = function() {
                var e = M.rows.Xr;
                return e ? e.order : "asc"
            }
            ,
            this.rows.find = function(e, t) {
                if ("string" == typeof e || "number" == typeof e || !e && t) {
                    var n = M.Hr(e, {
                        "includeSplitParents": !0
                    });
                    e || (n = M.rowlist);
                    var i = null;
                    return "string" == typeof t || t instanceof DayPilot.Date ? (t = new DayPilot.Date(t),
                    i = n.find(function(e) {
                        return t === e.start
                    })) : i = n[0],
                    i ? new DayPilot.Row(i,M) : null
                }
                if ("function" != typeof e)
                    throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");
                var a = t || 0
                  , r = M.rowlist.find(function(t, n) {
                    return !(n < a) && e(M.On(t))
                });
                if (r)
                    return M.On(r)
            }
            ,
            this.rows.load = function(e, t, n) {
                if (!e)
                    throw new DayPilot.Exception("rows.load(): 'url' parameter required");
                var i = function(e) {
                    var t = {};
                    t.exception = e.exception,
                    t.request = e.request,
                    "function" == typeof n && n(t)
                }
                  , a = function(e) {
                    var n, a = e.request;
                    try {
                        n = JSON.parse(a.responseText)
                    } catch (e) {
                        var r = {};
                        return r.exception = e,
                        void i(r)
                    }
                    if (_(n)) {
                        var o = {};
                        if (o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        o.data = n,
                        "function" == typeof t && t(o),
                        o.preventDefault.value)
                            return;
                        M.resources = o.data,
                        M.Aa && M.update()
                    }
                };
                M.rowsLoadMethod && "POST" === M.rowsLoadMethod.toUpperCase() ? DayPilot.ajax({
                    "method": "POST",
                    "url": e,
                    "success": a,
                    "error": i
                }) : DayPilot.ajax({
                    "method": "GET",
                    "url": e,
                    "success": a,
                    "error": i
                })
            }
            ,
            this.rows.expand = function(e) {
                for (var t = [], n = e || 1, i = 0; i < M.rowlist.length; i++) {
                    var a = M.rowlist[i]
                      , r = n === -1;
                    a.level < n && (r = !0),
                    r && !a.expanded && a.children && a.children.length > 0 && t.push(a.index)
                }
                if (0 !== t.length)
                    if (1 === t.length)
                        M.bq(t[0]);
                    else {
                        for (var i = 0; i < t.length; i++) {
                            var o = t[i]
                              , s = M.rowlist[o].resource;
                            s.expanded = !0
                        }
                        M.Jd()
                    }
            }
            ,
            this.rows.expandAll = function() {
                M.rows.expand(-1)
            }
            ,
            this.rows.collapseAll = function() {
                M.rowlist.forEach(function(e) {
                    e.resource.expanded = !1
                }),
                M.Jd()
            }
            ,
            this.rows.headerHide = function() {
                M.$r = !0,
                M._r(),
                M.cr(),
                M.rm()
            }
            ,
            this.rows.headerShow = function() {
                M.$r = !1,
                M._r(),
                M.cr(),
                M.rm()
            }
            ,
            this.rows.headerToggle = function() {
                M.$r ? M.rows.headerShow() : M.rows.headerHide()
            }
            ,
            this.rows.edit = function(e, t) {
                var n = M.rowHeaderColumns
                  , i = n && n.length - 1;
                if ("undefined" != typeof t && (t < 0 || t > i))
                    throw new DayPilot.Exception("Invalid column index: " + t);
                q.Vn(e.$.row, t)
            }
            ,
            this.rows.remove = function(e) {
                if ("number" == typeof e || "string" == typeof e) {
                    var t = M.rows.find(e);
                    if (!t)
                        throw new DayPilot.Exception("The row to be removed was not found");
                    return void M.rows.remove(t)
                }
                var n = e.$.row.resource
                  , i = Y.as(n);
                if (!i)
                    throw new DayPilot.Exception("Cannot find source node parent");
                var a = S(i, n);
                i.splice(a, 1),
                M.update()
            }
            ,
            this.rows.add = function(e) {
                M.resources.push(e),
                M.Jd()
            }
            ,
            this.rows.addChild = function(e, t) {
                if ("number" != typeof e && "string" != typeof e || (e = M.rows.find(e)),
                e) {
                    if (!(e instanceof DayPilot.Row)) {
                        var t = e;
                        if (e = M.rows.find(t.id),
                        !e)
                            return
                    }
                    e.data.children || (e.data.children = []),
                    e.data.children.push(t),
                    M.Jd()
                }
            }
            ,
            this.rows.update = function(e) {
                if (!(e instanceof DayPilot.Row || "object" == typeof e))
                    throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");
                if (!(e instanceof DayPilot.Row)) {
                    var t = e;
                    if (e = M.rows.find(t.id),
                    !e)
                        return;
                    e.data = t
                }
                !x(M.events.rp.rows).isEmpty() && (Q.qp = !0,
                M.events.En({
                    "dontResetFocus": !0
                })),
                Q.qp = !1;
                var n = M.rows.selection.isSelected(e)
                  , i = e
                  , a = i.splitChildren()
                  , r = a.length > 0
                  , o = i.$.row.split.parent
                  , s = e.index
                  , l = M.uo(e.grid).rowlist;
                r && (l = M.uo(e.grid).rowlistparents,
                s = l.indexOf(e.$.row));
                var d = l[s]
                  , c = e.data
                  , u = e.parent() ? e.parent().$.row : null
                  , h = M.bs(c)
                  , e = M.cs(h, u);
                if (e.es = (new Date).getTime(),
                e.hidden = d.hidden,
                e.level = d.level,
                e.children = d.children,
                e.index = s,
                e.top = d.top,
                e.height = d.height,
                e.grid = d.grid,
                e.split = d.split,
                l[s] = e,
                r) {
                    a.forEach(function(t) {
                        t.$.row.split.parent = e,
                        M.rows.update(t)
                    });
                    var f = typeof e.id + "_" + e.id
                      , v = j.Lr[f];
                    return void (v[v.indexOf(d)] = e)
                }
                if (o) {
                    var p = o.split.list
                      , m = p.indexOf(d);
                    m > -1 && p.splice(m, 1, e)
                }
                n && (DayPilot.rfa(q.Qi, i.$.row),
                q.Qi.push(e)),
                e.Fr(),
                M.Bm(e.index, e.grid),
                M.sl(),
                M.fs(e),
                M.zp(e),
                M.Ym(),
                M.hs(),
                M.Zm([e]),
                M.yb(),
                Q.un(),
                M.ks = !0,
                M.ls = setTimeout(function() {
                    M.ks = !1
                }, 500)
            }
            ,
            this.fs = function(e) {
                for (var t = M.events.list, n = t.length, i = "function" == typeof M.onBeforeEventRender, a = 0; a < n; a++) {
                    var r = t[a];
                    if (r) {
                        if (r instanceof DayPilot.Event)
                            throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                        if ("Days" === M.viewType)
                            throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");
                        if ("Gantt" === M.viewType)
                            throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");
                        if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                            i && this.Cg(a);
                            var o = this.tp(r, e, a);
                            o && (i && (o.cache = this.wa.events[a]),
                            o.up = a)
                        }
                    }
                }
            }
            ,
            this.ms = function() {
                var e = E.source
                  , t = E.target
                  , n = E.position
                  , i = E.sourceCalendar;
                if (q.ns(),
                "forbidden" !== n)
                    if (M.Hb()) {
                        var a = {};
                        if (a.source = M.On(e),
                        a.source.calendar = i,
                        a.target = M.On(t),
                        a.position = n,
                        a.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onRowMove && (M.onRowMove(a),
                        a.preventDefault.value))
                            return;
                        switch (M.rowMoveHandling) {
                        case "Update":
                            q.os(a);
                            break;
                        case "CallBack":
                            M.rowMoveCallBack(a.source, a.target, a.position);
                            break;
                        case "PostBack":
                            M.rowMovePostBack(a.source, a.target, a.position);
                            break;
                        case "Notify":
                            q.os(a),
                            M.rowMoveNotify(a.source, a.target, a.position)
                        }
                        "function" == typeof M.onRowMoved && M.onRowMoved(a)
                    } else {
                        var e = M.On(e)
                          , t = M.On(t)
                          , n = n;
                        switch (M.rowMoveHandling) {
                        case "CallBack":
                            M.rowMoveCallBack(e, t, n);
                            break;
                        case "PostBack":
                            M.rowMovePostBack(e, t, n);
                            break;
                        case "JavaScript":
                            M.onRowMove(e, t, n)
                        }
                    }
            }
            ,
            this.Jl = function(e) {
                var t = x(e);
                q.Qi = [],
                t.isEmpty() || (M.al = !1,
                M.pb()),
                t.forEach(function(e) {
                    var t = M.Vl(e);
                    t && q.Qi.push(t)
                }),
                W.wa = [],
                q.Qi.forEach(function(e) {
                    W.wa[e.grid + "_" + e.index] = !0
                }),
                q.ps()
            }
            ,
            this.Wn = {};
            var q = this.Wn;
            q.Vn = function(e, t) {
                q.qs(e, t)
            }
            ,
            q.rs = function() {
                q.Sr = {
                    "row": M.rowlist[0],
                    "index": 0
                }
            }
            ,
            q.ts = function(e) {
                var t = S(M.rowlist, e);
                if (t === -1)
                    throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range");
                q.Sr = {
                    "row": e,
                    "index": t
                }
            }
            ,
            q.Tr = function() {
                q.Sr || q.rs();
                var e = S(M.rowlist, q.Sr.row);
                if (!(e > -1)) {
                    var t = M.Vl(q.Sr.row.id);
                    t ? (e = S(M.rowlist, t),
                    q.Sr = {
                        "row": t,
                        "index": e
                    }) : q.rs()
                }
            }
            ,
            q.vs = function(e) {
                var t = M.Zq()
                  , n = M.da("_rowmove_source")
                  , i = e.top
                  , a = e.height;
                e.split.list.length > 0 && (i = e.split.list[0].top,
                a = e.split.totalHeight());
                var r = h(M.divHeader, 0, i, t, a);
                r.className = n,
                e.moveOverlay = r
            }
            ,
            q.ws = function(e) {
                e && (C(e.moveOverlay),
                e.moveOverlay = null)
            }
            ,
            q.xs = function() {
                var e = q.ys;
                if (e) {
                    q.ys = null;
                    try {
                        e.input.parentNode.removeChild(e.input)
                    } catch (e) {
                        a()
                    }
                    e.input = null
                }
            }
            ,
            q.qs = function(e, t) {
                t = t || 0,
                e.isNewRow && (t = 0);
                var n = q.zs(e)
                  , i = n.cells[t];
                if (i.input)
                    return i.input;
                q.xs(),
                DayPilot.Areas.disable(i.firstChild);
                var a = i.clientWidth;
                e.isNewRow && (a = M.jm());
                var r = 0;
                0 === t && (r = e.level * M.treeIndent);
                var o = document.createElement("input");
                o.style.position = "absolute",
                o.style.top = "0px",
                o.style.left = "0px",
                o.style.width = a + "px",
                o.style.height = e.height - 1 + "px",
                o.style.border = "0px none",
                o.style.overflow = "hidden",
                o.style.boxSizing = "border-box",
                o.style.resize = "none",
                o.style.paddingLeft = r + "px",
                o.style.outline = "none";
                var s = i.textDiv;
                o.style.fontFamily = DayPilot.gs(s, "fontFamily") || DayPilot.gs(s, "font-family"),
                o.style.fontSize = DayPilot.gs(s, "fontSize") || DayPilot.gs(s, "font-size");
                var l = e.name;
                if (!e.isNewRow && M.rowHeaderColumns) {
                    var d = e.resource.task ? e.resource.task : e.resource
                      , c = M.rowHeaderColumns[t] || {}
                      , u = c.display;
                    l = M.lr(d, u),
                    0 !== t || u || (l = e.name)
                }
                o.value = l || "",
                i.firstChild.appendChild(o),
                i.input = o;
                var h = q.xs;
                return o.focus(),
                o.onblur = function() {
                    o.onblur = null;
                    var n = o.value;
                    h(),
                    DayPilot.Areas.enable(i.firstChild),
                    M.Rn(e, n, o.canceled, t)
                }
                ,
                o.onkeydown = function(e) {
                    var t = e.keyCode;
                    return 27 === t && (o.canceled = !0,
                    h()),
                    13 !== t || (o.onblur(),
                    !1)
                }
                ,
                o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(),
                q.ys = i,
                o
            }
            ,
            q.Qi = [],
            q.M = function(e, t, n, i) {
                var a = S(q.Qi, e) !== -1;
                if (t || i) {
                    if (a)
                        return DayPilot.rfa(q.Qi, e),
                        W.Wr(),
                        void q.Hk(e)
                } else
                    a = !1,
                    q.Vr();
                a || q.Qi.push(e),
                W.Wr(),
                q.Hk(e)
            }
            ,
            q.Ur = function(e, t) {
                q.Vr();
                for (var n = Math.min(e, t), i = Math.max(e, t), a = n; a <= i; a++) {
                    var r = M.rowlist[a];
                    q.Qi.push(r)
                }
                W.Wr();
                for (var a = n; a <= i; a++) {
                    var r = M.rowlist[a];
                    q.Hk(r)
                }
            }
            ,
            q.ps = function() {
                for (var e = 0; e < q.Qi.length; e++) {
                    var t = q.Qi[e];
                    q.Hk(t)
                }
            }
            ,
            q.Hk = function(e) {
                var t = S(M.rowlist, e);
                if (t === -1) {
                    var n = M.Vl(e.id);
                    if (!n)
                        return;
                    t = n.index
                }
                M.Dn(t, e.grid),
                M.El(),
                M.vo(t, e.grid),
                M.fr(t, e.grid)
            }
            ,
            q.bo = function() {
                var e = [];
                if (!q.Qi)
                    return e;
                for (var t = 0; t < q.Qi.length; t++) {
                    var n = q.Qi[t]
                      , i = S(M.rowlist, n)
                      , a = M.On(n, i);
                    e.push(a.toJSON())
                }
                return e
            }
            ,
            q.Sr = null,
            q.Vr = function() {
                var e = q.Qi;
                if (q.Qi = [],
                M.selectedRows = [],
                W.wa = [],
                e.length <= 5)
                    e.forEach(function(e) {
                        q.Hk(e)
                    });
                else {
                    M.Bl(),
                    M.El();
                    for (var t = 0; t < M.rowlist.length; t++)
                        M.divHeader.rows[t] && M.xn(t)
                }
            }
            ,
            q.zs = function(e) {
                for (var t = M.divHeader, n = 0; n < t.rows.length; n++) {
                    var i = t.rows[n];
                    if (i && i.cells[0] && i.cells[0].row && i.cells[0].row.resource === e.resource)
                        return i
                }
                return null
            }
            ,
            q.je = function(e) {
                var t = w.rowmoving
                  , n = e.split.parent ? e.split.parent : e;
                t.row = n,
                t.sourceCalendar = M,
                t.cursor = M.divResScroll.style.cursor,
                M.divResScroll.style.cursor = "move",
                q.vs(n)
            }
            ,
            q.ns = function() {
                M.divResScroll.style.cursor = E.cursor,
                C(E.div),
                q.ws(E.row),
                w.rowmoving = E = {}
            }
            ,
            q.As = function(e) {
                var t = DayPilot.mo3(M.divHeader, e)
                  , n = M.io(t.y, "main", !0)
                  , i = M.rowlist[n.i];
                if (i && !i.isNewRow) {
                    i.split.parent && (i = i.split.parent);
                    var a = M.rowMoveSameLevelOnly
                      , r = t.y - n.top
                      , o = n.bottom - n.top
                      , s = o / 3
                      , d = 2 * s
                      , c = o / 2
                      , u = "before"
                      , h = i.children && i.children.length > 0
                      , f = h && i.expanded
                      , v = function() {
                        for (var e = n.i, t = i.level; e >= 0; ) {
                            var a = M.rowlist[e];
                            if (e--,
                            !(t <= a.level)) {
                                if (a === E.row)
                                    return !0;
                                if (0 === a.level)
                                    return !1;
                                t = a.level
                            }
                        }
                        return !1
                    }()
                      , p = i
                      , m = M.treeEnabled;
                    if (v || n.i === E.row.index && !a)
                        u = "forbidden";
                    else if (m)
                        if (a) {
                            var g = E.row.level
                              , b = i.level;
                            if (b === g - 1)
                                u = "child";
                            else if (g !== b)
                                if (g === b - 1) {
                                    var y = i.Bs
                                      , w = y.children.length - 1;
                                    i.index === y.children[w] ? (p = y,
                                    u = "after") : u = "forbidden"
                                } else
                                    u = "forbidden";
                            else
                                u = r < c ? "before" : h && f ? "before" : "after"
                        } else
                            u = h && f ? r < c ? "before" : "child" : r < s ? "before" : r < d ? "child" : "after";
                    else
                        u = h ? "before" : r < c ? "before" : "after";
                    E.row.moveDisabled && (u = "forbidden"),
                    E.calendar = M,
                    E.source = E.row,
                    E.target = p,
                    E.position = u;
                    if (function() {
                        return !E.last || (E.last.target !== E.target || E.last.position !== E.position)
                    }()) {
                        if ("function" == typeof M.onRowMoving) {
                            var x = {};
                            x.source = M.On(E.source),
                            x.target = M.On(E.target),
                            x.position = u,
                            M.onRowMoving(x),
                            E.position = x.position
                        }
                    } else
                        E.last && (E.position = E.last.position);
                    E.last = {},
                    E.last.target = E.target,
                    E.last.position = E.position,
                    function() {
                        E.div && C(E.div);
                        var e = n.top
                          , t = E.position
                          , i = M.rowlist[n.i]
                          , a = i.level
                          , r = a * M.treeIndent;
                        switch (t) {
                        case "before":
                            e = n.top;
                            break;
                        case "child":
                            e = n.top + c;
                            break;
                        case "after":
                            e = n.bottom;
                            break;
                        case "forbidden":
                            e = n.top + c
                        }
                        var o = M.Zq() - r
                          , s = l();
                        s.style.position = "absolute",
                        s.style.left = r + "px",
                        s.style.width = o + "px",
                        s.style.top = e + "px",
                        s.className = M.da("_rowmove_position_" + t),
                        E.div = s,
                        M.divResScroll.appendChild(s)
                    }()
                }
            }
            ,
            q.os = function(e) {
                var t = e.source.$.row.resource
                  , n = e.target.$.row.resource
                  , i = e.position;
                if (t !== n && "forbidden" !== i) {
                    var a = e.source.calendar.Cs.as(t);
                    if (!a)
                        throw new DayPilot.Exception("Cannot find source node parent");
                    var r = S(a, t);
                    a.splice(r, 1);
                    var o = Y.as(n);
                    if (!o)
                        throw new DayPilot.Exception("Cannot find target node parent");
                    var s = S(o, n);
                    switch (i) {
                    case "before":
                        o.splice(s, 0, t);
                        break;
                    case "after":
                        o.splice(s + 1, 0, t);
                        break;
                    case "child":
                        n.children || (n.children = [],
                        n.expanded = !0),
                        n.children.push(t)
                    }
                    M.update()
                }
            }
            ;
            var F = {};
            this.Ds = F,
            F.ji = function(e) {}
            ;
            var Y = {};
            this.Cs = Y,
            Y.as = function(e) {
                return Y.Es(M.resources, e)
            }
            ,
            Y.Es = function(e, t) {
                if (S(e, t) !== -1)
                    return e;
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    if (i.children && i.children.length > 0) {
                        var a = Y.Es(i.children, t);
                        if (a)
                            return a
                    }
                }
                return null
            }
            ,
            this.rl = function() {
                var e = this.resources
                  , t = this.ka();
                t || ("Gantt" === this.viewType ? e = this.Fs() : "Days" === this.viewType && (e = this.Gs())),
                !t || "Days" !== this.viewType || e && 0 !== e.length || (e = this.Gs());
                var n = {};
                if (n.i = 0,
                null != e && !_(e))
                    throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object");
                e = e || [],
                M.Hs = !1;
                var i = e.filter(function(e) {
                    var t = "string" == typeof e.frozen ? e.frozen.toLowerCase() : null;
                    return "top" !== t && "bottom" !== t
                });
                M.rowlist = x(),
                M.rowlistparents = x(),
                this.Is(i, n, 0, null, this.treeEnabled, !1, "main");
                var a = e.filter(function(e) {
                    return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase()
                });
                M.Sl.top.rowlist = x(),
                M.Sl.top.rowlistparents = x(),
                M.Sl.top.height = 0,
                this.Is(a, {
                    "i": 0
                }, 0, null, !1, !1, "top");
                var r = e.filter(function(e) {
                    return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase()
                });
                M.Sl.bottom.rowlist = x(),
                M.Sl.bottom.rowlistparents = x(),
                M.Sl.bottom.height = 0,
                this.Is(r, {
                    "i": 0
                }, 0, null, !1, !1, "bottom"),
                "Disabled" !== M.rowCreateHandling && this.Js()
            }
            ,
            this.Js = function() {
                var e = {};
                e.id = "NEW",
                e.isNewRow = !0,
                e.html = "",
                e.index = M.rowlist.length,
                e.loaded = !0,
                e.start = M.Rb(),
                e.children = [],
                e.height = M.eventHeight,
                e.marginBottom = 0,
                e.marginTop = 0,
                e.getHeight = function() {
                    return M.rowCreateHeight ? M.rowCreateHeight : M.eventHeight + M.rowMarginBottom + M.rowMarginTop
                }
                ,
                e.ae = function() {}
                ,
                e.Fr = function() {}
                ,
                this.rowlist.push(e)
            }
            ,
            this.sl = function(e) {
                function t(e, t) {
                    if (e.cells = [],
                    !e.hidden || n) {
                        var i = e.split && e.split.parent;
                        (M.rowHeaderColumns || [{}]).forEach(function(n, a) {
                            var r = {};
                            r.row = n.split ? e : i || e,
                            r.y = t,
                            r.x = a,
                            r.rowspan = 1;
                            var o = !n.split && i
                              , s = i && e.split.mr()
                              , l = (n.split && !i,
                            i && i.split.list.filter(function(e) {
                                return !e.hidden
                            }).length)
                              , d = 0;
                            if (i) {
                                var c = i.split.list.find(function(e) {
                                    return e.split.mr()
                                })
                                  , u = i.split.list.indexOf(c);
                                u > 0 && (d = u)
                            }
                            o && (s ? (r.rowspan = l,
                            r.totalHeight = function() {
                                return i.split.totalHeight()
                            }
                            ) : r.refCell = i.split.list[d].cells[a]),
                            e.cells.push(r)
                        })
                    }
                }
                e = e || {};
                var n = e.includeHidden;
                M.rowlist.forEach(function(e, n) {
                    t(e, n)
                }),
                M.Sl.top.rowlist.forEach(function(e, n) {
                    t(e, n)
                }),
                M.Sl.bottom.rowlist.forEach(function(e, n) {
                    t(e, n)
                })
            }
            ,
            this.Fs = function() {
                var e = [];
                if (this.il && this.resources)
                    for (var t = 0; t < this.resources.length; t++)
                        e.push(this.resources[t]);
                if (this.events.list) {
                    for (var t = 0; t < this.events.list.length; t++) {
                        var n = this.events.list[t]
                          , i = {};
                        i.id = n.id,
                        i.name = n.text,
                        i.columns = n.columns,
                        e.push(i)
                    }
                    return e
                }
            }
            ,
            this.Gs = function() {
                var e = []
                  , t = M.Rb()
                  , n = this.Ja.Tc()
                  , i = M.resources || []
                  , a = i.filter(function(e) {
                    return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase()
                })
                  , r = i.filter(function(e) {
                    return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase()
                });
                e = e.concat(a).concat(r);
                for (var o = 0; o < this.days; o++) {
                    var s = t.addDays(o);
                    if (M.showNonBusiness || M.businessWeekends || 0 != s.dayOfWeek() && 6 != s.dayOfWeek()) {
                        var l = {};
                        l.name = s.toString(n.datePattern, n),
                        l.start = s,
                        e.push(l)
                    }
                }
                return e
            }
            ,
            this.Rb = function() {
                return this.itline && this.itline.length > 0 ? this.itline[0].start : new DayPilot.Date(this.startDate)
            }
            ,
            this.ce = function() {
                if (this.itline && this.itline.length > 0) {
                    var e = M.itline[this.itline.length - 1].end;
                    return "Days" !== M.viewType ? e : e.addDays(M.days - 1)
                }
                return new DayPilot.Date(M.startDate).addDays(M.days)
            }
            ,
            this.visibleStart = function() {
                return this.Rb()
            }
            ,
            this.visibleEnd = function() {
                return this.ce()
            }
            ,
            this.cs = function(e, t) {
                var n = {};
                if (n.backColor = e.backColor,
                n.fontColor = e.fontColor,
                n.cssClass = e.cssClass,
                n.expanded = e.expanded,
                n.name = e.name,
                n.html = M.Ha(e.name, e.html),
                n.emptyHeight = "undefined" != typeof e.emptyHeight ? e.emptyHeight : M.rowEmptyHeight,
                n.eventHeight = "undefined" != typeof e.eventHeight ? e.eventHeight : M.Ja.yo(),
                n.minHeight = "undefined" != typeof e.minHeight ? e.minHeight : M.rowMinHeight,
                n.marginBottom = "undefined" != typeof e.marginBottom ? e.marginBottom : M.rowMarginBottom,
                n.marginTop = "undefined" != typeof e.marginTop ? e.marginTop : M.rowMarginTop,
                n.eventStackingLineHeight = "undefined" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : M.eventStackingLineHeight,
                n.loaded = !e.dynamicChildren,
                n.id = e.id || e.value,
                n.id = v(e.id) ? e.value : e.id || e.value,
                n.toolTip = e.toolTip,
                n.children = [],
                n.columns = [],
                n.start = e.start ? new DayPilot.Date(e.start) : this.Rb(),
                n.end = e.end,
                n.isParent = e.isParent,
                n.contextMenu = e.contextMenu ? DayPilot.Util.evalVariable(e.contextMenu) : this.contextMenuResource,
                n.areas = e.areas,
                n.moveDisabled = e.moveDisabled,
                n.bubbleHtml = e.bubbleHtml,
                n.cellsDisabled = e.cellsDisabled,
                n.tags = e.tags,
                n.task = e.task,
                n.swimlane = e.swimlane,
                n.hideEvents = e.hideEvents,
                n.height = n.eventHeight,
                n.level = 0,
                n.resource = e.Ks,
                n.lines = [],
                n.blocks = [],
                n.containers = [],
                n.containerCache = {},
                n.isRow = !0,
                n.split = {},
                n.split.list = [],
                n.split.totalHeight = function() {
                    var e = 0;
                    return this.list.forEach(function(t) {
                        t.hidden || (e += t.height)
                    }),
                    e
                }
                ,
                n.getHeight = function() {
                    var e = 0
                      , t = Math.max(0, n.resource && n.resource.maxLines || 1e5);
                    if (M.groupConcurrentEvents)
                        for (var i = 0; i < this.blocks.length; i++) {
                            var a = this.blocks[i];
                            e = Math.max(e, a.getHeight())
                        }
                    else if (this.lines.length > 0) {
                        var r = Math.min(this.lines.length, t)
                          , o = r - 1
                          , s = this.lines[o]
                          , l = s.height || this.eventHeight
                          , d = s.top || 0;
                        e = d + l
                    }
                    if (0 === e) {
                        if ("number" == typeof this.emptyHeight)
                            return this.emptyHeight;
                        e = this.eventHeight
                    }
                    return e > this.minHeight ? e : this.minHeight
                }
                ,
                n.Rp = function() {
                    var e = n.start.getTime() - M.Rb().getTime();
                    return M.itline[M.itline.length - 1].end.addTime(e)
                }
                ,
                n.Fr = function() {
                    var e = this;
                    e.events = x(),
                    e.events.forRange = function(t, n) {
                        t = new DayPilot.Date(t),
                        n = n ? new DayPilot.Date(n) : e.Rp();
                        for (var i = x(), a = 0; a < e.events.length; a++) {
                            var r = e.events[a]
                              , o = M.nj(r.end());
                            d(r.start(), o, t, n) && i.push(r)
                        }
                        return i
                    }
                }
                ,
                n.Fp = function() {
                    function e() {
                        for (var e = [], t = 0; t < n.events.length; t++) {
                            var i = n.events[t];
                            k(e, i.start().toString()) || e.push(i.start().toString()),
                            k(e, i.rawend().toString()) || e.push(i.rawend().toString())
                        }
                        return e.sort(),
                        e
                    }
                    function t() {
                        for (var t = e(), i = [], a = {
                            "start": n.data.start
                        }, r = 0; r < t.length; r++)
                            a.end = new DayPilot.Date(t[r]),
                            i.push(a),
                            a = {
                                "start": new DayPilot.Date(t[r])
                            };
                        return a.end = n.data.end,
                        i.push(a),
                        i.forRange = function(e, t) {
                            for (var n = x(), i = 0; i < this.length; i++) {
                                var a = this[i];
                                d(e, t, a.start, a.end) && n.push(a)
                            }
                            return n.maxSum = function(e) {
                                for (var t = 0, n = 0; n < this.length; n++) {
                                    var i = this[n]
                                      , a = i.sum(e);
                                    a > t && (t = a)
                                }
                                return t
                            }
                            ,
                            n
                        }
                        ,
                        i
                    }
                    for (var n = this, i = n.sections = t(), a = 0; a < i.length; a++) {
                        var r = i[a];
                        r.events = x();
                        for (var o = 0; o < n.events.length; o++) {
                            var s = n.events[o];
                            d(r.start, r.end, s.start(), s.rawend()) && r.events.push(s)
                        }
                        r.sum = function(e) {
                            for (var t = 0, n = 0; n < this.events.length; n++) {
                                var i = this.events[n]
                                  , a = 0;
                                "undefined" == typeof e ? a = 1 : i.tag(e) ? a = i.tag(e) : i.data[e] && (a = i.data[e]),
                                "number" == typeof a && (t += a)
                            }
                            return t
                        }
                    }
                }
                ,
                n.Ls = function() {
                    var e = [];
                    return e.height = 0,
                    e.add = function(t) {
                        this.push(t);
                        var n = t.part.Qr();
                        n > e.height && (e.height = n)
                    }
                    ,
                    e.be = function(e, t, n) {
                        for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) {
                            var o = this[r];
                            if (!o.data.nonBlocking) {
                                if (!(i < o.part.left || e > o.part.left + o.part.width - 1)) {
                                    if (k(n, o.data))
                                        continue;
                                    return !1
                                }
                                if (o.part.container && !(i < o.part.container.left || e > o.part.container.left + o.part.container.width - 1))
                                    return !1;
                                var s = o.cache || o.data;
                                if (M.eventVersionsReserveSpace && !s.versionsReserveSpaceDisabled && !(i < o.part.versionsLeft || e > o.part.versionsRight - 1))
                                    return !1
                            }
                        }
                        return !0
                    }
                    ,
                    e
                }
                ,
                n.Ms = function(e, t, i) {
                    if ("number" == typeof i) {
                        for (var a = 0; a <= i; a++)
                            this.lines[a] || (this.lines[a] = n.Ls());
                        return i
                    }
                    if ("dedicated" === i) {
                        var r = n.Ls();
                        return r.be = function() {
                            return !1
                        }
                        ,
                        this.lines.push(r),
                        this.lines.length - 1
                    }
                    for (var a = 0; a < this.lines.length; a++) {
                        var r = this.lines[a];
                        if (r.be(e, t))
                            return a
                    }
                    var r = n.Ls();
                    return this.lines.push(r),
                    this.lines.length - 1
                }
                ,
                n.ae = function(e) {
                    var t = e.data
                      , i = e.part
                      , a = e.part.container;
                    if (a) {
                        if (null === a.line && ("number" == typeof t.line || "dedicated" === t.line))
                            return s = n.Ms(a.left, a.width, t.line),
                            i.line = s,
                            this.lines[s].add(e),
                            a.line = s,
                            s
                    } else if ("number" == typeof t.line || "dedicated" === t.line)
                        return s = n.Ms(i.left, i.width, t.line),
                        i.line = s,
                        this.lines[s].add(e),
                        s;
                    var r = e.cache || e.data
                      , o = M.eventVersionsReserveSpace && !r.versionsReserveSpaceDisabled
                      , s = -1;
                    if (a) {
                        if (null !== a.line)
                            return this.lines[a.line].add(e),
                            a.line;
                        s = n.Ms(a.left, a.width),
                        a.line = s
                    } else
                        s = o ? n.Ms(i.versionsLeft, i.versionsWidth) : n.Ms(i.left, i.width);
                    return i.line = s,
                    this.lines[s].add(e),
                    s
                }
                ,
                n.$d = function(e) {
                    for (var t = e.cache || e.data, n = M.eventVersionsReserveSpace && !t.versionsReserveSpaceDisabled, i = 0; i < this.blocks.length; i++) {
                        var a = this.blocks[i];
                        if (S(a.events, e) !== -1)
                            return;
                        var r = n ? e.part.versionsLeft : e.part.left
                          , o = n ? e.part.versionsWidth : e.part.width;
                        if (a._d(r, o))
                            return a.events.push(e),
                            e.part.block = a,
                            a.min = Math.min(a.min, r),
                            a.max = Math.max(a.max, r + o),
                            i
                    }
                    var a = {};
                    a.Go = !0,
                    a.expanded = !1,
                    a.row = this,
                    a.events = x(),
                    a.lines = x(),
                    a.ae = function(e) {
                        for (var t = 0; t < this.lines.length; t++) {
                            var i = this.lines[t]
                              , a = n ? e.part.versionsLeft : e.part.left
                              , r = n ? e.part.versionsWidth : e.part.width;
                            if (i.be(a, r))
                                return i.add(e),
                                t
                        }
                        var i = [];
                        i.height = 0,
                        i.add = function(e) {
                            this.push(e),
                            e.part.height > i.height && (i.height = e.part.height),
                            e.data.versions && (i.height = e.part.height + e.data.versions.length * (M.eventVersionHeight + M.eventVersionMargin))
                        }
                        ,
                        i.be = function(e, t) {
                            for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) {
                                var o = this[r]
                                  , s = n ? o.part.versionsLeft : o.part.left
                                  , l = n ? o.part.versionsWidth : o.part.width;
                                if (!(i < s || e > s + l - 1))
                                    return !1
                            }
                            return !0
                        }
                        ,
                        i.add(e),
                        this.lines.push(i)
                    }
                    ,
                    a._d = function(e, t) {
                        return !(e + t - 1 < this.min || e > this.max - 1)
                    }
                    ,
                    a.getHeight = function() {
                        if (!this.expanded)
                            return M.eventHeight;
                        if (this.lines.length > 0) {
                            var e = this.lines.length - 1
                              , t = this.lines[e]
                              , n = t.height || M.eventHeight;
                            return (t.top || 0) + n
                        }
                        return M.eventHeight
                    }
                    ,
                    a.clear = function() {
                        a.events = x(),
                        a.min = null,
                        a.max = null
                    }
                    ,
                    a.events.push(e),
                    e.part.block = a,
                    a.min = n ? e.part.versionsLeft : e.part.left,
                    a.max = a.min + (n ? e.part.versionsWidth : e.part.width),
                    this.blocks.push(a)
                }
                ,
                n.Ns = !1,
                n.Bs = t,
                n.Wd = function() {
                    this.hidden = !this.Os(),
                    this.Ns = !1,
                    this.Bs && this.Bs.Wd()
                }
                ,
                n.Os = function() {
                    return !this.Bs || this.Bs.Os() && this.Bs.expanded
                }
                ,
                e.columns)
                    for (var i = 0; i < e.columns.length; i++)
                        n.columns.push(e.columns[i]);
                return n
            }
            ,
            this.nn = function() {
                M.Am().forEach(function(e) {
                    if (!e.isNewRow && "function" == typeof M.onRowFilter && M.rows.Yg) {
                        var t = e.Bs
                          , n = {};
                        n.visible = !0,
                        n.row = M.On(e),
                        n.filter = M.rows.Yg,
                        n.filterParam = M.rows.Yg,
                        n.control = M,
                        M.onRowFilter(n),
                        e.Ns = !n.visible,
                        n.visible ? M.rowFilterParentsAlwaysVisible && t && t.Wd() : e.hidden = !0
                    }
                })
            }
            ,
            this.Ps = function(e) {
                return !e.some(function(e) {
                    return e.children && e.children.length
                })
            }
            ,
            this.Qs = function(e) {
                return !e.some(function(e) {
                    return !e.children || 0 === e.children.length
                })
            }
            ,
            this.uo = function(e) {
                return e = e || "main",
                M.Sl[e]
            }
            ,
            this.Is = function(e, t, n, i, a, r, o) {
                function s(e, a) {
                    for (var s = 0; s < e.split.length; s++)
                        !function() {
                            var l = e.split[s]
                              , d = M.bs(l, v)
                              , c = M.cs(d, i);
                            c.level = n,
                            c.index = t.i,
                            c.grid = o || "main",
                            r && (c.hidden = !0),
                            c.split = {},
                            c.split.parent = a,
                            c.split.y = s,
                            c.split.mr = function() {
                                var e = c.split.parent.split.list.find(function(e) {
                                    return !e.hidden
                                });
                                return !!e && c.split === e.split
                            }
                            ,
                            c.Bs = a,
                            a.split.list.push(c),
                            null !== i && i.children.push(t.i),
                            h.push(c),
                            t.i++,
                            M.Hs = !0
                        }()
                }
                if (e) {
                    var l = !1;
                    if (M.rows.Xr)
                        switch (M.rowSortingMode) {
                        case "LeavesOnly":
                            l = M.Ps(e);
                            break;
                        case "ParentsOnly":
                            l = M.Qs(e);
                            break;
                        case "All":
                            l = !0
                        }
                    if (l) {
                        var d = M.rows.Zr()
                          , c = "desc" === M.rows.Yr()
                          , u = x(e, !0);
                        u.sort(function(e, t) {
                            var n = M.lr(e, d)
                              , i = M.lr(t, d)
                              , a = 0;
                            return a = n === i ? 0 : "number" == typeof n && "number" == typeof i ? n - i : M.ah(n, i, "asc"),
                            c ? -a : a
                        }),
                        e = u
                    }
                    for (var h = M.uo(o).rowlist, f = 0; f < e.length; f++)
                        if (e[f]) {
                            var v = {};
                            if (v.level = n,
                            v.hidden = r,
                            v.index = t.i,
                            !e[f].hidden) {
                                var p = this.bs(e[f], v)
                                  , m = M.cs(p, i);
                                r && (m.hidden = !0),
                                m.level = n,
                                m.index = t.i,
                                m.grid = o || "main";
                                var g = !p.children || 0 === p.children.length
                                  , b = g && p.split;
                                if (b ? (s(p, m),
                                M.uo(o).rowlistparents.push(m)) : (null !== i && i.children.push(t.i),
                                h.push(m),
                                t.i++),
                                a && p.children && p.children.length) {
                                    var y = r || !m.expanded;
                                    this.Is(p.children, t, n + 1, m, !0, y, o)
                                }
                            }
                        }
                }
            }
            ,
            this.Rs = ["text", "html", "backColor", "cssClass", "areas", "horizontalAlignment", "hidden"],
            this.qq = function(e) {
                if (e.isNewRow)
                    return {
                        "row": {
                            "cssClass": M.da("_row_new"),
                            "moveDisabled": !0,
                            "html": M.Ha(M.rowCreateText, M.rowCreateHtml)
                        }
                    };
                var t = {};
                t.row = this.On(e),
                p(e, t.row, ["html", "backColor", "fontColor", "cssClass", "toolTip", "contextMenu", "moveDisabled"]),
                t.row.areas = DayPilot.Util.createArrayCopy(e.areas),
                t.row.columns = DayPilot.Util.createArrayCopy(e.columns, M.Rs),
                e.split && _(M.rowHeaderColumns) && M.rowHeaderColumns.forEach(function(n, i) {
                    !e.split.parent && 0 === e.split.list.length && n.split ? t.row.columns[i].text = "" : !e.split.parent && n.split ? t.row.columns[i] = null : e.split.parent && !n.split && (t.row.columns[i] = null)
                });
                var n = M.rowHeaderColumns;
                if ("undefined" == typeof t.row.columns && n.length > 0) {
                    r.columns = [];
                    for (var i = 0; i < n.length; i++)
                        r.columns.push({})
                }
                return t.row.children().length > 0 && M.rowHeaderColumnsMergeParents && M.rowHeaderColumns && M.rowHeaderColumns.forEach(function(e, n) {
                    n > 0 && delete t.row.columns[n]
                }),
                "function" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t),
                t
            }
            ,
            this.bs = function(e, t) {
                var n = this.Ss(e, t);
                if ("function" == typeof this.onBeforeResHeaderRender) {
                    var i = {};
                    i.resource = n,
                    this.onBeforeResHeaderRender(i)
                }
                return n
            }
            ,
            this.Ss = function(e, t) {
                var n = {
                    get $data() {
                        return this.Ks
                    }
                };
                for (var i in t)
                    n[i] = t[i];
                for (var i in e)
                    n[i] = e[i];
                if (n.html = M.Ha(e.name, e.html),
                M.rowHeaderColumns && M.rowHeaderColumns.length > 0 && "undefined" == typeof n.columns) {
                    n.columns = [];
                    var a = M.rowHeaderColumns;
                    if (M.vn()) {
                        for (var r = 0; r < a.length; r++) {
                            var o = a[r]
                              , s = M.lr(e, o.display);
                            n.columns.push({
                                "text": s
                            })
                        }
                        n.columns[0] && a[0] && !a[0].display && (n.columns[0].text = n.name)
                    } else
                        for (var r = 0; r < a.length; r++)
                            n.columns.push({})
                }
                return n.Ks = e,
                n
            }
            ,
            this.jn = function() {
                this.nav.top.dp = this,
                this.nav.top.innerHTML = "",
                u(this.nav.top, this.da("_main")),
                this.nav.top.setAttribute("role", "region"),
                this.nav.top.setAttribute("aria-label", "scheduler"),
                this.nav.top.style.MozUserSelect = "none",
                this.nav.top.style.KhtmlUserSelect = "none",
                this.nav.top.style.webkitUserSelect = "none",
                this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)",
                this.nav.top.style.WebkitTouchCallout = "none",
                this.width && (this.nav.top.style.width = this.width),
                "Parent100Pct" === this.heightSpec && (this.nav.top.style.height = "100%"),
                this.nav.top.style.lineHeight = "1.2",
                this.nav.top.style.position = "relative",
                this.visible || (this.nav.top.style.display = "none"),
                this.nav.top.onmousemove = this.tk,
                this.nav.top.onmouseout = function() {
                    M.dq()
                }
                ,
                DayPilot.reNonPassive(this.nav.top, "touchstart", Z.lf),
                DayPilot.reNonPassive(this.nav.top, "touchmove", Z.mf),
                DayPilot.reNonPassive(this.nav.top, "touchend", Z.nf),
                this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = "hidden");
                var e = this.jm()
                  , t = "Top" === M.timeHeaderPosition;
                if (M.in = M.timeHeaderPosition,
                "DivBased" === this.Ja.Ts()) {
                    var n = l();
                    n.style.position = "absolute",
                    n.style.left = "0px",
                    n.style.width = e + "px";
                    var i = l();
                    i.style.height = "0px",
                    i.style.boxSizing = "content-box",
                    i.style.borderTop = "1px solid transparent",
                    i.className = this.da("_divider_horizontal"),
                    this.nav.dh1 = i,
                    this.nav.left = n,
                    "Top" === M.timeHeaderPosition ? (n.appendChild(this.Ef()),
                    n.appendChild(i),
                    n.appendChild(this.Us()),
                    M.Sl.top.enabled(),
                    n.appendChild(this.Vs()),
                    n.appendChild(this.Ws())) : "Bottom" === M.timeHeaderPosition ? (n.appendChild(this.Us()),
                    n.appendChild(i),
                    n.appendChild(this.Ef())) : n.appendChild(this.Us());
                    var a = l();
                    a.style.position = "absolute",
                    a.style.left = e + "px",
                    a.style.width = $.km() + "px",
                    a.style.height = this.lm() + this.bf() + "px",
                    a.className = this.da("_divider") + " " + this.da("_splitter"),
                    a.setAttribute("unselectable", "on"),
                    this.nav.divider = a,
                    this.rowHeaderScrolling && this.Xs();
                    var r = l();
                    r.style.marginLeft = e + $.km() + "px",
                    r.style.position = "relative",
                    this.nav.right = r;
                    var o = l();
                    t && (o.style.position = "absolute",
                    o.style.top = this.lm() + "px"),
                    o.style.width = "100%",
                    o.style.height = "0px",
                    o.style.boxSizing = "content-box",
                    o.style.borderBottom = "1px solid transparent",
                    o.setAttribute("data-dh2", "true"),
                    o.className = this.da("_divider_horizontal"),
                    this.nav.dh2 = o,
                    "Top" === M.timeHeaderPosition ? (r.appendChild(M.Ys()),
                    r.appendChild(M.Zs()),
                    r.appendChild(o),
                    M.Sl.top.enabled(),
                    r.appendChild(M.$s()),
                    r.appendChild(M._s())) : "Bottom" === M.timeHeaderPosition ? (r.appendChild(M.Zs()),
                    r.appendChild(o),
                    r.appendChild(M.Ys())) : r.appendChild(M.Zs());
                    var s = l();
                    s.style.clear = "left";
                    var d = l();
                    d.style.height = "1px",
                    d.style.position = "absolute",
                    d.style.left = "0px",
                    d.style.right = "0px",
                    d.style.display = "none",
                    d.className = this.da("_divider_horizontal") + " " + this.da("_divider_horizontal_frozen_top"),
                    d.onmousemove = function(e) {
                        e.cancelBubble = !0
                    }
                    ,
                    this.nav.dividerTop = d;
                    var c = l();
                    c.style.height = "1px",
                    c.style.position = "absolute",
                    c.style.left = "0px",
                    c.style.right = "0px",
                    c.style.display = "none",
                    c.className = this.da("_divider_horizontal") + " " + this.da("_divider_horizontal_frozen_bottom"),
                    c.onmousemove = function(e) {
                        e.cancelBubble = !0
                    }
                    ,
                    this.nav.dividerBottom = c,
                    this.nav.top.appendChild(n),
                    this.nav.top.appendChild(a),
                    this.nav.top.appendChild(r),
                    this.nav.top.appendChild(s),
                    this.nav.top.appendChild(d),
                    this.nav.top.appendChild(c)
                } else {
                    var h = document.createElement("table");
                    h.cellPadding = 0,
                    h.cellSpacing = 0,
                    h.border = 0,
                    h.style.position = "absolute";
                    var f = h.insertRow(-1);
                    f.insertCell(-1).appendChild(this.Ef()),
                    f.insertCell(-1).appendChild(this.Ys());
                    var v = h.insertRow(-1);
                    v.insertCell(-1).appendChild(this.Us()),
                    v.insertCell(-1).appendChild(this.Zs()),
                    this.nav.top.appendChild(h)
                }
                if (this.hj = l(),
                this.hj.style.display = "none",
                this.nav.top.appendChild(this.hj),
                this.Ra()) {
                    var p = document.createElement("input");
                    p.type = "hidden",
                    p.id = this.id + "_state",
                    p.name = this.id + "_state",
                    this.nav.state = p,
                    this.nav.top.appendChild(p)
                }
                var m = l();
                m.style.position = "absolute",
                m.style.left = this.jm() + $.km() + 5 + "px",
                m.style.top = this.lm() + 5 + "px",
                m.style.display = "none",
                m.innerHTML = M.Ha(this.loadingLabelText, this.loadingLabelHtml),
                u(m, this.da("_loading")),
                this.nav.loading = m,
                this.nav.top.appendChild(m),
                this.at(),
                M.bt()
            }
            ,
            this.tk = function(e) {
                if (E.row)
                    q.As(e);
                else if (i.ir) {
                    var t = DayPilot.mo3(M.nav.top, e).x
                      , n = M.Zq()
                      , a = M.rowHeaderWidthMin
                      , r = t - 1;
                    M.rowHeaderCols && (r = Math.min(n, t - 1)),
                    r = Math.max(a, r),
                    M.rowHeaderWidth = r,
                    M.$r = !1,
                    M.rowHeaderCols || M.ct(),
                    M._r(),
                    M.Kl(),
                    M.eb()
                }
            }
            ,
            this.rb = function() {
                var e = this.lm()
                  , t = "Top" === M.timeHeaderPosition;
                this.nav.corner && (this.nav.corner.style.height = e + "px"),
                this.divTimeScroll && (this.divTimeScroll.style.height = e + "px"),
                this.divNorth && (this.divNorth.style.height = e + "px"),
                this.nav.dh1 && this.nav.dh2 && t && (this.nav.dh1.style.top = e + "px",
                this.nav.dh2.style.top = e + "px"),
                this.nav.loading.style.top = e + 5 + "px",
                t && (this.nav.scroll.style.top = e + 1 + "px")
            }
            ,
            this.jm = function() {
                if (this.$r)
                    return 0;
                var e = 0
                  , t = this.rowHeaderScrolling
                  , n = this.Zq();
                return e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n
            }
            ,
            this.Xs = function() {
                var e = this.nav.divider;
                M.rowHeaderScrolling ? (e.style.cursor = "col-resize",
                e.setAttribute("unselectable", "on"),
                e.onmousedown = function(e) {
                    var t = i.ir = {};
                    return t.cursor = M.nav.top.style.cursor,
                    t.cleanup = function() {
                        if (M.cr(),
                        M.nav.top.style.cursor = t.cursor,
                        "function" == typeof M.onRowHeaderResized) {
                            var e = {};
                            M.onRowHeaderResized(e)
                        }
                    }
                    ,
                    M.nav.top.style.cursor = "col-resize",
                    !1
                }
                ) : (e.style.cursor = null,
                e.onmousedown = null)
            }
            ,
            this._r = function() {
                var e = $.km()
                  , t = this.jm();
                if (this.nav.corner && (this.nav.corner.style.width = t + "px"),
                this.nav.corner && (this.divCorner.style.width = t + "px"),
                this.divResScroll.style.width = t + "px",
                "DivBased" === $.Ts() && (this.nav.left.style.width = t + "px",
                this.nav.divider.style.left = t - e + "px",
                this.nav.right.style.marginLeft = t + "px"),
                this.nav.message && (this.nav.message.style.left = M.im() + "px"),
                this.nav.loading && (this.nav.loading.style.left = t + e + 5 + "px"),
                this.nav.hideIcon) {
                    var n = this.nav.hideIcon
                      , i = M.da("_header_icon_show")
                      , a = M.da("_header_icon_hide");
                    n.style.left = t - 1 + "px",
                    M.$r ? (c(n, a),
                    u(n, i)) : (c(n, i),
                    u(n, a))
                }
            }
            ,
            this.ct = function() {
                this.Yq();
                var e = this.Zq()
                  , t = function(e, t, n) {
                    if (e && e.style) {
                        var i = e.firstChild;
                        M.er ? (e.style.width = t + "px",
                        i.style.width = t + "px",
                        "number" == typeof n && (e.style.left = n + "px")) : i.style.width = t + "px"
                    }
                }
                  , n = function(n) {
                    var i = n.cells[0];
                    if (i && (i.colSpan > 1 || "max" === i.colSpan)) {
                        var i = n.cells[0];
                        t(i, e)
                    } else if (M.rowHeaderCols)
                        for (var a = 0, r = 0; r < n.cells.length; r++) {
                            var o = M.rowHeaderCols[r]
                              , i = n.cells[r];
                            t(i, o, a),
                            a += o
                        }
                    else {
                        var o = M.rowHeaderWidth
                          , i = n.cells[0];
                        t(i, o)
                    }
                }
                  , i = this.divHeader;
                i.style.width = e + "px";
                for (var a = M.$q(), r = a.start; r < a.end; r++) {
                    var o = i.rows[r];
                    o && n(o)
                }
                if (M.Sl.top.enabled())
                    for (var r = 0; r < M.Sl.top.rowlist.length; r++) {
                        var o = M.Sl.top.divHeader.rows[r];
                        o && n(o)
                    }
                if (M.Sl.bottom.enabled())
                    for (var r = 0; r < M.Sl.bottom.rowlist.length; r++) {
                        var o = M.Sl.bottom.divHeader.rows[r];
                        o && n(o)
                    }
                if (M.nav.resScrollSpace && (M.nav.resScrollSpace.style.width = e + "px"),
                M.Sl.bottom.enabled()) {
                    M.Sl.bottom.divSpace.style.width = e + "px"
                }
                this.eb()
            }
            ,
            this.en = function() {
                this._r(),
                this.ct()
            }
            ,
            this.dn = function() {
                var e = M.nav.corner
                  , t = $.pq()
                  , n = $.He();
                "number" == typeof M.rowHeaderColumnHeaderHeight && (n = M.rowHeaderColumnHeaderHeight);
                var i = l();
                i.style.position = "absolute",
                i.style.bottom = "0px",
                i.style.left = "0px",
                i.style.width = "100%",
                i.style.height = n + "px",
                i.style.overflow = "hidden",
                M.nav.columnScroll = i;
                var a = l();
                a.style.position = "absolute",
                a.style.bottom = "0px",
                a.style.left = "0px",
                a.style.width = "5000px",
                a.style.height = n + "px",
                a.style.overflow = "hidden",
                a.className = this.da("_columnheader"),
                i.appendChild(a);
                var r = l();
                r.style.position = "absolute",
                r.style.top = "0px",
                r.style.bottom = "0px",
                r.style.left = "0px",
                r.style.right = "0px",
                r.className = this.da("_columnheader_inner"),
                a.appendChild(r),
                M.qo && (M.qo.dispose(),
                M.qo = null);
                var o = [];
                t.forEach(function(e) {
                    var t = {};
                    t.column = {},
                    t.column.html = M.Ha(e.text || e.name || e.title, e.html),
                    t.column.areas = null,
                    t.column.toolTip = e.toolTip,
                    t.column.sortingEnabled = !!e.sort,
                    t.column.data = e,
                    t.column.cssClass = null,
                    t.column.bubbleHtml = e.bubbleHtml,
                    o.push(t),
                    "function" == typeof M.onBeforeRowHeaderColumnRender && M.onBeforeRowHeaderColumnRender(t)
                });
                var s = new DayPilot.Splitter(r);
                s.calendar = M,
                s.bubble = M.rowHeaderColumnBubble,
                s.enabled = M.rowHeaderColumnsResizable,
                s.nonresizable = DayPilot.Util.propArray(t, "nonresizable", !1),
                s.widths = DayPilot.Util.propArray(t, "width", M.rowHeaderColumnDefaultWidth),
                s.height = n,
                s.css.title = this.da("_columnheader_cell"),
                s.css.titleInner = this.da("_columnheader_cell_inner"),
                s.css.splitter = this.da("_columnheader_splitter"),
                M.rowHeaderScrolling && (s.splitterWidthLast = 6);
                var d = M.rows.Zr()
                  , c = M.rows.Yr();
                s.titles = x(o).map(function(e) {
                    var t = e.column.data
                      , n = e.column.html
                      , i = e.column.cssClass
                      , a = e.column.toolTip
                      , r = {};
                    if (r.areas = [],
                    t.sort && e.column.sortingEnabled) {
                        var o = M.da("_sorticon");
                        d === t.sort ? (o += " " + M.da("_sorticon_active"),
                        o += "asc" === c ? " " + M.da("_sorticon_asc") : " " + M.da("_sorticon_desc")) : o += " " + M.da("_sorticon_asc"),
                        r.areas = [{
                            right: 5,
                            top: 0,
                            bottom: 0,
                            width: 10,
                            cssClass: o,
                            onClick: function(e) {
                                var n = {};
                                n.field = t.sort,
                                d === t.sort ? n.order = "asc" === M.rows.Yr() ? "desc" : "asc" : n.order = "asc",
                                M.rows.sort(n)
                            }
                        }]
                    }
                    return _(e.column.areas) && (r.areas = r.areas.concat(e.column.areas)),
                    r.cssClass = i,
                    r.html = n,
                    r.toolTip = a,
                    r.bubbleHtml = e.column.bubbleHtml,
                    r.data = e.column.data,
                    r
                }),
                s.data = x(t, !0),
                s.started = function() {
                    var e = s.totalWidth() === M.rowHeaderWidth;
                    s.dt = e
                }
                ,
                s.updating = function(e) {
                    M.Ol.skip = !0,
                    DayPilot.Util.updatePropsFromArray($.pq(), "width", this.widths),
                    s.dt && M.rowHeaderScrolling && (M.rowHeaderWidth = s.totalWidth()),
                    M.en(),
                    "Auto" === M.cellWidthSpec
                }
                ,
                s.updated = function(e) {
                    if (M.cr(),
                    M.Hb()) {
                        if ("function" == typeof M.onRowHeaderColumnResized) {
                            var t = {};
                            t.column = $.pq()[e.index],
                            M.onRowHeaderColumnResized(t)
                        }
                    } else
                        switch (M.rowHeaderColumnResizedHandling) {
                        case "CallBack":
                            break;
                        case "PostBack":
                            break;
                        case "JavaScript":
                            if ("function" == typeof M.onRowHeaderColumnResized) {
                                var t = {};
                                t.column = $.pq()[e.index],
                                M.onRowHeaderColumnResized(t)
                            }
                        }
                }
                ,
                s.color = "#000000",
                s.opacity = 30,
                s.init(),
                e.appendChild(i),
                this.qo = s
            }
            ,
            this.xl = function() {
                var e = this.nav.corner;
                if (e) {
                    var t = $.He();
                    "number" == typeof M.rowHeaderColumnHeaderHeight && (t = M.rowHeaderColumnHeaderHeight),
                    M.Za(),
                    e.innerHTML = "",
                    e.className = this.da("_corner");
                    var n = l();
                    if (n.style.position = "absolute",
                    n.style.top = "0px",
                    n.style.left = "0px",
                    n.style.right = "0px",
                    n.style.bottom = "0px",
                    n.className = this.da("_corner_inner"),
                    this.divCorner = n,
                    n.innerHTML = "&nbsp;",
                    this.rowHeaderColumns && this.rowHeaderColumns.length > 0) {
                        var i = l();
                        i.style.position = "absolute",
                        i.style.top = "0px",
                        i.style.left = "0px",
                        i.style.right = "0px",
                        i.style.bottom = t + 1 + "px",
                        e.appendChild(i);
                        var a = l();
                        a.style.position = "absolute",
                        a.style.left = "0px",
                        a.style.right = "0px",
                        a.style.height = "1px",
                        a.style.bottom = t + "px",
                        a.className = this.da("_divider"),
                        e.appendChild(a),
                        i.appendChild(n),
                        this.dn()
                    } else
                        e.appendChild(n);
                    !function() {
                        var e = {};
                        e.control = M,
                        e.html = M.Ha(M.cornerText, M.cornerHtml),
                        e.areas = null;
                        var t = null;
                        if ("function" == typeof M.onBeforeCornerRender && M.onBeforeCornerRender(e),
                        "function" == typeof M.onBeforeCornerDomAdd && (e.element = null,
                        M.onBeforeCornerDomAdd(e),
                        t = e.element),
                        t) {
                            var n = M.divCorner;
                            n.domArgs = e;
                            if (m(t)) {
                                if (!M.X.reactDOM)
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                M.X.W(t, n)
                            } else
                                n.appendChild(t)
                        } else
                            M.divCorner && (M.divCorner.innerHTML = e.html || "");
                        e.areas && DayPilot.Areas.attach(M.nav.corner, {}, {
                            "areas": e.areas
                        })
                    }();
                    var r = l();
                    r.style.position = "absolute",
                    r.style.padding = "2px",
                    r.style.top = "0px",
                    r.style.left = "1px",
                    r.style.backgroundColor = "#FF6600",
                    r.style.color = "white",
                    r.innerHTML = "\u0044\u0045" + "\u004D\u004F",
                    v(undefined) && e.appendChild(r),
                    M.rowHeaderScrolling && M.nav.columnScroll && M.pm && (M.nav.columnScroll.scrollLeft = M.pm.scrollLeft)
                }
            }
            ,
            this.at = function() {
                var e = 3
                  , t = this.jm() + $.km() - 1
                  , n = 10
                  , i = 20
                  , a = this.lm() + e
                  , r = h(this.nav.top, t, a, n, i);
                r.style.cursor = "pointer",
                r.className = M.da("_header_icon"),
                u(r, M.da("_header_icon_hide")),
                r.onclick = function() {
                    M.rows.headerToggle()
                }
                ,
                r.ontouchstart = function(e) {
                    e.stopPropagation()
                }
                ,
                this.nav.hideIcon = r
            }
            ,
            this.on = function() {
                var e = 3
                  , t = M.nav.hideIcon
                  , n = M.lm() + e;
                t && (M.rowlist.length > 0 && M.rowHeaderHideIconEnabled ? t.style.display = "" : t.style.display = "none",
                t.style.top = n + "px")
            }
            ,
            this.Ef = function() {
                var e = this.jm()
                  , t = l();
                return M.nav.corner = t,
                t.style.width = e + "px",
                t.style.height = this.lm() + "px",
                t.style.overflow = "hidden",
                t.style.position = "relative",
                t.setAttribute("unselectable", "on"),
                t.onmousemove = function() {
                    M.db()
                }
                ,
                t.oncontextmenu = function() {
                    return !1
                }
                ,
                this.xl(),
                t
            }
            ,
            this.lm = function() {
                if ("None" === M.timeHeaderPosition)
                    return 0;
                if (M.timeHeaders) {
                    var e = ee.tq(M.timeHeaders.length - 1);
                    return e.top + e.height
                }
                return this.timeHeader ? M.timeHeader.length * $.He() : 0
            }
            ,
            this.et = null,
            this.ft = function() {
                return M.scrollStep || M.eventHeight
            }
            ,
            this.Us = function() {
                var e = l();
                e.style.width = this.jm() + "px",
                e.style.height = this.bf() + "px",
                e.style.overflow = "hidden",
                e.style.position = "relative",
                e.className = M.da("_rowheader_scroll");
                var t = M.ft()
                  , n = M.Ja.kr();
                n && (e.style.overflowY = "auto",
                M.rowHeaderScrolling && (e.style.overflowX = "auto")),
                e.onmousemove = function() {
                    M.db()
                }
                ,
                DayPilot.rePassive(e, "touchstart", function() {
                    i.gt = !0
                }),
                e.addEventListener("wheel", function(n) {
                    if (0 !== M.ht()) {
                        var i;
                        i = M.overrideWheelScrolling || M.scrollStep ? n.deltaY > 0 ? t : -t : 1 === n.deltaMode ? n.deltaY * $.it() * 1.7 : n.deltaY,
                        M.nav.scroll.scrollTop = e.scrollTop + i,
                        n.preventDefault()
                    }
                }, {
                    "passive": !1
                }),
                e.oncontextmenu = function() {
                    return !1
                }
                ,
                e.onscroll = function() {
                    if (M.et && clearTimeout(M.et),
                    n) {
                        var t = function() {
                            var t = M.gq() - M.nav.scroll.offsetHeight;
                            e.scrollTop = Math.min(e.scrollTop, t),
                            M.nav.scroll.scrollTop = e.scrollTop
                        };
                        DayPilot.browser.ios ? i.gt && (M.et = setTimeout(t, 10)) : M.et = setTimeout(t, 10)
                    } else
                        M.et = setTimeout(function() {
                            M.nav.scroll.scrollTop = e.scrollTop
                        }, 500)
                }
                ,
                M.jt(e),
                e.setAttribute("role", "region"),
                e.setAttribute("aria-label", "scheduler rows");
                var a = l();
                return a.onmousemove = function() {
                    M.db()
                }
                ,
                this.divHeader = a,
                e.appendChild(a),
                this.divResScroll = e,
                this.pm = e,
                e
            }
            ,
            this.jt = function(e) {
                e.addEventListener("scroll", function() {
                    M.rowHeaderScrolling && (M.nav.columnScroll && (M.nav.columnScroll.scrollLeft = e.scrollLeft),
                    M.Sl.top.enabled() && (M.Sl.top.divHeader.scrollLeft = e.scrollLeft),
                    this !== M.divResScroll && (M.divResScroll.scrollLeft = e.scrollLeft))
                }),
                e.onmouseenter = function() {
                    M.rowHeaderScrolling && (e.style.overflowX = "auto")
                }
                ,
                e.onmouseleave = function() {
                    M.rowHeaderScrolling && (e.style.overflowX = "hidden")
                }
            }
            ,
            this.kt = function(e) {
                if ("TableBased" === $.Ts()) {
                    var t = parseInt(this.width, 10)
                      , n = isNaN(t) || this.width.indexOf("%") !== -1
                      , i = (/MSIE/i.test(navigator.userAgent),
                    this.Zq());
                    n ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - i + "px") : e.style.width = t - i + "px"
                }
            }
            ,
            this.so = function(e) {
                if ("function" == typeof M.onEventMoving && i.Lp) {
                    var t = M.coords || {};
                    t.shift = e.shiftKey,
                    t.meta = e.metaKey,
                    t.ctrl = e.ctrlKey,
                    t.alt = e.altKey,
                    M.Pq()
                }
            }
            ,
            this.ro = function(e) {
                if ("function" == typeof M.onEventMoving && i.Lp) {
                    var t = M.coords || {};
                    t.shift = e.shiftKey,
                    t.meta = e.metaKey,
                    t.ctrl = e.ctrlKey,
                    t.alt = e.altKey,
                    M.Pq()
                }
            }
            ,
            this.vi = function(e) {
                "function" == typeof ResizeObserver && M.watchWidthChanges || i.Lp && (M.Eb(),
                M.Kl())
            }
            ,
            this.Eb = function() {
                M.Ba || ("TableBased" === M.Ja.Ts() && (M.kt(M.nav.scroll),
                M.kt(M.divTimeScroll)),
                M.yb(),
                M.cr(),
                M.lt(),
                M.wa.drawArea = null)
            }
            ,
            this.ug = null,
            this.vg = null,
            this.Ta = null,
            this.sg = function() {
                var e = function() {
                    M.Eb(),
                    M.Kl(null, {
                        "dontHideBubble": !0
                    })
                }
                  , t = function() {
                    if (M.watchWidthChanges) {
                        var t = M.nav.top;
                        if (t) {
                            var n = t.offsetParent
                              , i = n && n.offsetHeight;
                            if (!M.ug)
                                return M.ug = {},
                                M.ug.changed = !1,
                                M.ug.width = t.offsetWidth,
                                M.ug.height = t.offsetHeight,
                                void (M.ug.opHeight = i);
                            var a = M.ug.width !== t.offsetWidth
                              , r = M.ug.height !== t.offsetHeight
                              , o = "Max100Pct" === M.heightSpec && M.ug.opHeight !== i;
                            (a || r || o) && (M.ug.changed = !0,
                            M.ug.width = t.offsetWidth,
                            M.ug.height = t.offsetHeight,
                            M.ug.opHeight = i),
                            M.ug.changed && (M.ug.changed = !1,
                            e())
                        }
                    }
                };
                if (M.watchWidthChanges) {
                    if ("function" == typeof ResizeObserver) {
                        if (M.Ta)
                            return;
                        var n = new ResizeObserver(DayPilot.debounce(t, 100));
                        return n.observe(M.nav.top),
                        M.nav.top.offsetParent && n.observe(M.nav.top.offsetParent),
                        void (M.Ta = n)
                    }
                    if (!M.vg) {
                        var i = function() {
                            return M.nav && M.nav.top ? M.ug ? (M.ug.width !== M.nav.top.offsetWidth && (M.ug.changed = !0,
                            M.ug.counter = 0,
                            M.ug.width = M.nav.top.offsetWidth),
                            M.ug.changed && (M.ug.counter += 1),
                            void (M.ug.changed && M.ug.counter > 0 && (M.ug.changed = !1,
                            e()))) : (M.ug = {},
                            M.ug.counter = 0,
                            M.ug.changed = !1,
                            void (M.ug.width = M.nav.top.offsetWidth)) : void clearInterval(M.vg)
                        };
                        this.vg = setInterval(i, 200),
                        i()
                    }
                }
            }
            ,
            this.lt = function() {
                if ("Fixed" !== M.cellWidthSpec)
                    if (X.list.length > 0) {
                        var e = X.get();
                        M.clearSelection(),
                        e.forEach(function(e) {
                            M.multirange.add(e)
                        })
                    } else {
                        var t = M.In;
                        M.clearSelection(),
                        M.In = t,
                        M.Jn(t, {
                            "justDraw": !0
                        })
                    }
            }
            ,
            this.cr = function() {
                "Auto" === M.cellWidthSpec && (M.Bl(),
                M.Aa && (M.ol(),
                M.ql(),
                M.yl(),
                M.Cl(),
                M.Va(),
                M.qb(),
                P.ul(),
                M.zl(),
                M.Al(),
                M.Ym(),
                M.Cb(),
                M.El(),
                M.Fl(),
                M.yb()))
            }
            ,
            this.ol = function() {
                if ("Auto" === this.cellWidthSpec) {
                    var e = this.nav.top.clientWidth
                      , t = this.jm()
                      , n = M.ht()
                      , i = e - t - n;
                    if (this.kq()) {
                        var a = i / this.kq();
                        this.cellWidth = Math.max(a, M.cellWidthMin),
                        M.om = a < M.cellWidthMin
                    }
                }
            }
            ,
            this.ht = function() {
                if ("Auto" === M.heightSpec)
                    return 0;
                if ("Max" === M.heightSpec || "Fixed" === M.heightSpec || "Parent100Pct" === M.heightSpec) {
                    if (M.gq() > M.height) {
                        return DayPilot.sw(M.nav.scroll) || 1
                    }
                    return 0
                }
                return DayPilot.sw(M.nav.scroll)
            }
            ,
            this.tm = function() {
                var e = this.nav.top.clientWidth
                  , t = this.jm()
                  , n = this.bf()
                  , i = this.gq()
                  , a = "Auto" === M.heightSpec
                  , r = 0;
                return i > n && !a && (r = DayPilot.swa()),
                e - t - -2 - r
            }
            ,
            this.Ys = function() {
                var e = "Top" === M.timeHeaderPosition
                  , t = l();
                t.style.overflow = "hidden",
                t.style.display = "block",
                e ? (t.style.position = "absolute",
                t.style.top = "0px") : t.style.position = "relative",
                t.style.width = "100%",
                t.style.height = this.lm() + "px",
                t.style.overflow = "hidden",
                t.onmousemove = function() {
                    M.db(),
                    M.cellBubble && M.cellBubble.delayedHide()
                }
                ,
                t.className = M.da("_timeheader_scroll"),
                this.kt(t),
                this.divTimeScroll = t;
                var n = l();
                return n.style.width = this.gm() + 5e3 + "px",
                this.divNorth = n,
                t.appendChild(n),
                t
            }
            ,
            this.bf = function() {
                var e = 0
                  , t = M.heightSpec;
                return "Fixed" === t || "Parent100Pct" === t ? this.height ? this.height : 0 : (e = M.gq(),
                ("Max" === t || "Max100Pct" === t) && e > M.height ? M.height : e)
            }
            ,
            this.mt = null,
            this.nt = 0,
            this.ot = 0,
            this.pt = 0,
            this.rm = function() {
                if ("function" == typeof M.onHeightChanged || "function" == typeof M.onDimensionsChanged) {
                    M.mt && clearTimeout(M.mt);
                    var e = function() {
                        var e = M.nav.top.offsetHeight
                          , t = M.nt;
                        M.nt = e;
                        var n = M.nav.top.offsetWidth
                          , i = M.ot;
                        M.ot = n;
                        var a = M.jm()
                          , r = M.pt;
                        if (M.pt = a,
                        "function" == typeof M.onHeightChanged && e !== t) {
                            var o = {};
                            o.oldHeight = t,
                            o.newHeight = e,
                            M.onHeightChanged(o)
                        }
                        if ("function" == typeof M.onDimensionsChanged && (e !== t || n !== i || a !== r)) {
                            var o = {};
                            o.oldHeight = t,
                            o.newHeight = e,
                            o.oldWidth = i,
                            o.newWidth = n,
                            o.oldRowHeaderWidth = r,
                            o.newRowHeaderWidth = a,
                            M.onDimensionsChanged(o)
                        }
                    };
                    M.mt = setTimeout(e, 100)
                }
            }
            ,
            this.gq = function() {
                var e;
                return this.hl !== -1 ? (e = this.hl,
                "auto" === M.nav.scroll.style.overflowX && (e += DayPilot.sh(M.nav.scroll))) : e = this.rowlist.length * this.Ja.yo(),
                e += M.Sl.bottom.height
            }
            ,
            this.db = function() {
                this.fb(),
                M.qt && (this.eb(),
                this.rt(),
                this.Vq(),
                this.dq(),
                M.cellBubble && M.cellBubble.hideOnMouseOut(),
                M.bubble && M.bubble.hideOnMouseOut(),
                M.groupBubble && M.groupBubble.hideOnMouseOut(),
                M.qt = !1)
            }
            ,
            this.Sl = {},
            this.Sl.top = {},
            this.Sl.top.height = 0,
            this.Sl.top.rowlist = [],
            this.Sl.top.enabled = function() {
                return this.rowlist && this.rowlist.length > 0
            }
            ,
            Object.defineProperty(M.Sl.top, "top", {
                get: function() {
                    return M.lm() + 1
                }
            }),
            Object.defineProperty(M.Sl.top, "right", {
                get: function() {
                    return M.ht()
                }
            }),
            Object.defineProperty(M.Sl.top, "heightRes", {
                get: function() {
                    return this.height
                }
            }),
            this.Sl.bottom = {},
            this.Sl.bottom.height = 0,
            this.Sl.bottom.rowlist = [],
            this.Sl.bottom.enabled = function() {
                return this.rowlist && this.rowlist.length > 0
            }
            ,
            Object.defineProperty(M.Sl.bottom, "top", {
                get: function() {
                    return M.lm() + M.bf() - this.height - DayPilot.sh(M.nav.scroll) + 1
                }
            }),
            Object.defineProperty(M.Sl.bottom, "right", {
                get: function() {
                    return M.ht()
                }
            }),
            Object.defineProperty(M.Sl.bottom, "heightRes", {
                get: function() {
                    return this.height + DayPilot.sh(M.nav.scroll)
                }
            }),
            this.Sl.main = {},
            this.bt = function() {
                var e = M.Sl.main;
                e.divCells = M.divCells,
                e.divLines = M.divLines,
                e.divBreaks = M.divBreaks,
                e.divHeader = M.divHeader,
                e.divEvents = M.divEvents,
                e.divShadow = M.divShadow,
                e.divHover = M.divHover,
                e.divCrosshair = M.divCrosshair,
                e.div = M.nav.scroll,
                Object.defineProperty(M.Sl.main, "rowlist", {
                    get: function() {
                        return M.rowlist
                    }
                }),
                Object.defineProperty(M.Sl.main, "rowlistparents", {
                    get: function() {
                        return M.rowlistparents
                    }
                }),
                Object.defineProperty(M.Sl.main, "top", {
                    get: function() {
                        return M.lm() + 1
                    }
                }),
                Object.defineProperty(M.Sl.main, "height", {
                    get: function() {
                        return M.hl
                    }
                })
            }
            ,
            this.Vs = function() {
                var e = M.Sl.top
                  , t = e.top
                  , n = e.height
                  , i = l();
                return i.style.position = "absolute",
                i.style.left = "0px",
                i.style.right = "0px",
                i.style.top = t + "px",
                i.style.height = n + "px",
                i.style.overflow = "hidden",
                i.style.boxSizing = "border-box",
                i.rows = [],
                e.divHeader = i,
                i
            }
            ,
            this.Ws = function() {
                var e = M.Sl.bottom
                  , t = e.top
                  , n = e.height
                  , i = l();
                i.style.position = "absolute",
                i.style.left = "0px",
                i.style.right = "0px",
                i.style.top = t + "px",
                i.style.height = n + "px",
                i.style.overflow = "hidden",
                i.style.boxSizing = "border-box";
                var a = l();
                a.style.position = "absolute",
                a.style.height = "500px",
                a.style.top = e.height + "px",
                a.style.left = "0px",
                a.style.width = M.Zq() + "px",
                a.className = M.da("_rowheader"),
                i.appendChild(a),
                i.rows = [];
                var r = l();
                return i.appendChild(r),
                i.hr = r,
                M.jt(i),
                e.divHeader = i,
                e.divSpace = a,
                i
            }
            ,
            this.$s = function() {
                var e = M.Sl.top
                  , t = e.top
                  , n = e.height
                  , i = l();
                return i.style.position = "absolute",
                i.style.left = "0px",
                i.style.right = "0px",
                i.style.top = t + "px",
                i.style.height = n + "px",
                i.style.overflow = "hidden",
                i.className = M.da("_grid_top"),
                i.onmousedown = M.st,
                i.onmousemove = M.Wq,
                i.oncontextmenu = M.tt,
                i.onmouseup = M.ut,
                i.ondblclick = this.vt,
                M.nav.fixedTop = i,
                e.div = i,
                p(M.wt(i), e),
                i
            }
            ,
            this._s = function() {
                var e = M.Sl.bottom
                  , t = e.top
                  , n = e.height
                  , i = l();
                return i.style.position = "absolute",
                i.style.left = "0px",
                i.style.right = "0px",
                i.style.bottom = t + "px",
                i.style.height = n + "px",
                i.style.overflow = "hidden",
                i.className = M.da("_grid_bottom"),
                i.onmousedown = M.st,
                i.onmousemove = M.Wq,
                i.oncontextmenu = M.tt,
                i.onmouseup = M.ut,
                i.ondblclick = this.vt,
                M.nav.fixedBottom = i,
                e.div = i,
                p(M.wt(i), e),
                i
            }
            ,
            this.wt = function(e) {
                var t = l();
                t.style.position = "absolute",
                e.appendChild(t);
                var n = l();
                n.style.position = "absolute",
                e.appendChild(n);
                var i = l();
                i.style.position = "absolute",
                e.appendChild(i);
                var a = l();
                a.style.position = "absolute",
                e.appendChild(a);
                var r = l();
                r.style.position = "absolute",
                e.appendChild(r);
                var o = l();
                o.style.position = "absolute",
                o.style.left = "0px",
                o.style.width = "100000px",
                o.style.bottom = "0px",
                o.style.height = "1px",
                e.appendChild(o);
                var s = l();
                s.style.position = "absolute",
                e.appendChild(s);
                var d = l();
                return d.style.position = "absolute",
                e.appendChild(d),
                {
                    "divCells": t,
                    "divLines": n,
                    "divBreaks": i,
                    "divEvents": r,
                    "divShadow": d,
                    "divHover": s,
                    "divCrosshair": a
                }
            }
            ,
            this.qm = function() {
                var e = M.Sl.top
                  , t = M.Sl.bottom;
                D(e),
                D(t),
                M.divStretch.style.height = M.hl + t.height + "px",
                M.nav.dividerTop.style.top = e.top + e.height - 1 + "px",
                M.nav.dividerTop.style.right = e.right + "px",
                M.xt(M.nav.dividerTop, e.enabled()),
                M.nav.dividerBottom.style.top = t.top - 1 + "px",
                M.nav.dividerBottom.style.right = t.right + "px",
                M.xt(M.nav.dividerBottom, t.enabled()),
                e.div.style.right = e.right + "px",
                t.div.style.right = t.right + "px"
            }
            ,
            this.xt = function(e, t) {
                e.style.display = t ? "" : "none"
            }
            ,
            this.Am = function(e) {
                e = e || {};
                var t = e.includeSplitParents
                  , n = M.rowlist;
                return n = n.concat(M.Sl.top.rowlist),
                n = n.concat(M.Sl.bottom.rowlist),
                t && (n = n.concat(M.rowlistparents)),
                n
            }
            ,
            this.yt = function() {
                return M.rowlist.length > 0 || M.Sl.top.rowlist.length > 0 || M.Sl.bottom.rowlist.length > 0
            }
            ,
            this.zt = function() {
                this._e(),
                this.At()
            }
            ,
            this.Zs = function() {
                var e = l();
                if (e.style.overflow = "auto",
                e.style.overflowX = "auto",
                e.style.overflowY = "auto",
                e.style.height = this.bf() + "px",
                "Top" === M.timeHeaderPosition ? (e.style.top = this.lm() + 1 + "px",
                e.style.position = "absolute") : e.style.position = "relative",
                e.style.width = "100%",
                e.className = this.da("_scrollable"),
                e.oncontextmenu = function() {
                    return !1
                }
                ,
                this.kt(e),
                M.overrideWheelScrolling) {
                    var t = M.ft();
                    e.onwheel = function(n) {
                        var i = n.deltaY > 0 ? t : -t;
                        M.nav.scroll.scrollTop = e.scrollTop + i,
                        n.preventDefault()
                    }
                    ,
                    e.onmousewheel = function(n) {
                        var i = n.wheelDelta < 0 ? t : -t;
                        M.nav.scroll.scrollTop = e.scrollTop + i,
                        n.preventDefault(),
                        n.returnValue = !1
                    }
                }
                DayPilot.rePassive(e, "wheel", M.po),
                this.nav.scroll = e,
                this.Ql = l();
                var n = this.Ql;
                n.style.MozUserSelect = "none",
                n.style.KhtmlUserSelect = "none",
                n.style.webkitUserSelect = "none",
                n.daypilotMainD = !0,
                n.calendar = this,
                n.style.minHeight = "1px",
                DayPilot.browser.android && (n.style.webkitTransform = "translateZ(0px)"),
                n.style.position = "absolute";
                var i = this.gm();
                return i > 0 && !isNaN(i) && (n.style.width = i + "px"),
                n.setAttribute("unselectable", "on"),
                n.onmousedown = this.st,
                n.onmousemove = this.Wq,
                n.onmouseup = this.ut,
                n.oncontextmenu = this.tt,
                n.ondblclick = this.vt,
                n.className = this.da("_matrix"),
                this.divStretch = l(),
                this.divStretch.style.position = "absolute",
                this.divStretch.style.height = "1px",
                n.appendChild(this.divStretch),
                this.divCells = l(),
                this.divCells.style.position = "absolute",
                this.divCells.oncontextmenu = this.tt,
                n.appendChild(this.divCells),
                this.divLines = l(),
                this.divLines.style.position = "absolute",
                this.divLines.oncontextmenu = this.tt,
                n.appendChild(this.divLines),
                this.divBreaks = l(),
                this.divBreaks.style.position = "absolute",
                this.divBreaks.oncontextmenu = this.tt,
                n.appendChild(this.divBreaks),
                this.divSeparators = l(),
                this.divSeparators.style.position = "absolute",
                this.divSeparators.oncontextmenu = this.tt,
                n.appendChild(this.divSeparators),
                this.divLinksBelow = l(),
                this.divLinksBelow.style.position = "absolute",
                n.appendChild(this.divLinksBelow),
                this.divCrosshair = l(),
                this.divCrosshair.style.position = "absolute",
                this.divCrosshair.ondblclick = this.vt,
                this.divCrosshair.onmousedown = this.fg,
                n.appendChild(this.divCrosshair),
                this.divRange = l(),
                this.divRange.style.position = "absolute",
                this.divRange.oncontextmenu = this.tt,
                n.appendChild(this.divRange),
                this.divEvents = l(),
                this.divEvents.style.position = "absolute",
                n.appendChild(this.divEvents),
                this.divSeparatorsAbove = l(),
                this.divSeparatorsAbove.style.position = "absolute",
                this.divSeparatorsAbove.oncontextmenu = this.tt,
                n.appendChild(this.divSeparatorsAbove),
                this.divLinksAbove = l(),
                this.divLinksAbove.style.position = "absolute",
                n.appendChild(this.divLinksAbove),
                this.divLinkShadow = l(),
                this.divLinkShadow.style.position = "absolute",
                n.appendChild(this.divLinkShadow),
                this.divLinkpoints = l(),
                this.divLinkpoints.style.position = "absolute",
                n.appendChild(this.divLinkpoints),
                this.divRectangle = l(),
                this.divRectangle.style.position = "absolute",
                n.appendChild(this.divRectangle),
                this.divHover = l(),
                this.divHover.style.position = "absolute",
                n.appendChild(this.divHover),
                this.divShadow = l(),
                this.divShadow.style.position = "absolute",
                n.appendChild(this.divShadow),
                e.appendChild(n),
                e
            }
            ,
            M.po = function(e) {
                M.Rm(e)
            }
            ,
            this.Eg = {};
            var K = this.Eg;
            K.Fg = function() {
                if (!M.nav.overlay) {
                    var e = document.createElement("div");
                    e.style.position = "absolute",
                    e.style.left = "0px",
                    e.style.right = "0px",
                    e.style.top = "0px",
                    e.style.bottom = "0px",
                    e.className = M.da("_block"),
                    M.nav.top.appendChild(e),
                    M.nav.overlay = e
                }
            }
            ,
            K.E = function() {
                K.Fg(),
                M.nav.overlay.style.display = ""
            }
            ,
            K.C = function() {
                M.nav.overlay && (M.nav.overlay.style.display = "none")
            }
            ,
            this.Na = function(e) {
                e = e || {};
                var t = e.delay || 0
                  , n = M.Ha(e.text || this.loadingLabelText, this.loadingLabelHtml)
                  , i = "undefined" != typeof e.block ? e.block : M.blockOnCallBack;
                M.ng && window.clearTimeout(M.ng);
                var a = function() {
                    (M.loadingLabelVisible || e.text) && (M.nav.loading.innerHTML = n,
                    M.nav.loading.style.display = ""),
                    i && K.E()
                };
                0 === t ? a() : M.ng = window.setTimeout(a, t)
            }
            ,
            this.kb = function(e) {
                this.ng && window.clearTimeout(this.ng),
                this.nav.loading.style.display = "none",
                (e || M.blockOnCallBack) && K.C()
            }
            ,
            this.loadingStart = function(e) {
                M.Na(e)
            }
            ,
            this.loadingStop = function() {
                M.kb(!0)
            }
            ,
            this.uiBlock = function() {
                K.E()
            }
            ,
            this.uiUnblock = function() {
                K.C()
            }
            ,
            this.eh = function() {
                this.startDate = new DayPilot.Date(this.startDate).getDatePart()
            }
            ,
            this.hh = function(e) {
                return 0
            }
            ,
            this.Gb = function(e) {
                if (e && (this.autoRefreshEnabled = !0),
                this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) {
                    this.Ua();
                    var t = this.autoRefreshInterval;
                    if (!t || t < 10)
                        throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                    this.autoRefreshTimeout = window.setTimeout(function() {
                        M.tg()
                    }, 1e3 * this.autoRefreshInterval)
                }
            }
            ,
            this.Ua = function() {
                this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout),
                this.autoRefreshTimeout = null)
            }
            ,
            this.autoRefreshStart = function(e) {
                M.Gb(e)
            }
            ,
            this.autoRefreshPause = function() {
                M.Ua()
            }
            ,
            this.Bt = function() {
                return !(i.Pp || i.Om || i.Qq || i.Qp)
            }
            ,
            this.tg = function() {
                if (M.Bt()) {
                    var e = !1;
                    if ("function" == typeof this.onAutoRefresh) {
                        var t = {};
                        t.i = this.za,
                        t.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        M.onAutoRefresh(t),
                        t.preventDefault.value && (e = !0)
                    }
                    !e && this.ka() && this.commandCallBack(this.autoRefreshCommand),
                    this.za++
                }
                this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function() {
                    M.tg()
                }, 1e3 * this.autoRefreshInterval))
            }
            ,
            this.wg = function() {
                i.xg || (i.xg = !0,
                DayPilot.re(document, "mousemove", i.yg),
                DayPilot.re(document, "mouseup", i.zg),
                DayPilot.re(document, "mousedown", i.Ct),
                DayPilot.re(document, "touchend", i.Bg),
                DayPilot.reNonPassive(document, "touchmove", i.Ag),
                DayPilot.re(window, "keyup", i.Dt)),
                DayPilot.re(window, "resize", this.vi),
                DayPilot.re(document, "keydown", this.ro),
                DayPilot.re(document, "keyup", this.so)
            }
            ,
            this.Et = function() {
                this.nav.scroll.root = this,
                this.nav.scroll.onscroll = this.Kl,
                this.nav.scroll.onscrollend = this.Ft,
                M.lq = this.nav.scroll.scrollLeft,
                M.jq = this.nav.scroll.scrollTop,
                this.divNorth && (M.Gt = this.divNorth.clientWidth)
            }
            ,
            this.fk = function() {
                if (this.nav.state) {
                    var e = {};
                    e.scrollX = this.nav.scroll.scrollLeft,
                    e.scrollY = this.nav.scroll.scrollTop;
                    var t = M.co(e.scrollX, e.scrollY)
                      , n = M.do(t)
                      , i = M.eo(t);
                    e.rangeStart = n.start,
                    e.rangeEnd = n.end,
                    e.resources = i,
                    this.syncResourceTree && (e.tree = this.cb()),
                    this.nav.state.value = DayPilot.he(JSON.stringify(e))
                }
            }
            ,
            this.Fl = function() {
                if (this.separators)
                    for (var e = 0; e < this.separators.length; e++)
                        this.Xg(e)
            }
            ,
            this.Ht = {},
            this.Ht.step = 300,
            this.Ht.delay = 10,
            this.Ht.mode = "display",
            this.Ht.layers = !1,
            this.oq = function(e) {
                if (M.cl)
                    return void V.It(e);
                for (var t = 0, n = 0; n < e.lines.length; n++) {
                    var i = e.lines[n];
                    i.height = 0,
                    i.top = t;
                    for (var a = 0; a < i.length; a++) {
                        var r = i[a];
                        if (!r.part.top,
                        !0) {
                            r.part.line = n,
                            r.part.height || (r.part.height = e.eventHeight);
                            var o = r.part.Qr();
                            o > i.height && (i.height = o),
                            r.part.top = t + e.marginTop;
                            var s = "Above" === M.eventVersionPosition;
                            if (M.eventVersionsEnabled && !x(r.versions).isEmpty()) {
                                var l = r.cache || r.data
                                  , d = (l.versions.length,
                                r.part.top);
                                s || (d += r.part.height + M.eventVersionMargin),
                                x(l.versions).forEach(function(e, t) {
                                    if (r.versions[t]) {
                                        var n = t * (M.eventVersionHeight + M.eventVersionMargin);
                                        r.versions[t].top = d + n,
                                        s && (r.part.top += M.eventVersionHeight,
                                        r.part.top += M.eventVersionMargin)
                                    }
                                })
                            }
                            r.part.right = r.part.left + r.part.width,
                            r.part.fullTop = e.top + r.part.top,
                            r.part.fullBottom = r.part.fullTop + r.part.height
                        }
                    }
                    t += (i.height || e.eventHeight) * e.eventStackingLineHeight / 100
                }
            }
            ;
            var V = {};
            V.zp = function(e) {
                e.evColumns = x(M.itline).map(function(e, t) {
                    return {
                        "events": x()
                    }
                }),
                x(e.events).forEach(function(t) {
                    var n = t.start()
                      , i = M.Mm(n);
                    e.evColumns[i.i].events.push(t)
                })
            }
            ,
            V.Pr = function() {
                var e = M.dl
                  , t = 0;
                x(M.rowlist).forEach(function(n) {
                    var i = 0;
                    n.evColumns.forEach(function(t, a) {
                        var r = M.itline[a]
                          , o = M.rowMarginTop;
                        t.events.forEach(function(t) {
                            t.part.left = r.left,
                            t.part.width = r.width,
                            t.part.top = o,
                            t.part.height || (e ? t.part.height = V.Jt(t) + $.sq() : t.part.height = n.eventHeight),
                            o += t.part.height + M.eventMarginBottom
                        }),
                        t.height = o,
                        t.height > i && (i = t.height)
                    }),
                    n.maxColumnHeight = i,
                    n.top = t;
                    var a = n.height;
                    n.height = n.getHeight(),
                    i > M.rowMarginTop && (n.height = i + M.rowMarginBottom),
                    a !== n.height && (M.zn = !0),
                    t += n.height
                }),
                M.hl = t
            }
            ,
            V.Jt = function(e) {
                var t = e.client.html()
                  , n = l();
                n.style.position = "absolute",
                n.style.top = "-2000px",
                n.style.left = "-2000px",
                n.style.width = e.part.width + "px",
                n.className = M.da(J.event);
                var i = l();
                i.className = M.da(J.eventInner),
                i.innerHTML = t,
                i.style.position = "static",
                i.style.overflow = "auto",
                n.appendChild(i);
                var a = M.divEvents;
                a.appendChild(n);
                var r = n.offsetHeight;
                return a.removeChild(n),
                r
            }
            ,
            V.It = function(e) {
                V.Pr()
            }
            ,
            V.Kt = function() {
                x(M.rowlist).forEach(function(e) {
                    V.Lt(e)
                })
            }
            ,
            V.Cb = function() {
                V.Kt(),
                V.Mt(),
                M.Al(),
                M.yb()
            }
            ,
            V.Mt = function() {
                if (M.dl) {
                    var e = !1;
                    x(M.elements.events).forEach(function(t) {
                        var n = t.firstChild
                          , i = n.offsetHeight - n.clientHeight + t.offsetHeight - t.clientHeight
                          , a = n.scrollHeight + i
                          , r = t.event.part.height;
                        t.event.part.height = a,
                        r !== a && (e = !0)
                    }),
                    e && (M.Va(),
                    V.Pr(),
                    V.Kt(),
                    M.Bl(),
                    M.El())
                }
            }
            ,
            V.Lt = function(e) {
                e.evColumns.forEach(function(e, t) {
                    e.events.forEach(function(e) {
                        M.Re(e)
                    })
                })
            }
            ,
            this.hn = null,
            this.Cb = function(e) {
                if (!M.Ba) {
                    if (M.cl)
                        return void V.Cb();
                    var t = this.Ht.step;
                    this.Ht.layers;
                    "display" === this.Ht.mode ? this.divEvents.style.display = "none" : "visibility" === this.Ht.mode && (this.divEvents.style.visibility = "hidden"),
                    this.divEvents.setAttribute("role", "region"),
                    this.divEvents.setAttribute("aria-label", "scheduler events");
                    var n = "Progressive" === this.dynamicEventRendering
                      , i = this.rd()
                      , a = i.pixels.top
                      , r = i.pixels.bottom
                      , o = M.allowMultiMove || M.allowMultiResize
                      , s = o && !x(M.multiselect.Kc).isEmpty()
                      , l = M.rowlist.filter(function(e) {
                        var t = e.top - M.dynamicEventRenderingMargin
                          , i = t + e.height + 2 * M.dynamicEventRenderingMargin;
                        return !(n && !s && (r <= t || a >= i))
                    });
                    M.Sl.top.enabled() && (l = l.concat(M.Sl.top.rowlist)),
                    M.Sl.bottom.enabled() && (l = l.concat(M.Sl.bottom.rowlist)),
                    l.forEach(function(n) {
                        M.oq(n);
                        for (var i = Math.max(0, n.resource && n.resource.maxLines || 1e5), a = 0; a < n.lines.length; a++) {
                            var r = n.lines[a];
                            if (!(a >= i))
                                for (var o = 0; o < r.length; o++) {
                                    var s = r[o]
                                      , l = M.Re(s);
                                    if (e && l && (t--,
                                    t <= 0))
                                        return M.divEvents.style.visibility = "",
                                        M.divEvents.style.display = "",
                                        void (M.hn = window.setTimeout(function() {
                                            M.Cb(e)
                                        }, M.Ht.delay))
                                }
                        }
                    }),
                    this.divEvents.style.display = "",
                    x(M.multiselect.Kc).isEmpty() || M.multiselect.redraw(),
                    this.$l(),
                    P.Oo(),
                    this.xp()
                }
            }
            ,
            this.Bn = function(e, t) {
                var n = M.uo(t)
                  , i = n.rowlist[e];
                if (M.cl)
                    return void V.Lt(i);
                this.Ql.insertBefore(this.divEvents, this.divSeparatorsAbove),
                M.wa.ml.push(this.divEvents),
                this.oq(i);
                for (var a = 0; a < i.lines.length; a++)
                    for (var r = i.lines[a], o = 0; o < r.length; o++) {
                        var s = r[o];
                        this.Re(s)
                    }
                this.divEvents.style.display = ""
            }
            ,
            this.Nt = function() {
                var e = M.wa.ml
                  , t = [];
                e.forEach(function(e) {
                    0 === e.childNodes.length ? e.remove() : t.push(e)
                }),
                M.wa.ml = t
            }
            ,
            this.Va = function() {
                if (this.elements.events)
                    for (var e = this.elements.events.length, t = 0; t < e; t++) {
                        var n = this.elements.events[t];
                        this.Ne(n)
                    }
                this.elements.events = []
            }
            ,
            this.An = function(e, t) {
                if (t = t || "main",
                this.elements.events) {
                    for (var n = this.elements.events.length, i = [], a = 0; a < n; a++) {
                        var r = this.elements.events[a]
                          , o = r.event;
                        o.part.dayIndex === e && o.part.grid === t && (this.Ne(r),
                        i.push(a))
                    }
                    for (var a = i.length - 1; a >= 0; a--)
                        this.elements.events.splice(i[a], 1)
                }
            }
            ,
            this.Ne = function(e) {
                var t = e.domArgs;
                if (e.domArgs = null,
                t && "function" == typeof M.onDomRemoveEvent && M.onDomRemoveEvent(t),
                t && "function" == typeof M.onBeforeEventDomRemove && M.onBeforeEventDomRemove(t),
                t && "function" == typeof M.onBeforeEventDomAdd) {
                    var n = t && t.Ie;
                    if (n) {
                        var i = M.X.reactDOM && m(t.element)
                          , a = M.Z.Ke && (g(t.element) || b(t.element));
                        i ? M.X.la(n) : a && (M.Z.Le = !0,
                        M.Z.ma(n),
                        M.Z.Le = !1)
                    }
                }
                e.parentNode && e.parentNode.removeChild(e),
                e.onclick = null,
                e.oncontextmenu = null,
                e.onmouseover = null,
                e.onmouseout = null,
                e.onmousemove = null,
                e.onmousedown = null,
                e.ondblclick = null,
                e.event && (e.event.rendered = null,
                e.event = null),
                e.related && C(e.related)
            }
            ,
            this.Ot = function(e) {
                e.event && (e.event.rendered = !1),
                e.onclick = null,
                e.onmousedown = null,
                e.event = null,
                e.parentNode && e.parentNode.removeChild(e)
            }
            ,
            this.Pt = function() {
                if ("Progressive" === this.dynamicEventRendering) {
                    if (M.dynamicEventRenderingCacheSweeping) {
                        var e = M.dynamicEventRenderingCacheSize || 0;
                        this.divEvents.style.display = "none";
                        for (var t = [], n = 0, i = this.elements.events.length, a = i - 1; a >= 0; a--) {
                            var r = this.elements.events[a];
                            this.Qt(r.event) ? e > 0 ? (e--,
                            t.unshift(r)) : (this.Ne(r),
                            n++) : t.unshift(r)
                        }
                        this.elements.events = t,
                        this.divEvents.style.display = ""
                    }
                }
            }
            ,
            this.Rt = function(e) {
                for (var t = [], n = 0, i = this.rd(), a = this.elements.cells.length, r = a - 1; r >= 0; r--) {
                    var o = this.elements.cells[r];
                    i.xStart < o.coords.x && o.coords.x <= i.xEnd && i.yStart < o.coords.y && o.coords.y <= i.yEnd ? t.unshift(o) : e > 0 ? (e--,
                    t.unshift(o)) : (this.Ep(o),
                    n++)
                }
            }
            ,
            this.Ep = function(e) {
                if (e && e.coords) {
                    var t = e.coords.x
                      , n = e.coords.y
                      , i = e.coords.grid;
                    !function() {
                        var t = e.domArgs;
                        if (e.domArgs = null,
                        t && "function" == typeof M.onBeforeCellDomRemove && M.onBeforeCellDomRemove(t),
                        t && "function" == typeof M.onBeforeCellDomAdd && M.X.reactDOM) {
                            var n = t && t.Ie;
                            if (n) {
                                var i = M.X.reactDOM && m(t.element)
                                  , a = M.Z.Ke && (g(t.element) || b(t.element));
                                i ? M.X.la(n) : a && (M.Z.Le = !0,
                                M.Z.ma(n),
                                M.Z.Le = !1)
                            }
                        }
                    }(),
                    DayPilot.rfa(M.elements.cells, e),
                    C(e),
                    M.wa.cells[i + "_" + t + "_" + n] = null
                }
            }
            ,
            this.Cl = function() {
                if (this.elements.separators)
                    for (var e = 0; e < this.elements.separators.length; e++) {
                        var t = this.elements.separators[e];
                        C(t)
                    }
                this.elements.separators = []
            }
            ,
            this.St = function() {
                var e = "Progressive" === this.dynamicEventRendering;
                if (!this.nav.scroll)
                    return !1;
                for (var t = this.nav.scroll.scrollTop, n = t + this.nav.scroll.clientHeight, i = M.Am(), a = 0; a < i.length; a++) {
                    var r = i[a]
                      , o = r.top
                      , s = r.top + r.height;
                    if (!e || !(n <= o || t >= s))
                        for (var l = 0; l < r.lines.length; l++)
                            for (var d = r.lines[l], c = 0; c < d.length; c++) {
                                var u = d[c];
                                if (this.Tt(u))
                                    return !0
                            }
                }
                return !1
            }
            ,
            this.Tt = function(e) {
                if (e.rendered)
                    return !1;
                var t = "Progressive" === this.dynamicEventRendering
                  , n = this.nav.scroll.scrollLeft
                  , i = n + this.nav.scroll.clientWidth
                  , a = e.part.left
                  , r = e.part.left + e.part.width;
                return !t || !(i <= a || n >= r)
            }
            ,
            this.Qt = function(e) {
                if (!e.rendered)
                    return !0;
                var t = this.rd()
                  , n = t.pixels.top
                  , i = t.pixels.bottom
                  , a = t.pixels.left - this.dynamicEventRenderingMargin
                  , r = t.pixels.right + this.dynamicEventRenderingMargin
                  , o = e.part.left
                  , s = e.part.right
                  , l = e.part.fullTop
                  , d = e.part.fullBottom;
                return r <= o || a >= s || (i <= l || n >= d)
            }
            ,
            this.Or = x(),
            this.Ut = function(e) {
                if (e.rendered)
                    return !1;
                var t = e.row;
                if (t.hidden)
                    return !1;
                var n = M.Sl[t.grid]
                  , i = e.min
                  , a = e.max - e.min
                  , r = M.eventHeight
                  , o = e.row.top;
                "number" == typeof t.forcedHeight && (r = Math.min(t.forcedHeight, M.eventHeight));
                var s = l();
                s.style.position = "absolute",
                s.style.left = i + "px",
                s.style.top = o + "px",
                s.style.width = a + "px",
                s.style.height = r + "px",
                s.className = M.da("_event_group"),
                s.style.cursor = "pointer";
                var d = {};
                d.group = {},
                d.group.count = e.events.length,
                d.group.events = x(e.events, !0),
                d.group.html = "&#x1F7A7; " + e.events.length + " events",
                d.group.bubbleHtml = null,
                "function" == typeof M.onBeforeGroupRender && M.onBeforeGroupRender(d);
                var c = l();
                return c.innerHTML = d.group.html,
                s.appendChild(c),
                s.onmousedown = function(e) {
                    e.cancelBubble = !0
                }
                ,
                s.onclick = function(e) {
                    var n = s.event;
                    n.expanded = !0,
                    M.Ot(s);
                    var i = S(M.elements.events, s);
                    i !== -1 && M.elements.events.splice(i, 1);
                    var a = M.Or;
                    x(n.events).forEach(function(e) {
                        a.push(e.id())
                    }),
                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(),
                    DayPilot.Bubble.cancelShowing()),
                    M.Ym(),
                    M.Zm([t]),
                    M.yb(),
                    M.Cb(),
                    e.cancelBubble = !0
                }
                ,
                s.onmousemove = function(t) {
                    if (M.groupBubble) {
                        var n = {};
                        n.calendar = M,
                        n.type = "Group",
                        n.object = {
                            "events": x(e.events, !0)
                        },
                        n.staticHTML = d.group.bubbleHtml,
                        n.div = s,
                        n.toJSON = function() {
                            var e = {};
                            return e.uid = M.uniqueID,
                            e.type = "Group",
                            e.object = n.object,
                            e
                        }
                        ,
                        M.groupBubble.showGroup(n)
                    }
                }
                ,
                s.onmouseout = function(e) {
                    M.groupBubble && M.groupBubble.hideOnMouseOut()
                }
                ,
                e.part = {},
                e.part.left = i,
                e.part.width = a,
                e.part.height = M.eventHeight,
                e.part.dayIndex = S(n.rowlist, e.row),
                e.part.top = 0,
                e.part.isBlock = !0,
                e.part.grid = e.row.grid,
                e.client = {},
                e.client.html = function() {
                    return d.group.html
                }
                ,
                e.data = {},
                s.event = e,
                this.elements.events.push(s),
                n.divEvents.appendChild(s),
                e.rendered = !0,
                !0
            }
            ,
            this.Re = function(e, t) {
                t = t || {};
                var n = t.forced;
                if (e.rendered)
                    return !1;
                if (M.groupConcurrentEvents) {
                    var i = e.part.block;
                    if (i.events.length > 1 && !i.expanded)
                        return M.Ut(i)
                }
                var a = "Progressive" === this.dynamicEventRendering
                  , r = e.part.dayIndex
                  , o = e.part.grid || "main"
                  , s = M.Sl[o]
                  , d = s.divEvents
                  , c = s.rowlist
                  , h = c[r];
                if (h.hidden)
                    return !1;
                var v = Math.max(0, h.resource.maxLines || 1e5);
                if (e.part.line >= v)
                    return !1;
                var p = h.top
                  , y = this.rd()
                  , w = y.pixels.left - this.dynamicEventRenderingMargin
                  , k = y.pixels.right + this.dynamicEventRenderingMargin
                  , C = y.pixels.top
                  , S = y.pixels.bottom
                  , _ = e.part.left
                  , E = e.part.left + e.part.width
                  , D = e.part.top + p
                  , A = D + e.part.height
                  , H = M.multiselect.yd(e)
                  , R = k <= _ || w >= E
                  , B = "main" === o && (S <= D || C >= A);
                if (!n && !H && a && (R || B))
                    return !1;
                var N = "Milestone" === e.data.type
                  , L = e.part.width
                  , I = e.part.height
                  , z = e.cache || e.data
                  , O = z.borderRadius || M.eventBorderRadius;
                "number" == typeof O && (O += "px");
                var U = z.padding || M.eventPadding;
                "number" == typeof U && (U += "px"),
                L = f(0, L),
                I = f(0, I);
                var j = l();
                if (j.related = [],
                function(t) {
                    M.eventVersionsEnabled && x(z.versions).forEach(function(n, i) {
                        if (n) {
                            var a = e.versions[i];
                            if (a) {
                                var r = l();
                                r.style.position = "absolute",
                                r.style.overflow = "hidden",
                                r.style.left = a.left + "px",
                                r.style.top = p + a.top + "px",
                                r.style.width = a.width + "px",
                                r.style.height = M.eventVersionHeight + "px",
                                r.className = M.da(J.event) + " " + M.da("_event_previous") + " " + M.da("_event_version"),
                                O && (r.style.borderRadius = O),
                                r.onmousedown = function(e) {
                                    e.preventDefault(),
                                    e.stopPropagation()
                                }
                                ,
                                n.toolTip && (r.title = n.toolTip),
                                n.cssClass && u(r, n.cssClass);
                                var o = l();
                                o.setAttribute("unselectable", "on"),
                                o.className = M.da(J.eventInner),
                                o.innerHTML = M.Ha(n.text, n.html),
                                O && (o.style.borderRadius = O),
                                n.backColor && (o.style.background = n.backColor),
                                n.fontColor && (o.style.color = n.fontColor),
                                n.borderColor && (o.style.borderColor = n.borderColor),
                                n.backImage && (o.style.backgroundImage = "url(" + n.backImage + ")",
                                n.backRepeat && (o.style.backgroundRepeat = n.backRepeat)),
                                r.appendChild(o),
                                a.continueLeft && !N && u(r, M.da("_event_continueleft")),
                                a.continueRight && !N && u(r, M.da("_event_continueright"));
                                var s = M.durationBarVisible && !n.barHidden
                                  , c = a.width;
                                if (s && c > 0) {
                                    var h = 100 * a.barLeft / c
                                      , f = Math.ceil(100 * a.barWidth / c);
                                    "PercentComplete" === M.durationBarMode && (h = 0,
                                    f = n.complete || 0);
                                    var v = l();
                                    v.setAttribute("unselectable", "on"),
                                    v.className = M.da(J.eventBar),
                                    v.style.position = "absolute",
                                    n.barBackColor && (v.style.backgroundColor = n.barBackColor);
                                    var m = l();
                                    m.setAttribute("unselectable", "on"),
                                    m.className = M.da(J.eventBarInner),
                                    m.style.left = h + "%",
                                    0 < f && f <= 1 ? m.style.width = "1px" : m.style.width = f + "%",
                                    n.barColor && (m.style.backgroundColor = n.barColor),
                                    n.barImageUrl && (m.style.backgroundImage = "url(" + n.barImageUrl + ")"),
                                    v.appendChild(m),
                                    r.appendChild(v)
                                }
                                if (n.htmlLeft) {
                                    var g = M.eventHtmlLeftMargin
                                      , b = l();
                                    b.style.position = "absolute",
                                    b.style.right = -(a.left - g) + "px",
                                    b.style.top = p + a.top + "px",
                                    b.style.height = M.eventVersionHeight + "px",
                                    b.style.boxSizing = "border-box",
                                    b.innerHTML = n.htmlLeft,
                                    b.className = M.da("_event_left"),
                                    b.type = "divLeft",
                                    b.versionPart = a,
                                    t.related.push(b),
                                    d.appendChild(b)
                                }
                                if (n.htmlRight) {
                                    var g = M.eventHtmlRightMargin
                                      , y = l();
                                    y.style.position = "absolute",
                                    y.style.left = a.left + a.width + g + "px",
                                    y.style.top = p + a.top + "px",
                                    y.style.height = M.eventVersionHeight + "px",
                                    y.style.boxSizing = "border-box",
                                    y.innerHTML = n.htmlRight,
                                    y.className = M.da("_event_right"),
                                    y.type = "divRight",
                                    y.versionPart = a,
                                    t.related.push(y),
                                    d.appendChild(y)
                                }
                                r.versionPart = a,
                                r.type = "version";
                                var w = DayPilot.Areas.resolvePosition(n.areas, M, a.left, a.width);
                                DayPilot.Areas.attach(r, n, {
                                    "areas": w
                                }),
                                t.related.push(r),
                                d.appendChild(r)
                            }
                        }
                    })
                }(j),
                z.htmlLeft) {
                    var W = M.eventHtmlLeftMargin
                      , q = l();
                    q.style.position = "absolute",
                    q.style.right = -(e.part.left - W) + "px",
                    q.style.top = p + e.part.top + "px",
                    q.style.height = M.eventHeight + "px",
                    q.style.boxSizing = "border-box",
                    q.innerHTML = z.htmlLeft,
                    q.className = M.da("_event_left"),
                    q.type = "divLeft",
                    j.related.push(q),
                    d.appendChild(q)
                }
                if (z.htmlRight) {
                    var W = M.eventHtmlRightMargin
                      , F = l();
                    F.style.position = "absolute",
                    F.style.left = e.part.left + e.part.width + W + "px",
                    F.style.top = p + e.part.top + "px",
                    F.style.height = M.eventHeight + "px",
                    F.style.boxSizing = "border-box",
                    F.innerHTML = z.htmlRight,
                    F.className = M.da("_event_right"),
                    F.type = "divRight",
                    j.related.push(F),
                    d.appendChild(F)
                }
                if (M.treeAnimation) {
                    var Y = "number" == typeof h.forcedHeight ? h.forcedHeight : h.height;
                    e.part.top + e.part.height > Y && (I = Math.max(0, Y - e.part.top))
                }
                j.style.position = "absolute",
                j.style.left = e.part.left + M.eventMarginLeft + "px",
                j.style.top = p + e.part.top + "px",
                j.style.width = L - M.eventMarginLeft - M.eventMarginRight + "px",
                j.style.height = I + "px",
                M.eventTextWrappingEnabled || (j.style.whiteSpace = "nowrap"),
                j.style.overflow = "hidden",
                j.className = this.da(J.event),
                N && u(j, M.da("_task_milestone")),
                "Group" === e.data.type && (u(j, M.da("_task_parent")),
                u(j, M.da("_task_group"))),
                z.cssClass && u(j, z.cssClass);
                "number" == typeof e.part.line && u(j, this.da(J.eventLine + e.part.line)),
                O && (j.style.borderRadius = O),
                this.showToolTip && !this.bubble && (j.title = e.client.toolTip() || ""),
                j.onmousemove = this.Se,
                j.onmouseout = this.Te,
                j.onmousedown = this.Ue,
                j.onmouseup = this.Vt,
                DayPilot.reNonPassive(j, "touchstart", Z.Wt),
                DayPilot.rePassive(j, "touchmove", Z.Xt),
                DayPilot.reNonPassive(j, "touchend", Z.Yt),
                e.client.clickEnabled() && (j.onclick = this.xj),
                e.client.doubleClickEnabled() && (j.ondblclick = this.$b),
                j.oncontextmenu = function(e) {
                    M.allowDefaultContextMenu || e.preventDefault()
                }
                ,
                "undefined" != typeof z.ariaLabel ? j.setAttribute("aria-label", z.ariaLabel) : j.setAttribute("aria-label", z.text),
                j.setAttribute("tabindex", "-1");
                var K = l();
                K.setAttribute("unselectable", "on"),
                K.className = M.da(J.eventInner),
                O && (K.style.borderRadius = O),
                U && (K.style.padding = U),
                z.backColor && (K.style.background = z.backColor),
                "contrasting" === z.fontColor && z.backColor ? K.style.color = DayPilot.ColorUtil.contrasting(z.backColor) : K.style.color = z.fontColor,
                "darker" === z.borderColor && z.backColor ? K.style.borderColor = DayPilot.ColorUtil.darker(z.backColor, 2) : K.style.borderColor = z.borderColor,
                z.backImage && (K.style.backgroundImage = "url(" + z.backImage + ")",
                z.backRepeat && (K.style.backgroundRepeat = z.backRepeat)),
                j.appendChild(K);
                var V = e.start().getTime() === e.part.start.getTime()
                  , G = e.rawend().getTime() === e.part.end.getTime();
                if (V || N || u(j, this.da("_event_continueleft")),
                G || N || u(j, this.da("_event_continueright")),
                e.client.barVisible() && L > 0 && !N) {
                    var X = 100 * e.part.barLeft / L
                      , Q = Math.ceil(100 * e.part.barWidth / L);
                    "PercentComplete" === this.durationBarMode && (X = 0,
                    Q = z.complete || 0),
                    M.durationBarHeight && (K.style.paddingTop = M.durationBarHeight + "px");
                    var $ = l();
                    $.setAttribute("unselectable", "on"),
                    $.className = this.da(J.eventBar),
                    $.style.position = "absolute",
                    M.durationBarHeight && ($.style.height = M.durationBarHeight + "px"),
                    z.barBackColor && ($.style.backgroundColor = z.barBackColor);
                    var ee = l();
                    ee.setAttribute("unselectable", "on"),
                    ee.className = this.da(J.eventBarInner),
                    ee.style.left = X + "%",
                    M.durationBarHeight && (ee.style.height = M.durationBarHeight + "px"),
                    0 < Q && Q <= 1 ? ee.style.width = "1px" : ee.style.width = Q + "%",
                    z.barColor && (ee.style.backgroundColor = z.barColor),
                    z.barImageUrl && (ee.style.backgroundImage = "url(" + z.barImageUrl + ")"),
                    $.appendChild(ee),
                    j.appendChild($)
                }
                if (j.row = r,
                z.areas) {
                    var te = DayPilot.Areas.resolvePosition(z.areas, M, e.part.left, e.part.width);
                    te = te.filter(function(e) {
                        return DayPilot.Areas.isVisible(e)
                    }),
                    te.forEach(function(t) {
                        var n = DayPilot.Areas.createArea(j, e, t);
                        j.appendChild(n)
                    })
                }
                if (j.event = e,
                H && (M.multiselect.add(j.event, !0),
                M.multiselect.Jd(j)),
                T.source && P.Fo(j),
                function() {
                    if ("function" != typeof M.onBeforeEventDomAdd && "function" != typeof M.onBeforeEventDomRemove)
                        return void (N || M.Zt(K, z.text, z.html));
                    var t = {};
                    if (t.control = M,
                    t.e = e,
                    t.element = null,
                    j.domArgs = t,
                    "function" == typeof M.onDomAddEvent && M.onDomAddEvent(t),
                    "function" == typeof M.onBeforeEventDomAdd && M.onBeforeEventDomAdd(t),
                    t.element) {
                        var n = K;
                        if (n) {
                            t.Ie = n;
                            var i = m(t.element)
                              , a = g(t.element)
                              , r = b(t.element);
                            if (i) {
                                if (!M.X.reactDOM)
                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                M.X.W(t.element, n)
                            } else if (a) {
                                if (!M.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                M.Z.Le = !0,
                                M.Z._(t.element, n, t.props),
                                M.Z.Le = !1
                            } else if (r) {
                                if (!M.Z.Ke)
                                    throw new DayPilot.Exception("Can't reach Vue");
                                M.Z.Le = !0,
                                M.Z.Me(t.element, n),
                                M.Z.Le = !1
                            } else
                                n.appendChild(t.element)
                        }
                    } else
                        N || (K.innerHTML = e.client.innerHTML())
                }(),
                this.elements.events.push(j),
                d.appendChild(j),
                e.rendered = !0,
                M.Hb()) {
                    if ("function" == typeof M.onAfterEventRender) {
                        var ne = {};
                        ne.e = j.event,
                        ne.div = j,
                        M.onAfterEventRender(ne)
                    }
                } else
                    M.afterEventRender && M.afterEventRender(j.event, j);
                return !0
            }
            ,
            this.$t = function() {
                var e = l();
                e.className = M.da("_event");
                var t = l();
                return t.className = M.da("_event_inner"),
                e.appendChild(t),
                e
            }
            ,
            this.Ha = function(e, t) {
                return M.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : v(t) ? v(e) ? "" : e : t
            }
            ,
            this.Zt = function(e, t, n) {
                v(n) ? null !== t && void 0 !== t && (M.Ja.Ia() ? e.innerText = t : e.innerHTML = t) : e.innerHTML = n
            }
            ,
            this.Hb = function() {
                return 2 === M.api
            }
            ,
            this.Cn = function() {
                for (var e = 0; e < this.elements.events.length; e++) {
                    var t = this.elements.events[e]
                      , n = t.event
                      , i = n.part.dayIndex
                      , a = M.uo(n.part.grid)
                      , r = a.rowlist[i]
                      , o = r.top
                      , s = o + n.part.top
                      , l = "number" == typeof r.forcedHeight ? r.forcedHeight : r.height
                      , d = n.part.height
                      , c = !1;
                    n.part.top + n.part.height > l && (d = Math.max(0, l - n.part.top),
                    c = !0),
                    t.style.top = s + "px",
                    t.style.height = d + "px",
                    x(t.related).filter(function(e) {
                        return !!e.versionPart
                    }).forEach(function(e) {
                        var t = e.versionPart;
                        e.style.top = o + t.top + "px"
                    }),
                    x(t.related).filter(function(e) {
                        return !e.versionPart && ("divLeft" === e.type || "divRight" === e.type)
                    }).forEach(function(e) {
                        e.style.top = s + "px"
                    })
                }
            }
            ,
            this.bh = function(e) {
                if (!e)
                    return null;
                for (var t = 0; t < M.elements.events.length; t++) {
                    var n = M.elements.events[t];
                    if (M.Gd(n.event.data, e.data))
                        return n
                }
                return null
            }
            ,
            this.lp = function(e) {
                var t = M.events.Uo(e.data);
                if (!t)
                    return null;
                var n = M.rowlist[t.part.dayIndex];
                return M.oq(n),
                M.Re(t, {
                    "forced": !0
                }),
                M.bh(t)
            }
            ,
            this.Te = function(e) {
                var t = this;
                DayPilot.Areas.hideAreas(t, e),
                t.active || (c(t, M.da("_event_hover")),
                M._t(t),
                T.source || P.No(),
                M.bubble && "Bubble" === M.eventHoverHandling && M.bubble.hideOnMouseOut())
            }
            ,
            this.au = function(e) {
                var t = {};
                t.div = e,
                t.e = e.event,
                "function" == typeof this.onEventMouseOver && this.onEventMouseOver(t),
                "function" == typeof this.onEventMouseEnter && this.onEventMouseEnter(t)
            }
            ,
            this._t = function(e) {
                var t = {};
                t.div = e,
                t.e = e.event,
                "function" == typeof this.onEventMouseOut && this.onEventMouseOut(t),
                "function" == typeof this.onEventMouseLeave && this.onEventMouseLeave(t)
            }
            ,
            this.bu = function(e) {
                var t = e.row
                  , n = {};
                n.div = e,
                n.row = M.On(t),
                "function" == typeof this.onRowMouseOver && this.onRowMouseOver(n)
            }
            ,
            this.cu = function(e) {
                var t = e.row
                  , n = {};
                n.div = e,
                n.row = M.On(t),
                "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n)
            }
            ,
            this.Se = function(e) {
                M.cellBubble && M.cellBubble.delayedHide();
                for (var t = this; t && !t.event; )
                    t = t.parentNode;
                var n = t.event;
                M.du(t, e);
                var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled;
                if (!t.active) {
                    var a = [];
                    if ("Disabled" !== M.eventDeleteHandling && !i) {
                        var r = M.durationBarVisible ? $.sq() : 0;
                        a.push({
                            "action": "JavaScript",
                            "v": "Hover",
                            "w": 17,
                            "h": 17,
                            "top": r + 2,
                            "right": 2,
                            "css": M.da(J.eventDelete),
                            "js": function(e) {
                                M.gc(e)
                            }
                        })
                    }
                    if (!e.preventBubbleActivation) {
                        var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;
                        o && o.length > 0 && (o = DayPilot.Areas.resolvePosition(o, M, n.part.left, n.part.width),
                        a = a.concat(o)),
                        DayPilot.Areas.showAreas(t, t.event, null, a)
                    }
                    u(t, M.da("_event_hover")),
                    M.au(t)
                }
                "Disabled" === M.linkCreateHandling || T.source || (P.Io(),
                P.pn(),
                M.Bt() && P.Fo(t)),
                M.Rm(e),
                M.coords.insideEvent = t.event
            }
            ,
            this.Om = {},
            this.Vt = function(e) {
                var t = M.Om;
                if (y(e).right)
                    return void M._b.call(this, e);
                if (M.ionicEventClickFix) {
                    var n = t.Vf;
                    if (n) {
                        var i = DayPilot.mc(e);
                        n.x === i.x && n.y === i.y && (M.xj.call(this, e),
                        e.preventDefault(),
                        e.stopPropagation())
                    }
                }
            }
            ,
            this.Ue = function(e) {
                M.db(),
                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(),
                DayPilot.Bubble.cancelShowing()),
                M.Rm(e);
                var t = y(e);
                if (e.preventDefault(),
                e.stopPropagation(),
                t.left) {
                    var n = e.shiftKey;
                    if ("Disabled" !== $.Sm() && n)
                        return G.start(),
                        !1;
                    "w-resize" === this.style.cursor || "e-resize" === this.style.cursor ? (i.Nm = !0,
                    i.Pp = this,
                    i.fq = this.event,
                    i.Vf = DayPilot.mc(e),
                    s().style.cursor = this.style.cursor,
                    P.pn()) : ("move" === this.style.cursor || "Full" === M.moveBy && this.event.client.moveEnabled()) && M.je(this, e)
                }
                DayPilot.Menu && DayPilot.Menu.active && (DayPilot.Menu.active.hide(),
                DayPilot.Menu.active = null)
            }
            ,
            this.je = function(e, t) {
                var n = M.Om;
                M.Rm(t),
                n.eu = !0,
                n.Om = e,
                n.Lp = e.event,
                n.Vf = DayPilot.mc(t),
                n.Kp = DayPilot.mo3(e, t).x,
                n.Op = M.getDate(M.coords.x, !0),
                P.pn()
            }
            ,
            this.Ve = {};
            var Z = M.Ve;
            "undefined" == typeof w.touch && (w.touch = {}),
            w.touch.active = !1,
            w.touch.start = !1,
            Z.Pm = [],
            Z.relativeCoords = function(e) {
                return Z.Ng(e)
            }
            ,
            Z.startResizing = function(e, t) {
                Z.we(e, t)
            }
            ,
            Z.startMoving = function(e, t) {
                Z.je(e, t)
            }
            ,
            Z.Wt = function(e) {
                if (!w.touch.active && !w.touch.start) {
                    DayPilot.Menu && DayPilot.Menu.touchPosition(e),
                    e.stopPropagation(),
                    Z.fu(),
                    w.touch.start = !0,
                    w.touch.active = !1;
                    var t = this;
                    M.coords = Z.Ng(e);
                    var i = M.tapAndHoldTimeout;
                    Z.Pm.push(window.setTimeout(function() {
                        w.touch.active = !0,
                        w.touch.start = !1,
                        e.preventDefault();
                        var i = t.event;
                        switch (M.eventTapAndHoldHandling) {
                        case "Move":
                            if (i.client.moveEnabled()) {
                                var a = n(e);
                                Z.je(t, a)
                            }
                            break;
                        case "ContextMenu":
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                            var r = i.client.contextMenu();
                            r ? r.show(i) : M.contextMenu && M.contextMenu.show(i)
                        }
                    }, i))
                }
            }
            ,
            Z.Xt = function(e) {
                Z.fu(),
                w.touch.start = !1
            }
            ,
            Z.Yt = function(e) {
                if (!DayPilot.Util.isMouseEvent(e)) {
                    if (Z.fu(),
                    w.touch.start) {
                        w.touch.start = !1,
                        e.preventDefault(),
                        e.stopPropagation();
                        var t = this;
                        window.setTimeout(function() {
                            M.Xb(t, e)
                        })
                    }
                    window.setTimeout(function() {
                        w.touch.start = !1,
                        w.touch.active = !1
                    }, 500)
                }
            }
            ,
            Z.lf = function(e) {
                if (!(w.touch.active || w.touch.start || e.touches.length > 1 || "Disabled" === M.timeRangeSelectedHandling)) {
                    Z.fu(),
                    w.touch.start = !0,
                    w.touch.active = !1;
                    var t = M.tapAndHoldTimeout;
                    Z.Pm.push(window.setTimeout(function() {
                        w.touch.active = !0,
                        w.touch.start = !1,
                        e.preventDefault(),
                        "Always" !== M.multiRangeMode && X.clear(),
                        M.coords = Z.Ng(e),
                        M.Pc(M.coords) ? M.gu(e) : Z.Qp = M.hu()
                    }, t));
                    M.coords = Z.Ng(e)
                }
            }
            ,
            Z.mf = function(e) {
                if (Z.fu(),
                w.touch.start = !1,
                i.Pp)
                    return e.preventDefault(),
                    void Z.Rg();
                if (w.touch.active) {
                    if (e.preventDefault(),
                    M.coords = Z.Ng(e),
                    i.Om)
                        return void Z.Sg();
                    if (Z.Qp) {
                        var t = Z.Qp;
                        t.end = {
                            x: Math.floor(M.coords.x / M.cellWidth),
                            "time": M.getDate(M.coords.x, !0)
                        },
                        M.Jn(t)
                    }
                }
            }
            ,
            Z.debug = function(e) {}
            ,
            Z.nf = function(e) {
                Z.fu();
                var t = function() {
                    M.elements.range2.overlapping ? (C(M.elements.range2),
                    M.elements.range2 = null,
                    M.Vq()) : M.iu.add(h),
                    i.Qp = null,
                    M.iu.dispatch()
                };
                if (w.touch.active) {
                    if (i.Om) {
                        e.preventDefault();
                        var n = i.Lp;
                        if (M !== i.Lq.calendar)
                            return;
                        var a = i.Lq.start
                          , r = i.Lq.end
                          , o = "Days" !== M.viewType ? i.Lq.row.id : null
                          , l = i.Qq && n.part.external
                          , d = i.Lq.overlapping
                          , u = !i.Lq.allowed;
                        if (c(i.Om, M.da(M.ju.eventMovingSource)),
                        C(i.Lq),
                        M.Vq(),
                        i.Lq.calendar = null,
                        s().style.cursor = "",
                        i.Om = null,
                        i.Lp = null,
                        i.Lq = null,
                        M.Iq.clear(),
                        d || u || M.Iq.forbidden || M.Iq.invalid)
                            return;
                        M.wc(n, a, r, o, l)
                    }
                    if (Z.Qp) {
                        var h = Z.Qp;
                        if (Z.Qp = null,
                        M.allowMultiRange && M.elements.range2)
                            t();
                        else {
                            var f = M.elements.range2;
                            f && f.overlapping ? M.clearSelection() : (M.In = h,
                            M.Fn(h))
                        }
                    }
                } else if (w.touch.start) {
                    if (M.coords.x < M.getScrollX())
                        return;
                    "Always" !== M.multiRangeMode && X.clear();
                    var h = M.hu();
                    M.Jn(h);
                    var f = M.elements.range2;
                    f && M.allowMultiRange ? t() : f && f.overlapping ? M.clearSelection() : (M.In = h,
                    M.Fn(h))
                }
                window.setTimeout(function() {
                    w.touch.start = !1,
                    w.touch.active = !1
                }, 500)
            }
            ,
            Z.fu = function() {
                for (var e = 0; e < Z.Pm.length; e++)
                    clearTimeout(Z.Pm[e]);
                Z.Pm = []
            }
            ,
            Z.Ng = function(e) {
                function t(e, t, n) {
                    var i = DayPilot.abs(n);
                    return {
                        x: e - i.x,
                        y: t - i.y,
                        toString: function() {
                            return "x: " + this.x + ", y:" + this.y
                        }
                    }
                }
                var n = M.Ql
                  , i = e.touches ? e.touches[0] : e
                  , a = i.pageX
                  , r = i.pageY
                  , o = t(a, r, n);
                if (o.grid = "main",
                M.Sl.top.enabled()) {
                    var s = M.Sl.top
                      , l = t(a, r, s.divCells);
                    l.y > 0 && l.y <= s.height && (o = l,
                    o.grid = "top")
                }
                if (M.Sl.bottom.enabled()) {
                    var d = M.Sl.bottom
                      , c = t(a, r, d.divCells);
                    c.y > 0 && c.y <= s.height && (o = c,
                    o.grid = "bottom")
                }
                return o
            }
            ,
            Z.je = function(e, t) {
                i.Om = e,
                i.Lp = e.event,
                i.Vf = t;
                var n = DayPilot.abs(e);
                i.Kp = t.x - n.x,
                i.Op = M.getDate(M.coords.x, !0),
                i.Lq = M.Ib(e),
                M.cq()
            }
            ,
            Z.we = function(e, t) {
                i.Pp = e,
                i.fq = e.event,
                i.Pp.dpBorder = t,
                i.eq || (i.eq = M.Ib(e)),
                M.Nq()
            }
            ,
            Z.Rg = function() {
                if (!i.eq) {
                    var e = i.Pp;
                    i.eq = M.Ib(e)
                }
                M.Nq();
                var t = {
                    x: M.coords.x,
                    y: M.coords.y,
                    "grid": M.coords.grid
                };
                M.Zf(t)
            }
            ,
            Z.Sg = function() {
                if (i.Lq && i.Lq.calendar !== M && M.Vq(),
                !i.Lq) {
                    var e = i.Om;
                    i.Lq = M.Ib(e)
                }
                i.Lq.calendar.cq();
                var t = {
                    x: M.coords.x,
                    y: M.coords.y,
                    "grid": M.coords.grid
                };
                M.Zf(t)
            }
            ,
            Z.wr = function(e) {
                var t = this.row
                  , n = M.On(t);
                if (!(w.touch.active || w.touch.start || e.touches.length > 1)) {
                    Z.fu(),
                    w.touch.start = !0,
                    w.touch.active = !1;
                    var i = M.tapAndHoldTimeout;
                    Z.Pm.push(window.setTimeout(function() {
                        w.touch.active = !0,
                        w.touch.start = !1,
                        e.preventDefault(),
                        M.contextMenuResource && M.contextMenuResource.show(n)
                    }, i));
                    M.coords = Z.Ng(e)
                }
            }
            ,
            Z.xr = function(e) {
                w.touch.active && (w.touch.start = !1,
                e.preventDefault(),
                e.stopPropagation()),
                window.setTimeout(function() {
                    w.touch.start = !1,
                    w.touch.active = !1
                }, 500)
            }
            ,
            this.du = function(e, t) {
                var n = this.eventResizeMargin
                  , a = this.eventMoveMargin
                  , r = e;
                if ("undefined" != typeof i) {
                    var o = DayPilot.mo3(e, t);
                    if (o && (M.eventOffset = o,
                    !i.Pp && !i.Om)) {
                        var s = r.event.part.start.toString() === r.event.start().toString()
                          , l = r.event.part.end.toString() === r.event.rawend().toString();
                        if ("Top" === M.moveBy && o.y <= a && r.event.client.moveEnabled() && "Disabled" !== M.eventMoveHandling ? e.style.cursor = "move" : ("Top" === M.moveBy || "Full" === M.moveBy) && o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== M.eventResizeHandling ? s ? (e.style.cursor = "w-resize",
                        e.dpBorder = "left") : e.style.cursor = "not-allowed" : "Left" === M.moveBy && o.x <= a && r.event.client.moveEnabled() && "Disabled" !== M.eventMoveHandling ? e.style.cursor = "move" : e.offsetWidth - o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== M.eventResizeHandling ? l ? (e.style.cursor = "e-resize",
                        e.dpBorder = "right") : e.style.cursor = "not-allowed" : i.Pp || i.Om || (r.event.client.clickEnabled() && "Disabled" !== M.eventClickHandling ? e.style.cursor = "pointer" : e.style.cursor = "default"),
                        "undefined" != typeof DayPilot.Bubble && M.bubble && "Bubble" === M.eventHoverHandling && ("default" === e.style.cursor || "pointer" === e.style.cursor)) {
                            this.Tg && o.x === this.Tg.x && o.y === this.Tg.y;
                            this.Tg = o,
                            t.preventBubbleActivation || M.bubble.showEvent(e.event)
                        }
                    }
                }
            }
            ,
            this.kq = function() {
                return "Days" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration)
            }
            ,
            this.Gn = function(e) {
                var e = e || i.Qp || M.In;
                if (!e)
                    return null;
                var t = M.uo(e.start.grid)
                  , n = t.rowlist[e.start.y];
                if (!n)
                    return null;
                var a = e.ku ? e.ku : e
                  , r = a.end.time > a.start.time
                  , o = n.id
                  , s = r ? a.start.x : a.end.x
                  , l = r ? a.end.x : a.start.x
                  , d = n.start.getTime() - this.Rb().getTime()
                  , c = M.snapToGrid && M.snapToGridTimeRangeSelecting;
                e.forceSnap && (c = !0);
                var u, h;
                c ? (u = this.itline[s].start.addTime(d),
                h = this.itline[l].end.addTime(d)) : r ? (u = a.start.time,
                h = a.end.time) : (u = a.end.time,
                h = a.start.time);
                var f = new DayPilot.Selection(u,h,o,M);
                return f.allowed = !e.div || !e.div.overlapping,
                f
            }
            ,
            this.nd = function(e) {
                var t = e.parentNode
                  , n = M.eventEditMinWidth
                  , i = (e.event.text() || "").trim()
                  , a = document.createElement("textarea");
                return a.style.position = "absolute",
                a.style.width = (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px",
                a.style.height = e.offsetHeight - 2 + "px",
                a.style.fontFamily = DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family"),
                a.style.fontSize = DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size"),
                a.style.left = e.offsetLeft + "px",
                a.style.top = e.offsetTop + "px",
                a.style.border = "1px solid black",
                a.style.padding = "1px",
                a.style.marginTop = "0px",
                a.style.backgroundColor = "white",
                a.value = i,
                a.event = e.event,
                t.appendChild(a),
                a
            }
            ,
            this.lu = function(e) {
                var t = H.Ak();
                t.sort(function(e, t) {
                    var n = e.event
                      , i = t.event;
                    return n.part.dayIndex !== i.part.dayIndex ? n.part.dayIndex - i.part.dayIndex : n.start() !== i.start() ? n.start().getTime() - i.start().getTime() : i.end().getTime() - n.end().getTime()
                });
                var n = t.indexOf(e);
                return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0]
            }
            ,
            this.Yb = function(e) {
                if (e) {
                    if (i.np && i.np.blur(),
                    e.event) {
                        var t = e.event;
                        Q.pp();
                        var n = this.nd(e);
                        if (i.np = n,
                        DayPilot.rePassive(n, DayPilot.touch.start, function(e) {
                            e.stopPropagation()
                        }),
                        n.onblur = function() {
                            if (n.onblur = null,
                            i.np === n && (i.np = null),
                            n.parentNode && n.parentNode.removeChild(n),
                            e.event) {
                                var t = (e.event.text(),
                                n.value);
                                M.Ic(e.event, t, n.canceling)
                            }
                        }
                        ,
                        n.onmousedown = function(e) {
                            e.stopPropagation && e.stopPropagation()
                        }
                        ,
                        n.cancel = function() {
                            i.np && (i.np.canceling = !0,
                            i.np.blur())
                        }
                        ,
                        n.onkeydown = function(a) {
                            if ("function" == typeof M.onEventEditKeyDown) {
                                var r = {};
                                if (r.e = e.event,
                                r.element = n,
                                r.preventDefault = function() {
                                    r.preventDefault.value = !0
                                }
                                ,
                                r.submit = function() {
                                    n.onblur()
                                }
                                ,
                                r.cancel = function() {
                                    i.np.cancel()
                                }
                                ,
                                r.originalEvent = a,
                                M.onEventEditKeyDown(r),
                                r.preventDefault.value)
                                    return
                            }
                            var o = i.np
                              , s = a.keyCode;
                            if (13 === s && (a.stopPropagation(),
                            this.onblur()),
                            27 === s)
                                o.cancel();
                            else if (9 === s && M.eventEditTabNext) {
                                var l = M.bh(t)
                                  , d = M.lu(l);
                                return o && o.cancel(),
                                d && setTimeout(function() {
                                    M.Yb(d)
                                }, 0),
                                !1
                            }
                        }
                        ,
                        "function" == typeof M.onAfterEventEditRender) {
                            var a = {};
                            a.element = n,
                            a.e = e.event,
                            M.onAfterEventEditRender(a)
                        }
                        n.select(),
                        n.focus()
                    }
                }
            }
            ,
            this.mu = {},
            this.mu.resource = function() {
                return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : {
                    "showResource": function() {},
                    "hideOnMouseOut": function() {}
                }
            }(),
            this.mu.cell = function() {
                return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : {
                    "showResource": function() {},
                    "hideOnMouseOut": function() {}
                }
            }(),
            this.pr = function(e) {
                var t = this
                  , n = t.row;
                if (M.fb(),
                M.nu = !0,
                clearTimeout(M.ou),
                M.ou = setTimeout(function() {
                    M.nu = !1
                }, 500),
                "undefined" != typeof DayPilot.Bubble) {
                    M.cellBubble;
                    var i = M.On(n);
                    i.div = t,
                    M.resourceBubble ? M.resourceBubble.showResource(i) : n.bubbleHtml && M.mu.resource.showResource(i)
                }
            }
            ,
            this.nr = function(e) {
                var t = this;
                t.active || (t.active = !0,
                M.bu(t))
            }
            ,
            this.or = function(e) {
                var t = this;
                delete t.active,
                M.cu(t)
            }
            ,
            this.qr = function(e) {
                var t = this;
                "undefined" != typeof DayPilot.Bubble && M.resourceBubble ? M.resourceBubble.hideOnMouseOut() : M.mu.resource.hideOnMouseOut();
                var n = t.firstChild;
                DayPilot.Areas.hideAreas(n, e),
                n.data = null
            }
            ,
            this.rr = function(e) {
                E.row && (q.cancelClick = !0,
                setTimeout(function() {
                    q.cancelClick = !1
                }, 100)),
                M.ks && (M.ks = !1,
                clearTimeout(M.ls),
                M.ur.call(this, e))
            }
            ,
            this.yl = function() {
                if ("None" !== M.timeHeaderPosition && this.timeHeader) {
                    this.wa.timeHeader = {},
                    M.elements.timeHeader.length > 0 && (M.mo(),
                    M.elements.timeHeader = []);
                    var e = l();
                    e.style.position = "relative",
                    this.nav.timeHeader = e;
                    for (var t = 0; t < this.timeHeader.length; t++)
                        for (var n = this.timeHeader[t], i = 0; i < n.length; i++)
                            this.qu(i, t);
                    var a = this.divNorth;
                    1 === a.childNodes.length ? a.replaceChild(e, a.childNodes[0]) : (a.innerHTML = "",
                    a.appendChild(e));
                    var r = this.gm();
                    a.style.width = r + 5e3 + "px",
                    r > 0 && (this.divStretch.style.width = r + "px"),
                    M.ru()
                }
            }
            ,
            this.Za = function() {
                if (M.divCorner) {
                    var e = M.divCorner && M.divCorner.domArgs;
                    if (M.divCorner.domArgs = null,
                    e && ("function" == typeof M.onBeforeCornerDomRemove && M.onBeforeCornerDomRemove(e),
                    "function" == typeof M.onBeforeCornerDomAdd && M.X.reactDOM)) {
                        var t = M.divCorner;
                        if (t) {
                            var n = M.X.reactDOM && m(e.element)
                              , i = M.Z.Ke && (g(e.element) || b(e.element));
                            n ? M.X.la(t) : i && (M.Z.Le = !0,
                            M.Z.ma(t),
                            M.Z.Le = !1)
                        }
                    }
                }
            }
            ,
            this.Im = function(e, t) {
                var n = null
                  , i = this.Ja.Tc()
                  , t = t || this.cellGroupBy
                  , a = e.start;
                e.end;
                switch (t) {
                case "Minute":
                    n = a.toString("m");
                    break;
                case "Hour":
                    n = "Clock12Hours" === M.Ja.Sc() ? a.toString("h tt", i) : a.toString("H", i);
                    break;
                case "Day":
                    n = a.toString(i.datePattern);
                    break;
                case "Week":
                    n = 1 === $.Rd() ? a.weekNumberISO() : a.weekNumber();
                    break;
                case "Month":
                    n = a.toString("MMMM yyyy", i);
                    break;
                case "Quarter":
                    n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                    break;
                case "Year":
                    n = a.toString("yyyy");
                    break;
                case "None":
                    n = "";
                    break;
                case "Cell":
                    var r = (e.end.ticks - e.start.ticks) / 6e4;
                    n = this.su(a, r);
                    break;
                default:
                    throw new DayPilot.Exception("Invalid groupBy value: " + t)
                }
                return n
            }
            ,
            this.su = function(e, t) {
                var n = this.Ja.Tc()
                  , t = t || this.cellDuration;
                return t < 1 ? e.toString("ss") : t < 60 ? e.toString("mm") : t < 1440 ? "Clock12Hours" === M.Ja.Sc() ? e.toString("h tt", n) : e.toString("H", n) : t < 10080 ? e.toString("d") : 10080 === t ? 1 === $.Rd() ? e.weekNumberISO() : e.weekNumber() : e.toString("MMMM yyyy", n)
            }
            ,
            this.Fm = function(e) {
                var t = this.scale;
                switch (t) {
                case "Cell":
                    throw new DayPilot.Exception("Invalid scale: Cell");
                case "Manual":
                    throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)");
                case "CellDuration":
                    return e.addMinutes(this.cellDuration);
                default:
                    return this.Hm(e, t, !0)
                }
            }
            ,
            this.Hm = function(e, t, n) {
                var i, a;
                if (n) {
                    var r = "Days" !== this.viewType ? this.days : 1;
                    a = this.startDate.addDays(r),
                    "Manual" === M.scale && (a = M.ce())
                } else
                    a = M.ce(),
                    "Days" === M.viewType && (a = M.startDate.addDays(1));
                var t = t || this.cellGroupBy
                  , o = 60;
                switch (t) {
                case "Minute":
                    e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())),
                    i = e.addMinutes(1);
                    break;
                case "Hour":
                    e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())),
                    i = e.addHours(1);
                    break;
                case "Day":
                    i = e.getDatePart().addDays(1);
                    break;
                case "Week":
                    for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== $.Rd(); )
                        i = i.addDays(1);
                    break;
                case "Month":
                    e = e.getDatePart(),
                    i = e.addMonths(1),
                    i = i.firstDayOfMonth();
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s; )
                        i = i.addHours(1),
                        s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "Quarter":
                    for (e = e.getDatePart(),
                    i = e.addMonths(1),
                    i = i.firstDayOfMonth(); i.getMonth() % 3; )
                        i = i.addMonths(1);
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s; )
                        i = i.addHours(1),
                        s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "Year":
                    e = e.getDatePart(),
                    i = e.addYears(1),
                    i = i.firstDayOfYear();
                    for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s; )
                        i = i.addHours(1),
                        s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0;
                    break;
                case "None":
                    i = a;
                    break;
                case "Cell":
                    var l = this.Mm(e);
                    i = l.current ? l.current.end : l.past ? l.previous.end : l.next.start;
                    break;
                default:
                    throw n ? new DayPilot.Exception("Invalid scale value: " + t) : new DayPilot.Exception("Invalid groupBy value: " + t)
                }
                return i.getTime() > a.getTime() && (i = a),
                i
            }
            ,
            this.ju = {},
            this.ju.timeheadercol = "_timeheadercol",
            this.ju.timeheadercolInner = "_timeheadercol_inner",
            this.ju.resourcedivider = "_resourcedivider",
            this.ju.eventFloat = "_event_float",
            this.ju.eventFloatInner = "_event_float_inner",
            this.ju.event = "_event",
            this.ju.eventInner = "_event_inner",
            this.ju.eventBar = "_event_bar",
            this.ju.eventBarInner = "_event_bar_inner",
            this.ju.eventDelete = "_event_delete",
            this.ju.eventLine = "_event_line",
            this.ju.eventMovingSource = "_event_moving_source";
            var J = this.ju;
            this.qu = function(e, t) {
                var n = this.nav.timeHeader
                  , i = this.timeHeader[t][e]
                  , a = e === this.timeHeader[t].length - 1
                  , r = t < this.timeHeader.length - 1
                  , o = i.left
                  , s = i.width
                  , d = ee.tq(t)
                  , c = d.top
                  , h = d.height
                  , f = l();
                f.style.position = "absolute",
                f.style.top = c + "px",
                f.style.left = o + "px",
                f.style.width = s + "px",
                f.style.height = h + "px",
                i.toolTip && (f.title = i.toolTip),
                f.setAttribute("aria-hidden", "true"),
                i.cssClass && u(f, i.cssClass),
                f.setAttribute("unselectable", "on"),
                f.style.KhtmlUserSelect = "none",
                f.style.MozUserSelect = "none",
                f.style.webkitUserSelect = "none",
                f.oncontextmenu = function() {
                    return !1
                }
                ,
                f.cell = {},
                f.cell.start = i.start,
                f.cell.end = i.end,
                f.cell.level = t,
                f.cell.th = i,
                f.onclick = this.zr,
                f.oncontextmenu = this.Ar,
                DayPilot.rePassive(f, DayPilot.touch.start, function(e) {
                    e.stopPropagation()
                }),
                f.style.overflow = "hidden",
                M.timeHeaderTextWrappingEnabled || (f.style.whiteSpace = "nowrap");
                var v = l();
                v.setAttribute("unselectable", "on"),
                M.Zt(v, i.text, i.innerHTML),
                i.backColor && (v.style.background = i.backColor),
                i.fontColor && (v.style.color = i.fontColor);
                var p = this.da(J.timeheadercol)
                  , y = this.da(J.timeheadercolInner);
                r && (p = this.da("_timeheadergroup"),
                y = this.da("_timeheadergroup_inner")),
                u(f, p),
                u(v, y),
                u(f, M.da("_timeheader_cell")),
                u(v, M.da("_timeheader_cell_inner")),
                a && u(f, M.da("_timeheader_cell_last")),
                function() {
                    if ("function" == typeof M.onBeforeTimeHeaderDomAdd || "function" == typeof M.onBeforeTimeHeaderDomRemove) {
                        var e = {};
                        if (e.control = M,
                        e.header = {},
                        e.header.start = i.start,
                        e.header.end = i.end,
                        e.header.level = t,
                        e.element = null,
                        f.domArgs = e,
                        "function" == typeof M.onBeforeTimeHeaderDomAdd) {
                            M.onBeforeTimeHeaderDomAdd(e);
                            var n = e.element;
                            if (n) {
                                v.innerHTML = "";
                                var a = l();
                                v.appendChild(a),
                                e.Ie = a;
                                var r = m(n)
                                  , o = g(n)
                                  , s = b(n);
                                if (r) {
                                    if (!M.X.reactDOM)
                                        throw new DayPilot.Exception("Can't reach ReactDOM");
                                    M.X.W(n, a)
                                } else if (o) {
                                    if (!M.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    M.Z.Le = !0,
                                    M.Z._(e.element, a, e.props),
                                    M.Z.Le = !1
                                } else if (s) {
                                    if (!M.Z.Ke)
                                        throw new DayPilot.Exception("Can't reach Vue");
                                    M.Z.Le = !0,
                                    M.Z.Me(e.element, a),
                                    M.Z.Le = !1
                                } else
                                    a.appendChild(n)
                            }
                        }
                    }
                }(),
                f.appendChild(v);
                var w = DayPilot.Areas.resolvePosition(i.areas, M, o, s);
                DayPilot.Areas.attach(f, i, {
                    "areas": w
                }),
                this.wa.timeHeader[e + "_" + t] = f,
                this.elements.timeHeader.push(f),
                n.appendChild(f)
            }
            ,
            this.tu = function() {
                var e = M.timeHeader
                  , t = e.length - 1;
                if (t < 0)
                    return null;
                for (var n = e[t], i = DayPilot.Date.now(), a = 0; a < n.length; a++) {
                    var r = n[a];
                    if (r.start <= i && i <= r.end)
                        return M.wa.timeHeader[a + "_" + t]
                }
                return null
            }
            ,
            this.uu = null,
            this.ru = function() {
                var e = M.da("_timeheader_cell_now")
                  , t = M.uu
                  , n = M.tu();
                t !== n && (c(t, e),
                u(n, e),
                M.uu = n)
            }
            ,
            this.vu = null,
            this.wu = function() {
                clearTimeout(M.vu),
                M.vu = setTimeout(function() {
                    M.ru(),
                    M.wu()
                }, 5e3)
            }
            ,
            this.no = function() {
                clearTimeout(M.vu)
            }
            ,
            this.sn = function() {
                clearTimeout(M.vu),
                M.showCurrentTimeHeader && (M.ru(),
                M.wu())
            }
            ,
            this.Ym = function() {
                return M.cl ? void V.Pr() : (M.Am().forEach(function(e) {
                    var t = e.getHeight() + e.marginBottom + e.marginTop;
                    e.height !== t && (M.zn = !0),
                    e.height = t
                }),
                void (M.zn && (M.wa.drawArea = null)))
            }
            ,
            this.Al = function() {
                M.Am().forEach(function(e) {
                    if (!e.hidden) {
                        var t = M.uo(e.grid)
                          , n = t.divHeader;
                        if (n) {
                            var i = e.index;
                            if (n.rows[i])
                                for (var a = 0; a < n.rows[i].cells.length; a++) {
                                    var r = n.rows[i].cells[a]
                                      , o = t.rowlist[i].cells[a];
                                    M.er && r && (r.style.top = e.top + "px");
                                    var s = e.height;
                                    o.rowspan > 1 && (s = o.totalHeight()),
                                    r && r.firstChild && parseInt(r.firstChild.style.height, 10) !== s && (r.firstChild.style.height = s + "px")
                                }
                        }
                    }
                }),
                M.er && M.nav.resScrollSpace && (M.nav.resScrollSpace.style.top = M.hl + "px")
            }
            ,
            this.Xg = function(e) {
                var t = this.separators[e];
                t.location = t.location || t.Location,
                t.color = t.color || t.Color,
                t.layer = t.layer || t.Layer,
                t.width = t.width || t.Width,
                t.opacity = t.opacity || t.Opacity;
                var n = new DayPilot.Date(t.location)
                  , i = t.color
                  , a = t.width ? t.width : 1
                  , r = !!t.layer && "AboveEvents" === t.layer
                  , o = t.opacity ? t.opacity : 100;
                if (!(n.getTime() < M.Rb().getTime() || n.getTime() >= M.ce().getTime())) {
                    var s = this.getPixels(n);
                    if (!s.cut && !(s.left < 0 || s.left > M.gm())) {
                        var d = l();
                        d.style.width = a + "px",
                        d.style.height = M.hl + "px",
                        d.style.position = "absolute",
                        d.style.left = s.left - 1 + "px",
                        d.style.top = "0px",
                        d.style.backgroundColor = i,
                        d.style.opacity = o / 100,
                        d.style.filter = "alpha(opacity=" + o + ")",
                        d.className = M.da("_separator"),
                        t.cssClass && (d.className += " " + t.cssClass),
                        t.toolTip && (d.title = t.toolTip),
                        r ? this.divSeparatorsAbove.appendChild(d) : this.divSeparators.appendChild(d),
                        this.elements.separators.push(d)
                    }
                }
            }
            ,
            this.fg = function(e) {}
            ,
            this.vt = function(e) {
                if ("Disabled" === M.timeRangeDoubleClickHandling)
                    return !1;
                i.xu && (clearTimeout(i.xu),
                i.xu = null);
                M.Rm(e),
                e.stopPropagation && e.stopPropagation(),
                e.cancelBubble = !0;
                var t = M.Pc(M.coords);
                if (t) {
                    var n = M.Gn(t);
                    M.Hc(n.start, n.end, n.resource)
                } else if (i.Qp = M.hu(),
                i.Qp) {
                    i.yu = M;
                    var n = M.Gn(i.Qp);
                    M.Hc(n.start, n.end, n.resource),
                    M.In = i.Qp
                }
                i.Qp = null
            }
            ,
            this.st = function(e) {
                var t = y(e);
                if (!("Disabled" === M.timeRangeRightClickHandling && t.right || w.touch.start || w.touch.active)) {
                    if (i.xu,
                    1,
                    M.zu(),
                    M.fb(),
                    M.Rm(e),
                    i.Em)
                        return !1;
                    var t = y(e);
                    if (M.Dg())
                        return !1;
                    var n = M.Pc(M.coords);
                    if (t.middle || t.right && n)
                        return !1;
                    if (n)
                        return !1;
                    var a = t.left ? "left" : t.right ? "right" : t.middle ? "middle" : "unknown";
                    M.Au = a;
                    var r = e.ctrlKey
                      , o = e.metaKey
                      , s = e.shiftKey
                      , l = M.multiRangeMode
                      , d = r || o || "Always" === l
                      , c = {};
                    if (c.action = "None",
                    "Disabled" !== $.Sm() && s ? c.action = "RectangleSelect" : "Disabled" !== M.timeRangeSelectedHandling && (c.action = "TimeRangeSelect"),
                    c.shift = s,
                    c.ctrl = s,
                    c.meta = o,
                    c.originalEvent = e,
                    c.button = a,
                    c.preventDefault = function() {
                        c.action = "None"
                    }
                    ,
                    "function" == typeof M.onGridMouseDown && M.onGridMouseDown(c),
                    "None" === c.action)
                        return "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({
                            "calendar": M
                        }),
                        e.preventDefault(),
                        e.stopPropagation(),
                        !1;
                    if ("RectangleSelect" === c.action) {
                        var u = {};
                        return u.start = M.coords,
                        u.calendar = M,
                        i.Em = u,
                        !1
                    }
                    M.allowMultiRange && !d && X.clear();
                    return !M.io(M.coords.y, M.coords.grid).element.isNewRow && (i.Qp = M.hu(),
                    i.Qp && (i.Qp.ctrl = d,
                    i.Qp.Bu = M.coords,
                    i.yu = M),
                    !1)
                }
            }
            ,
            this.hu = function() {
                var e = {}
                  , t = M.Km(M.coords.x).x
                  , n = M.getDate(M.coords.x, !0)
                  , i = M.io(M.coords.y, M.coords.grid);
                if (M.Kn()) {
                    var a = i.element.data.end
                      , r = i.element.start.getTime() - M.Rb().getTime();
                    if (n.addTime(r) > a)
                        return null
                }
                return e.start = {
                    y: i.i,
                    x: t,
                    "grid": M.coords.grid,
                    "time": n
                },
                e.end = {
                    x: t,
                    "time": n
                },
                M.xo(i.i, M.coords.grid) ? null : (e.calendar = M,
                M.Jn(e),
                e)
            }
            ,
            this.Oq = function() {
                M.Uf();
                var e = i.eq
                  , t = M.Cu
                  , n = {
                    "start": e.start,
                    "end": M.Kj(e.end)
                };
                e.original = n;
                var a = "left" === i.Pp.dpBorder ? "start" : "end"
                  , r = e.original;
                if (!r || !t || t.start !== r.start || t.end !== r.end) {
                    z.clear(),
                    z.zq(),
                    function() {
                        e.overlapping = !1;
                        var t = i.Pp.event
                          , n = M.rowlist[t.part.dayIndex]
                          , a = e.left
                          , r = e.width
                          , o = x(z.list).map(function(e) {
                            return e.event.data
                        }).add(t.data);
                        if (M.Fq(e, n, a, r, o),
                        e.start) {
                            var s = {
                                "start": e.start,
                                "end": M.Kj(e.end)
                            };
                            M.Gq(e, s.start, s.end, n.id)
                        }
                    }();
                    var o = i.Pp;
                    !function() {
                        z.clear(),
                        z.zq(),
                        t && (c(e, t.cssClass),
                        e.firstChild.innerHTML = "");
                        var r = o.event.part.dayIndex
                          , s = M.rowlist[r]
                          , l = {};
                        l.start = n.start,
                        l.end = n.end,
                        l.duration = new DayPilot.Duration(l.start,l.end),
                        l.row = M.On(s),
                        l.e = o.event,
                        l.allowed = !0,
                        l.resizing = a,
                        l.what = a,
                        l.anchor = "end" === l.what ? n.start : n.end,
                        l.areaData = w.resizingAreaData,
                        l.left = {},
                        l.left.html = l.start.toString(M.eventResizingStartEndFormat, $.Tc()),
                        l.left.enabled = M.eventResizingStartEndEnabled,
                        l.left.space = 5,
                        l.left.width = null,
                        l.left.height = M.eventHeight,
                        l.right = {},
                        l.right.html = l.end.toString(M.eventResizingStartEndFormat, $.Tc()),
                        l.right.enabled = M.eventResizingStartEndEnabled,
                        l.right.space = 5,
                        l.right.width = null,
                        l.right.height = M.eventHeight,
                        l.cssClass = null,
                        l.html = null,
                        l.overlapping = l.row.events.forRange(l.start, l.end).filter(function(e) {
                            return !M.Gd(e, l.e)
                        }).length > 0,
                        l.shift = M.coords.shift,
                        l.ctrl = M.coords.ctrl,
                        l.meta = M.coords.meta,
                        l.alt = M.coords.alt,
                        l.multiresize = z.xq();
                        var d = {};
                        d.event = o.event,
                        d.start = l.start,
                        d.end = l.end,
                        l.multiresize.splice(0, 0, d),
                        M.Cu = n,
                        "function" == typeof M.onEventResizing && M.onEventResizing(l),
                        z.list = x(l.multiresize, !0),
                        z.list.splice(0, 1),
                        z.Oo(),
                        e.allowed = l.allowed,
                        u(e, l.cssClass),
                        l.html && (e.firstChild.innerHTML = l.html);
                        var h = l.start
                          , v = M.nj(l.end);
                        if (e.finalStart = h,
                        e.finalEnd = v,
                        "Days" === M.viewType || M.Kn()) {
                            var p = s.start.getTime() - M.Rb().getTime();
                            h = h.addTime(-p),
                            v = v.addTime(-p)
                        }
                        var m = DayPilot.DateUtil.diff(h, v);
                        m = f(m, 1);
                        var g = ($.Zg(m),
                        M.snapToGrid && M.snapToGridEventResizing)
                          , b = g ? M.getPixels(h).boxLeft : M.getPixels(h).left
                          , y = g ? M.getPixels(v).boxRight : M.getPixels(v).left;
                        e.style.left = b + "px",
                        e.style.width = y - b + "px",
                        e.left = b,
                        e.width = y - b;
                        var k = x(z.list).map(function(e) {
                            return e.event.data
                        }).add(o.event.data);
                        M.Fq(i.eq, s, b, y - b, k),
                        M.Gq(i.eq, e.finalStart, e.finalEnd, s.id),
                        M.Rq(i.eq, l),
                        M.Sq(i.eq, l)
                    }()
                }
            }
            ,
            this.ut = function(e) {
                if (i.Em)
                    return e.cancelBubble = !0,
                    e.preventDefault(),
                    i.zg(e),
                    !1;
                if (M.Om = {},
                M.In) {
                    var t = y(e);
                    if (t.left) {
                        var n = M.In;
                        if (M.Pc(M.coords)) {
                            var a = function(e) {
                                return function() {
                                    i.xu = null;
                                    var t = M.Gn(e);
                                    if (t) {
                                        var n = {};
                                        n.start = t.start,
                                        n.end = t.end,
                                        n.resource = t.resource,
                                        n.preventDefault = function() {
                                            n.preventDefault.value = !0
                                        }
                                        ,
                                        "function" == typeof M.onTimeRangeClick && M.onTimeRangeClick(n),
                                        n.preventDefault.value || "function" == typeof M.onTimeRangeClicked && M.onTimeRangeClicked(n)
                                    }
                                }
                            };
                            "Disabled" != M.timeRangeClickHandling && ("Disabled" === M.timeRangeDoubleClickHandling ? a(n)() : (clearTimeout(i.xu),
                            i.xu = setTimeout(a(n), M.doubleClickTimeout)))
                        }
                    }
                }
                var t = y(e);
                t.right && M.gu(e)
            }
            ,
            this.gu = function(e) {
                if ("Disabled" !== M.timeRangeSelectedHandling && "Disabled" !== M.timeRangeRightClickHandling) {
                    if (i.Qp || M.In || !x(X.list).isEmpty()) {
                        var t = M.io(M.coords.y, M.coords.grid);
                        if (M.xo(t.i))
                            return void (i.Qp = null);
                        var n = null
                          , a = M.Pc(M.coords);
                        if (n = a ? M.Gn(a) : M.Gn(),
                        !n)
                            return void (i.Qp = null);
                        var r = a && a.args;
                        if (r && !r.ignoreDisabledCells && M.Vc(n.start, n.end, n.resource))
                            return i.Qp = null,
                            void M.clearSelection();
                        n.end = M.Kj(n.end);
                        var o = {};
                        o.start = n.start,
                        o.end = n.end,
                        o.resource = n.resource,
                        o.ctrl = e.ctrlKey,
                        o.shift = e.shiftKey,
                        o.meta = e.metaKey,
                        o.preventDefault = function() {
                            this.preventDefault.value = !0
                        }
                        ,
                        "function" == typeof M.onTimeRangeRightClick && (M.onTimeRangeRightClick(o),
                        o.preventDefault.value) || ("ContextMenu" === M.timeRangeRightClickHandling && M.contextMenuSelection && M.contextMenuSelection.show(n),
                        "function" == typeof M.onTimeRangeRightClicked && M.onTimeRangeRightClicked(o))
                    }
                }
            }
            ,
            this.Dg = function() {
                return !!(i.Pp || i.Om || i.Qp || i.Qq) || !!M.Om.eu
            }
            ,
            this.dragInProgress = function() {
                return M.Dg()
            }
            ,
            this.Rm = function(e) {
                var t = DayPilot.mo3(M.Ql, e);
                if (t = t || {},
                t.grid = "main",
                M.Sl.top.enabled()) {
                    var n = M.Sl.top
                      , i = DayPilot.mo3(n.divCells, e);
                    i && i.y > 0 && i.y <= n.height && (t = i,
                    t.grid = "top")
                }
                if (M.Sl.bottom.enabled()) {
                    var a = M.Sl.bottom
                      , r = DayPilot.mo3(a.divCells, e);
                    r && r.y > 0 && r.y <= a.height && (t = r,
                    t.grid = "bottom")
                }
                t.stamp = t.grid + "_" + t.x + "_" + t.y,
                M.coords && M.coords.stamp === t.stamp || (M.coords = t)
            }
            ,
            this.getCoords = function() {
                if (!M.coords)
                    return null;
                var e = {};
                e.x = M.coords.x,
                e.y = M.coords.y,
                e.grid = M.coords.grid;
                var t = M.io(e.y, e.grid).element;
                return e.row = M.On(t),
                e.time = M.getDate(e.x, !0),
                e.cell = M.cells.findByPixels(e.x, e.y, e.grid)[0],
                e.event = M.coords.insideEvent ? M.coords.insideEvent : null,
                e.eventOffset = null,
                e.event && (e.eventOffset = p(M.eventOffset, {}, ["x", "y"])),
                e
            }
            ,
            this.qt = !0,
            this.Wq = function(e) {
                if (!w.touch.active) {
                    var t = DayPilot.mc(e);
                    if (M.Rm(e),
                    e.insideMainD = !0,
                    M.qt = !0,
                    window.event && window.event.srcElement && (window.event.srcElement.inside = !0),
                    M.Om.eu) {
                        var n = 2
                          , a = DayPilot.distance(M.Om.Vf, t);
                        a > n && (p(M.Om, i),
                        s().style.cursor = "move",
                        M.Om = {})
                    }
                    if (i.Pp && i.fq.calendar === M)
                        i.Pp.event || (i.Pp.event = i.fq),
                        M.Du();
                    else if (i.Lp) {
                        var r = i.Lp.calendar
                          , o = r !== M;
                        o && r && i.Lp.calendar.db(),
                        i.Lp.part.external = o,
                        M.Eu()
                    } else if (i.Qp && i.Qp.calendar === M) {
                        M.Fu();
                        var l = i.Qp
                          , n = 2
                          , a = DayPilot.distance(l.Bu, M.coords);
                        (a > n || l.start.x !== l.end.x) && (l.moved = !0)
                    } else if (T.source) {
                        var d = T.source;
                        P.rj(d.coords, M.coords)
                    } else
                        i.Em && (i.Em.moved = !0,
                        clearTimeout(G.Gu),
                        G.Gu = setTimeout(function() {
                            G.draw()
                        }, 0));
                    "Disabled" !== M.crosshairType && M.Hu(),
                    M.Iu();
                    var c = M.coords.insideEvent;
                    if (M.cellBubble && M.coords && M.rowlist && M.rowlist.length > 0 && !c) {
                        var u = M.Km(M.coords.x).x
                          , h = M.io(M.coords.y, M.coords.grid).i;
                        if (0 <= h && h < M.rowlist.length && 0 <= u && u < M.itline.length) {
                            var f = {};
                            f.calendar = M,
                            f.start = M.itline[u].start,
                            f.end = M.itline[u].end,
                            f.resource = M.rowlist[h].id,
                            f.toJSON = function() {
                                var e = {};
                                return e.start = this.start,
                                e.end = this.end,
                                e.resource = this.resource,
                                e
                            }
                            ;
                            var v = M.coords.grid + "_" + u + "_" + h
                              , m = M.wa.cells[v];
                            M.cellBubble.showCell(f, m)
                        }
                    }
                    if (i.Qq) {
                        if (M.zu(),
                        i.Ju && s().removeChild(i.Ju),
                        i.Ju = null,
                        !i.Lq && M.coords && M.rowlist.length > 0) {
                            if (!i.Lp) {
                                i.Om = i.Qq.Ku || {};
                                var g = i.Qq.Ku ? i.Qq.Ku.event : null
                                  , b = g || i.Qq.event;
                                if (b)
                                    if (M !== b.calendar) {
                                        var r = b.calendar
                                          , y = b
                                          , x = p(b.data);
                                        b = new DayPilot.Event(x),
                                        b.calendar = r,
                                        b.part.duration = r.Tp(y),
                                        b.part.external = !0
                                    } else
                                        b.part.external = !1;
                                else {
                                    var e = M.Lu();
                                    b = new DayPilot.Event(e),
                                    b.calendar = M,
                                    b.calendar = null,
                                    b.part.duration = 1e3 * i.Qq.duration,
                                    b.part.external = !0
                                }
                                i.Om.event || (i.Om.event = b),
                                i.Lp = b
                            }
                            i.Lq = M.Ib(i.Lp)
                        }
                        e.cancelBubble = !0
                    }
                    var k = {
                        x: M.coords.x,
                        y: M.coords.y,
                        "grid": M.coords.grid
                    };
                    M.Zf(k)
                }
            }
            ,
            this.Lu = function() {
                var e, t = M.itline[0].start, n = i.Qq.Yf;
                if (n)
                    e = p(n, {}),
                    e.start = t,
                    e.end = t.addSeconds(i.Qq.duration);
                else {
                    e = {
                        "id": i.Qq.id,
                        "start": t,
                        "end": t.addSeconds(i.Qq.duration),
                        "text": i.Qq.text
                    };
                    var a = i.Qq.Xf;
                    if (a) {
                        var r = ["duration", "element", "remove", "id", "text"];
                        for (var o in a)
                            k(r, o) || (e[o] = a[o])
                    }
                }
                return e
            }
            ,
            this.Zf = function(e) {
                var t = e.grid
                  , n = !!(i.Om || i.Pp || i.Qp || i.Em || T.source)
                  , a = "Always" === M.autoScroll
                  , r = "Drag" === M.autoScroll && n
                  , o = a || r
                  , s = !M.autoScrollHorizontal
                  , l = !M.autoScrollVertical || i.Pp || i.Qp || "main" !== t;
                if (r && !M.autoScrollRectangleSelection && i.Em && (o = !1),
                "Auto" !== M.cellWidthSpec || M.om || (s = !0),
                o) {
                    var d = M.nav.scroll;
                    e.x -= d.scrollLeft,
                    e.x += R.Yl,
                    e.y -= d.scrollTop;
                    var c = d.clientWidth
                      , u = d.clientHeight
                      , h = 30
                      , f = e.x < h ? e.x : 0
                      , v = c - e.x < h ? c - e.x : 0
                      , p = M.Sl.top.height
                      , m = e.y - p
                      , g = m < h && m > 0 ? m : 0
                      , b = u - M.Sl.bottom.height - M.Sl.top.height
                      , y = b - m < h ? u - e.y : 0
                      , w = 0
                      , x = 0
                      , k = M.autoScrollSpeed;
                    f && (w = -k * A(f, h)),
                    v && (w = k * A(v, h)),
                    g && (x = -k * A(g, h) / 2),
                    y && (x = k * A(g, h) / 2),
                    l && (x = 0),
                    s && (w = 0),
                    w || x ? (clearTimeout(M.Mu),
                    M.Mu = setTimeout(function() {
                        M.Hg(w, x)
                    }, M.autoScrollDelay)) : M.fb()
                }
            }
            ,
            this.Fu = function() {
                var e = i.Qp
                  , t = M.Km(M.coords.x).x
                  , n = M.getDate(M.coords.x, !0);
                if (M.Kn()) {
                    var a = M.uo(e.start.grid)
                      , r = a.rowlist
                      , o = r[e.start.y]
                      , s = o.data.end
                      , l = o.start.getTime() - M.Rb().getTime();
                    if (n.addTime(l) >= s)
                        return
                }
                e.end = {
                    x: t,
                    "time": n
                },
                M.Jn(e)
            }
            ,
            this.Du = function() {
                i.eq || (i.eq = M.Ib(i.Pp)),
                M.Nq()
            }
            ,
            this.Eu = function() {
                if (i.Lq && i.Lq.calendar !== M && i.Lq.calendar && (i.Lq.calendar.db(),
                i.Lq.calendar = null,
                C(i.Lq),
                i.Lq = null),
                !i.Lq) {
                    u(i.Om, M.da(J.eventMovingSource));
                    var e = i.Lp;
                    i.Lq = M.Ib(e)
                }
                M.aq(),
                M.cq()
            }
            ,
            this.Nu = {};
            var G = this.Nu;
            G.start = function() {
                var e = {};
                e.start = M.coords,
                e.calendar = M,
                i.Em = e
            }
            ,
            G.draw = function() {
                var e = i.Em;
                if (e) {
                    var t = i.Em.start
                      , n = M.coords;
                    G.clear();
                    var a, r, o, s, l, d, c, u, f = {
                        "x": e.x,
                        "y": e.y,
                        "width": e.width,
                        "height": e.height
                    };
                    if (function() {
                        l = Math.min(t.x, n.x),
                        c = Math.max(t.x, n.x),
                        "Free" === $.Sm() ? (d = Math.min(t.y, n.y),
                        u = Math.max(t.y, n.y)) : "Row" === $.Sm() && (d = t.y,
                        u = t.y)
                    }(),
                    "Free" === $.Sm())
                        a = l,
                        r = d,
                        o = c - l,
                        s = u - d;
                    else {
                        if ("Row" !== $.Sm())
                            throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: " + M.rectangleSelectMode);
                        var v = M.io(d).i
                          , p = M.rowlist[v];
                        r = p.top,
                        s = p.height;
                        if (M.snapToGrid && M.snapToGridRectangleSelecting) {
                            a = M.Km(l).cell.left;
                            var m = M.Km(c).cell;
                            o = m.left + m.width - a
                        } else
                            a = l,
                            o = c - l
                    }
                    var g = h(null, a, r, o, s);
                    if (g.style.boxSizing = "border-box",
                    g.className = M.da("_selectionrectangle"),
                    e.Ou && (e.Ou.visible || (g.style.display = "none")),
                    e.x = a,
                    e.y = r,
                    e.width = o,
                    e.height = s,
                    !(e.x === f.x && e.y === f.y && e.width === f.width && e.height === f.height || "function" != typeof M.onRectangleEventSelecting && "function" != typeof M.onRectangleSelecting)) {
                        var b = M.io(e.y).i
                          , y = M.io(e.y + e.height).i
                          , w = {
                            "start": {
                                "y": b
                            },
                            "end": {
                                "y": y
                            }
                        }
                          , x = M.eo(w)
                          , k = {};
                        k.events = H.bm(e.x, e.y, e.width, e.height).map(function(e) {
                            return e.event
                        }),
                        k.start = M.getDate(e.x, !0),
                        k.end = M.getDate(e.x + e.width, !0),
                        k.resources = x,
                        k.visible = !0,
                        "function" == typeof M.onRectangleEventSelecting && M.onRectangleEventSelecting(k),
                        "function" == typeof M.onRectangleSelecting && M.onRectangleSelecting(k),
                        e.Ou = k,
                        g.style.display = k.visible ? "" : "none"
                    }
                    M.divRectangle.appendChild(g)
                }
            }
            ,
            G.clear = function() {
                M.divRectangle.innerHTML = "",
                M.elements.rectangle = []
            }
            ,
            this.Pu = function() {
                if (!M.coords)
                    return null;
                if (!M.yt())
                    return null;
                if (!M.itline || 0 === M.itline.length)
                    return null;
                var e = M.Km(M.coords.x).x
                  , t = M.io(M.coords.y, M.coords.grid).element;
                if (!t)
                    return null;
                var n = t.index;
                return M.cells.findXy(e, n, M.coords.grid)[0]
            }
            ,
            this.Iu = function() {
                var e = this.Pu();
                if (this.hover.cell) {
                    if (this.hover.cell.x === e.x && this.hover.cell.y === e.y && this.hover.cell.grid === e.grid)
                        return;
                    this.rt()
                }
                this.hover.cell = e;
                var t = {};
                t.cell = e,
                "function" == typeof this.onCellMouseOver && this.onCellMouseOver(t),
                "function" == typeof this.onCellMouseEnter && this.onCellMouseEnter(t)
            }
            ,
            this.rt = function() {
                if (this.hover.cell) {
                    var e = {};
                    e.cell = this.hover.cell,
                    "function" == typeof this.onCellMouseOut && this.onCellMouseOut(e),
                    "function" == typeof this.onCellMouseLeave && this.onCellMouseLeave(e),
                    this.hover.cell = null
                }
            }
            ,
            this.hover = {},
            this.Hu = function() {
                var e = M.Qu();
                if (e) {
                    var t = M.hover.crosshair;
                    t && t.x === e.x && t.y === e.y && t.grid === e.grid && t.thX === e.thX || (M.hover.crosshair = e,
                    this.Tf())
                }
            }
            ,
            this.Qu = function() {
                if (!M.coords)
                    return null;
                if (!M.yt())
                    return null;
                if (!M.itline || 0 === M.itline.length)
                    return null;
                var e = M.io(M.coords.y, M.coords.grid).element;
                if (!e)
                    return null;
                var t = e.index
                  , n = null
                  , i = M.Km(M.coords.x);
                i && (n = i.x);
                var a = M.Ru()
                  , r = null
                  , o = M.mq(a, M.coords.x);
                return o && (r = o.x),
                {
                    "x": n,
                    "thX": r,
                    "y": t,
                    "grid": M.coords.grid
                }
            }
            ,
            this.zu = function() {
                this.Sl.top.divCrosshair.innerHTML = "",
                this.Sl.main.divCrosshair.innerHTML = "",
                this.Sl.bottom.divCrosshair.innerHTML = "",
                this.Su = null,
                this.Tu = null
            }
            ,
            this.eb = function() {
                if (this.zu(),
                M.hover.crosshair = null,
                this.Uu && this.Uu.parentNode && (this.Uu.parentNode.removeChild(this.Uu),
                this.Uu = null),
                this.Vu) {
                    for (var e = 0; e < this.Vu.length; e++) {
                        var t = this.Vu[e];
                        t.parentNode && t.parentNode.removeChild(t)
                    }
                    this.Vu = null
                }
                this.gl = -1,
                this.fl = -1,
                this.Wu = null
            }
            ,
            this.Ru = function() {
                var e = this.timeHeader ? this.timeHeader.length - 1 : 1;
                return "number" == typeof M.crosshairTimeHeaderLevel && M.crosshairTimeHeaderLevel < e && M.crosshairTimeHeaderLevel >= 0 && (e = M.crosshairTimeHeaderLevel),
                e
            }
            ,
            this.Tf = function() {
                function e(e, t) {
                    var n = M.Sl[e]
                      , i = n.height
                      , a = t.left
                      , r = M.Su[e];
                    if (!r) {
                        var r = l();
                        r.style.height = i + "px",
                        r.style.position = "absolute",
                        r.style.top = "0px",
                        r.style.pointerEvents = "none",
                        r.className = M.da("_crosshair_vertical"),
                        M.Su[e] = r,
                        n.divCrosshair.appendChild(r)
                    }
                    r.style.left = a + "px",
                    r.style.width = t.width + "px"
                }
                if (M.coords && M.yt()) {
                    var t = M.io(M.coords.y, M.coords.grid).element;
                    if (t) {
                        var n = M.Km(M.coords.x).x
                          , i = t.index
                          , a = t.grid
                          , r = M.uo(a)
                          , o = ["top", "main", "bottom"]
                          , s = this.crosshairType;
                        if (this.Su || (this.Su = {}),
                        "Full" === s) {
                            var d = this.itline[n];
                            o.forEach(function(t) {
                                e(t, d)
                            });
                            var c = t.top
                              , u = t.height
                              , h = M.gm()
                              , f = M.Tu;
                            if (f && f.parentNode && M.Wu !== a && (f.parentNode.removeChild(f),
                            f = null),
                            !f) {
                                var f = l();
                                f.style.width = h + "px",
                                f.style.height = u + "px",
                                f.style.position = "absolute",
                                f.style.top = c + "px",
                                f.style.left = "0px",
                                f.style.pointerEvents = "none",
                                f.className = M.da("_crosshair_horizontal"),
                                M.Tu = f,
                                r.divCrosshair.appendChild(f)
                            }
                            f.style.top = c + "px",
                            f.style.height = u + "px"
                        }
                        var v = M.Ru()
                          , p = M.mq(v, M.coords.x);
                        if (p && M.gl !== p.x) {
                            M.Uu && this.Uu.parentNode && (M.Uu.parentNode.removeChild(M.Uu),
                            M.Uu = null);
                            var u = ee.tq(v).height
                              , f = l();
                            f.style.width = p.cell.width + "px",
                            f.style.height = u + "px",
                            f.style.left = "0px",
                            f.style.top = "0px",
                            f.style.position = "absolute",
                            f.className = M.da("_crosshair_top"),
                            M.Uu = f;
                            var m = this.divNorth
                              , g = v;
                            M.nav.timeHeader ? M.wa.timeHeader[p.x + "_" + g].appendChild(f) : m && m.firstChild.rows[g].cells[n] && m.firstChild.rows[g].cells[n].firstChild.appendChild(f)
                        }
                        if (M.fl !== i || M.Wu !== a) {
                            if (M.Vu) {
                                for (var b = 0; b < M.Vu.length; b++) {
                                    var y = M.Vu[b];
                                    y.parentNode && y.parentNode.removeChild(y)
                                }
                                M.Vu = null
                            }
                            this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                            if (M.Vu = [],
                            r.rowlist[i])
                                for (var b = 0; b < r.rowlist[i].cells.length; b++) {
                                    var w = r.rowlist[i].cells[b]
                                      , x = w.refCell
                                      , u = t.height
                                      , k = i;
                                    x ? (u = x.row.split.totalHeight(),
                                    k = x.y) : w.rowspan > 1 && (u = w.totalHeight());
                                    var C = r.divHeader.rows[k] && r.divHeader.rows[k].cells[b];
                                    if (C) {
                                        var h = M.jm()
                                          , f = l();
                                        f.style.width = h + "px",
                                        f.style.height = u + "px",
                                        f.style.left = "0px",
                                        f.style.top = "0px",
                                        f.style.position = "absolute",
                                        f.className = M.da("_crosshair_left"),
                                        M.Vu.push(f),
                                        r.divHeader.rows[k].cells[b].firstChild.appendChild(f)
                                    }
                                }
                        }
                        p && (M.gl = p.x),
                        M.fl = i,
                        M.Wu = a
                    }
                }
            }
            ,
            this.mq = function(e, t) {
                var n = M.timeHeader[e];
                if (!n)
                    return null;
                for (var i = 0; i < n.length; i++) {
                    var a = n[i];
                    if (t >= a.left && t < a.left + a.width) {
                        var r = {};
                        return r.cell = a,
                        r.x = i,
                        r
                    }
                }
                return null
            }
            ,
            this.Xu = function(e) {
                return M.mq(M.timeHeader.length - 1, e)
            }
            ,
            this.tt = function(e) {
                if (e.cancelBubble = !0,
                !M.allowDefaultContextMenu)
                    return !1
            }
            ,
            this.Pc = function(e) {
                function t(t) {
                    if (!t || !t.start || !t.end)
                        return !1;
                    t = t.ku ? t.ku : t;
                    var n = t.start.grid
                      , i = M.jp(t.start.y, t.start.grid)
                      , a = 0;
                    "main" === n && (a = M.Sl.top.height);
                    var r = t.start.time.getTime() < t.end.time.getTime()
                      , o = r ? t.start.time : t.end.time
                      , s = r ? t.end.time : t.start.time
                      , l = M.getPixels(o).left
                      , d = M.getPixels(s).left
                      , c = i.top + a
                      , u = i.bottom + a
                      , h = e.x >= l && e.x <= d
                      , f = e.y >= c && e.y <= u
                      , v = e.grid === t.start.grid;
                    return !!(h && f && v) && t
                }
                var n = M.In;
                return n ? t(n) : x(X.list).isEmpty() ? void 0 : X.list.find(function(e) {
                    return t(e)
                })
            }
            ,
            this.Jn = function(e, t) {
                function n(e, t) {
                    var n, i, a, r, u = e.end.time > e.start.time, h = e.start.y, f = e.start.time && e.end.time;
                    if (s || !f) {
                        var v = u ? e.start.x : e.end.x
                          , p = u ? e.end.x : e.start.x
                          , m = M.itline[v]
                          , g = M.itline[p];
                        n = m.left,
                        i = g.left + g.width
                    } else
                        u ? (a = e.start.time,
                        r = e.end.time) : (a = e.end.time,
                        r = e.start.time),
                        n = M.getPixels(a).left,
                        i = M.getPixels(r).left;
                    var b = i - n
                      , y = M.elements.range2;
                    if (!y) {
                        y = l(),
                        y.style.position = "absolute",
                        y.setAttribute("unselectable", "on");
                        var w = l();
                        w.className = M.da("_shadow_inner"),
                        o && (y.style.borderRadius = o,
                        w.style.borderRadius = o),
                        y.appendChild(w),
                        d.divShadow.appendChild(y)
                    }
                    y.grid !== e.start.grid && (y.parentNode.removeChild(y),
                    d.divShadow.appendChild(y));
                    var x = c[h];
                    return y.className = M.da("_shadow"),
                    y.firstChild.innerHTML = "",
                    y.style.left = n + "px",
                    y.style.top = x.top + "px",
                    y.style.width = b + "px",
                    y.style.height = x.height - 1 + "px",
                    y.calendar = M,
                    y.grid = e.start.grid,
                    y.row = x,
                    M.elements.range2 = y,
                    function() {
                        y.overlapping = !1;
                        var i = c[h];
                        M.Fq(y, i, n, b, null);
                        var a = u ? e.start.time : e.end.time
                          , r = u ? e.end.time : e.start.time;
                        t.ignoreDisabledCells || M.Gq(y, a, r, i.id)
                    }(),
                    y
                }
                var e = e || i.Qp;
                if (e && e.calendar === M) {
                    i.np && i.np.blur(),
                    t = t || {};
                    var a = t.justDraw
                      , r = e.forceSnap
                      , o = M.eventBorderRadius;
                    "number" == typeof o && (o += "px");
                    var s = M.snapToGrid && M.snapToGridTimeRangeSelecting;
                    r && (s = !0);
                    var d = M.uo(e.start.grid)
                      , c = d.rowlist;
                    !function() {
                        var t = e.end.time >= e.start.time
                          , i = t ? e.start.x : e.end.x
                          , r = t ? e.end.x : e.start.x
                          , o = e.start.y
                          , l = c[o];
                        if (l && !l.hidden) {
                            var d = M.itline[i]
                              , h = M.itline[r]
                              , f = M.Yu
                              , v = d.start.addTime(l.data.offset)
                              , p = h.end.addTime(l.data.offset);
                            if (s || (t ? (v = e.start.time,
                            p = e.end.time) : (v = e.end.time,
                            p = e.start.time)),
                            a || !f || f.start.getTime() !== v.getTime() || f.rawend.getTime() !== p.getTime() || f.resource !== c[o].id) {
                                var m = {
                                    "start": v,
                                    "end": M.Kj(p),
                                    "rawend": p,
                                    "resource": c[o].id
                                }
                                  , g = {};
                                g.anchor = t ? m.start : m.end,
                                g.start = m.start,
                                g.end = m.end,
                                g.duration = new DayPilot.Duration(v,p),
                                g.resource = c[o].id,
                                g.row = M.On(l),
                                g.allowed = !0,
                                g.control = M,
                                g.ignoreDisabledCells = !1,
                                g.left = {},
                                g.left.html = g.start.toString(M.timeRangeSelectingStartEndFormat, $.Tc()),
                                g.left.enabled = M.timeRangeSelectingStartEndEnabled,
                                g.left.space = 5,
                                g.left.width = null,
                                g.left.height = M.eventHeight,
                                g.right = {},
                                g.right.html = g.end.toString(M.timeRangeSelectingStartEndFormat, $.Tc()),
                                g.right.enabled = M.timeRangeSelectingStartEndEnabled,
                                g.right.space = 5,
                                g.right.width = null,
                                g.right.height = M.eventHeight,
                                g.overlapping = g.row.events.forRange(v, p).length > 0,
                                g.html = null,
                                g.cssClass = null,
                                g.button = M.Au,
                                M.Yu = m,
                                "function" != typeof M.onTimeRangeSelecting || a || (M.onTimeRangeSelecting(g),
                                g.resource = m.resource),
                                g.end = M.nj(g.end),
                                e.args = g;
                                var b = M.Zu(e);
                                M.Hn(b, g.start, g.end);
                                var y = n(b, g);
                                g.html && (y.firstChild.innerHTML = g.html),
                                g.cssClass && u(y, g.cssClass),
                                M.Rq(y, g),
                                e.ku = b,
                                e.disabled = !g.allowed,
                                M.Sq(y, g)
                            }
                        }
                    }()
                }
            }
            ,
            this.Zu = function(e) {
                return {
                    "start": {
                        "x": e.start.x,
                        "y": e.start.y,
                        "time": e.start.time,
                        "grid": e.start.grid
                    },
                    "end": {
                        "x": e.end.x,
                        "time": e.end.time
                    },
                    "disabled": e.disabled,
                    "calendar": e.calendar,
                    "args": e.args,
                    "forceSnap": e.forceSnap
                }
            }
            ,
            this.range = {},
            this.range.all = function() {
                return M.multirange.get()
            }
            ,
            this.multirange = {},
            this.multirange.get = function() {
                return X.get(!0)
            }
            ,
            this.multirange.add = function(e) {
                if (!e)
                    throw new DayPilot.Exception("Range not specified");
                if (!e.start || !e.end || !e.resource)
                    throw new DayPilot.Exception("Invalid range specified");
                if (x(X.list).isEmpty()) {
                    var t = M.Gn();
                    if (t) {
                        var n = M.$u(t.start, t.end, t.resource);
                        M.iu.add(n)
                    }
                }
                var n = M.$u(e.start, e.end, e.resource);
                M.Jn(n),
                M.iu.add(n)
            }
            ,
            this.multirange.clear = function() {
                X.clear(),
                M.clearSelection(),
                M.Yu = null
            }
            ,
            this.iu = {};
            var X = this.iu;
            this.iu.list = [],
            this.iu.drawLaterTimeout = null,
            this.iu.drawLater = function() {
                clearTimeout(M.iu.drawLaterTimeout),
                M.iu.drawLaterTimeout = setTimeout(function() {
                    X.Oo()
                }, 0)
            }
            ,
            this.iu.Oo = function() {
                C(x(X.list).map(function(e) {
                    return e.div
                })),
                X.list.forEach(function(e) {
                    M.elements.range2 = null,
                    M.Jn(e, {
                        "justDraw": !0
                    })
                })
            }
            ,
            this.iu.clear = function() {
                C(x(X.list).map(function(e) {
                    return e.div
                })),
                X.list = []
            }
            ,
            this.iu.add = function(e) {
                e.div = M.elements.range2,
                M.elements.range2 = null,
                M.Vq(),
                X.list.push(e)
            }
            ,
            this.iu.get = function(e) {
                var t = x(X.list).map(function(e) {
                    return M.Gn(e)
                });
                if (e && t.isEmpty()) {
                    var n = M.Gn();
                    n && t.push(n)
                }
                return t
            }
            ,
            this.iu.dispatch = function() {
                if (M.allowMultiRange && !i.Qp) {
                    var e = x(X.list).last();
                    M.Fn(e)
                }
            }
            ,
            this._u = function(e) {
                if ("Disabled" === M.timeRangeSelectedHandling)
                    return !1;
                if (!w.touch.active && !w.touch.start) {
                    var t = y(e);
                    if (!i.Qp && !i.Em && !(M.In && M.Pc(M.coords) && (t.right || t.middle) || M.xo(M.io(M.coords.y).i))) {
                        var n = {}
                          , a = M.Km(M.coords.x).x;
                        n.start = {
                            y: M.io(M.coords.y).i,
                            x: a,
                            "grid": M.coords.grid
                        },
                        n.end = {
                            x: a
                        },
                        n.calendar = M,
                        M.In = n,
                        M.Fn(n, "click")
                    }
                }
            }
            ,
            this.Pm = {},
            this.Pm.Cb = null,
            this.Pm.drawCells = null,
            this.Pm.drawRows = null,
            this.Pm.click = null,
            this.Pm.resClick = [],
            this.Pm.updateFloats = null,
            this.Kl = function(e, t) {
                if (!M.Ba) {
                    t = t || {},
                    "undefined" == typeof DayPilot.Bubble || t.dontHideBubble || DayPilot.Bubble.hideActive(),
                    M.Ga();
                    var n = M.nav.scroll;
                    if (M.lq = n.scrollLeft,
                    M.jq = n.scrollTop,
                    M.Gt = n.clientWidth,
                    M.divTimeScroll && (M.divTimeScroll.scrollLeft = M.lq),
                    M.Sl.top.enabled() && (M.Sl.top.div.scrollLeft = M.lq),
                    M.Sl.bottom.enabled() && (M.Sl.bottom.div.scrollLeft = M.lq),
                    DayPilot.browser.ios && i.gt ? a() : M.divResScroll.scrollTop = M.jq,
                    R.Cm() && M.Aa && "Auto" != M.cellWidthSpec && !M.Pl)
                        if (R.t)
                            a();
                        else {
                            if (M.nav.scroll.scrollLeft < M.infiniteScrollingMargin)
                                return R.t = !0,
                                M.nav.scroll.style.overflowX = "hidden",
                                void setTimeout(function() {
                                    R.wm(-M.infiniteScrollingStepDays)
                                }, 100);
                            if (M.nav.scroll.scrollWidth - (M.nav.scroll.scrollLeft + M.nav.scroll.clientWidth) < M.infiniteScrollingMargin)
                                return R.t = !0,
                                M.nav.scroll.style.overflowX = "hidden",
                                void setTimeout(function() {
                                    R.wm(M.infiniteScrollingStepDays)
                                }, 100)
                        }
                    if (M.navigatorBackSync && !function() {
                        var e = DayPilot.Util.evalVariable(M.navigatorBackSync)
                          , t = M.getViewPort().start;
                        e.select(t, {
                            "dontNotify": !0,
                            "dontFocus": !0
                        })
                    }(),
                    M.progressiveRowRendering && (M.Pm.drawRows && (clearTimeout(M.Pm.drawRows),
                    M.Pm.drawRows = null),
                    M.scrollDelayRows > 0 ? M.Pm.drawRows = setTimeout(function() {
                        M.gn()
                    }, M.scrollDelayRows) : M.gn()),
                    M.Pm.drawCells && (clearTimeout(M.Pm.drawCells),
                    M.Pm.drawCells = null),
                    M.scrollDelayCells > 0)
                        M.Pm.drawCells = setTimeout(M.av(), M.scrollDelayCells);
                    else {
                        M.av()()
                    }
                    if (M.dynamicLoading)
                        return M.fk(),
                        void M.bv();
                    M.Pm.Cb && (clearTimeout(M.Pm.Cb),
                    M.Pm.Cb = null),
                    M.scrollDelayEvents > 0 ? M.Pm.Cb = setTimeout(M.cv(), M.scrollDelayEvents) : M.Cb(),
                    M.Pm.updateFloats && (clearTimeout(M.Pm.updateFloats),
                    M.Pm.updateFloats = null),
                    M.scrollDelayFloats > 0 ? M.Pm.updateFloats = setTimeout(function() {
                        M.Il()
                    }, M.scrollDelayFloats) : M.Il(),
                    M.onScrollCalled = !0
                }
            }
            ,
            this.av = function() {
                return function() {
                    M && (M.fk(),
                    M.El())
                }
            }
            ,
            this.cv = function() {
                return function() {
                    M && (M.St() ? window.setTimeout(function() {
                        M.Pt(),
                        window.setTimeout(function() {
                            M.Cb(!0)
                        }, 50)
                    }, 50) : M.$l())
                }
            }
            ,
            this.Ft = function(e) {
                if (M.dynamicLoading && "function" == typeof M.onScrollEnd && !M.Ba) {
                    var t = function(e) {
                        var t = function() {
                            if (M.Hb() && "function" == typeof M.onAfterRender) {
                                var e = {};
                                e.isCallBack = !1,
                                e.isScroll = !0,
                                e.data = null,
                                M.onAfterRender(e)
                            }
                        };
                        M.Gl(e.events, t, e)
                    }
                      , n = {};
                    n.viewport = M.getViewPort(),
                    n.async = !0,
                    n.events = [],
                    n.remove = [],
                    n.clearEvents = !0,
                    n.dontForceCellRendering = !1,
                    n.loaded = function() {
                        this.async && t(n)
                    }
                    ,
                    M.onScrollEnd(n),
                    n.async || t(n)
                }
            }
            ,
            this.Ga = function() {
                M.wa.eventHeight = null,
                M.wa.drawArea = null
            }
            ,
            this.show = function() {
                M.visible = !0,
                M.jl = !0,
                M.nav.top.style.display = "",
                M.E(),
                M.Eb(),
                M.xp(),
                M.Kl()
            }
            ,
            this.hide = function() {
                M.visible = !1,
                M.jl = !1,
                M.nav.top.style.display = "none"
            }
            ,
            this.bv = function() {
                var e = M.nav.scroll;
                M.lq = e.scrollLeft,
                M.jq = e.scrollTop,
                M.Gt = e.clientWidth,
                M.divTimeScroll.scrollLeft = M.lq,
                M.divResScroll.scrollTop = M.jq,
                M.refreshTimeout && window.clearTimeout(M.refreshTimeout);
                var t = M.scrollDelayDynamic;
                M.dv || (M.refreshTimeout = window.setTimeout(M.ev(e.scrollLeft, e.scrollTop), t)),
                M.Il()
            }
            ,
            this.$k = function(e) {
                if (!M.events.list)
                    return null;
                for (var t = 0; t < this.events.list.length; t++) {
                    var n = this.events.list[t];
                    if (M.Gd(n, e)) {
                        var i = {};
                        return i.ex = n,
                        i.index = t,
                        i.modified = !M._k(e, n),
                        i
                    }
                }
                return null
            }
            ,
            this._k = function(e, t) {
                for (var n in e)
                    if (("object" != typeof e[n] || e[n]instanceof DayPilot.Date) && e[n] !== t[n])
                        return !1;
                for (var n in t)
                    if ("object" != typeof t[n] && e[n] !== t[n])
                        return !1;
                return !0
            }
            ,
            this.dv = !1,
            this.Gl = function(e, t, n) {
                M.dv = !0;
                var i = n && n.clearEvents
                  , a = n && n.remove
                  , r = n && n.dontForceCellRendering
                  , o = [];
                if (M.events.list || (M.events.list = []),
                i)
                    M.qb(e),
                    P.ul();
                else {
                    var s = [];
                    x(a).forEach(function(e) {
                        var t = x(M.events.list).find(function(t) {
                            return t.id === e
                        });
                        t && s.push(t)
                    }),
                    s.forEach(function(e) {
                        var t = M.events.Vm(e);
                        o = o.concat(t),
                        DayPilot.rfa(M.events.list, e)
                    });
                    for (var l = [], d = 0; d < e.length; d++) {
                        var c = e[d];
                        l[d] = M.$k(c)
                    }
                    for (var d = 0; d < e.length; d++) {
                        var c = e[d]
                          , u = l[d]
                          , h = u && u.modified
                          , f = !u;
                        if (h) {
                            this.events.list[u.index] = c;
                            var v = M.events.Vm(u.ex);
                            o = o.concat(v)
                        } else
                            f && this.events.list.push(c);
                        (h || f) && (o = o.concat(M.events.Wm(c)))
                    }
                    M.Xm(o),
                    M.Ym()
                }
                M.zl(),
                M.yb();
                if (i || r) {
                    M.Va();
                    var p = M.zn || !M.beforeCellRenderCaching;
                    p && M.Bl(),
                    M.Al(),
                    p ? M.El() : M.xp(),
                    M.Cb(),
                    t && t()
                } else
                    M.Zm(o, !1, function() {
                        t && t(),
                        M.Pt(),
                        M.Cb()
                    }),
                    M.xp();
                setTimeout(function() {
                    M.dv = !1
                }, 0)
            }
            ,
            this.ev = function(e, t) {
                return M.ka() ? function() {
                    M.scrollX = e,
                    M.scrollY = t,
                    M.Ma("Scroll")
                }
                : function() {
                    if ("function" == typeof M.onScroll) {
                        var e = function(e) {
                            var t = function() {
                                if (M.Hb() && "function" == typeof M.onAfterRender) {
                                    var e = {};
                                    e.isCallBack = !1,
                                    e.isScroll = !0,
                                    e.data = null,
                                    M.onAfterRender(e)
                                }
                            };
                            M.Gl(e.events, t, e)
                        }
                          , t = {};
                        t.viewport = M.getViewPort(),
                        t.async = !0,
                        t.events = [],
                        t.remove = [],
                        t.clearEvents = !0,
                        t.dontForceCellRendering = !1,
                        t.loaded = function() {
                            this.async && e(t)
                        }
                        ,
                        M.onScroll(t),
                        t.async || e(t)
                    }
                }
            }
            ,
            this.fv = function() {
                var e = this.rd()
                  , t = e.xStart
                  , n = e.xEnd - e.xStart
                  , i = e.yStart
                  , a = e.yEnd - e.yStart;
                this.cellProperties || (this.cellProperties = {});
                for (var r = M.Sl.top, o = M.Sl.bottom, s = 0; s <= n; s++) {
                    for (var l = t + s, d = 0; d < a; d++) {
                        var c = i + d;
                        this.rowlist[c].hidden || this.Ye(l, c)
                    }
                    if (this.gv(l),
                    r.enabled()) {
                        for (var c = 0; c < r.rowlist.length; c++)
                            this.Ye(l, c, "top");
                        this.gv(l, "top")
                    }
                    if (o.enabled()) {
                        for (var c = 0; c < o.rowlist.length; c++)
                            this.Ye(l, c, "bottom");
                        this.gv(l, "bottom")
                    }
                }
                for (var u = this.$q(), c = u.start; c < u.end; c++)
                    this.rowlist[c].hidden || this.hv(c);
                if (r.enabled())
                    for (var c = 0; c < r.rowlist.length; c++)
                        r.rowlist[c].hidden || this.hv(c, "top");
                if (o.enabled())
                    for (var c = 0; c < o.rowlist.length; c++)
                        o.rowlist[c].hidden || this.hv(c, "bottom")
            }
            ,
            this.El = function() {
                if (!M.Ba) {
                    var e = M.Am();
                    if (e && e.length > 0) {
                        if (this.cellSweeping) {
                            var t = this.cellSweepingCacheSize;
                            this.Rt(t)
                        }
                        Q.pp(),
                        this.fv(),
                        this.iv(),
                        Q.$n({
                            "dontFocus": !0
                        })
                    }
                    this.zn = !1
                }
            }
            ,
            this.iv = function() {
                for (var e = this.rd(), t = M.Sl.top, n = M.Sl.bottom, i = e.xStart; i < e.xEnd; i++) {
                    i < this.itline.length - 1 && this.itline[i + 1].breakBefore && (this.jv(i),
                    t.enabled() && this.jv(i, "top"),
                    n.enabled() && this.jv(i, "bottom"))
                }
            }
            ,
            this.jv = function(e, t) {
                t = t || "main";
                var n = M.Sl[t]
                  , i = n.divBreaks
                  , a = "main" === t
                  , r = a ? M.hl : n.height
                  , o = t + "_x_" + e;
                if (!this.wa.breaks[o]) {
                    var s = {};
                    if ("function" == typeof M.onBeforeGridLineRender) {
                        var d = M.itline[e]
                          , c = M.itline[e + 1];
                        if (s.start = d && d.end,
                        s.end = c && c.start,
                        s.hidden = !1,
                        s.cssClass = null,
                        s.type = "VerticalBreak",
                        s.grid = t,
                        s.color = null,
                        M.onBeforeGridLineRender(s),
                        s.hidden)
                            return
                    }
                    var u = M.itline[e + 1].left - 1
                      , h = l();
                    h.style.left = u + "px",
                    h.style.top = "0px",
                    h.style.width = "1px",
                    h.style.height = r + "px",
                    h.style.fontSize = "1px",
                    h.style.lineHeight = "1px",
                    h.style.overflow = "hidden",
                    h.style.position = "absolute",
                    h.setAttribute("unselectable", "on"),
                    h.className = this.da("_matrix_vertical_break"),
                    s.cssClass && (h.className += " " + s.cssClass),
                    s.color && (h.style.backgroundColor = s.color),
                    i.appendChild(h),
                    this.elements.breaks.push(h),
                    this.wa.breaks[o] = h
                }
            }
            ,
            this.rd = function() {
                if (M.wa.drawArea)
                    return M.wa.drawArea;
                if (!this.nav.scroll)
                    return null;
                var e = M.jq
                  , t = {}
                  , n = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin
                  , i = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin
                  , a = M.lq - n - R.Yl
                  , r = a + M.Gt + 2 * n
                  , o = 0
                  , s = 0;
                if (M.itline && M.itline.length > 0) {
                    o = M.Km(a).x,
                    s = M.Km(r, !0).x;
                    var l = this.kq();
                    s = Math.min(s, l),
                    o = f(o, 0)
                }
                var d = e - i
                  , c = e + this.nav.scroll.offsetHeight + 2 * i
                  , u = this.io(d).i
                  , h = this.io(c).i;
                h < this.rowlist.length && h++,
                t.xStart = o,
                t.xEnd = s,
                t.yStart = u,
                t.yEnd = h;
                var v = M.nav.scroll;
                return 0 === v.clientWidth && (v = M.divTimeScroll),
                t.pixels = {},
                t.pixels.left = v.scrollLeft - R.Yl,
                t.pixels.right = v.scrollLeft - R.Yl + v.clientWidth,
                t.pixels.top = v.scrollTop,
                t.pixels.bottom = v.scrollTop + v.clientHeight,
                t.pixels.width = v.scrollWidth,
                t.sw = DayPilot.sw(M.nav.scroll),
                M.wa.drawArea = t,
                t
            }
            ,
            this.gm = function() {
                var e = 0
                  , t = this.itline[this.itline.length - 1];
                return e = t ? t.left + t.width : 0,
                (e < 0 || isNaN(e)) && (e = 0),
                e
            }
            ,
            this.hv = function(e, t) {
                t = t || "main";
                var n = M.Sl[t]
                  , i = n.rowlist
                  , a = n.divLines
                  , r = t + "_y_" + e;
                if (!this.wa.ll[r]) {
                    var o = i[e]
                      , s = {};
                    if ("function" != typeof M.onBeforeGridLineRender || (s.row = M.On(o),
                    s.hidden = !1,
                    s.cssClass = null,
                    s.type = "HorizontalLine",
                    s.color = null,
                    M.onBeforeGridLineRender(s),
                    !s.hidden)) {
                        var d = "number" == typeof o.forcedHeight ? o.forcedHeight : o.height
                          , c = o.top + d - 1
                          , u = this.gm()
                          , h = l()
                          , f = h.style;
                        f.left = "0px",
                        f.top = c + "px",
                        f.width = u + "px",
                        f.height = "1px",
                        f.fontSize = "1px",
                        f.lineHeight = "1px",
                        f.overflow = "hidden",
                        f.position = "absolute",
                        h.setAttribute("unselectable", "on"),
                        h.className = this.da("_matrix_horizontal_line"),
                        s.cssClass && (h.className += " " + s.cssClass),
                        s.color && (f.backgroundColor = s.color),
                        a.appendChild(h),
                        this.wa.ll[r] = h
                    }
                }
            }
            ,
            this.gv = function(e, t) {
                var n = this.itline[e];
                if (n) {
                    t = t || "main";
                    var i = M.Sl[t]
                      , a = i.divLines
                      , r = "main" === t
                      , o = r ? M.hl : i.height
                      , s = t + "_x_" + e;
                    if (!this.wa.kl[s]) {
                        var d = {};
                        if ("function" != typeof M.onBeforeGridLineRender || (d.start = n.start,
                        d.end = n.end,
                        d.hidden = !1,
                        d.cssClass = null,
                        d.type = "VerticalLine",
                        d.color = null,
                        M.onBeforeGridLineRender(d),
                        !d.hidden)) {
                            var c = n.left + n.width - 1
                              , u = l()
                              , h = u.style;
                            h.left = c + "px",
                            h.top = "0px",
                            h.width = "1px",
                            h.height = o + "px",
                            h.fontSize = "1px",
                            h.lineHeight = "1px",
                            h.overflow = "hidden",
                            h.position = "absolute",
                            u.setAttribute("unselectable", "on"),
                            u.className = this.da("_matrix_vertical_line"),
                            d.cssClass && (u.className += " " + d.cssClass),
                            d.color && (h.backgroundColor = d.color),
                            a.appendChild(u),
                            this.elements.linesVertical.push(u),
                            this.wa.kl[s] = u
                        }
                    }
                }
            }
            ,
            this.bq = function(e, t) {
                function n() {
                    var t = M.kv(e, i.expanded, !1);
                    if (!a)
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            M.An(r)
                        }
                    M.sl(),
                    M.Er(),
                    M.yb(),
                    M.fk();
                    var o = M.On(i, e);
                    a ? M.Zn(o) : M.Yn(o)
                }
                M.Ol.Cp && (M.Ol.skip = !0);
                var i = this.rowlist[e]
                  , a = !i.expanded;
                if (i.expanded = a,
                i.resource && (i.resource.expanded = a),
                t = t || {},
                M.sl({
                    "includeHidden": !0
                }),
                M.treeAnimation && !t.notAnimated) {
                    var r = this.kv(e, i.expanded, !0);
                    M.Dr(r, a ? "show" : "hide", function() {
                        n()
                    })
                } else
                    n()
            }
            ,
            this.Er = function() {
                M.zl(),
                M.vl(),
                M.wl(),
                M.yb(),
                M.Ga(),
                M.Cn(),
                P.bn(),
                M.Bl(),
                M.El(),
                M.gn(),
                M.Cb(),
                M.Ga()
            }
            ,
            this.yr = function(e) {
                var t = {};
                if (t.index = e,
                "function" == typeof this.onLoadNode) {
                    var n = {}
                      , i = this.rowlist[e].resource;
                    n.resource = i,
                    n.async = !1,
                    n.loaded = function() {
                        this.async && (i.dynamicChildren = !1,
                        i.expanded = !0,
                        M.update())
                    }
                    ,
                    this.onLoadNode(n),
                    n.async || (i.dynamicChildren = !1,
                    i.expanded = !0,
                    this.update())
                } else
                    this.Ma("LoadNode", t)
            }
            ,
            this.kv = function(e, t, n) {
                var i = this.rowlist[e]
                  , a = [];
                if (null === i.children || 0 === i.children.length)
                    return a;
                for (var r = 0; r < i.children.length; r++) {
                    var o = i.children[r]
                      , s = this.rowlist[o]
                      , l = t && i.expanded && !s.Ns;
                    t && s.hidden && (s.forcedHeight = 0),
                    n && !t || (s.hidden = !l),
                    n || delete s.forcedHeight,
                    t === l && a.push(o);
                    var d = this.kv(o, t && !s.hidden);
                    d.length > 0 && (a = a.concat(d))
                }
                return a
            }
            ,
            this.Hg = function(e, t) {
                this.fb(),
                this.Ig(e, t)
            }
            ,
            this.Jg = function(e) {
                if (!e)
                    return !1;
                var t = this.nav.scroll
                  , n = t.scrollWidth
                  , i = t.scrollLeft
                  , a = t.clientWidth
                  , r = i + a;
                return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e,
                M.coords.x += e,
                M.Kg(),
                !0))
            }
            ,
            this.Lg = function(e) {
                if (!e)
                    return !1;
                var t = this.nav.scroll
                  , n = t.scrollHeight
                  , i = t.scrollTop
                  , a = t.clientHeight
                  , r = i + a;
                return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e,
                M.coords.y += e,
                M.Kg(),
                !0))
            }
            ,
            this.Kg = function() {
                i.Pp && i.Pp.event.calendar === M ? M.Du() : i.Om && (i.Lp.calendar === M || i.Lp.calendar && i.Lp.calendar.dragOutAllowed) ? (i.Om.event || (i.Om.event = i.Lp),
                M.Eu()) : i.Qp && i.Qp.calendar === M ? M.Fu() : i.Em && G.draw()
            }
            ,
            this.Ig = function(e, t) {
                if (!M.nu) {
                    if (!(this.Jg(e) || this.Lg(t)))
                        return
                }
                var n = function(e, t) {
                    return function() {
                        M.Ig(e, t)
                    }
                };
                clearTimeout(M.Mg),
                M.Mg = setTimeout(n(e, t), 100)
            }
            ,
            this.fb = function() {
                clearTimeout(M.Mg),
                clearTimeout(M.Mu)
            }
            ,
            this.zl = function() {
                M.Sl.top.enabled() && (M.Sl.top.height = M.lv(M.Sl.top.rowlist, 0)),
                M.Sl.bottom.enabled() && (M.Sl.bottom.height = M.lv(M.Sl.bottom.rowlist, 0)),
                M.hl = M.lv(M.rowlist, M.Sl.top.height)
            }
            ,
            this.lv = function(e, t) {
                for (var n = 0, i = t || 0, t = t || 0, a = 0; a < e.length; a++) {
                    var r = e[a];
                    r.hidden || (r.top = t,
                    r.displayY = n,
                    t += "number" == typeof r.forcedHeight ? r.forcedHeight : r.height,
                    n += 1),
                    r.absTop = i,
                    i += r.height
                }
                return t
            }
            ,
            this.Bl = function() {
                "function" == typeof M.onBeforeRowHeaderDomAdd && M.X.reactDOM && M.mv(),
                M.elements.cells = [],
                M.elements.breaks = [],
                M.wa.cells = [],
                M.wa.breaks = [],
                M.divBreaks.innerHTML = "",
                M.Sl.top.divBreaks.innerHTML = "",
                M.Sl.bottom.divBreaks.innerHTML = "",
                M.divCells.innerHTML = "",
                M.Sl.top.divCells.innerHTML = "",
                M.Sl.bottom.divCells.innerHTML = "",
                M.jr()
            }
            ,
            this.jr = function() {
                M.divLines.innerHTML = "",
                M.Sl.top.divLines.innerHTML = "",
                M.Sl.bottom.divLines.innerHTML = "",
                M.wa.kl = {},
                M.wa.ll = {},
                M.elements.linesVertical = []
            }
            ,
            this.mv = function(e) {
                var t = x();
                for (var n in M.wa.cells)
                    t.push(M.wa.cells[n]);
                t.forEach(function(e) {
                    M.Ep(e)
                })
            }
            ,
            this.Dn = function(e, t) {
                t = t || "main";
                var n = x();
                for (var i in M.wa.cells)
                    n.push(M.wa.cells[i]);
                n.filter(function(n) {
                    return n && n.coords && n.coords.y === e && n.coords.grid === t
                }).forEach(function(e) {
                    M.Ep(e)
                })
            }
            ,
            this.nv = 0,
            this.ov = x(["html", "cssClass", "backColor", "backImage", "backRepeat", "areas", "disabled", "fontColor", "text"]),
            this.pv = M.ov.add("business"),
            this.Ye = function(e, t, n) {
                if (this.Aa) {
                    var i = M.Qm(e);
                    if (i) {
                        n = n || "main";
                        var a = this.Sl[n]
                          , r = a.rowlist
                          , o = a.divCells
                          , s = "main" === n
                          , d = n + "_" + e + "_" + t;
                        if (!this.wa.cells[d]) {
                            var c = this.Gp(e, t, n);
                            if (M.rq(e, t, n),
                            !this.drawBlankCells) {
                                var h = !1;
                                if (s && this.Zp(t) ? h = !1 : this.qv(c, M.ov) || (h = !0),
                                h)
                                    return
                            }
                            var f = l();
                            f.style.left = i.left + "px",
                            f.style.top = r[t].top + "px",
                            f.style.width = i.width + "px",
                            f.style.height = r[t].height + "px",
                            f.style.position = "absolute",
                            f.setAttribute("unselectable", "on"),
                            f.className = this.da("_cell"),
                            f.coords = {},
                            f.coords.x = e,
                            f.coords.y = t,
                            f.coords.grid = n,
                            s && M.Zp(t) && u(f, this.da("_cellparent")),
                            W.wa[n + "_" + t] && u(f, this.da("_cell_selected"));
                            var v = M.cells.findXy(e, t, n)[0];
                            if (c) {
                                c.cssClass && u(f, c.cssClass),
                                f.innerHTML = M.Ha(c.text, c.html),
                                c.backImage && (f.style.backgroundImage = 'url("' + c.backImage + '")'),
                                c.backRepeat && (f.style.backgroundRepeat = c.backRepeat),
                                c.business && M.cellsMarkBusiness && u(f, M.da("_cell_business")),
                                c.disabled && u(f, M.da("_cell_disabled")),
                                c.backColor && (f.style.backgroundColor = c.backColor),
                                c.fontColor && (f.style.color = c.fontColor);
                                var y = DayPilot.Areas.resolvePosition(c.areas, M, i.left, i.width);
                                DayPilot.Areas.attach(f, v, {
                                    "areas": y
                                })
                            }
                            if (function() {
                                if ("function" == typeof M.onBeforeCellDomAdd || "function" == typeof M.onBeforeCellDomRemove) {
                                    var e = {};
                                    if (e.control = M,
                                    e.cell = v,
                                    e.element = null,
                                    f.domArgs = e,
                                    "function" == typeof M.onBeforeCellDomAdd && M.onBeforeCellDomAdd(e),
                                    e.element) {
                                        var t = f;
                                        if (t) {
                                            e.Ie = t;
                                            var n = m(e.element)
                                              , i = g(e.element)
                                              , a = b(e.element);
                                            if (n) {
                                                if (!M.X.reactDOM)
                                                    throw new DayPilot.Exception("Can't reach ReactDOM");
                                                M.X.W(e.element, t)
                                            } else if (i) {
                                                if (!M.Z.Ke)
                                                    throw new DayPilot.Exception("Can't reach Vue");
                                                M.Z.Le = !0,
                                                M.Z._(e.element, t, e.props),
                                                M.Z.Le = !1
                                            } else if (a) {
                                                if (!M.Z.Ke)
                                                    throw new DayPilot.Exception("Can't reach Vue");
                                                M.Z.Le = !0,
                                                M.Z.Me(e.element, t),
                                                M.Z.Le = !1
                                            } else
                                                t.appendChild(e.element)
                                        }
                                    }
                                }
                            }(),
                            o.appendChild(f),
                            this.elements.cells.push(f),
                            this.wa.cells[d] = f,
                            "function" == typeof M.onAfterCellRender) {
                                var w = {};
                                w.cell = p(v, {}, ["x", "y", "displayY", "start", "end", "resource", "grid"]),
                                w.div = f,
                                M.onAfterCellRender(w)
                            }
                        }
                    }
                }
            }
            ,
            this.Dm = {},
            this.xp = function() {
                M.hs(),
                M.rv().forEach(function(e) {
                    M.Dn(e.y, e.grid)
                }),
                M.El()
            }
            ,
            this.hs = function() {
                function e(e) {
                    M.Sl[e].rowlist.forEach(function(t, n) {
                        t.isNewRow || t.resource.cellsAutoUpdated && M.itline.forEach(function(t, i) {
                            var a = e + "_" + i + "_" + n;
                            delete M.Dm[a]
                        })
                    })
                }
                e("main"),
                e("top"),
                e("bottom")
            }
            ,
            this.rv = function() {
                function e(e, n, r) {
                    for (var o = 0; o < r; o++)
                        for (var s = n + o, l = M.Sl[e].rowlist[s], d = 0; d <= a; d++) {
                            var c = i + d;
                            if (!l.hidden && !M.Dm[e + "_" + c + "_" + s]) {
                                t.push({
                                    "grid": e,
                                    "y": s
                                });
                                break
                            }
                        }
                }
                var t = x()
                  , n = this.rd()
                  , i = n.xStart
                  , a = n.xEnd - n.xStart;
                return e("main", n.yStart, n.yEnd - n.yStart),
                e("top", 0, M.Sl.top.rowlist.length),
                e("bottom", 0, M.Sl.bottom.rowlist.length),
                t
            }
            ,
            this.rq = function(e, t, n) {
                if ("function" == typeof this.onBeforeCellRender) {
                    n = n || "main";
                    var i = n + "_" + e + "_" + t;
                    if (M.beforeCellRenderCaching && M.Dm[i])
                        return;
                    M.Dm[i] = !0;
                    var a = M.Qm(e);
                    if (!a)
                        return;
                    var r = M.cells.findXy(e, t, n)[0]
                      , o = {};
                    return o.cell = r,
                    o.control = M,
                    o.getPixels = function(e) {
                        var e = new DayPilot.Date(e);
                        return M.getPixels(e).left - a.left
                    }
                    ,
                    this.onBeforeCellRender(o),
                    p(o.cell, o.cell.properties, M.pv),
                    o.cell.properties.disabled && (M.Dm.Uq = !0),
                    o
                }
            }
            ,
            this.qv = function(e, t) {
                if (t) {
                    for (var n = 0; n < t.length; n++)
                        if (!v(e[t[n]]))
                            return !0
                } else
                    for (var i in e)
                        if (!v(e[i]))
                            return !0;
                return !1
            }
            ,
            this.clearSelection = function() {
                this.Hl(),
                X.clear()
            }
            ,
            this.cleanSelection = this.clearSelection,
            this.$u = function(e, t, n) {
                e = new DayPilot.Date(e),
                t = new DayPilot.Date(t);
                var i = M.Vl(n)
                  , a = M.Mm(e)
                  , r = a.current || a.next;
                if (!r)
                    throw new DayPilot.Exception("Time range selection 'start' out of timeline");
                var o = M.Mm(new DayPilot.Date(t).addMilliseconds(-1))
                  , s = o.current || o.previous;
                if (!s)
                    throw new DayPilot.Exception("Time range selection 'end' out of timeline");
                var l = {};
                return l.start = {
                    y: i.index,
                    x: S(M.itline, r),
                    "time": e,
                    "grid": i.grid
                },
                l.end = {
                    x: S(M.itline, s),
                    "time": t
                },
                l.calendar = this,
                l
            }
            ,
            this.selectTimeRange = function(e, t, n, i) {
                var a = M.$u(e, t, n);
                M.Jn(a),
                i || setTimeout(function() {
                    M.Fn(a, "api")
                }, 0)
            }
            ,
            this.yc = function() {
                var e = i.Lq && i.Lq.source;
                e && c(e, M.da(M.ju.eventMovingSource)),
                C(i.Lq),
                i.Lq = null,
                M.Vq(),
                M.Iq.clear(),
                U.ul()
            }
            ,
            this.Hl = function() {
                var e = M.elements.range2;
                e && e.remove(),
                M.elements.range = [],
                M.elements.range2 = null,
                M.Vq(),
                M.In = null,
                M.Yu = null
            }
            ;
            var Q = {};
            Q.Nk = null,
            Q.qp = !1,
            Q.sv = function(e) {
                if (!e)
                    return null;
                var t = {};
                if ("event" === e.type)
                    t.e = e.event;
                else if ("cell" === e.type) {
                    var n = Q.tv(e.x, e.y);
                    t.cell = {},
                    t.cell.start = n.thc.start,
                    t.cell.end = n.thc.end,
                    t.cell.resource = n.row.id
                }
                return t
            }
            ,
            Q.$n = function(e) {
                if (!i.np && !Q.qp) {
                    e = e || {};
                    var t = e.dontFocus
                      , n = Q.Nk;
                    if (n) {
                        var a = n.x
                          , r = n.y;
                        if ("cell" === n.type) {
                            var o = Q.tv(a, r)
                              , s = o.row
                              , l = Q.uv(a, r);
                            l && u(l, M.da("_cell_focus")),
                            "top" === n.line && s.marginTop && u(l, M.da("_cell_focus_top")),
                            "bottom" === n.line && s.marginBottom && u(l, M.da("_cell_focus_bottom"))
                        } else {
                            var l = M.bh(n.event);
                            l && u(l, M.da("_event_focus"))
                        }
                        if (!t) {
                            var d = M.jo();
                            if (d.start.x >= a) {
                                var c = M.itline[a].start;
                                M.scrollTo(c)
                            } else if (d.end.x <= a) {
                                var h = M.itline[a].end;
                                M.scrollTo(h, !1, "right")
                            }
                            if (d.start.y >= r)
                                M.nav.scroll.scrollTop = M.rowlist[r].top - M.Sl.top.height;
                            else if (d.end.y <= r) {
                                var s = M.rowlist[r]
                                  , f = s.top + s.height;
                                M.nav.scroll.scrollTop = f - M.nav.scroll.clientHeight + M.Sl.bottom.height
                            }
                        }
                    }
                }
            }
            ,
            Q.pp = function() {
                var e = Q.Nk;
                if (e)
                    if ("cell" === e.type) {
                        var t = Q.uv(Q.Nk.x, Q.Nk.y);
                        t && (c(t, M.da("_cell_focus")),
                        c(t, M.da("_cell_focus_top")),
                        c(t, M.da("_cell_focus_bottom")))
                    } else {
                        var t = M.bh(e.event);
                        t && c(t, M.da("_event_focus"))
                    }
            }
            ,
            Q.tv = function(e, t) {
                var n = {}
                  , i = M.rowlist[t]
                  , a = M.itline[e]
                  , r = []
                  , o = i.lines.map(function(e) {
                    var t = e.filter(function(e) {
                        return d(e.part.start, e.part.end, a.start, a.end)
                    });
                    return r = r.concat(t),
                    t
                });
                return n.lines = o,
                n.thc = a,
                n.row = i,
                n.events = r,
                n
            }
            ,
            Q.un = function() {
                var e = Q.Nk;
                e && (Q.pp(),
                Q.Nk = Q.vv(e.x, e.y, e.pixels, e.line),
                Q.$n({
                    "dontFocus": !0
                }))
            }
            ,
            Q.vv = function(e, t, n, i) {
                var a = {};
                n = n || M.itline[e].left,
                i = v(i) ? "top" : i;
                var r = Q.tv(e, t)
                  , o = r.lines
                  , s = r.row
                  , l = r.events
                  , c = s.marginTop || s.marginBottom
                  , u = !1
                  , h = l.length > 0
                  , f = i
                  , p = null
                  , m = null;
                if (h)
                    if (s.marginTop && "top" === i)
                        u = !0,
                        f = "top";
                    else if (s.marginBottom && "bottom" === i)
                        u = !0,
                        f = "bottom";
                    else {
                        if ("top" === i)
                            if (s.marginBottom) {
                                var g = r.lines.find(function(e) {
                                    return e.find(function(e) {
                                        return e.part.left <= n && n <= e.part.right
                                    })
                                });
                                if (g)
                                    f = r.lines.indexOf(g);
                                else {
                                    var b = r.lines.find(function(e) {
                                        return e.find(function(e) {
                                            return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right)
                                        })
                                    });
                                    b ? (f = r.lines.indexOf(b),
                                    m = b[0]) : f = "bottom"
                                }
                            } else
                                f = s.marginTop ? "top" : 0;
                        else if ("bottom" === i)
                            if (c) {
                                var g = r.lines.slice().reverse().find(function(e) {
                                    return e.find(function(e) {
                                        return e.part.left <= n && n <= e.part.right
                                    })
                                });
                                f = r.lines.indexOf(g),
                                f === -1 && (f = Q.wv(i, s))
                            } else
                                f = o.length - 1;
                        else
                            f = i;
                        var y = o[f];
                        m || (m = y && y.find(function(e) {
                            return e.part.left <= n && n <= e.part.right
                        })),
                        m || (u = !0,
                        f = Q.wv(f, s)),
                        p = m
                    }
                else
                    u = !0,
                    f = c ? Q.wv(i, s) : 0;
                return a.x = e,
                a.y = t,
                u ? (a.type = "cell",
                a.pixels = n,
                a.line = f,
                a) : (a.type = "event",
                a.event = p,
                a.pixels = p.part.left,
                a.x = M.Km(p.part.left).x,
                a.line = f,
                a)
            }
            ,
            Q.xv = function(e) {
                var t = {}
                  , n = Q.Nk
                  , i = M.rowlist[n.y]
                  , a = i.lines[n.line]
                  , r = Q.tv(n.x, n.y)
                  , o = i.marginTop || i.marginBottom;
                if ("right" === e) {
                    if ("event" === n.type) {
                        var s = n.event.part.end
                          , l = n.event.part.right
                          , c = M.Mm(s)
                          , u = c.i
                          , h = c.current.left + c.current.width
                          , f = a.indexOf(n.event) + 1
                          , v = a[f]
                          , p = r.lines[n.line]
                          , m = p[p.indexOf(n.event) + 1];
                        if (v && v.part.left === l)
                            return t.x = u,
                            t.y = n.y,
                            t.type = "event",
                            t.line = n.line,
                            t.pixels = v.part.left,
                            t.event = v,
                            t;
                        if (m && o)
                            return t.x = u,
                            t.y = n.y,
                            t.type = "event",
                            t.line = n.line,
                            t.pixels = m.part.left,
                            t.event = m,
                            t;
                        if (h === l) {
                            var g = Q.yv(u);
                            return g === u ? n : (t.x = u + 1,
                            t.y = n.y,
                            t.type = "cell",
                            t.pixels = M.itline[t.x].left,
                            t.line = 0,
                            i.marginTop ? t.line = "top" : i.marginBottom && (t.line = "bottom"),
                            t)
                        }
                        return t.x = u,
                        t.y = n.y,
                        t.type = "cell",
                        t.line = n.line,
                        t.pixels = n.event.part.right,
                        o && (t.line = Q.wv(n.line, i)),
                        t
                    }
                    var r = Q.tv(n.x, n.y)
                      , a = r.lines[n.line]
                      , v = a && a.find(function(e) {
                        return e.part.left > n.pixels
                    });
                    if (v)
                        return t.x = n.x,
                        t.y = n.y,
                        t.type = "event",
                        t.event = v,
                        t.pixels = v.part.left,
                        t.line = n.line,
                        t;
                    var g = Q.yv(n.x);
                    return g === n.x ? n : Q.vv(g, n.y, null, n.line)
                }
                if ("left" === e) {
                    var b = n.x;
                    if ("event" === n.type) {
                        b = M.Km(n.event.part.left).x;
                        var c = M.itline[b];
                        if (n.event.part.left !== c.left) {
                            var f = a.indexOf(n.event) - 1
                              , v = a[f];
                            return v && v.part.right === n.event.part.left ? (c = M.Km(v.part.right, !0),
                            t.x = c.x,
                            t.y = n.y,
                            t.type = "event",
                            t.line = n.line,
                            t.pixels = v.part.right,
                            t.event = v,
                            t) : (c = M.Km(n.event.part.left),
                            t.x = c.x,
                            t.y = n.y,
                            t.type = "cell",
                            t.line = n.line,
                            t.pixels = n.event.part.left,
                            o && (t.line = Q.wv(n.line, i)),
                            t)
                        }
                        if (0 === b)
                            return n;
                        t = Q.vv(b - 1, n.y, c.right, n.line)
                    } else {
                        var r = Q.tv(n.x, n.y)
                          , a = r.lines[n.line]
                          , v = a && a.slice().reverse().find(function(e) {
                            return e.part.right < n.pixels
                        });
                        if (v)
                            return t.x = n.x,
                            t.y = n.y,
                            t.type = "event",
                            t.event = v,
                            t.pixels = v.part.right,
                            t.line = n.line,
                            t;
                        var g = Q.zv(n.x);
                        if (g === n.x)
                            return n;
                        var c = M.itline[b - 1]
                          , h = c.left + c.width;
                        t = Q.vv(g, n.y, h, n.line)
                    }
                    return t
                }
                if ("down" === e) {
                    var r = Q.tv(n.x, n.y)
                      , y = r.lines.find(function(e) {
                        return e.find(function(e) {
                            return e.part.left <= n.pixels && n.pixels <= e.part.right
                        })
                    });
                    if ("top" === n.line && i.marginTop) {
                        if (y) {
                            var w = r.lines.indexOf(y);
                            return t = Q.vv(n.x, n.y, n.pixels, w),
                            t.pixels = n.pixels,
                            t.x = n.x,
                            t
                        }
                        var x = r.lines.find(function(e) {
                            return e.find(function(e) {
                                return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right)
                            })
                        });
                        if (x) {
                            var k = x[0];
                            return t = Q.vv(n.x, n.y, k.part.left, r.lines.indexOf(x)),
                            t.pixels = n.pixels,
                            t.x = n.x,
                            t
                        }
                        var C = Q.Av(n.y);
                        return C === n.y ? n : (t = Q.vv(n.x, C, n.pixels, "top"),
                        t.pixels = n.pixels,
                        t.x = n.x,
                        t)
                    }
                    if ("bottom" === n.line && i.marginBottom) {
                        var C = Q.Av(n.y);
                        return C === n.y ? n : (t = Q.vv(n.x, C, n.pixels, "top"),
                        t.pixels = n.pixels,
                        t.x = n.x,
                        t)
                    }
                    if (n.line < i.lines.length - 1) {
                        var S = n.y
                          , _ = n.line + 1;
                        i.marginTop && "top" === n.line && (_ = 0);
                        var y = r.lines.slice(_).find(function(e) {
                            return e.find(function(e) {
                                return e.part.left <= n.pixels && n.pixels <= e.part.right
                            })
                        });
                        if (y)
                            _ = r.lines.indexOf(y);
                        else if (i.marginBottom)
                            _ = "bottom";
                        else if (i.marginTop) {
                            var x = r.lines.slice(n.line + 1).find(function(e) {
                                return e.find(function(e) {
                                    return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right)
                                })
                            });
                            if (x) {
                                var k = x[0];
                                return t = Q.vv(n.x, n.y, k.part.left, r.lines.indexOf(x))
                            }
                            _ = "top",
                            S += 1
                        } else if (n.event)
                            _ = i.lines.length - 1;
                        else {
                            var C = Q.Av(n.y);
                            if (C === n.y)
                                return n;
                            _ = 0,
                            S += 1
                        }
                        return t = Q.vv(n.x, S, n.pixels, _),
                        t.pixels = n.pixels,
                        t.x = n.x,
                        t
                    }
                    if (n.line === i.lines.length - 1 && i.marginBottom)
                        return t = Q.vv(n.x, n.y, n.pixels, "bottom"),
                        t.pixels = n.pixels,
                        t.x = n.x,
                        t;
                    var C = Q.Av(n.y);
                    return C === n.y ? n : (t = Q.vv(n.x, C, n.pixels, "top"),
                    t.pixels = n.pixels,
                    t.x = n.x,
                    t)
                }
                if ("up" === e) {
                    var r = Q.tv(n.x, n.y)
                      , y = r.lines.slice().reverse().find(function(e) {
                        return e.find(function(e) {
                            return e.part.left <= n.pixels && n.pixels <= e.part.right
                        })
                    });
                    if ("bottom" === n.line && i.marginBottom && y) {
                        var w = r.lines.indexOf(y);
                        t = Q.vv(n.x, n.y, n.pixels, w)
                    } else if (0 === n.line && i.marginTop)
                        t = Q.vv(n.x, n.y, n.pixels, "top");
                    else if (n.line > 0) {
                        var _ = "bottom"
                          , S = n.y
                          , y = r.lines.slice(0, n.line).reverse().find(function(e) {
                            return e.find(function(e) {
                                return e.part.left <= n.pixels && n.pixels <= e.part.right
                            })
                        });
                        y ? _ = r.lines.indexOf(y) : i.marginTop ? _ = "top" : i.marginBottom ? S -= 1 : _ = 0;
                        var C = Q.Bv(S);
                        if (C === S)
                            return n;
                        t = Q.vv(n.x, S, n.pixels, _)
                    } else {
                        var C = Q.Bv(n.y);
                        if (C === n.y)
                            return n;
                        t = Q.vv(n.x, C, n.pixels, "bottom")
                    }
                    return t.x = n.x,
                    t.pixels = n.pixels,
                    t
                }
                return null
            }
            ,
            Q.wv = function(e, t) {
                var n = "top" === e && t.marginTop || "bottom" === e && t.marginBottom;
                if ("number" == typeof e || !n) {
                    if (t.marginTop)
                        return "top";
                    if (t.marginBottom)
                        return "bottom"
                }
                return e
            }
            ,
            Q.uv = function(e, t, n) {
                n = n || "main";
                var i = n + "_" + e + "_" + t;
                return M.wa.cells[i]
            }
            ,
            Q.Cv = function() {
                return Q.Nk
            }
            ,
            Q.Sh = function() {
                var e = M.keyboardTarget;
                switch (e) {
                case "component":
                    return M.nav.top;
                case "document":
                    return document
                }
                throw new DayPilot.Exception("Invalid keyboardTarget value: " + e)
            }
            ,
            Q.Qp = null,
            Q.Dv = function(e) {
                if (16 === e.keyCode) {
                    var t = Q.Qp;
                    if (Q.Qp = null,
                    !t || !t.end)
                        return;
                    var n = t.start.x < t.end.x
                      , i = n ? t.start.x : t.end.x
                      , a = n ? t.end.x : t.start.x;
                    Q.Ev(i, t.start.y, a, {
                        "forceSnap": !0
                    })
                }
            }
            ,
            Q.Fv = function(e) {
                var t = 37
                  , n = 38
                  , a = 39
                  , r = 40
                  , o = 13
                  , s = {};
                s["_37"] = "left",
                s["_39"] = "right",
                s["_38"] = "up",
                s["_40"] = "down";
                var l = [t, n, a, r]
                  , d = l.indexOf(e.keyCode) !== -1
                  , c = [t, n, a, r, o]
                  , u = c.indexOf(e.keyCode) !== -1;
                if (!i.np) {
                    if ("function" == typeof M.onKeyDown) {
                        var h = {};
                        if (h.originalEvent = e,
                        h.preventDefault = function() {
                            h.preventDefault.value = !0
                        }
                        ,
                        M.onKeyDown(h),
                        h.preventDefault.value)
                            return
                    }
                    if (d && (e.preventDefault(),
                    !Q.Nk))
                        return void Q.Gv();
                    if (u) {
                        var f = e.shiftKey;
                        if (Q.Nk) {
                            var v = M.Zp(Q.Nk.y)
                              , p = !(v && M.treePreventParentUsage);
                            f && !Q.Nk.event && !Q.Qp && p && (Q.Qp = {
                                "calendar": M,
                                "forceSnap": !0,
                                "start": {
                                    x: Q.Nk.x,
                                    y: Q.Nk.y,
                                    time: M.itline[Q.Nk.x].start
                                }
                            })
                        }
                        if (!Q.Qp || e.keyCode !== n && e.keyCode !== r) {
                            var m = Q.xv(s["_" + e.keyCode])
                              , h = {};
                            if (h.previous = M.keyboard.getFocus(),
                            h.focus = Q.sv(m),
                            h.preventDefault = function() {
                                h.preventDefault.value = !0
                            }
                            ,
                            !d || "function" != typeof M.onKeyboardFocusChange || (M.onKeyboardFocusChange(h),
                            !h.preventDefault.value)) {
                                if (d)
                                    Q.pp(),
                                    Q.Nk = m,
                                    Q.$n();
                                else
                                    switch (e.keyCode) {
                                    case o:
                                        if (e.preventDefault(),
                                        Q.Nk && Q.Nk.event) {
                                            var g = M.bh(Q.Nk.event);
                                            Q.Hv(g, e)
                                        } else
                                            p && Q.Ev(Q.Nk.x, Q.Nk.y)
                                    }
                                d && "function" == typeof M.onKeyboardFocusChanged && (M.onKeyboardFocusChanged(h),
                                h.preventDefault.value) || (e.keyCode !== t && e.keyCode !== a || Q.Qp && (Q.Qp.end = {
                                    x: Q.Nk.x,
                                    y: Q.Nk.y,
                                    time: M.itline[Q.Nk.x].start
                                },
                                M.Jn(Q.Qp)),
                                Q.Qp)
                            }
                        }
                    }
                }
            }
            ,
            Q.oo = function() {
                var e = Q.Sh();
                e.removeEventListener("keyup", Q.Dv),
                e.removeEventListener("keydown", Q.Fv)
            }
            ,
            Q.Iv = function() {
                var e = Q.Sh();
                e !== document && M.nav.top.setAttribute("tabindex", "-1"),
                M.ka() || (e.addEventListener("keyup", Q.Dv),
                e.addEventListener("keydown", Q.Fv))
            }
            ,
            Q.Hv = function(e, t) {
                M.Xb(e, t)
            }
            ,
            Q.Ev = function(e, t, n) {
                o = o || {};
                var i = {};
                i.forceSnap = !0,
                i.start = {
                    y: t,
                    x: e,
                    time: M.itline[e].start
                },
                i.end = {
                    x: "undefined" == typeof n ? e : n
                },
                i.end.time = M.itline[i.end.x].start,
                i.calendar = M,
                M.In = i,
                M.Fn(i, "keyboard")
            }
            ,
            Q.Gv = function() {
                var e = M.jo();
                Q.pp(),
                Q.Nk = Q.vv(e.start.x, e.start.y),
                Q.$n()
            }
            ,
            Q.Jv = function() {
                var e = "Always" === M.useEventBoxes;
                e = e && !M.ka(),
                e && (Q.Iv(),
                Q.Sh() !== document && M.nav.top.focus())
            }
            ,
            Q.qn = function(e) {
                if (e.e) {
                    var t = M.events.find(e.e.id());
                    t && M.keyboard.focusEvent(t.id())
                } else if (e.cell) {
                    var n = e.cell.start
                      , i = e.cell.resource
                      , a = M.Dp(n, i);
                    a && "main" === a.grid && M.keyboard.focusCell(n, i)
                }
            }
            ,
            Q.Bv = function(e) {
                if (e <= 0)
                    return e;
                for (var t = e; t > 0; )
                    if (t -= 1,
                    !M.rowlist[t].hidden)
                        return t;
                return e
            }
            ,
            Q.Av = function(e) {
                var t = M.rowlist.length - 1;
                if (e >= t)
                    return e;
                for (var n = e; n < t; )
                    if (n += 1,
                    !M.rowlist[n].hidden)
                        return n;
                return e
            }
            ,
            Q.yv = function(e) {
                return e >= M.itline.length - 1 ? e : e + 1
            }
            ,
            Q.zv = function(e) {
                return e <= 0 ? e : e - 1
            }
            ,
            Q.ln = function() {
                Q.Nk = null
            }
            ,
            this.mn = Q,
            this.keyboard = {},
            this.keyboard.focusCell = function(e, t) {
                var n = M.Dp(e, t);
                if (!n)
                    throw new DayPilot.Exception("Can't find the specified cell");
                if ("main" !== n.grid)
                    throw new DayPilot.Exception("Can't focus a cell in a frozen row");
                Q.pp(),
                Q.Nk = Q.vv(n.x, n.y);
                for (var i = Q.tv(n.x, n.y), a = i.lines.length, r = ["top"], o = 0; o < a; o++)
                    r.push(o);
                r.push("bottom");
                for (var o = 0; o < r.length; o++) {
                    var s = Q.vv(n.x, n.y, null, r[o]);
                    if ("cell" === s.type) {
                        Q.Nk = s;
                        break
                    }
                }
                Q.$n()
            }
            ,
            this.keyboard.focusEvent = function(e) {
                e instanceof DayPilot.Event && (e = e.id());
                var t = M.events.find(e);
                if (!t)
                    throw new DayPilot.Exception("Event not found");
                t = M.events.Uo(t.data);
                var n = (M.rowlist[t.part.dayIndex],
                {});
                n.type = "event",
                n.event = t,
                n.pixels = t.part.left,
                n.x = M.Km(t.part.left).x,
                n.y = t.part.dayIndex,
                n.line = t.part.line,
                Q.pp(),
                Q.Nk = n,
                Q.$n()
            }
            ,
            this.keyboard.resetFocus = function() {
                Q.Gv()
            }
            ,
            this.keyboard.getFocus = function() {
                return !x(M.events.rp.rows).isEmpty() && (Q.qp = !0,
                M.events.En({
                    "dontResetFocus": !0
                })),
                Q.qp = !1,
                Q.sv(Q.Nk)
            }
            ,
            this.keyboard.clearFocus = function() {
                Q.pp(),
                Q.ln()
            }
            ,
            this.keyboard.move = function(e, t) {
                t = t || {};
                var n = t.dontFireEvent;
                Q.pp();
                var i = Q.xv(e)
                  , a = {};
                return a.previous = M.keyboard.getFocus(),
                a.focus = Q.sv(i),
                a.preventDefault = function() {
                    a.preventDefault.value = !0
                }
                ,
                "function" == typeof M.onKeyboardFocusChange && !n && (M.onKeyboardFocusChange(a),
                a.preventDefault.value) ? void Q.$n() : (Q.Nk = i,
                Q.$n(),
                void ("function" != typeof M.onKeyboardFocusChanged || n || M.onKeyboardFocusChanged(a)))
            }
            ,
            this.Ja = {};
            var $ = this.Ja;
            $.dh = function() {
                delete M.wa.eventHeight,
                delete M.wa.headerHeight
            }
            ,
            $.Ia = function() {
                return "Disabled" !== M.xssProtection
            }
            ,
            $.Tc = function() {
                return DayPilot.Locale.find(M.locale)
            }
            ,
            $.Sc = function() {
                return "Auto" !== M.timeFormat ? M.timeFormat : $.Tc().timeFormat
            }
            ,
            $.Rd = function() {
                if ("Auto" === M.weekStarts) {
                    var e = $.Tc();
                    return e ? e.weekStarts : 0
                }
                return M.weekStarts || 0
            }
            ,
            $.kr = function() {
                var e = navigator.userAgent.toLowerCase();
                return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1
            }
            ,
            $.Ts = function() {
                var e = /MSIE 6/i.test(navigator.userAgent);
                return "Auto" === M.layout ? e ? "TableBased" : "DivBased" : M.layout
            }
            ,
            $.ic = function() {
                var e;
                if ("Immediate" === M.notifyCommit)
                    e = "Notify";
                else {
                    if ("Queue" !== M.notifyCommit)
                        throw new DayPilot.Exception("Invalid notifyCommit value: " + M.notifyCommit);
                    e = "Queue"
                }
                return e
            }
            ,
            $.Gr = function() {
                return "Days" !== M.viewType
            }
            ,
            $.Zg = function(e) {
                return "Always" === M.useEventBoxes || "Never" !== M.useEventBoxes && e < 60 * M.Np() * 1e3
            }
            ,
            $.sq = function() {
                return "number" == typeof M.durationBarHeight ? M.durationBarHeight : 4
            }
            ,
            $.yo = function() {
                if (M.wa.eventHeight)
                    return M.wa.eventHeight;
                var e = M.hh("_event_height").height;
                return e || (e = M.eventHeight),
                M.wa.eventHeight = e,
                e
            }
            ,
            $.He = function() {
                if (M.wa.headerHeight)
                    return M.wa.headerHeight;
                var e = M.hh("_header_height").height;
                return e || (e = M.headerHeight),
                M.wa.headerHeight = e,
                e
            }
            ,
            $.it = function() {
                if (M.wa.scrollLineHeight)
                    return M.wa.scrollLineHeight;
                var e = l();
                e.style.fontSize = "initial",
                e.style.display = "none",
                s().appendChild(e);
                var t = parseInt(window.getComputedStyle(e).fontSize) || 16;
                return s().removeChild(e),
                M.wa.scrollLineHeight = t,
                t
            }
            ,
            $.km = function() {
                return M.rowHeaderScrolling ? M.rowHeaderSplitterWidth : 1
            }
            ,
            $.Sm = function() {
                return "string" == typeof M.multiSelectRectangle ? M.multiSelectRectangle : "Disabled" === M.rectangleSelectHandling ? "Disabled" : M.rectangleSelectMode
            }
            ,
            $.Kv = function() {
                return "string" == typeof M.multiSelectRectangle ? "Free" === M.multiSelectRectangle || "Row" === M.multiSelectRectangle ? "EventSelect" : "Disabled" : M.rectangleSelectHandling
            }
            ,
            $.pq = function() {
                return x(M.rowHeaderColumns).filter(function(e) {
                    return !e.hidden
                })
            }
            ,
            this.Lv = {};
            var ee = this.Lv;
            ee.tq = function(e) {
                var t = {};
                t.top = 0,
                t.height = 0;
                for (var n = $.He(), i = 0; i <= e; i++) {
                    var a = M.timeHeaders[i];
                    t.top += t.height,
                    t.height = a.height || n
                }
                return t
            }
            ,
            this.Gp = function(e, t, n) {
                n = n || "main";
                var i = n + "_" + e + "_" + t
                  , a = M.Sl[n]
                  , r = a.rowlist;
                if (M.cellConfig) {
                    i = e + "_" + t;
                    for (var o = 0, s = 0; s < M.resources.length; s++)
                        if (!M.resources[s].hidden) {
                            if (o === t) {
                                t = s;
                                break
                            }
                            o += 1
                        }
                }
                if (this.cellProperties || (this.cellProperties = {}),
                this.cellProperties[i])
                    return this.cellProperties[i];
                if (this.al && (this.cellProperties[i] = M.Mv(e, t)),
                !this.cellProperties[i]) {
                    var l = r[t]
                      , d = l.id
                      , c = l.start.getTime() - M.Rb().getTime()
                      , u = M.Qm(e)
                      , h = u.start.addTime(c)
                      , f = u.end.addTime(c)
                      , v = {};
                    v.start = h,
                    v.end = f,
                    v.resource = d;
                    var p = {};
                    p.business = M.isBusiness(v),
                    l.cellsDisabled && (M.Dm.Uq = !0,
                    p.disabled = !0),
                    this.cellProperties[i] = p
                }
                return this.cellProperties[i]
            }
            ,
            this.Nv = function(e, t, n) {
                var i = t + "_" + n;
                return this.cellProperties[i] = {},
                p(e, this.cellProperties[i], M.pv),
                this.cellProperties[i]
            }
            ,
            this.Mv = function(e, t) {
                if (!this.cellConfig)
                    return null;
                var n = this.cellConfig
                  , i = this.cellProperties[e + "_" + t];
                !i && n.vertical && (i = this.cellProperties[e + "_0"]),
                !i && n.horizontal && (i = this.cellProperties["0_" + t]),
                !i && n["default"] && (i = n["default"]);
                var a = {};
                return p(i, a, M.pv),
                a
            }
            ,
            this.pb = function() {
                if (!this.al && !this.bl && (this.bl = !0,
                this.cellConfig)) {
                    var e = this.cellConfig;
                    if (e.vertical)
                        for (var t = 0; t < e.x; t++) {
                            var n = this.cellProperties[t + "_0"];
                            if (n)
                                for (var i = 1; i < e.y; i++)
                                    this.Nv(n, t, i)
                        }
                    if (e.horizontal)
                        for (var i = 0; i < e.y; i++) {
                            var n = this.cellProperties["0_" + i];
                            if (n)
                                for (var t = 1; t < e.x; t++)
                                    this.Nv(n, t, i)
                        }
                    if (e["default"])
                        for (var n = e["default"], i = 0; i < e.y; i++)
                            for (var t = 0; t < e.x; t++)
                                this.cellProperties[t + "_" + i] || this.Nv(n, t, i)
                }
            }
            ,
            this.isBusiness = function(e, t) {
                var n = e.start
                  , i = e.end
                  , a = (i.getTime() - n.getTime()) / 6e4;
                if (a <= 1440 && !(M.businessWeekends || t || 0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek()))
                    return !1;
                if (a < 720) {
                    var r = n.getHours();
                    r += n.getMinutes() / 60,
                    r += n.getSeconds() / 3600,
                    r += n.getMilliseconds() / 36e5;
                    var o = this.businessBeginsHour
                      , s = this.businessEndsHour;
                    if (0 === s && (s = 24),
                    o === s)
                        return !1;
                    if (!(o < s))
                        return r < s || r >= o;
                    if (r < o)
                        return !1;
                    if (s >= 24)
                        return !0;
                    if (r >= s)
                        return !1
                }
                return !0
            }
            ,
            this._e = function() {
                switch (M.Ca) {
                case "aspnet":
                    if (!this.Ra())
                        throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                    break;
                case "netmvc":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                    break;
                case "javaxx":
                    if (!this.backendUrl)
                        throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")
                }
            }
            ,
            this.E = function() {
                "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible")
            }
            ,
            this.qg = function() {
                var e = M.nav.top;
                return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0)
            }
            ,
            this.rg = function() {
                var e = M.qg;
                return e() ? void M.sg() : void (M.Sa || (M.Sa = setInterval(function() {
                    e() && (clearInterval(M.Sa),
                    M.show(),
                    M.ar(),
                    M.sg())
                }, 100)))
            }
            ,
            this.Ov = function(e) {
                "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"),
                this.height = e - (this.lm() + 2),
                this.yb()
            }
            ,
            this.setHeight = this.Ov,
            this.Vl = function(e) {
                var t = M.Hr(e);
                return 0 === t.length ? null : t[0]
            }
            ,
            this.wh = function() {
                if (this.id && this.id.tagName)
                    this.nav.top = this.id;
                else {
                    if ("string" != typeof this.id)
                        throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");
                    if (this.nav.top = document.getElementById(this.id),
                    !this.nav.top)
                        throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '" + t + "'.")
                }
            }
            ,
            this.Pv = function() {
                this.rowHeaderColumnsMode = "Legacy",
                this.eh(),
                this.rl(),
                this.sl(),
                this.on(),
                this.Eb(),
                this.wg(),
                this.bb(),
                i.yh(this),
                this.lb(this.afterRenderData, !1),
                this.Et(),
                this.Gb(),
                this.Ma("Init")
            }
            ,
            this.init = function() {
                if (this.Aa)
                    throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                if (this.wh(),
                this.nav.top.dp) {
                    if (this.nav.top.dp === M)
                        return M;
                    if (this.Ra())
                        return M;
                    throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")
                }
                return this.zt(),
                this.Qv(),
                this.rg(),
                this.Rv(),
                this
            }
            ,
            this.Rv = function() {
                M.keyboardEnabled && Q.Jv()
            }
            ,
            this.Sv = function() {
                M.multiselect.Dl(M.selectedEvents)
            }
            ,
            this.Qv = function() {
                if (this.jn(),
                this.vh())
                    return this.Pv(),
                    this.Aa = !0,
                    void this.Ga();
                this.wg(),
                this.bb(),
                i.yh(this),
                this.Et(),
                this.Sv(),
                M.zoomLevels && M.zoomLevels[M.zoom.active] && M.zoom.setActive(M.zoom.active),
                !M.Aa && R.Cm() && (M.Pl || (M.Pl = {
                    "date": M.startDate
                })),
                this.Jd();
                var angular = M.ch.scope || M.Ol.enabled;
                M.scrollToDate ? M.scrollTo(M.scrollToDate) : M.scrollX || M.scrollY ? M.setScroll(M.scrollX, M.scrollY) : angular || M.Kl(),
                M.scrollToResourceId && (M.scrollToResource(M.scrollToResourceId),
                M.scrollToResourceId = null);
                var e = function() {
                    M.scrollY && M.setScroll(M.scrollX, M.scrollY)
                };
                window.setTimeout(e, 200),
                this.messageHTML && window.setTimeout(function() {
                    M.message(M.messageHTML)
                }, 0),
                this.Gb(),
                this.Ga(),
                this.lb(this.afterRenderData, !1),
                M.initEventEnabled && setTimeout(function() {
                    M.Ma("Init")
                }),
                this.zh(),
                this.Aa = !0,
                this.Tv = !0;
                var t = M.Pl;
                t ? M.scrollTo(t.date, t.animated, t.position) : M.Kl(),
                M.Pl = null
            }
            ,
            this.At = function() {
                M.ka() && delete M.infinite
            }
            ,
            this.Ah = null,
            this.gh = function(e) {
                if (e) {
                    var t = {
                        "resources": {
                            "preInit": function() {
                                var e = this.data;
                                e && (M.resources = e)
                            }
                        },
                        "events": {
                            "preInit": function() {
                                var e = this.data;
                                e && (_(e.list) ? M.events.list = e.list : M.events.list = e)
                            },
                            "postInit": function() {}
                        },
                        "links": {
                            "preInit": function() {
                                var e = this.data;
                                e && (_(e.list) ? M.links.list = e.list : M.links.list = e)
                            },
                            "postInit": function() {}
                        },
                        "scrollTo": {
                            "preInit": function() {},
                            "postInit": function() {
                                this.data && M.Nl(this.data, e.scrollToAnimated, e.scrollToPosition)
                            }
                        },
                        "scrollX": {
                            "postInit": function() {
                                this.data && M.Tl(this.data)
                            }
                        },
                        "scrollY": {
                            "postInit": function() {
                                this.data && M.hm(this.data)
                            }
                        },
                        "zoom": {
                            "preInit": function() {
                                var e = this.data;
                                if ("string" == typeof e) {
                                    var t = e;
                                    e = M.zoom.od(t)
                                }
                                var n = e !== M.zoom.active
                                  , i = M.zoom.rk();
                                M.zoom.qd(e, i);
                                n ? this.date = i : this.date = null
                            },
                            "postInit": function() {
                                this.date && M.Nl(this.date, !1, M.zoomPosition)
                            }
                        }
                    };
                    M.Ah = t,
                    M.Ol.scrollToRequested && (t.scrollTo.data = M.Ol.scrollToRequested,
                    M.Ol.scrollToRequested = null),
                    M.Ol.scrollXRequested && (t.scrollX.data = M.Ol.scrollXRequested,
                    M.Ol.scrollXRequested = null),
                    M.Ol.scrollYRequested && (t.scrollY.data = M.Ol.scrollYRequested,
                    M.Ol.scrollYRequested = null);
                    for (var n in e)
                        t[n] || (M[n] = e[n]);
                    for (var n in e)
                        if (t[n]) {
                            var i = t[n];
                            i.data = e[n],
                            i.preInit && i.preInit()
                        }
                }
            }
            ,
            this.zh = function() {
                var e = M.Ah;
                for (var t in e) {
                    var n = e[t];
                    n.postInit && n.postInit()
                }
                M.Ah = {}
            }
            ,
            this.diag = function() {
                var e = {};
                return e.dataEvents = M.events.list && M.events.list.length,
                e.dataRows = M.rowlist && M.rowlist.length,
                e.dataTimeline = M.itline && M.itline.length,
                e.dataCells = e.dataTimeline * e.dataRows,
                e.renderedEvents = M.elements.events.length,
                e.renderedCells = M.elements.cells.length,
                e.renderedRows = M.divResScroll.firstChild.childNodes.length - 1,
                e.domEvents = M.divEvents.getElementsByTagName("*").length,
                e.domCells = M.divCells.getElementsByTagName("*").length,
                e.domRows = M.divResScroll.getElementsByTagName("*").length,
                e
            }
            ,
            this.temp = {},
            this.temp.allowDuplicateEventIds = !1,
            this.internal = {},
            this.internal.initialized = function() {
                return M.Aa
            }
            ,
            this.internal.dragInProgress = this.Dg,
            this.internal.startMoving = this.je,
            this.internal.invokeEvent = this.hc,
            this.internal.eventMenuClick = this.Dc,
            this.internal.timeRangeMenuClick = this.Ec,
            this.internal.resourceHeaderMenuClick = this.Mn,
            this.internal.linkMenuClick = this.Ln,
            this.internal.bubbleCallBack = this.Bc,
            this.internal.findEventDiv = this.bh,
            this.internal.rowStartMoving = this.Wn.je,
            this.internal.getNodeChildren = this.jb,
            this.internal.callback = function() {
                M.Ma.apply(M, arguments)
            }
            ,
            this.internal.createRowObject = this.On,
            this.internal.restools = this.Cs,
            this.internal.gantt = null,
            this.internal.f = this.events.Uo,
            this.internal.adjustEndIn = M.nj,
            this.internal.adjustEndNormalize = M.Nj,
            this.internal.xssTextHtml = M.Ha,
            this.internal.touch = M.Ve,
            this.internal.cssNames = M.ju,
            this.internal.enableCellStacking = function(e) {
                M.cl = !0,
                M.dl = e
            }
            ,
            this.internal.deleteDragSource = function() {
                M.zc()
            }
            ,
            this.internal.skipUpdate = M.Ol.skipUpdate,
            this.internal.skipped = M.Ol.skipped,
            this.internal.loadOptions = M.gh,
            this.internal.postInit = M.zh,
            this.internal.enableAngular2 = function() {
                M.Ol.enabled = !0
            }
            ,
            this.internal.eventsFromAttr = function() {
                M.Ol.vp = !0
            }
            ,
            this.internal.resourcesFromAttr = function() {
                M.Ol.Cp = !0
            }
            ,
            this.internal.evImmediateRefresh = function() {
                M.events.En()
            }
            ,
            this.internal.enableReact = function(e, t) {
                M.X.react = e,
                M.X.reactDOM = t
            }
            ,
            this.internal.reactRefs = function() {
                return p(M.X, {}, ["react", "reactDOM"])
            }
            ,
            this.internal.enableVue = function(e) {
                M.Z.Ke = e
            }
            ,
            this.internal.vueRef = function() {
                return M.Z.Ke
            }
            ,
            this.internal.vueRendering = function() {
                return M.Z.Le
            }
            ,
            this.Init = this.init,
            this.gh(o)
        }
        ,
        o = "2024.4.6243" === (new DayPilot.Scheduler).v,
        DayPilot.Row = function(e, t) {
            if (!e)
                throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row");
            if (!t)
                throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");
            this.Uv = {};
            var n = this.Uv;
            n.id = e.id,
            n.name = e.name,
            n.data = e.resource,
            n.tags = e.tags;
            var i = this;
            i.isRow = !0,
            i.menuType = "resource",
            i.start = e.start,
            i.name = e.name,
            i.value = e.id,
            i.id = e.id,
            i.tags = e.tags,
            i.bubbleHtml = e.bubbleHtml,
            i.index = e.index,
            i.displayY = e.displayY,
            i.level = e.level,
            i.calendar = t,
            i.data = e.resource,
            i.grid = e.grid,
            i.Eq = e,
            i.$ = {},
            i.$.row = e,
            i.toJSON = function(e) {
                var t = {};
                return t.start = this.start,
                t.name = this.name,
                t.value = this.value,
                t.id = this.id,
                t.index = this.index,
                t
            }
            ,
            i.parent = function() {
                return i.Eq.Bs ? t.On(i.Eq.Bs) : null
            }
            ,
            i.children = function() {
                var e = x(i.$.row.children).map(function(e) {
                    return t.On(t.rowlist[e])
                });
                return e.add = function(e) {
                    var t = i.$.row.resource;
                    t.children || (t.children = []),
                    t.children.push(e)
                }
                ,
                e
            }
            ,
            i.splitParent = function() {
                return i.Eq.split.parent ? t.On(i.Eq.split.parent) : null
            }
            ,
            i.splitChildren = function() {
                return (i.Eq.split.list || []).map(function(e) {
                    return t.On(e)
                })
            }
            ,
            i.loaded = function() {
                return i.Eq.loaded
            }
            ,
            Object.defineProperty(i, "hidden", {
                get: function() {
                    return i.Eq.hidden
                }
            }),
            Object.defineProperty(i, "hiddenUsingFilter", {
                get: function() {
                    return i.Eq.Ns
                },
                set: function(e) {
                    i.Eq.Ns = e,
                    e || (i.Eq.hidden = !i.Eq.Os())
                }
            }),
            i.cells = {},
            i.cells.all = function() {
                for (var e = [], n = t.itline.length, a = i.index, r = 0; r < n; r++) {
                    var o = t.cells.findXy(r, a, i.grid);
                    e.push(o[0])
                }
                return t.Hp(e)
            }
            ,
            i.cells.forRange = function(e, n) {
                var a = i
                  , r = a.start.getTime() - t.Rb().getTime();
                e = new DayPilot.Date(e),
                n = new DayPilot.Date(n);
                var o = t.Rb().addTime(r)
                  , s = t.ce().addTime(r);
                e < o && (e = o),
                n > s && (n = s);
                var l = t.cells.find(e, i)[0]
                  , d = t.cells.find(n.addTime(-1), i)[0];
                if (!l)
                    return null;
                if (!d)
                    return null;
                if (l.y !== d.y)
                    return null;
                for (var c = l.y, u = [], h = l.x; h <= d.x; h++)
                    u.push(t.cells.me(h, c, l.grid));
                return t.Hp(u)
            }
            ,
            i.cells.totalDuration = function(e) {
                var t = i.cells.all();
                return "function" == typeof e && (t = t.filter(e)),
                new DayPilot.Duration(t.map(function(e) {
                    return e.end.getTime() - e.start.getTime()
                }).reduce(function(e, t) {
                    return e + t
                }, 0))
            }
            ,
            i.events = {},
            i.events.all = function() {
                for (var e = x(), t = 0; t < i.Eq.events.length; t++)
                    e.push(i.Eq.events[t]);
                return e
            }
            ,
            i.events.isEmpty = function() {
                return 0 === i.Eq.events.length
            }
            ,
            i.events.forRange = function(e, t) {
                return i.Eq.events.forRange(e, t)
            }
            ,
            i.events.totalDuration = function() {
                var e = 0;
                return i.events.all().forEach(function(t) {
                    e += t.part.end.getTime() - t.part.start.getTime()
                }),
                new DayPilot.Duration(e)
            }
            ,
            i.groups = {},
            i.groups.collapseAll = function() {
                for (var e = 0; e < i.Eq.blocks.length; e++) {
                    new a(i.Eq.blocks[e]).Vv()
                }
                t.Ym(),
                t.Zm([i.Eq]),
                t.yb()
            }
            ,
            i.groups.expandAll = function() {
                for (var e = 0; e < i.Eq.blocks.length; e++) {
                    new a(i.Eq.blocks[e]).Wv()
                }
                t.Ym(),
                t.Zm([i.Eq]),
                t.yb(),
                t.Cb()
            }
            ,
            i.groups.expanded = function() {
                for (var e = [], n = 0; n < i.Eq.blocks.length; n++) {
                    var r = i.Eq.blocks[n];
                    r.expanded && r.lines.length > t.groupConcurrentEventsLimit && e.push(new a(r))
                }
                return x(e)
            }
            ,
            i.groups.collapsed = function() {
                for (var e = [], t = 0; t < i.Eq.blocks.length; t++) {
                    var n = i.Eq.blocks[t];
                    n.expanded || e.push(new a(n))
                }
                return x(e)
            }
            ,
            i.groups.all = function() {
                for (var e = [], t = 0; t < i.Eq.blocks.length; t++) {
                    var n = i.Eq.blocks[t];
                    e.push(new a(n))
                }
                return x(e)
            }
            ,
            i.events.collapseGroups = i.groups.collapseAll,
            i.events.expandGroups = i.groups.expandAll,
            i.column = function(e) {
                return new r(i,e)
            }
            ,
            i.toggle = function() {
                t.bq(i.index)
            }
            ,
            i.collapse = function() {
                i.$.row.expanded && i.toggle()
            }
            ,
            i.expand = function() {
                i.$.row.expanded || i.toggle()
            }
            ,
            i.remove = function() {
                t.rows.remove(i)
            }
            ,
            i.edit = function() {
                t.rows.edit(i)
            }
            ,
            i.addClass = function(e) {
                var n = i
                  , a = t.divHeader
                  , n = a.rows[n.index];
                if (n) {
                    u(x(n.cells).map(function(e) {
                        return e.cellDiv
                    }), e)
                }
                i.$.row.cssClass = DayPilot.Util.addClassToString(i.$.row.cssClass, e),
                i.data.cssClass = e
            }
            ,
            i.removeClass = function(e) {
                var n = i
                  , a = t.divHeader
                  , n = a.rows[n.index];
                if (n) {
                    c(x(n.cells).map(function(e) {
                        return e.cellDiv
                    }), e)
                }
                i.$.row.cssClass = DayPilot.Util.removeClassFromString(i.$.row.cssClass, e),
                i.data.cssClass = DayPilot.Util.removeClassFromString(i.data.cssClass, e)
            }
            ;
            var a = function(e) {
                var n = function(e) {
                    for (var n = 0; n < t.elements.events.length; n++) {
                        var i = t.elements.events[n];
                        if (i.event === e)
                            return i
                    }
                    return null
                };
                this.Wv = function() {
                    e.expanded = !0;
                    var i = t.Or;
                    x(e.events).forEach(function(e) {
                        i.push(e.id())
                    });
                    var a = n(e);
                    if (a) {
                        t.Ot(a);
                        var r = S(t.elements.events, a);
                        r !== -1 && t.elements.events.splice(r, 1)
                    }
                }
                ,
                this.expand = function() {
                    this.Wv(),
                    t.Ym(),
                    t.Zm([e.row]),
                    t.yb(),
                    t.Cb()
                }
                ,
                this.Vv = function() {
                    if (e.lines.length > t.groupConcurrentEventsLimit) {
                        e.expanded = !1;
                        var n = x(e.events).map(function(e) {
                            return e.id()
                        });
                        t.Or = t.Or.filter(function(e) {
                            return !k(n, e)
                        })
                    }
                }
                ,
                this.collapse = function() {
                    this.Vv(),
                    t.Ym(),
                    t.Zm([e.row]),
                    t.yb()
                }
            }
              , r = function(e, t) {
                this.html = function(e) {
                    var n = i.calendar.divHeader
                      , i = n.rows[i.index];
                    if (!i)
                        throw new DayPilot.Exception("Row not rendered");
                    var a = i.cells[t]
                      , r = a.textDiv;
                    return "undefined" == typeof e ? r.innerHTML : void (r.innerHTML = e)
                }
            }
        }
        ,
        i.Om = null,
        i.Lp = null,
        i.Vf = null,
        i.Pp = null,
        i.fq = null,
        i.Nm = !1,
        i.xg = !1,
        i.xu = null,
        i.Xv = null,
        i.Yv = function(e, t, n, a) {
            DayPilot.us(e);
            var r = i.Qq = {};
            return r.element = e,
            r.duration = t,
            r.text = a,
            r.id = n,
            r.data = {
                "id": n,
                "text": a,
                "duration": t,
                "externalHtml": a
            },
            !1
        }
        ,
        DayPilot.Scheduler.def = {},
        DayPilot.Scheduler.startDragging = function(e) {
            var e = e || {}
              , t = e.element
              , n = e.keepElement ? null : t;
            DayPilot.us(t);
            var a = i.Qq = {};
            return a.element = n,
            a.id = e.id,
            a.duration = e.duration || 60,
            a.text = e.text || "",
            a.data = e,
            a.Xf = e,
            a.Yf = e.data,
            !1
        }
        ,
        DayPilot.Scheduler.makeDraggable = function(e) {
            function t() {
                var t = i.Qq = {};
                t.element = a,
                t.id = o,
                t.duration = l,
                t.text = s,
                t.data = e,
                t.Xf = e,
                t.Yf = e.data
            }
            e = e || {};
            var n = e.element
              , a = e.keepElement ? null : e.remove || n
              , r = e.data || {}
              , o = "undefined" != typeof e.id ? e.id : r.id
              , s = "string" == typeof e.text ? e.text : r.text || ""
              , l = e.duration || r.duration;
            if (l instanceof DayPilot.Duration && (l = l.totalSeconds()),
            l || (l = r.start && r.end ? new DayPilot.Duration(r.start,r.end).totalSeconds() : 60),
            !n)
                throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");
            DayPilot.us(n),
            DayPilot.re(n, "mousedown", function(e) {
                if (y(e).left) {
                    t();
                    var n = e.target || e.srcElement;
                    if (n.tagName) {
                        var i = n.tagName.toLowerCase();
                        if ("textarea" === i || "select" === i || "input" === i)
                            return !1
                    }
                    return e.preventDefault(),
                    !1
                }
            }),
            DayPilot.reNonPassive(n, "touchstart", function(e) {
                window.setTimeout(function() {
                    t(),
                    i.Ag(e),
                    e.preventDefault()
                }, 0),
                e.preventDefault()
            })
        }
        ,
        DayPilot.Scheduler.stopDragging = function() {
            if (i.Qq && i.Qq.Ku) {
                var e = i.Qq.Ku
                  , t = e.event.calendar;
                t && c(e, t.da(n.ju.eventMovingSource))
            }
            if (i.Zv(),
            i.Pp && (C(i.eq),
            i.Pp = null,
            i.fq = null,
            i.eq = null),
            i.Om) {
                var n = i.Lp.calendar;
                n && (n.yc(),
                n.gb = null,
                c(i.Om, n.da(n.ju.eventMovingSource))),
                C(i.Lq),
                i.Om = null,
                i.Lp = null,
                i.Lq = null
            }
            if (i.Qp) {
                var n = i.Qp.calendar;
                n.clearSelection(),
                i.Qp = null
            }
            s().style.cursor = "",
            x(i.Sf).forEach(function(e) {
                e.fb(),
                e.Vq(),
                e.Wn.ns(),
                e.Iq.clear()
            })
        }
        ,
        DayPilot.Scheduler.registerDropTarget = function(e) {
            e = e || {};
            var t = e.element
              , n = e.onDragOver
              , a = "function" == typeof n
              , r = e.onDrop
              , o = "function" == typeof r
              , s = e.onDragLeave
              , l = "function" == typeof s;
            if (!t)
                throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");
            var d = function(e) {
                if (i.Qq) {
                    var t = i.Qq.event;
                    if (t && a) {
                        var r = {};
                        r.e = t,
                        n(r)
                    }
                }
            }
              , c = function(e) {
                if (i.Qq) {
                    var t = i.Qq.event;
                    if (t && l) {
                        var n = {};
                        n.e = t,
                        s(n)
                    }
                }
            }
              , u = function(e) {
                if (i.Qq) {
                    var t = i.Qq.event;
                    if (t && o) {
                        var n = {};
                        n.e = t,
                        r(n)
                    }
                }
            };
            t.addEventListener("mousemove", d),
            t.addEventListener("mouseleave", c),
            t.addEventListener("mouseup", u),
            t.$v = function() {
                t.removeEventListener("mousemove", d),
                t.removeEventListener("mouseleave", c),
                t.removeEventListener("mouseup", u),
                t.$v = null
            }
        }
        ,
        DayPilot.Scheduler.unregisterDropTarget = function(e) {
            e = e || {};
            var t = e.element;
            t && t.$v && t.$v()
        }
        ,
        i.Zv = function() {
            i.Ju && (s().removeChild(i.Ju),
            i.Ju = null),
            i.Qq = null
        }
        ,
        i._v = function() {
            var e = i.Qq;
            if (e) {
                var t = e && e.Xf
                  , n = t && t.onDrop;
                if ("function" == typeof n) {
                    var a = {};
                    a.options = t,
                    n(a)
                }
            }
        }
        ,
        i.yh = function(e) {
            i.Sf || (i.Sf = x(),
            i.Sf.out = function() {
                i.Sf.forEach(function(e) {
                    e.db()
                })
            }
            );
            for (var t = 0; t < i.Sf.length; t++)
                if (i.Sf[t] === e)
                    return;
            i.Sf.push(e)
        }
        ,
        i.ab = function(e) {
            var t = i.Sf;
            if (t) {
                var n = S(t, e);
                n !== -1 && t.splice(n, 1),
                0 === t.length && (t = null)
            }
            t || (DayPilot.ue(document, "mousemove", i.yg),
            DayPilot.ue(document, "mouseup", i.zg),
            DayPilot.ue(document, "mousedown", i.Ct),
            DayPilot.ue(document, "touchmove", i.Ag),
            DayPilot.ue(document, "touchend", i.Bg),
            DayPilot.ue(window, "keyup", i.Dt),
            i.xg = !1)
        }
        ,
        i.Ag = function(e) {
            if (i.Pp) {
                var a = i.Pp.event.calendar;
                a.coords = a.Ve.Ng(e),
                a.Ve.Rg()
            }
            if (i.Om && !i.Qq) {
                var a = i.Lp.calendar;
                a.coords = a.Ve.Ng(e),
                a.Ve.Sg(),
                function() {
                    if (a.dragOutAllowed) {
                        var n = t(e);
                        if (!n || n !== a) {
                            var r = i.Lp;
                            i.Qq = {};
                            var o = i.Qq;
                            o.id = r.id(),
                            o.text = r.text(),
                            o.Ku = i.Om,
                            o.element = null,
                            o.duration = (r.rawend().getTime() - r.start().getTime()) / 1e3,
                            o.text = r.text(),
                            o.id = r.id(),
                            o.event = p(r, new DayPilot.Event),
                            a.Vq(),
                            C(i.Lq),
                            i.Lq.calendar = null,
                            i.Lq = null,
                            i.Op = null,
                            i.Sf.out()
                        }
                    }
                }()
            }
            if (i.Qq) {
                var r = n(e)
                  , a = t(e);
                if (a) {
                    if (i.Ju && s().removeChild(i.Ju),
                    i.Ju = null,
                    a.coords = a.Ve.Ng(e),
                    !i.Lq && a.rowlist.length > 0) {
                        if (!i.Om) {
                            i.Om = {};
                            var o = i.Qq.event;
                            if (!o) {
                                var e = a.Lu();
                                o = new DayPilot.Event(e),
                                o.calendar = a,
                                o.part.duration = 1e3 * i.Qq.duration
                            }
                            o.part.external = !0;
                            var l = i.Qq.Ku;
                            l && l.event && l.event.calendar === a && (o.part.external = !1),
                            i.Lp = o
                        }
                        i.Lq = a.Ib(i.Lp)
                    }
                    i.Om && a.Ve.Sg()
                } else {
                    C(i.Lq);
                    var d = i.Om;
                    i.Om = null,
                    i.Lp = null,
                    i.Lq = null,
                    i.Ju || (i.Ju = i.aw(i.Qq.Xf),
                    i.Ju.source = d);
                    var c = i.Ju;
                    c.style.left = r.x + "px",
                    c.style.top = r.y + "px",
                    i.Sf.out()
                }
            }
        }
        ,
        i.Bg = function(e) {
            i.gt = !1,
            i.zg(e)
        }
        ,
        i.yg = function(e) {
            if ("undefined" != typeof i && !w.touch.active && !w.touch.start && !(e.insideMainD || e.srcElement && e.srcElement.inside)) {
                var t = DayPilot.mc(e);
                if (i.Qq) {
                    if (!i.Qq.bw) {
                        var n = i.Qq.Xf || {}
                          , a = n.onDragStart
                          , r = !1;
                        if ("function" == typeof a) {
                            var o = {};
                            o.options = n,
                            o.preventDefault = function() {
                                o.preventDefault.value = !0
                            }
                            ,
                            a(o),
                            r = o.preventDefault.value
                        }
                        if (i.Qq.bw = !0,
                        r)
                            return i._v(),
                            void (i.Qq = null)
                    }
                    s().style.cursor = "move",
                    i.Ju || (i.Ju = i.aw(i.Qq.Xf));
                    var l = i.Ju;
                    if (l.style.left = t.x + "px",
                    l.style.top = t.y + "px",
                    i.Om = null,
                    i.Lp = null,
                    i.Lq) {
                        var d = i.Lq.calendar;
                        d && d.Vq(),
                        i.Lq.calendar = null,
                        C(i.Lq),
                        i.Lq = null
                    }
                } else if (i.Om && i.Lp && i.Lp.calendar.dragOutAllowed && !i.Qq) {
                    var d = i.Lp.calendar
                      , e = i.Lp;
                    s().style.cursor = "move",
                    i.Ju || (i.Ju = i.aw(e.data),
                    i.Ju.source = i.Om);
                    var l = i.Ju;
                    l.style.left = t.x + "px",
                    l.style.top = t.y + "px",
                    i.Qq = {};
                    var c = i.Qq;
                    c.Ku = i.Om,
                    c.element = null,
                    c.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3,
                    c.text = e.text(),
                    c.id = e.value(),
                    c.event = p(e, new DayPilot.Event),
                    d.Vq(),
                    C(i.Lq),
                    i.Lq.calendar = null,
                    i.Lq = null
                }
                if (i.ir && 0 === e.buttons) {
                    i.ir.cleanup(),
                    i.ir = null
                }
                i.Sf.out()
            }
        }
        ,
        i.Fh = function(e) {
            if (i.Sf)
                for (var t = 0; t < i.Sf.length; t++) {
                    var n = i.Sf[t];
                    i.ab(n)
                }
        }
        ,
        i.Ct = function(e) {
            i.np && i.np.blur()
        }
        ,
        i.Dt = function(e) {
            if (("Control" === e.key || "Meta" === e.key) && i.yu) {
                i.yu.iu.dispatch()
            }
        }
        ,
        i.zg = function(e) {
            if (x(i.Sf).forEach(function(e) {
                e.fb(),
                e.Om = {},
                e.Au = null
            }),
            i.Pp) {
                var t = function() {
                    w.resizingAreaData = null;
                    var e = i.fq
                      , t = e.calendar;
                    s().style.cursor = "",
                    i.Pp = null,
                    i.fq = null,
                    C(i.eq),
                    i.eq = null,
                    t && (t.Cu = null)
                };
                if (setTimeout(function() {
                    i.Nm = !1
                }),
                !i.eq)
                    return void t();
                var n = i.fq
                  , r = n.calendar
                  , o = i.eq.finalStart
                  , l = i.eq.finalEnd
                  , d = i.eq.overlapping
                  , u = !i.eq.allowed
                  , h = r.vq.isInvalid();
                r.Vq(),
                r.vq.clear();
                var f = "left" === i.Pp.dpBorder ? "start" : "end";
                if (t(),
                d || u || h || r.vq.forbidden)
                    return;
                r.nc(n, o, l, f)
            } else if (i.Lp) {
                var t = function() {
                    w.movingAreaData = null;
                    var e = i.Lq && i.Lq.calendar;
                    i.Lq && (C(i.Lq),
                    i.Lq.calendar = null),
                    s().style.cursor = "",
                    i.Om = null,
                    i.Lp = null,
                    i._v(),
                    i.Qq = null,
                    e && (e.gb = null)
                };
                if (setTimeout(function() {
                    i.Nm = !1
                }),
                !i.Lq)
                    return void t();
                var v = i.Qq && i.Qq.Ku
                  , n = v ? v.event : i.Lp
                  , r = i.Lq.calendar;
                if (!r)
                    return void t();
                if (n.calendar && n.calendar !== r) {
                    var m = n.calendar
                      , g = n
                      , b = p(n.data);
                    n = new DayPilot.Event(b,m),
                    n.part = {
                        "external": !0,
                        "duration": m.Tp(g)
                    }
                }
                if (i.Lq.source = i.Om,
                function() {
                    if (i.Qq && i.Qq.Ku) {
                        var e = i.Qq.Ku;
                        if (e && e.event) {
                            c(e, e.event.calendar.da(r.ju.eventMovingSource))
                        }
                    }
                }(),
                !i.Lq.row)
                    return void t();
                clearTimeout(r._p.timeout);
                var o = i.Lq.start
                  , l = i.Lq.end
                  , k = "Days" !== r.viewType ? i.Lq.row.id : null
                  , S = n.part.external
                  , _ = i.Lq.line
                  , d = i.Lq.overlapping
                  , u = !i.Lq.allowed;
                if (i.Qq && (r.Ll || (r.Ll = {}),
                r.Ll.Ml = i.Qq.element,
                i._v(),
                i.Qq = null),
                i.Lq.calendar = null,
                s().style.cursor = "",
                i.Om = null,
                i.Lp = null,
                d || u || r.Iq.forbidden || r.Iq.invalid)
                    return void r.yc();
                r.wc(n, o, l, k, S, e, _),
                w.movingAreaData = null
            } else if (i.Qp) {
                var D = y(e)
                  , A = i.Qp
                  , M = A.moved
                  , r = A.calendar
                  , t = function() {};
                r.Yu = null;
                var H = e.ctrlKey || e.metaKey;
                if (r.allowMultiRange && r.elements.range2)
                    return r.elements.range2.overlapping ? (C(r.elements.range2),
                    r.elements.range2 = null,
                    r.Vq()) : r.iu.add(A),
                    i.Qp = null,
                    H || D.left && r.iu.dispatch(),
                    void t();
                if (i.xu)
                    return clearTimeout(i.xu),
                    i.xu = null,
                    void t();
                r.In = A,
                i.Qp = null;
                var R = function(e) {
                    return function() {
                        i.xu = null;
                        var t = r.elements.range2;
                        if (t && t.overlapping)
                            return void r.clearSelection();
                        var n = M ? "drag" : "click";
                        r.Fn(e, n)
                    }
                }
                  , B = r.Zu(A);
                if (t(),
                !D.left)
                    return void (i.xu = null);
                if (A.moved || "Disabled" === r.timeRangeDoubleClickHandling)
                    return R(B)(),
                    e.cancelBubble = !0,
                    !1;
                i.xu = setTimeout(R(B), r.doubleClickTimeout)
            } else if (E.row) {
                var r = E.calendar;
                r && r.ms()
            } else if (T.source) {
                var r = T.calendar;
                r.Ao.vj(),
                r.Ao.pn(),
                T.source = null,
                T.calendar = null
            } else if (i.ir) {
                var P = i.ir;
                P.cleanup(),
                i.ir = null
            } else if (i.Em) {
                var N = i.Em
                  , r = N.calendar;
                if (!N.moved) {
                    i.Em = null;
                    var L = r._l.bm(N.start.x, N.start.y, 1, 1).map(function(e) {
                        return e.event
                    })
                      , I = L.length > 0;
                    return void (r.Pc(r.coords) || I || r._u(e))
                }
                var z = N.x
                  , O = N.y
                  , U = N.width
                  , j = N.height
                  , W = !1
                  , L = r._l.bm(z, O, U, j).map(function(e) {
                    return e.event
                })
                  , q = function() {
                    setTimeout(function() {
                        r.Nu.clear(),
                        i.Em = null,
                        r.fb()
                    }, 0),
                    r.Vq()
                };
                if ("function" == typeof r.onRectangleEventSelect || "function" == typeof r.onRectangleSelect) {
                    var F = r.io(O).i
                      , Y = r.io(O + j).i
                      , K = {
                        "start": {
                            "y": F
                        },
                        "end": {
                            "y": Y
                        }
                    }
                      , V = r.eo(K)
                      , Z = {};
                    if (Z.events = L,
                    Z.append = !1,
                    Z.start = r.getDate(z, !0),
                    Z.end = r.getDate(z + U, !0),
                    Z.resources = V,
                    Z.preventDefault = function() {
                        this.preventDefault.value = !0
                    }
                    ,
                    "function" == typeof r.onRectangleEventSelect && r.onRectangleEventSelect(Z),
                    "function" == typeof r.onRectangleSelect && r.onRectangleSelect(Z),
                    Z.preventDefault.value)
                        return r.Nu.clear(),
                        i.Em = null,
                        void q();
                    W = Z.append
                }
                if ("EventSelect" === r.Ja.Kv() && (W || r.multiselect.clear(!0),
                L.forEach(function(e) {
                    r.multiselect.add(e, !0)
                }),
                r.multiselect.redraw()),
                q(),
                "function" == typeof r.onRectangleEventSelected || "function" == typeof r.onRectangleSelected) {
                    var Z = {};
                    Z.events = L,
                    "function" == typeof r.onRectangleEventSelected && r.onRectangleEventSelected(Z),
                    "function" == typeof r.onRectangleSelected && r.onRectangleSelected(Z)
                }
            }
            if (i.Qq && (i.Qq.event && i.Qq.event.part && delete i.Qq.event.part.external,
            i._v(),
            i.Qq = null,
            s().style.cursor = ""),
            i.Ju) {
                if (i.Ju.source) {
                    var v = i.Ju.source;
                    if (v.event) {
                        var r = i.Ju.source.event.calendar;
                        c(i.Ju.source, r.da(r.ju.eventMovingSource))
                    } else
                        a()
                }
                s().removeChild(i.Ju),
                i.Ju = null
            }
            i.Kp = null,
            i.Op = null
        }
        ,
        i.aw = function(e) {
            e = e || {};
            var t = document.createElement("div");
            return t.setAttribute("unselectable", "on"),
            t.style.position = "absolute",
            t.style.width = "100px",
            t.style.height = "20px",
            t.style.zIndex = 101,
            t.style.pointerEvents = "none",
            t.style.backgroundColor = "#aaaaaa",
            t.style.opacity = .5,
            t.style.overflow = "hidden",
            t.className = e.externalCssClass,
            e.externalHtml && (t.innerHTML = e.externalHtml),
            s().appendChild(t),
            t
        }
        ;
        var E = {};
        w.rowmoving = E;
        var T = {};
        w.linking = T,
        "undefined" != typeof jQuery && !function(e) {
            e.fn.daypilotScheduler = function(e) {
                var t = null
                  , n = this.each(function() {
                    if (!this.daypilot) {
                        var n = new DayPilot.Scheduler(this.id || this,e);
                        n.init(),
                        this.daypilot = n,
                        t || (t = n)
                    }
                });
                return 1 === this.length ? t : n
            }
        }(jQuery),
        function() {
            var e = DayPilot.am();
            e && e.directive("daypilotScheduler", ["$parse", function(e) {
                return {
                    "restrict": "E",
                    "template": "<div id='{{id}}'></div>",
                    "compile": function(t, n) {
                        return t[0].removeAttribute("id"),
                        t[0].innerHTML = this["template"].replace("{{id}}", n["id"]),
                        function(t, n, i) {
                            var a = new DayPilot.Scheduler(n[0].firstChild);
                            a.ch.scope = t;
                            var r = i["id"];
                            r && (t[r] = a);
                            var o = i["publishAs"];
                            if (o) {
                                (0,
                                e(o).assign)(t, a)
                            }
                            for (var s in i)
                                if (0 === s.indexOf("on")) {
                                    var l = DayPilot.Util.shouldApply(s);
                                    l ? !function(n) {
                                        a[n] = function(a) {
                                            var r = e(i[n]);
                                            DayPilot.Util.safeApply(t, function() {
                                                r(t, {
                                                    "args": a
                                                })
                                            })
                                        }
                                    }(s) : !function(n) {
                                        a[n] = function(a) {
                                            e(i[n])(t, {
                                                "args": a
                                            })
                                        }
                                    }(s)
                                }
                            var d = t["$watch"]
                              , c = i["config"] || i["daypilotConfig"]
                              , u = i["events"] || i["daypilotEvents"];
                            c || a.init(),
                            d.call(t, c, function(e, t) {
                                a.gh(e),
                                a.Aa ? (a.update(),
                                a.zh()) : a.init()
                            }, !0),
                            u && d.call(t, u, function(e) {
                                a.events.list = e,
                                a.Jd({
                                    "eventsOnly": !0
                                })
                            }, !0),
                            t.$on("$destroy", function() {
                                a.dispose()
                            })
                        }
                    }
                }
            }
            ])
        }(),
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot),
"undefined" == typeof DayPilot)
    var DayPilot = {};
"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
function(DayPilot) {
    "undefined" == typeof DayPilot.Year && (DayPilot.Year = function(e, t) {
        this.v = "2024.4.6243";
        this.startDate = new DayPilot.Date,
        this.cssOnly = !0,
        this.cssClassPrefix = null,
        this.columns = 4,
        this.cellWidth = 20,
        this.showWeekNumbers = !1,
        this.cw = [],
        this.Oj = function() {
            this.root.dp = this,
            this.ji = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us"))
        }
        ,
        this.da = function(e) {
            return this.cssClassPrefix ? this.cssClassPrefix + e : ""
        }
        ,
        this.Qj = function() {
            return this.showWeekNumbers ? this.cellWidth : 0
        }
        ,
        this.Oo = function() {
            this.cw = [];
            var e = this.columns
              , t = 12 / e;
            this.root.className = this.da("_main"),
            this.root.style.width = e * (7 * this.cellWidth + this.Qj()) + "px";
            for (var n = 0; n < t; n++) {
                for (var i = 0; i < e; i++) {
                    var a = n * e + i
                      , r = r + "_nav_" + a
                      , o = document.createElement("div");
                    o.id = r,
                    o.style.float = "left",
                    this.root.appendChild(o);
                    var s = new DayPilot.Navigator(r);
                    s.startDate = this.ji.addMonths(a),
                    s.cssOnly = this.cssOnly,
                    s.cssClassPrefix = this.cssClassPrefix,
                    s.cellWidth = this.cellWidth,
                    s.showWeekNumbers = this.showWeekNumbers,
                    s.internal.showLinks = {},
                    s.selectMode = "none",
                    s.timeRangeSelectedHandling = "JavaScript",
                    s.onTimeRangeSelected = this.dw,
                    s.init(),
                    s.root.className = "",
                    this.cw.push(s)
                }
                var l = document.createElement("div");
                l.style.clear = "left",
                this.root.appendChild(l)
            }
        }
        ,
        this.dw = function(e) {
            alert("clicked: " + e.day)
        }
        ,
        this.init = function() {

            if (this.root = document.getElementById(e),
            !this.root.dp)
                return this.Oj(),
                this.Oo(),
                this
        }
    }
    )

}(DayPilot);
